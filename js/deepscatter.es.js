var e="http://www.w3.org/1999/xhtml",t={svg:"http://www.w3.org/2000/svg",xhtml:e,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function n(e){var n=e+="",l=n.indexOf(":");return l>=0&&"xmlns"!==(n=e.slice(0,l))&&(e=e.slice(l+1)),t.hasOwnProperty(n)?{space:t[n],local:e}:e}function l(t){return function(){var n=this.ownerDocument,l=this.namespaceURI;return l===e&&n.documentElement.namespaceURI===e?n.createElement(t):n.createElementNS(l,t)}}function i(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function r(e){var t=n(e);return(t.local?i:l)(t)}function a(){}function c(e){return null==e?a:function(){return this.querySelector(e)}}function u(e){return null==e?[]:Array.isArray(e)?e:Array.from(e)}function o(){return[]}function d(e){return null==e?o:function(){return this.querySelectorAll(e)}}function s(e){return function(){return this.matches(e)}}function m(e){return function(t){return t.matches(e)}}var b=Array.prototype.find;function Z(){return this.firstElementChild}var p=Array.prototype.filter;function h(){return Array.from(this.children)}function y(e){return new Array(e.length)}function f(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function V(e){return function(){return e}}function X(e,t,n,l,i,r){for(var a,c=0,u=t.length,o=r.length;c<o;++c)(a=t[c])?(a.__data__=r[c],l[c]=a):n[c]=new f(e,r[c]);for(;c<u;++c)(a=t[c])&&(i[c]=a)}function W(e,t,n,l,i,r,a){var c,u,o,d=new Map,s=t.length,m=r.length,b=new Array(s);for(c=0;c<s;++c)(u=t[c])&&(b[c]=o=a.call(u,u.__data__,c,t)+"",d.has(o)?i[c]=u:d.set(o,u));for(c=0;c<m;++c)o=a.call(e,r[c],c,r)+"",(u=d.get(o))?(l[c]=u,u.__data__=r[c],d.delete(o)):n[c]=new f(e,r[c]);for(c=0;c<s;++c)(u=t[c])&&d.get(b[c])===u&&(i[c]=u)}function G(e){return e.__data__}function R(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function S(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function v(e){return function(){this.removeAttribute(e)}}function L(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Y(e,t){return function(){this.setAttribute(e,t)}}function J(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function x(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function g(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function H(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function U(e){return function(){this.style.removeProperty(e)}}function I(e,t,n){return function(){this.style.setProperty(e,t,n)}}function K(e,t,n){return function(){var l=t.apply(this,arguments);null==l?this.style.removeProperty(e):this.style.setProperty(e,l,n)}}function N(e,t){return e.style.getPropertyValue(t)||H(e).getComputedStyle(e,null).getPropertyValue(t)}function k(e){return function(){delete this[e]}}function B(e,t){return function(){this[e]=t}}function F(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function T(e){return e.trim().split(/^|\s+/)}function _(e){return e.classList||new w(e)}function w(e){this._node=e,this._names=T(e.getAttribute("class")||"")}function C(e,t){for(var n=_(e),l=-1,i=t.length;++l<i;)n.add(t[l])}function j(e,t){for(var n=_(e),l=-1,i=t.length;++l<i;)n.remove(t[l])}function z(e){return function(){C(this,e)}}function Q(e){return function(){j(this,e)}}function M(e,t){return function(){(t.apply(this,arguments)?C:j)(this,e)}}function P(){this.textContent=""}function E(e){return function(){this.textContent=e}}function O(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function D(){this.innerHTML=""}function A(e){return function(){this.innerHTML=e}}function q(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function $(){this.nextSibling&&this.parentNode.appendChild(this)}function ee(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function te(){return null}function ne(){var e=this.parentNode;e&&e.removeChild(this)}function le(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ie(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function re(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}function ae(e){return function(){var t=this.__on;if(t){for(var n,l=0,i=-1,r=t.length;l<r;++l)n=t[l],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?t.length=i:delete this.__on}}}function ce(e,t,n){return function(){var l,i=this.__on,r=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(i)for(var a=0,c=i.length;a<c;++a)if((l=i[a]).type===e.type&&l.name===e.name)return this.removeEventListener(l.type,l.listener,l.options),this.addEventListener(l.type,l.listener=r,l.options=n),void(l.value=t);this.addEventListener(e.type,r,n),l={type:e.type,name:e.name,value:t,listener:r,options:n},i?i.push(l):this.__on=[l]}}function ue(e,t,n){var l=H(e),i=l.CustomEvent;"function"==typeof i?i=new i(t,n):(i=l.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function oe(e,t){return function(){return ue(this,e,t)}}function de(e,t){return function(){return ue(this,e,t.apply(this,arguments))}}f.prototype={constructor:f,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}},w.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var se=[null];function me(e,t){this._groups=e,this._parents=t}function be(){return new me([[document.documentElement]],se)}function Ze(e){return"string"==typeof e?new me([[document.querySelector(e)]],[document.documentElement]):new me([[e]],se)}function pe(e,t){if(e=function(e){let t;for(;t=e.sourceEvent;)e=t;return e}(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var l=n.createSVGPoint();return l.x=e.clientX,l.y=e.clientY,[(l=l.matrixTransform(t.getScreenCTM().inverse())).x,l.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}function he(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ye(e){let t=e,n=e,l=e;function i(e,t,i=0,r=e.length){if(i<r){if(0!==n(t,t))return r;do{const n=i+r>>>1;l(e[n],t)<0?i=n+1:r=n}while(i<r)}return i}return 1===e.length&&(t=(t,n)=>e(t)-n,n=he,l=(t,n)=>he(e(t),n)),{left:i,center:function(e,n,l=0,r=e.length){const a=i(e,n,l,r-1);return a>l&&t(e[a-1],n)>-t(e[a],n)?a-1:a},right:function(e,t,i=0,r=e.length){if(i<r){if(0!==n(t,t))return r;do{const n=i+r>>>1;l(e[n],t)<=0?i=n+1:r=n}while(i<r)}return i}}}me.prototype=be.prototype={constructor:me,select:function(e){"function"!=typeof e&&(e=c(e));for(var t=this._groups,n=t.length,l=new Array(n),i=0;i<n;++i)for(var r,a,u=t[i],o=u.length,d=l[i]=new Array(o),s=0;s<o;++s)(r=u[s])&&(a=e.call(r,r.__data__,s,u))&&("__data__"in r&&(a.__data__=r.__data__),d[s]=a);return new me(l,this._parents)},selectAll:function(e){e="function"==typeof e?function(e){return function(){return u(e.apply(this,arguments))}}(e):d(e);for(var t=this._groups,n=t.length,l=[],i=[],r=0;r<n;++r)for(var a,c=t[r],o=c.length,s=0;s<o;++s)(a=c[s])&&(l.push(e.call(a,a.__data__,s,c)),i.push(a));return new me(l,i)},selectChild:function(e){return this.select(null==e?Z:function(e){return function(){return b.call(this.children,e)}}("function"==typeof e?e:m(e)))},selectChildren:function(e){return this.selectAll(null==e?h:function(e){return function(){return p.call(this.children,e)}}("function"==typeof e?e:m(e)))},filter:function(e){"function"!=typeof e&&(e=s(e));for(var t=this._groups,n=t.length,l=new Array(n),i=0;i<n;++i)for(var r,a=t[i],c=a.length,u=l[i]=[],o=0;o<c;++o)(r=a[o])&&e.call(r,r.__data__,o,a)&&u.push(r);return new me(l,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,G);var n=t?W:X,l=this._parents,i=this._groups;"function"!=typeof e&&(e=V(e));for(var r=i.length,a=new Array(r),c=new Array(r),u=new Array(r),o=0;o<r;++o){var d=l[o],s=i[o],m=s.length,b=R(e.call(d,d&&d.__data__,o,l)),Z=b.length,p=c[o]=new Array(Z),h=a[o]=new Array(Z),y=u[o]=new Array(m);n(d,s,p,h,y,b,t);for(var f,S,v=0,L=0;v<Z;++v)if(f=p[v]){for(v>=L&&(L=v+1);!(S=h[L])&&++L<Z;);f._next=S||null}}return(a=new me(a,l))._enter=c,a._exit=u,a},enter:function(){return new me(this._enter||this._groups.map(y),this._parents)},exit:function(){return new me(this._exit||this._groups.map(y),this._parents)},join:function(e,t,n){var l=this.enter(),i=this,r=this.exit();return"function"==typeof e?(l=e(l))&&(l=l.selection()):l=l.append(e+""),null!=t&&(i=t(i))&&(i=i.selection()),null==n?r.remove():n(r),l&&i?l.merge(i).order():i},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,l=t._groups,i=n.length,r=l.length,a=Math.min(i,r),c=new Array(i),u=0;u<a;++u)for(var o,d=n[u],s=l[u],m=d.length,b=c[u]=new Array(m),Z=0;Z<m;++Z)(o=d[Z]||s[Z])&&(b[Z]=o);for(;u<i;++u)c[u]=n[u];return new me(c,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var l,i=e[t],r=i.length-1,a=i[r];--r>=0;)(l=i[r])&&(a&&4^l.compareDocumentPosition(a)&&a.parentNode.insertBefore(l,a),a=l);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=S);for(var n=this._groups,l=n.length,i=new Array(l),r=0;r<l;++r){for(var a,c=n[r],u=c.length,o=i[r]=new Array(u),d=0;d<u;++d)(a=c[d])&&(o[d]=a);o.sort(t)}return new me(i,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var l=e[t],i=0,r=l.length;i<r;++i){var a=l[i];if(a)return a}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,l=t.length;n<l;++n)for(var i,r=t[n],a=0,c=r.length;a<c;++a)(i=r[a])&&e.call(i,i.__data__,a,r);return this},attr:function(e,t){var l=n(e);if(arguments.length<2){var i=this.node();return l.local?i.getAttributeNS(l.space,l.local):i.getAttribute(l)}return this.each((null==t?l.local?L:v:"function"==typeof t?l.local?g:x:l.local?J:Y)(l,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?U:"function"==typeof t?K:I)(e,t,null==n?"":n)):N(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?k:"function"==typeof t?F:B)(e,t)):this.node()[e]},classed:function(e,t){var n=T(e+"");if(arguments.length<2){for(var l=_(this.node()),i=-1,r=n.length;++i<r;)if(!l.contains(n[i]))return!1;return!0}return this.each(("function"==typeof t?M:t?z:Q)(n,t))},text:function(e){return arguments.length?this.each(null==e?P:("function"==typeof e?O:E)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?D:("function"==typeof e?q:A)(e)):this.node().innerHTML},raise:function(){return this.each($)},lower:function(){return this.each(ee)},append:function(e){var t="function"==typeof e?e:r(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"==typeof e?e:r(e),l=null==t?te:"function"==typeof t?t:c(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),l.apply(this,arguments)||null)}))},remove:function(){return this.each(ne)},clone:function(e){return this.select(e?ie:le)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var l,i,r=re(e+""),a=r.length;if(!(arguments.length<2)){for(c=t?ce:ae,l=0;l<a;++l)this.each(c(r[l],t,n));return this}var c=this.node().__on;if(c)for(var u,o=0,d=c.length;o<d;++o)for(l=0,u=c[o];l<a;++l)if((i=r[l]).type===u.type&&i.name===u.name)return u.value},dispatch:function(e,t){return this.each(("function"==typeof t?de:oe)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var l,i=e[t],r=0,a=i.length;r<a;++r)(l=i[r])&&(yield l)}};const fe=ye(he),Ve=fe.right,Xe=fe.left;function We(e,t){let n,l;if(void 0===t)for(const i of e)null!=i&&(void 0===n?i>=i&&(n=l=i):(n>i&&(n=i),l<i&&(l=i)));else{let i=-1;for(let r of e)null!=(r=t(r,++i,e))&&(void 0===n?r>=r&&(n=l=r):(n>r&&(n=r),l<r&&(l=r)))}return[n,l]}ye((function(e){return null===e?NaN:+e})).center;class Ge{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const t=this._partials;let n=0;for(let l=0;l<this._n&&l<32;l++){const i=t[l],r=e+i,a=Math.abs(e)<Math.abs(i)?e-(r-i):i-(r-e);a&&(t[n++]=a),e=r}return t[n]=e,this._n=n+1,this}valueOf(){const e=this._partials;let t,n,l,i=this._n,r=0;if(i>0){for(r=e[--i];i>0&&(t=r,n=e[--i],r=t+n,l=n-(r-t),!l););i>0&&(l<0&&e[i-1]<0||l>0&&e[i-1]>0)&&(n=2*l,t=r+n,n==t-r&&(r=t))}return r}}class Re extends Map{constructor(e,t=ve){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,l]of e)this.set(n,l)}get(e){return super.get(Se(this,e))}has(e){return super.has(Se(this,e))}set(e,t){return super.set(function({_intern:e,_key:t},n){const l=t(n);return e.has(l)?e.get(l):(e.set(l,n),n)}(this,e),t)}delete(e){return super.delete(function({_intern:e,_key:t},n){const l=t(n);e.has(l)&&(n=e.get(n),e.delete(l));return n}(this,e))}}function Se({_intern:e,_key:t},n){const l=t(n);return e.has(l)?e.get(l):n}function ve(e){return null!==e&&"object"==typeof e?e.valueOf():e}var Le=Math.sqrt(50),Ye=Math.sqrt(10),Je=Math.sqrt(2);function xe(e,t,n){var l,i,r,a,c=-1;if(n=+n,(e=+e)===(t=+t)&&n>0)return[e];if((l=t<e)&&(i=e,e=t,t=i),0===(a=ge(e,t,n))||!isFinite(a))return[];if(a>0){let n=Math.round(e/a),l=Math.round(t/a);for(n*a<e&&++n,l*a>t&&--l,r=new Array(i=l-n+1);++c<i;)r[c]=(n+c)*a}else{a=-a;let n=Math.round(e*a),l=Math.round(t*a);for(n/a<e&&++n,l/a>t&&--l,r=new Array(i=l-n+1);++c<i;)r[c]=(n+c)/a}return l&&r.reverse(),r}function ge(e,t,n){var l=(t-e)/Math.max(0,n),i=Math.floor(Math.log(l)/Math.LN10),r=l/Math.pow(10,i);return i>=0?(r>=Le?10:r>=Ye?5:r>=Je?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(r>=Le?10:r>=Ye?5:r>=Je?2:1)}function He(e,t){let n;if(void 0===t)for(const l of e)null!=l&&(n<l||void 0===n&&l>=l)&&(n=l);else{let l=-1;for(let i of e)null!=(i=t(i,++l,e))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function Ue(e,t){let n;if(void 0===t)for(const l of e)null!=l&&(n>l||void 0===n&&l>=l)&&(n=l);else{let l=-1;for(let i of e)null!=(i=t(i,++l,e))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function Ie(e,t){let n=0,l=0;if(void 0===t)for(let i of e)null!=i&&(i=+i)>=i&&(++n,l+=i);else{let i=-1;for(let r of e)null!=(r=t(r,++i,e))&&(r=+r)>=r&&(++n,l+=r)}if(n)return l/n}function Ke(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var l=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),r=new Array(i);++l<i;)r[l]=e+l*n;return r}var Ne,ke=(Ne=Math.random,function(e,t=0,n=e.length){let l=n-(t=+t);for(;l;){const n=Ne()*l--|0,i=e[l+t];e[l+t]=e[n+t],e[n+t]=i}return e});var Be=Math.PI,Fe=2*Be,Te=180/Be,_e=Be/180,we=Math.abs,Ce=Math.cos,je=Math.sin,ze=Math.sqrt;function Qe(){}function Me(e,t){e&&Ee.hasOwnProperty(e.type)&&Ee[e.type](e,t)}var Pe={Feature:function(e,t){Me(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,l=-1,i=n.length;++l<i;)Me(n[l].geometry,t)}},Ee={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,l=-1,i=n.length;++l<i;)e=n[l],t.point(e[0],e[1],e[2])},LineString:function(e,t){Oe(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,l=-1,i=n.length;++l<i;)Oe(n[l],t,0)},Polygon:function(e,t){De(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,l=-1,i=n.length;++l<i;)De(n[l],t)},GeometryCollection:function(e,t){for(var n=e.geometries,l=-1,i=n.length;++l<i;)Me(n[l],t)}};function Oe(e,t,n){var l,i=-1,r=e.length-n;for(t.lineStart();++i<r;)l=e[i],t.point(l[0],l[1],l[2]);t.lineEnd()}function De(e,t){var n=-1,l=e.length;for(t.polygonStart();++n<l;)Oe(e[n],t,1);t.polygonEnd()}function Ae(e,t){e&&Pe.hasOwnProperty(e.type)?Pe[e.type](e,t):Me(e,t)}function qe(e,t,n,l){this.x=e,this.z=t,this.o=n,this.e=l,this.v=!1,this.n=this.p=null}function $e(e,t,n,l,i){var r,a,c=[],u=[];if(e.forEach((function(e){if(!((t=e.length-1)<=0)){var t,n,l,a,o=e[0],d=e[t];if(a=d,we((l=o)[0]-a[0])<1e-6&&we(l[1]-a[1])<1e-6){if(!o[2]&&!d[2]){for(i.lineStart(),r=0;r<t;++r)i.point((o=e[r])[0],o[1]);return void i.lineEnd()}d[0]+=2e-6}c.push(n=new qe(o,e,null,!0)),u.push(n.o=new qe(o,null,n,!1)),c.push(n=new qe(d,e,null,!1)),u.push(n.o=new qe(d,null,n,!0))}})),c.length){for(u.sort(t),et(c),et(u),r=0,a=u.length;r<a;++r)u[r].e=n=!n;for(var o,d,s=c[0];;){for(var m=s,b=!0;m.v;)if((m=m.n)===s)return;o=m.z,i.lineStart();do{if(m.v=m.o.v=!0,m.e){if(b)for(r=0,a=o.length;r<a;++r)i.point((d=o[r])[0],d[1]);else l(m.x,m.n.x,1,i);m=m.n}else{if(b)for(o=m.p.z,r=o.length-1;r>=0;--r)i.point((d=o[r])[0],d[1]);else l(m.x,m.p.x,-1,i);m=m.p}o=(m=m.o).z,b=!b}while(!m.v);i.lineEnd()}}}function et(e){if(t=e.length){for(var t,n,l=0,i=e[0];++l<t;)i.n=n=e[l],n.p=i,i=n;i.n=n=e[0],n.p=i}}function tt(e,t,n,l){function i(i,r){return e<=i&&i<=n&&t<=r&&r<=l}function r(i,r,c,o){var d=0,s=0;if(null==i||(d=a(i,c))!==(s=a(r,c))||u(i,r)<0^c>0)do{o.point(0===d||3===d?e:n,d>1?l:t)}while((d=(d+c+4)%4)!==s);else o.point(r[0],r[1])}function a(l,i){return we(l[0]-e)<1e-6?i>0?0:3:we(l[0]-n)<1e-6?i>0?2:1:we(l[1]-t)<1e-6?i>0?1:0:i>0?3:2}function c(e,t){return u(e.x,t.x)}function u(e,t){var n=a(e,1),l=a(t,1);return n!==l?n-l:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(a){var u,o,d,s,m,b,Z,p,h,y,f,V,X,W=a,G=(X=[],{point:function(e,t,n){V.push([e,t,n])},lineStart:function(){X.push(V=[])},lineEnd:Qe,rejoin:function(){X.length>1&&X.push(X.pop().concat(X.shift()))},result:function(){var e=X;return X=[],V=null,e}}),R={point:S,lineStart:function(){R.point=v,o&&o.push(d=[]);y=!0,h=!1,Z=p=NaN},lineEnd:function(){u&&(v(s,m),b&&h&&G.rejoin(),u.push(G.result()));R.point=S,h&&W.lineEnd()},polygonStart:function(){W=G,u=[],o=[],f=!0},polygonEnd:function(){var t=function(){for(var t=0,n=0,i=o.length;n<i;++n)for(var r,a,c=o[n],u=1,d=c.length,s=c[0],m=s[0],b=s[1];u<d;++u)r=m,a=b,m=(s=c[u])[0],b=s[1],a<=l?b>l&&(m-r)*(l-a)>(b-a)*(e-r)&&++t:b<=l&&(m-r)*(l-a)<(b-a)*(e-r)&&--t;return t}(),n=f&&t,i=(s=u,u=Array.from(function*(e){for(const t of e)yield*t}(s))).length;var s;(n||i)&&(a.polygonStart(),n&&(a.lineStart(),r(null,null,1,a),a.lineEnd()),i&&$e(u,c,t,r,a),a.polygonEnd());W=a,u=o=d=null}};function S(e,t){i(e,t)&&W.point(e,t)}function v(r,a){var c=i(r,a);if(o&&d.push([r,a]),y)s=r,m=a,b=c,y=!1,c&&(W.lineStart(),W.point(r,a));else if(c&&h)W.point(r,a);else{var u=[Z=Math.max(-1e9,Math.min(1e9,Z)),p=Math.max(-1e9,Math.min(1e9,p))],V=[r=Math.max(-1e9,Math.min(1e9,r)),a=Math.max(-1e9,Math.min(1e9,a))];!function(e,t,n,l,i,r){var a,c=e[0],u=e[1],o=0,d=1,s=t[0]-c,m=t[1]-u;if(a=n-c,s||!(a>0)){if(a/=s,s<0){if(a<o)return;a<d&&(d=a)}else if(s>0){if(a>d)return;a>o&&(o=a)}if(a=i-c,s||!(a<0)){if(a/=s,s<0){if(a>d)return;a>o&&(o=a)}else if(s>0){if(a<o)return;a<d&&(d=a)}if(a=l-u,m||!(a>0)){if(a/=m,m<0){if(a<o)return;a<d&&(d=a)}else if(m>0){if(a>d)return;a>o&&(o=a)}if(a=r-u,m||!(a<0)){if(a/=m,m<0){if(a>d)return;a>o&&(o=a)}else if(m>0){if(a<o)return;a<d&&(d=a)}return o>0&&(e[0]=c+o*s,e[1]=u+o*m),d<1&&(t[0]=c+d*s,t[1]=u+d*m),!0}}}}}(u,V,e,t,n,l)?c&&(W.lineStart(),W.point(r,a),f=!1):(h||(W.lineStart(),W.point(u[0],u[1])),W.point(V[0],V[1]),c||W.lineEnd(),f=!1)}Z=r,p=a,h=c}return R}}var nt,lt,it,rt,at=e=>e,ct=new Ge,ut=new Ge,ot={point:Qe,lineStart:Qe,lineEnd:Qe,polygonStart:function(){ot.lineStart=dt,ot.lineEnd=bt},polygonEnd:function(){ot.lineStart=ot.lineEnd=ot.point=Qe,ct.add(we(ut)),ut=new Ge},result:function(){var e=ct/2;return ct=new Ge,e}};function dt(){ot.point=st}function st(e,t){ot.point=mt,nt=it=e,lt=rt=t}function mt(e,t){ut.add(rt*e-it*t),it=e,rt=t}function bt(){mt(nt,lt)}var Zt=1/0,pt=Zt,ht=-Zt,yt=ht,ft={point:function(e,t){e<Zt&&(Zt=e);e>ht&&(ht=e);t<pt&&(pt=t);t>yt&&(yt=t)},lineStart:Qe,lineEnd:Qe,polygonStart:Qe,polygonEnd:Qe,result:function(){var e=[[Zt,pt],[ht,yt]];return ht=yt=-(pt=Zt=1/0),e}};var Vt,Xt,Wt,Gt,Rt=0,St=0,vt=0,Lt=0,Yt=0,Jt=0,xt=0,gt=0,Ht=0,Ut={point:It,lineStart:Kt,lineEnd:Bt,polygonStart:function(){Ut.lineStart=Ft,Ut.lineEnd=Tt},polygonEnd:function(){Ut.point=It,Ut.lineStart=Kt,Ut.lineEnd=Bt},result:function(){var e=Ht?[xt/Ht,gt/Ht]:Jt?[Lt/Jt,Yt/Jt]:vt?[Rt/vt,St/vt]:[NaN,NaN];return Rt=St=vt=Lt=Yt=Jt=xt=gt=Ht=0,e}};function It(e,t){Rt+=e,St+=t,++vt}function Kt(){Ut.point=Nt}function Nt(e,t){Ut.point=kt,It(Wt=e,Gt=t)}function kt(e,t){var n=e-Wt,l=t-Gt,i=ze(n*n+l*l);Lt+=i*(Wt+e)/2,Yt+=i*(Gt+t)/2,Jt+=i,It(Wt=e,Gt=t)}function Bt(){Ut.point=It}function Ft(){Ut.point=_t}function Tt(){wt(Vt,Xt)}function _t(e,t){Ut.point=wt,It(Vt=Wt=e,Xt=Gt=t)}function wt(e,t){var n=e-Wt,l=t-Gt,i=ze(n*n+l*l);Lt+=i*(Wt+e)/2,Yt+=i*(Gt+t)/2,Jt+=i,xt+=(i=Gt*e-Wt*t)*(Wt+e),gt+=i*(Gt+t),Ht+=3*i,It(Wt=e,Gt=t)}function Ct(e){this._context=e}Ct.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,Fe)}},result:Qe};var jt,zt,Qt,Mt,Pt,Et=new Ge,Ot={point:Qe,lineStart:function(){Ot.point=Dt},lineEnd:function(){jt&&At(zt,Qt),Ot.point=Qe},polygonStart:function(){jt=!0},polygonEnd:function(){jt=null},result:function(){var e=+Et;return Et=new Ge,e}};function Dt(e,t){Ot.point=At,zt=Mt=e,Qt=Pt=t}function At(e,t){Mt-=e,Pt-=t,Et.add(ze(Mt*Mt+Pt*Pt)),Mt=e,Pt=t}function qt(){this._string=[]}function $t(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function en(e,t){var n,l,i=4.5;function r(e){return e&&("function"==typeof i&&l.pointRadius(+i.apply(this,arguments)),Ae(e,n(l))),l.result()}return r.area=function(e){return Ae(e,n(ot)),ot.result()},r.measure=function(e){return Ae(e,n(Ot)),Ot.result()},r.bounds=function(e){return Ae(e,n(ft)),ft.result()},r.centroid=function(e){return Ae(e,n(Ut)),Ut.result()},r.projection=function(t){return arguments.length?(n=null==t?(e=null,at):(e=t).stream,r):e},r.context=function(e){return arguments.length?(l=null==e?(t=null,new qt):new Ct(t=e),"function"!=typeof i&&l.pointRadius(i),r):t},r.pointRadius=function(e){return arguments.length?(i="function"==typeof e?e:(l.pointRadius(+e),+e),r):i},r.projection(e).context(t)}function tn(){}function nn(e,t,n){var l=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),null!=l&&e.clipExtent(null),Ae(n,e.stream(ft)),t(ft.result()),null!=l&&e.clipExtent(l),e}function ln(e,t,n){return nn(e,(function(n){var l=t[1][0]-t[0][0],i=t[1][1]-t[0][1],r=Math.min(l/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),a=+t[0][0]+(l-r*(n[1][0]+n[0][0]))/2,c=+t[0][1]+(i-r*(n[1][1]+n[0][1]))/2;e.scale(150*r).translate([a,c])}),n)}function rn(){var e,t,n,l,i,r,a,c,u=1,o=0,d=0,s=1,m=1,b=0,Z=null,p=1,h=1,y=(c={point:function(e,t){var n=X([e,t]);this.stream.point(n[0],n[1])}},function(e){var t=new tn;for(var n in c)t[n]=c[n];return t.stream=e,t}),f=at;function V(){return p=u*s,h=u*m,r=a=null,X}function X(n){var l=n[0]*p,i=n[1]*h;if(b){var r=i*e-l*t;l=l*e+i*t,i=r}return[l+o,i+d]}return X.invert=function(n){var l=n[0]-o,i=n[1]-d;if(b){var r=i*e+l*t;l=l*e-i*t,i=r}return[l/p,i/h]},X.stream=function(e){return r&&a===e?r:r=y(f(a=e))},X.postclip=function(e){return arguments.length?(f=e,Z=n=l=i=null,V()):f},X.clipExtent=function(e){return arguments.length?(f=null==e?(Z=n=l=i=null,at):tt(Z=+e[0][0],n=+e[0][1],l=+e[1][0],i=+e[1][1]),V()):null==Z?null:[[Z,n],[l,i]]},X.scale=function(e){return arguments.length?(u=+e,V()):u},X.translate=function(e){return arguments.length?(o=+e[0],d=+e[1],V()):[o,d]},X.angle=function(n){return arguments.length?(t=je(b=n%360*_e),e=Ce(b),V()):b*Te},X.reflectX=function(e){return arguments.length?(s=e?-1:1,V()):s<0},X.reflectY=function(e){return arguments.length?(m=e?-1:1,V()):m<0},X.fitExtent=function(e,t){return ln(X,e,t)},X.fitSize=function(e,t){return function(e,t,n){return ln(e,[[0,0],t],n)}(X,e,t)},X.fitWidth=function(e,t){return function(e,t,n){return nn(e,(function(n){var l=+t,i=l/(n[1][0]-n[0][0]),r=(l-i*(n[1][0]+n[0][0]))/2,a=-i*n[0][1];e.scale(150*i).translate([r,a])}),n)}(X,e,t)},X.fitHeight=function(e,t){return function(e,t,n){return nn(e,(function(n){var l=+t,i=l/(n[1][1]-n[0][1]),r=-i*n[0][0],a=(l-i*(n[1][1]+n[0][1]))/2;e.scale(150*i).translate([r,a])}),n)}(X,e,t)},X}qt.prototype={_radius:4.5,_circle:$t(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._string.push("M",e,",",t),this._point=1;break;case 1:this._string.push("L",e,",",t);break;default:null==this._circle&&(this._circle=$t(this._radius)),this._string.push("M",e,",",t,this._circle)}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}return null}},tn.prototype={constructor:tn,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var an="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function cn(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(n){var l=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,l.get?l:{enumerable:!0,get:function(){return e[n]}})})),t}var un={exports:{}};!function(e,t){var n="__lodash_hash_undefined__",l=9007199254740991,i="[object Arguments]",r="[object Function]",a="[object Object]",c=/^\[object .+?Constructor\]$/,u=/^(?:0|[1-9]\d*)$/,o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o[i]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o[r]=o["[object Map]"]=o["[object Number]"]=o[a]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1;var d="object"==typeof an&&an&&an.Object===Object&&an,s="object"==typeof self&&self&&self.Object===Object&&self,m=d||s||Function("return this")(),b=t&&!t.nodeType&&t,Z=b&&e&&!e.nodeType&&e,p=Z&&Z.exports===b,h=p&&d.process,y=function(){try{var e=Z&&Z.require&&Z.require("util").types;return e||h&&h.binding&&h.binding("util")}catch(t){}}(),f=y&&y.isTypedArray;function V(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var X,W,G,R=Array.prototype,S=Function.prototype,v=Object.prototype,L=m["__core-js_shared__"],Y=S.toString,J=v.hasOwnProperty,x=(X=/[^.]+$/.exec(L&&L.keys&&L.keys.IE_PROTO||""))?"Symbol(src)_1."+X:"",g=v.toString,H=Y.call(Object),U=RegExp("^"+Y.call(J).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),I=p?m.Buffer:void 0,K=m.Symbol,N=m.Uint8Array,k=I?I.allocUnsafe:void 0,B=(W=Object.getPrototypeOf,G=Object,function(e){return W(G(e))}),F=Object.create,T=v.propertyIsEnumerable,_=R.splice,w=K?K.toStringTag:void 0,C=function(){try{var e=be(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),j=I?I.isBuffer:void 0,z=Math.max,Q=Date.now,M=be(m,"Map"),P=be(Object,"create"),E=function(){function e(){}return function(t){if(!ve(t))return{};if(F)return F(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function O(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var l=e[t];this.set(l[0],l[1])}}function D(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var l=e[t];this.set(l[0],l[1])}}function A(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var l=e[t];this.set(l[0],l[1])}}function q(e){var t=this.__data__=new D(e);this.size=t.size}function $(e,t){var n=Xe(e),l=!n&&Ve(e),i=!n&&!l&&Ge(e),r=!n&&!l&&!i&&Ye(e),a=n||l||i||r,c=a?function(e,t){for(var n=-1,l=Array(e);++n<e;)l[n]=t(n);return l}(e.length,String):[],u=c.length;for(var o in e)!t&&!J.call(e,o)||a&&("length"==o||i&&("offset"==o||"parent"==o)||r&&("buffer"==o||"byteLength"==o||"byteOffset"==o)||Ze(o,u))||c.push(o);return c}function ee(e,t,n){(void 0!==n&&!fe(e[t],n)||void 0===n&&!(t in e))&&le(e,t,n)}function te(e,t,n){var l=e[t];J.call(e,t)&&fe(l,n)&&(void 0!==n||t in e)||le(e,t,n)}function ne(e,t){for(var n=e.length;n--;)if(fe(e[n][0],t))return n;return-1}function le(e,t,n){"__proto__"==t&&C?C(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}O.prototype.clear=function(){this.__data__=P?P(null):{},this.size=0},O.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},O.prototype.get=function(e){var t=this.__data__;if(P){var l=t[e];return l===n?void 0:l}return J.call(t,e)?t[e]:void 0},O.prototype.has=function(e){var t=this.__data__;return P?void 0!==t[e]:J.call(t,e)},O.prototype.set=function(e,t){var l=this.__data__;return this.size+=this.has(e)?0:1,l[e]=P&&void 0===t?n:t,this},D.prototype.clear=function(){this.__data__=[],this.size=0},D.prototype.delete=function(e){var t=this.__data__,n=ne(t,e);return!(n<0)&&(n==t.length-1?t.pop():_.call(t,n,1),--this.size,!0)},D.prototype.get=function(e){var t=this.__data__,n=ne(t,e);return n<0?void 0:t[n][1]},D.prototype.has=function(e){return ne(this.__data__,e)>-1},D.prototype.set=function(e,t){var n=this.__data__,l=ne(n,e);return l<0?(++this.size,n.push([e,t])):n[l][1]=t,this},A.prototype.clear=function(){this.size=0,this.__data__={hash:new O,map:new(M||D),string:new O}},A.prototype.delete=function(e){var t=me(this,e).delete(e);return this.size-=t?1:0,t},A.prototype.get=function(e){return me(this,e).get(e)},A.prototype.has=function(e){return me(this,e).has(e)},A.prototype.set=function(e,t){var n=me(this,e),l=n.size;return n.set(e,t),this.size+=n.size==l?0:1,this},q.prototype.clear=function(){this.__data__=new D,this.size=0},q.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},q.prototype.get=function(e){return this.__data__.get(e)},q.prototype.has=function(e){return this.__data__.has(e)},q.prototype.set=function(e,t){var n=this.__data__;if(n instanceof D){var l=n.__data__;if(!M||l.length<199)return l.push([e,t]),this.size=++n.size,this;n=this.__data__=new A(l)}return n.set(e,t),this.size=n.size,this};var ie,re=function(e,t,n){for(var l=-1,i=Object(e),r=n(e),a=r.length;a--;){var c=r[ie?a:++l];if(!1===t(i[c],c,i))break}return e};function ae(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":w&&w in Object(e)?function(e){var t=J.call(e,w),n=e[w];try{e[w]=void 0;var l=!0}catch(r){}var i=g.call(e);l&&(t?e[w]=n:delete e[w]);return i}(e):function(e){return g.call(e)}(e)}function ce(e){return Le(e)&&ae(e)==i}function ue(e){return!(!ve(e)||function(e){return!!x&&x in e}(e))&&(Re(e)?U:c).test(function(e){if(null!=e){try{return Y.call(e)}catch(t){}try{return e+""}catch(t){}}return""}(e))}function oe(e){if(!ve(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=pe(e),n=[];for(var l in e)("constructor"!=l||!t&&J.call(e,l))&&n.push(l);return n}function de(e,t,n,l,i){e!==t&&re(t,(function(r,c){if(i||(i=new q),ve(r))!function(e,t,n,l,i,r,c){var u=he(e,n),o=he(t,n),d=c.get(o);if(d)return void ee(e,n,d);var s=r?r(u,o,n+"",e,t,c):void 0,m=void 0===s;if(m){var b=Xe(o),Z=!b&&Ge(o),p=!b&&!Z&&Ye(o);s=o,b||Z||p?Xe(u)?s=u:Le(X=u)&&We(X)?s=function(e,t){var n=-1,l=e.length;t||(t=Array(l));for(;++n<l;)t[n]=e[n];return t}(u):Z?(m=!1,s=function(e,t){if(t)return e.slice();var n=e.length,l=k?k(n):new e.constructor(n);return e.copy(l),l}(o,!0)):p?(m=!1,h=o,y=!0?(f=h.buffer,V=new f.constructor(f.byteLength),new N(V).set(new N(f)),V):h.buffer,s=new h.constructor(y,h.byteOffset,h.length)):s=[]:function(e){if(!Le(e)||ae(e)!=a)return!1;var t=B(e);if(null===t)return!0;var n=J.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Y.call(n)==H}(o)||Ve(o)?(s=u,Ve(u)?s=function(e){return function(e,t,n,l){var i=!n;n||(n={});var r=-1,a=t.length;for(;++r<a;){var c=t[r],u=l?l(n[c],e[c],c,n,e):void 0;void 0===u&&(u=e[c]),i?le(n,c,u):te(n,c,u)}return n}(e,Je(e))}(u):ve(u)&&!Re(u)||(s=function(e){return"function"!=typeof e.constructor||pe(e)?{}:E(B(e))}(o))):m=!1}var h,y,f,V;var X;m&&(c.set(o,s),i(s,o,l,r,c),c.delete(o));ee(e,n,s)}(e,t,c,n,de,l,i);else{var u=l?l(he(e,c),r,c+"",e,t,i):void 0;void 0===u&&(u=r),ee(e,c,u)}}),Je)}function se(e,t){return ye(function(e,t,n){return t=z(void 0===t?e.length-1:t,0),function(){for(var l=arguments,i=-1,r=z(l.length-t,0),a=Array(r);++i<r;)a[i]=l[t+i];i=-1;for(var c=Array(t+1);++i<t;)c[i]=l[i];return c[t]=n(a),V(e,this,c)}}(e,t,He),e+"")}function me(e,t){var n,l,i=e.__data__;return("string"==(l=typeof(n=t))||"number"==l||"symbol"==l||"boolean"==l?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function be(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return ue(n)?n:void 0}function Ze(e,t){var n=typeof e;return!!(t=null==t?l:t)&&("number"==n||"symbol"!=n&&u.test(e))&&e>-1&&e%1==0&&e<t}function pe(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||v)}function he(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var ye=function(e){var t=0,n=0;return function(){var l=Q(),i=16-(l-n);if(n=l,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(C?function(e,t){return C(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:He);function fe(e,t){return e===t||e!=e&&t!=t}var Ve=ce(function(){return arguments}())?ce:function(e){return Le(e)&&J.call(e,"callee")&&!T.call(e,"callee")},Xe=Array.isArray;function We(e){return null!=e&&Se(e.length)&&!Re(e)}var Ge=j||function(){return!1};function Re(e){if(!ve(e))return!1;var t=ae(e);return t==r||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Se(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=l}function ve(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Le(e){return null!=e&&"object"==typeof e}var Ye=f?function(e){return function(t){return e(t)}}(f):function(e){return Le(e)&&Se(e.length)&&!!o[ae(e)]};function Je(e){return We(e)?$(e,!0):oe(e)}var xe,ge=(xe=function(e,t,n){de(e,t,n)},se((function(e,t){var n=-1,l=t.length,i=l>1?t[l-1]:void 0,r=l>2?t[2]:void 0;for(i=xe.length>3&&"function"==typeof i?(l--,i):void 0,r&&function(e,t,n){if(!ve(n))return!1;var l=typeof t;return!!("number"==l?We(n)&&Ze(t,n.length):"string"==l&&t in n)&&fe(n[t],e)}(t[0],t[1],r)&&(i=l<3?void 0:i,l=1),e=Object(e);++n<l;){var a=t[n];a&&xe(e,a,n,i)}return e})));function He(e){return e}e.exports=ge}(un,un.exports);var on,dn,sn=un.exports,mn=0,bn=0,Zn=0,pn=0,hn=0,yn=0,fn="object"==typeof performance&&performance.now?performance:Date,Vn="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Xn(){return hn||(Vn(Wn),hn=fn.now()+yn)}function Wn(){hn=0}function Gn(){this._call=this._time=this._next=null}function Rn(e,t,n){var l=new Gn;return l.restart(e,t,n),l}function Sn(){hn=(pn=fn.now())+yn,mn=bn=0;try{!function(){Xn(),++mn;for(var e,t=on;t;)(e=hn-t._time)>=0&&t._call.call(void 0,e),t=t._next;--mn}()}finally{mn=0,function(){var e,t,n=on,l=1/0;for(;n;)n._call?(l>n._time&&(l=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:on=t);dn=e,Ln(l)}(),hn=0}}function vn(){var e=fn.now(),t=e-pn;t>1e3&&(yn-=t,pn=e)}function Ln(e){mn||(bn&&(bn=clearTimeout(bn)),e-hn>24?(e<1/0&&(bn=setTimeout(Sn,e-fn.now()-yn)),Zn&&(Zn=clearInterval(Zn))):(Zn||(pn=fn.now(),Zn=setInterval(vn,1e3)),mn=1,Vn(Sn)))}function Yn(e,t,n){var l=new Gn;return t=null==t?0:+t,l.restart((n=>{l.stop(),e(n+t)}),t,n),l}Gn.prototype=Rn.prototype={constructor:Gn,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?Xn():+n)+(null==t?0:+t),this._next||dn===this||(dn?dn._next=this:on=this,dn=this),this._call=e,this._time=n,Ln()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ln())}};var Jn={value:()=>{}};function xn(){for(var e,t=0,n=arguments.length,l={};t<n;++t){if(!(e=arguments[t]+"")||e in l||/[\s.]/.test(e))throw new Error("illegal type: "+e);l[e]=[]}return new gn(l)}function gn(e){this._=e}function Hn(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",l=e.indexOf(".");if(l>=0&&(n=e.slice(l+1),e=e.slice(0,l)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function Un(e,t){for(var n,l=0,i=e.length;l<i;++l)if((n=e[l]).name===t)return n.value}function In(e,t,n){for(var l=0,i=e.length;l<i;++l)if(e[l].name===t){e[l]=Jn,e=e.slice(0,l).concat(e.slice(l+1));break}return null!=n&&e.push({name:t,value:n}),e}gn.prototype=xn.prototype={constructor:gn,on:function(e,t){var n,l=this._,i=Hn(e+"",l),r=-1,a=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++r<a;)if(n=(e=i[r]).type)l[n]=In(l[n],e.name,t);else if(null==t)for(n in l)l[n]=In(l[n],e.name,null);return this}for(;++r<a;)if((n=(e=i[r]).type)&&(n=Un(l[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new gn(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,l,i=new Array(n),r=0;r<n;++r)i[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(r=0,n=(l=this._[e]).length;r<n;++r)l[r].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var l=this._[e],i=0,r=l.length;i<r;++i)l[i].value.apply(t,n)}};const Kn={capture:!0,passive:!1};function Nn(e){e.preventDefault(),e.stopImmediatePropagation()}function kn(e){var t=e.document.documentElement,n=Ze(e).on("dragstart.drag",Nn,Kn);"onselectstart"in t?n.on("selectstart.drag",Nn,Kn):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Bn(e,t){var n=e.document.documentElement,l=Ze(e).on("dragstart.drag",null);t&&(l.on("click.drag",Nn,Kn),setTimeout((function(){l.on("click.drag",null)}),0)),"onselectstart"in n?l.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Fn(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Tn(e,t){var n=Object.create(e.prototype);for(var l in t)n[l]=t[l];return n}function _n(){}var wn=1/.7,Cn="\\s*([+-]?\\d+)\\s*",jn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",zn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Qn=/^#([0-9a-f]{3,8})$/,Mn=new RegExp("^rgb\\("+[Cn,Cn,Cn]+"\\)$"),Pn=new RegExp("^rgb\\("+[zn,zn,zn]+"\\)$"),En=new RegExp("^rgba\\("+[Cn,Cn,Cn,jn]+"\\)$"),On=new RegExp("^rgba\\("+[zn,zn,zn,jn]+"\\)$"),Dn=new RegExp("^hsl\\("+[jn,zn,zn]+"\\)$"),An=new RegExp("^hsla\\("+[jn,zn,zn,jn]+"\\)$"),qn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function $n(){return this.rgb().formatHex()}function el(){return this.rgb().formatRgb()}function tl(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Qn.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?nl(t):3===n?new al(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?ll(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?ll(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Mn.exec(e))?new al(t[1],t[2],t[3],1):(t=Pn.exec(e))?new al(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=En.exec(e))?ll(t[1],t[2],t[3],t[4]):(t=On.exec(e))?ll(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Dn.exec(e))?dl(t[1],t[2]/100,t[3]/100,1):(t=An.exec(e))?dl(t[1],t[2]/100,t[3]/100,t[4]):qn.hasOwnProperty(e)?nl(qn[e]):"transparent"===e?new al(NaN,NaN,NaN,0):null}function nl(e){return new al(e>>16&255,e>>8&255,255&e,1)}function ll(e,t,n,l){return l<=0&&(e=t=n=NaN),new al(e,t,n,l)}function il(e){return e instanceof _n||(e=tl(e)),e?new al((e=e.rgb()).r,e.g,e.b,e.opacity):new al}function rl(e,t,n,l){return 1===arguments.length?il(e):new al(e,t,n,null==l?1:l)}function al(e,t,n,l){this.r=+e,this.g=+t,this.b=+n,this.opacity=+l}function cl(){return"#"+ol(this.r)+ol(this.g)+ol(this.b)}function ul(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function ol(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function dl(e,t,n,l){return l<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ml(e,t,n,l)}function sl(e){if(e instanceof ml)return new ml(e.h,e.s,e.l,e.opacity);if(e instanceof _n||(e=tl(e)),!e)return new ml;if(e instanceof ml)return e;var t=(e=e.rgb()).r/255,n=e.g/255,l=e.b/255,i=Math.min(t,n,l),r=Math.max(t,n,l),a=NaN,c=r-i,u=(r+i)/2;return c?(a=t===r?(n-l)/c+6*(n<l):n===r?(l-t)/c+2:(t-n)/c+4,c/=u<.5?r+i:2-r-i,a*=60):c=u>0&&u<1?0:a,new ml(a,c,u,e.opacity)}function ml(e,t,n,l){this.h=+e,this.s=+t,this.l=+n,this.opacity=+l}function bl(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}Fn(_n,tl,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:$n,formatHex:$n,formatHsl:function(){return sl(this).formatHsl()},formatRgb:el,toString:el}),Fn(al,rl,Tn(_n,{brighter:function(e){return e=null==e?wn:Math.pow(wn,e),new al(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new al(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:cl,formatHex:cl,formatRgb:ul,toString:ul})),Fn(ml,(function(e,t,n,l){return 1===arguments.length?sl(e):new ml(e,t,n,null==l?1:l)}),Tn(_n,{brighter:function(e){return e=null==e?wn:Math.pow(wn,e),new ml(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new ml(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,l=n+(n<.5?n:1-n)*t,i=2*n-l;return new al(bl(e>=240?e-240:e+120,i,l),bl(e,i,l),bl(e<120?e+240:e-120,i,l),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));const Zl=Math.PI/180,pl=180/Math.PI;var hl=-.14861,yl=1.78277,fl=-.29227,Vl=-.90649,Xl=1.97294,Wl=Xl*Vl,Gl=Xl*yl,Rl=yl*fl-Vl*hl;function Sl(e){if(e instanceof Ll)return new Ll(e.h,e.s,e.l,e.opacity);e instanceof al||(e=il(e));var t=e.r/255,n=e.g/255,l=e.b/255,i=(Rl*l+Wl*t-Gl*n)/(Rl+Wl-Gl),r=l-i,a=(Xl*(n-i)-fl*r)/Vl,c=Math.sqrt(a*a+r*r)/(Xl*i*(1-i)),u=c?Math.atan2(a,r)*pl-120:NaN;return new Ll(u<0?u+360:u,c,i,e.opacity)}function vl(e,t,n,l){return 1===arguments.length?Sl(e):new Ll(e,t,n,null==l?1:l)}function Ll(e,t,n,l){this.h=+e,this.s=+t,this.l=+n,this.opacity=+l}Fn(Ll,vl,Tn(_n,{brighter:function(e){return e=null==e?wn:Math.pow(wn,e),new Ll(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Ll(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*Zl,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),l=Math.cos(e),i=Math.sin(e);return new al(255*(t+n*(hl*l+yl*i)),255*(t+n*(fl*l+Vl*i)),255*(t+n*(Xl*l)),this.opacity)}}));var Yl=e=>()=>e;function Jl(e,t){return function(n){return e+n*t}}function xl(e){return 1==(e=+e)?gl:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(l){return Math.pow(e+l*t,n)}}(t,n,e):Yl(isNaN(t)?n:t)}}function gl(e,t){var n=t-e;return n?Jl(e,n):Yl(isNaN(e)?t:e)}var Hl=function e(t){var n=xl(t);function l(e,t){var l=n((e=rl(e)).r,(t=rl(t)).r),i=n(e.g,t.g),r=n(e.b,t.b),a=gl(e.opacity,t.opacity);return function(t){return e.r=l(t),e.g=i(t),e.b=r(t),e.opacity=a(t),e+""}}return l.gamma=e,l}(1);var Ul,Il=(Ul=function(e){var t=e.length-1;return function(n){var l=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[l],r=e[l+1],a=l>0?e[l-1]:2*i-r,c=l<t-1?e[l+2]:2*r-i;return function(e,t,n,l,i){var r=e*e,a=r*e;return((1-3*e+3*r-a)*t+(4-6*r+3*a)*n+(1+3*e+3*r-3*a)*l+a*i)/6}((n-l/t)*t,a,i,r,c)}},function(e){var t,n,l=e.length,i=new Array(l),r=new Array(l),a=new Array(l);for(t=0;t<l;++t)n=rl(e[t]),i[t]=n.r||0,r[t]=n.g||0,a[t]=n.b||0;return i=Ul(i),r=Ul(r),a=Ul(a),n.opacity=1,function(e){return n.r=i(e),n.g=r(e),n.b=a(e),n+""}});function Kl(e,t){t||(t=[]);var n,l=e?Math.min(t.length,e.length):0,i=t.slice();return function(r){for(n=0;n<l;++n)i[n]=e[n]*(1-r)+t[n]*r;return i}}function Nl(e,t){var n,l=t?t.length:0,i=e?Math.min(l,e.length):0,r=new Array(i),a=new Array(l);for(n=0;n<i;++n)r[n]=Cl(e[n],t[n]);for(;n<l;++n)a[n]=t[n];return function(e){for(n=0;n<i;++n)a[n]=r[n](e);return a}}function kl(e,t){var n=new Date;return e=+e,t=+t,function(l){return n.setTime(e*(1-l)+t*l),n}}function Bl(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Fl(e,t){var n,l={},i={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?l[n]=Cl(e[n],t[n]):i[n]=t[n];return function(e){for(n in l)i[n]=l[n](e);return i}}var Tl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_l=new RegExp(Tl.source,"g");function wl(e,t){var n,l,i,r=Tl.lastIndex=_l.lastIndex=0,a=-1,c=[],u=[];for(e+="",t+="";(n=Tl.exec(e))&&(l=_l.exec(t));)(i=l.index)>r&&(i=t.slice(r,i),c[a]?c[a]+=i:c[++a]=i),(n=n[0])===(l=l[0])?c[a]?c[a]+=l:c[++a]=l:(c[++a]=null,u.push({i:a,x:Bl(n,l)})),r=_l.lastIndex;return r<t.length&&(i=t.slice(r),c[a]?c[a]+=i:c[++a]=i),c.length<2?u[0]?function(e){return function(t){return e(t)+""}}(u[0].x):function(e){return function(){return e}}(t):(t=u.length,function(e){for(var n,l=0;l<t;++l)c[(n=u[l]).i]=n.x(e);return c.join("")})}function Cl(e,t){var n,l,i=typeof t;return null==t||"boolean"===i?Yl(t):("number"===i?Bl:"string"===i?(n=tl(t))?(t=n,Hl):wl:t instanceof tl?Hl:t instanceof Date?kl:(l=t,!ArrayBuffer.isView(l)||l instanceof DataView?Array.isArray(t)?Nl:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?Fl:Bl:Kl))(e,t)}function jl(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var zl,Ql=180/Math.PI,Ml={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Pl(e,t,n,l,i,r){var a,c,u;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(u=e*n+t*l)&&(n-=e*u,l-=t*u),(c=Math.sqrt(n*n+l*l))&&(n/=c,l/=c,u/=c),e*l<t*n&&(e=-e,t=-t,u=-u,a=-a),{translateX:i,translateY:r,rotate:Math.atan2(t,e)*Ql,skewX:Math.atan(u)*Ql,scaleX:a,scaleY:c}}function El(e,t,n,l){function i(e){return e.length?e.pop()+" ":""}return function(r,a){var c=[],u=[];return r=e(r),a=e(a),function(e,l,i,r,a,c){if(e!==i||l!==r){var u=a.push("translate(",null,t,null,n);c.push({i:u-4,x:Bl(e,i)},{i:u-2,x:Bl(l,r)})}else(i||r)&&a.push("translate("+i+t+r+n)}(r.translateX,r.translateY,a.translateX,a.translateY,c,u),function(e,t,n,r){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),r.push({i:n.push(i(n)+"rotate(",null,l)-2,x:Bl(e,t)})):t&&n.push(i(n)+"rotate("+t+l)}(r.rotate,a.rotate,c,u),function(e,t,n,r){e!==t?r.push({i:n.push(i(n)+"skewX(",null,l)-2,x:Bl(e,t)}):t&&n.push(i(n)+"skewX("+t+l)}(r.skewX,a.skewX,c,u),function(e,t,n,l,r,a){if(e!==n||t!==l){var c=r.push(i(r)+"scale(",null,",",null,")");a.push({i:c-4,x:Bl(e,n)},{i:c-2,x:Bl(t,l)})}else 1===n&&1===l||r.push(i(r)+"scale("+n+","+l+")")}(r.scaleX,r.scaleY,a.scaleX,a.scaleY,c,u),r=a=null,function(e){for(var t,n=-1,l=u.length;++n<l;)c[(t=u[n]).i]=t.x(e);return c.join("")}}}var Ol=El((function(e){const t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Ml:Pl(t.a,t.b,t.c,t.d,t.e,t.f)}),"px, ","px)","deg)"),Dl=El((function(e){return null==e?Ml:(zl||(zl=document.createElementNS("http://www.w3.org/2000/svg","g")),zl.setAttribute("transform",e),(e=zl.transform.baseVal.consolidate())?Pl((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):Ml)}),", ",")",")");function Al(e){return((e=Math.exp(e))+1/e)/2}var ql=function e(t,n,l){function i(e,i){var r,a,c=e[0],u=e[1],o=e[2],d=i[0],s=i[1],m=i[2],b=d-c,Z=s-u,p=b*b+Z*Z;if(p<1e-12)a=Math.log(m/o)/t,r=function(e){return[c+e*b,u+e*Z,o*Math.exp(t*e*a)]};else{var h=Math.sqrt(p),y=(m*m-o*o+l*p)/(2*o*n*h),f=(m*m-o*o-l*p)/(2*m*n*h),V=Math.log(Math.sqrt(y*y+1)-y),X=Math.log(Math.sqrt(f*f+1)-f);a=(X-V)/t,r=function(e){var l,i=e*a,r=Al(V),d=o/(n*h)*(r*(l=t*i+V,((l=Math.exp(2*l))-1)/(l+1))-function(e){return((e=Math.exp(e))-1/e)/2}(V));return[c+d*b,u+d*Z,o*r/Al(t*i+V)]}}return r.duration=1e3*a*t/Math.SQRT2,r}return i.rho=function(t){var n=Math.max(.001,+t),l=n*n;return e(n,l,l*l)},i}(Math.SQRT2,2,4);function $l(e){return function t(n){function l(t,l){var i=e((t=vl(t)).h,(l=vl(l)).h),r=gl(t.s,l.s),a=gl(t.l,l.l),c=gl(t.opacity,l.opacity);return function(e){return t.h=i(e),t.s=r(e),t.l=a(Math.pow(e,n)),t.opacity=c(e),t+""}}return n=+n,l.gamma=t,l}(1)}$l((function(e,t){var n=t-e;return n?Jl(e,n>180||n<-180?n-360*Math.round(n/360):n):Yl(isNaN(e)?t:e)}));var ei=$l(gl),ti=xn("start","end","cancel","interrupt"),ni=[];function li(e,t,n,l,i,r){var a=e.__transition;if(a){if(n in a)return}else e.__transition={};!function(e,t,n){var l,i=e.__transition;function r(e){n.state=1,n.timer.restart(a,n.delay,n.time),n.delay<=e&&a(e-n.delay)}function a(r){var o,d,s,m;if(1!==n.state)return u();for(o in i)if((m=i[o]).name===n.name){if(3===m.state)return Yn(a);4===m.state?(m.state=6,m.timer.stop(),m.on.call("interrupt",e,e.__data__,m.index,m.group),delete i[o]):+o<t&&(m.state=6,m.timer.stop(),m.on.call("cancel",e,e.__data__,m.index,m.group),delete i[o])}if(Yn((function(){3===n.state&&(n.state=4,n.timer.restart(c,n.delay,n.time),c(r))})),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,l=new Array(s=n.tween.length),o=0,d=-1;o<s;++o)(m=n.tween[o].value.call(e,e.__data__,n.index,n.group))&&(l[++d]=m);l.length=d+1}}function c(t){for(var i=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(u),n.state=5,1),r=-1,a=l.length;++r<a;)l[r].call(e,i);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){for(var l in n.state=6,n.timer.stop(),delete i[t],i)return;delete e.__transition}i[t]=n,n.timer=Rn(r,0,n.time)}(e,n,{name:t,index:l,group:i,on:ti,tween:ni,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:0})}function ii(e,t){var n=ai(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function ri(e,t){var n=ai(e,t);if(n.state>3)throw new Error("too late; already running");return n}function ai(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function ci(e,t){var n,l,i,r=e.__transition,a=!0;if(r){for(i in t=null==t?null:t+"",r)(n=r[i]).name===t?(l=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(l?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[i]):a=!1;a&&delete e.__transition}}function ui(e,t){var n,l;return function(){var i=ri(this,e),r=i.tween;if(r!==n)for(var a=0,c=(l=n=r).length;a<c;++a)if(l[a].name===t){(l=l.slice()).splice(a,1);break}i.tween=l}}function oi(e,t,n){var l,i;if("function"!=typeof n)throw new Error;return function(){var r=ri(this,e),a=r.tween;if(a!==l){i=(l=a).slice();for(var c={name:t,value:n},u=0,o=i.length;u<o;++u)if(i[u].name===t){i[u]=c;break}u===o&&i.push(c)}r.tween=i}}function di(e,t,n){var l=e._id;return e.each((function(){var e=ri(this,l);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return ai(e,l).value[t]}}function si(e,t){var n;return("number"==typeof t?Bl:t instanceof tl?Hl:(n=tl(t))?(t=n,Hl):wl)(e,t)}function mi(e){return function(){this.removeAttribute(e)}}function bi(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Zi(e,t,n){var l,i,r=n+"";return function(){var a=this.getAttribute(e);return a===r?null:a===l?i:i=t(l=a,n)}}function pi(e,t,n){var l,i,r=n+"";return function(){var a=this.getAttributeNS(e.space,e.local);return a===r?null:a===l?i:i=t(l=a,n)}}function hi(e,t,n){var l,i,r;return function(){var a,c,u=n(this);if(null!=u)return(a=this.getAttribute(e))===(c=u+"")?null:a===l&&c===i?r:(i=c,r=t(l=a,u));this.removeAttribute(e)}}function yi(e,t,n){var l,i,r;return function(){var a,c,u=n(this);if(null!=u)return(a=this.getAttributeNS(e.space,e.local))===(c=u+"")?null:a===l&&c===i?r:(i=c,r=t(l=a,u));this.removeAttributeNS(e.space,e.local)}}function fi(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Vi(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Xi(e,t){var n,l;function i(){var i=t.apply(this,arguments);return i!==l&&(n=(l=i)&&Vi(e,i)),n}return i._value=t,i}function Wi(e,t){var n,l;function i(){var i=t.apply(this,arguments);return i!==l&&(n=(l=i)&&fi(e,i)),n}return i._value=t,i}function Gi(e,t){return function(){ii(this,e).delay=+t.apply(this,arguments)}}function Ri(e,t){return t=+t,function(){ii(this,e).delay=t}}function Si(e,t){return function(){ri(this,e).duration=+t.apply(this,arguments)}}function vi(e,t){return t=+t,function(){ri(this,e).duration=t}}function Li(e,t){if("function"!=typeof t)throw new Error;return function(){ri(this,e).ease=t}}function Yi(e,t,n){var l,i,r=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?ii:ri;return function(){var a=r(this,e),c=a.on;c!==l&&(i=(l=c).copy()).on(t,n),a.on=i}}var Ji=be.prototype.constructor;function xi(e){return function(){this.style.removeProperty(e)}}function gi(e,t,n){return function(l){this.style.setProperty(e,t.call(this,l),n)}}function Hi(e,t,n){var l,i;function r(){var r=t.apply(this,arguments);return r!==i&&(l=(i=r)&&gi(e,r,n)),l}return r._value=t,r}function Ui(e){return function(t){this.textContent=e.call(this,t)}}function Ii(e){var t,n;function l(){var l=e.apply(this,arguments);return l!==n&&(t=(n=l)&&Ui(l)),t}return l._value=e,l}var Ki=0;function Ni(e,t,n,l){this._groups=e,this._parents=t,this._name=n,this._id=l}function ki(){return++Ki}var Bi=be.prototype;Ni.prototype={constructor:Ni,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=c(e));for(var l=this._groups,i=l.length,r=new Array(i),a=0;a<i;++a)for(var u,o,d=l[a],s=d.length,m=r[a]=new Array(s),b=0;b<s;++b)(u=d[b])&&(o=e.call(u,u.__data__,b,d))&&("__data__"in u&&(o.__data__=u.__data__),m[b]=o,li(m[b],t,n,b,m,ai(u,n)));return new Ni(r,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=d(e));for(var l=this._groups,i=l.length,r=[],a=[],c=0;c<i;++c)for(var u,o=l[c],s=o.length,m=0;m<s;++m)if(u=o[m]){for(var b,Z=e.call(u,u.__data__,m,o),p=ai(u,n),h=0,y=Z.length;h<y;++h)(b=Z[h])&&li(b,t,n,h,Z,p);r.push(Z),a.push(u)}return new Ni(r,a,t,n)},selectChild:Bi.selectChild,selectChildren:Bi.selectChildren,filter:function(e){"function"!=typeof e&&(e=s(e));for(var t=this._groups,n=t.length,l=new Array(n),i=0;i<n;++i)for(var r,a=t[i],c=a.length,u=l[i]=[],o=0;o<c;++o)(r=a[o])&&e.call(r,r.__data__,o,a)&&u.push(r);return new Ni(l,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,l=t.length,i=n.length,r=Math.min(l,i),a=new Array(l),c=0;c<r;++c)for(var u,o=t[c],d=n[c],s=o.length,m=a[c]=new Array(s),b=0;b<s;++b)(u=o[b]||d[b])&&(m[b]=u);for(;c<l;++c)a[c]=t[c];return new Ni(a,this._parents,this._name,this._id)},selection:function(){return new Ji(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=ki(),l=this._groups,i=l.length,r=0;r<i;++r)for(var a,c=l[r],u=c.length,o=0;o<u;++o)if(a=c[o]){var d=ai(a,t);li(a,e,n,o,c,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new Ni(l,this._parents,e,n)},call:Bi.call,nodes:Bi.nodes,node:Bi.node,size:Bi.size,empty:Bi.empty,each:Bi.each,on:function(e,t){var n=this._id;return arguments.length<2?ai(this.node(),n).on.on(e):this.each(Yi(n,e,t))},attr:function(e,t){var l=n(e),i="transform"===l?Dl:si;return this.attrTween(e,"function"==typeof t?(l.local?yi:hi)(l,i,di(this,"attr."+e,t)):null==t?(l.local?bi:mi)(l):(l.local?pi:Zi)(l,i,t))},attrTween:function(e,t){var l="attr."+e;if(arguments.length<2)return(l=this.tween(l))&&l._value;if(null==t)return this.tween(l,null);if("function"!=typeof t)throw new Error;var i=n(e);return this.tween(l,(i.local?Xi:Wi)(i,t))},style:function(e,t,n){var l="transform"==(e+="")?Ol:si;return null==t?this.styleTween(e,function(e,t){var n,l,i;return function(){var r=N(this,e),a=(this.style.removeProperty(e),N(this,e));return r===a?null:r===n&&a===l?i:i=t(n=r,l=a)}}(e,l)).on("end.style."+e,xi(e)):"function"==typeof t?this.styleTween(e,function(e,t,n){var l,i,r;return function(){var a=N(this,e),c=n(this),u=c+"";return null==c&&(this.style.removeProperty(e),u=c=N(this,e)),a===u?null:a===l&&u===i?r:(i=u,r=t(l=a,c))}}(e,l,di(this,"style."+e,t))).each(function(e,t){var n,l,i,r,a="style."+t,c="end."+a;return function(){var u=ri(this,e),o=u.on,d=null==u.value[a]?r||(r=xi(t)):void 0;o===n&&i===d||(l=(n=o).copy()).on(c,i=d),u.on=l}}(this._id,e)):this.styleTween(e,function(e,t,n){var l,i,r=n+"";return function(){var a=N(this,e);return a===r?null:a===l?i:i=t(l=a,n)}}(e,l,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var l="style."+(e+="");if(arguments.length<2)return(l=this.tween(l))&&l._value;if(null==t)return this.tween(l,null);if("function"!=typeof t)throw new Error;return this.tween(l,Hi(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"==typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(di(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,Ii(e))},remove:function(){return this.on("end.remove",(e=this._id,function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}));var e},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var l,i=ai(this.node(),n).tween,r=0,a=i.length;r<a;++r)if((l=i[r]).name===e)return l.value;return null}return this.each((null==t?ui:oi)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?Gi:Ri)(t,e)):ai(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?Si:vi)(t,e)):ai(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(Li(t,e)):ai(this.node(),t).ease},easeVarying:function(e){if("function"!=typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!=typeof n)throw new Error;ri(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,l=n._id,i=n.size();return new Promise((function(r,a){var c={value:a},u={value:function(){0==--i&&r()}};n.each((function(){var n=ri(this,l),i=n.on;i!==e&&((t=(e=i).copy())._.cancel.push(c),t._.interrupt.push(c),t._.end.push(u)),n.on=t})),0===i&&r()}))},[Symbol.iterator]:Bi[Symbol.iterator]};var Fi={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function Ti(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}be.prototype.interrupt=function(e){return this.each((function(){ci(this,e)}))},be.prototype.transition=function(e){var t,n;e instanceof Ni?(t=e._id,e=e._name):(t=ki(),(n=Fi).time=Xn(),e=null==e?null:e+"");for(var l=this._groups,i=l.length,r=0;r<i;++r)for(var a,c=l[r],u=c.length,o=0;o<u;++o)(a=c[o])&&li(a,e,t,o,c,n||Ti(a,t));return new Ni(l,this._parents,e,t)};var _i=e=>()=>e;function wi(e,{sourceEvent:t,target:n,transform:l,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:l,enumerable:!0,configurable:!0},_:{value:i}})}function Ci(e,t,n){this.k=e,this.x=t,this.y=n}Ci.prototype={constructor:Ci,scale:function(e){return 1===e?this:new Ci(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new Ci(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ji=new Ci(1,0,0);function zi(e){e.stopImmediatePropagation()}function Qi(e){e.preventDefault(),e.stopImmediatePropagation()}function Mi(e){return!(e.ctrlKey&&"wheel"!==e.type||e.button)}function Pi(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function Ei(){return this.__zoom||ji}function Oi(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Di(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ai(e,t,n){var l=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],r=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(i>l?(l+i)/2:Math.min(0,l)||Math.max(0,i),a>r?(r+a)/2:Math.min(0,r)||Math.max(0,a))}function qi(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}const $i=Symbol("implicit");function er(){var e=new Re,t=[],n=[],l=$i;function i(i){let r=e.get(i);if(void 0===r){if(l!==$i)return l;e.set(i,r=t.push(i)-1)}return n[r%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new Re;for(const l of n)e.has(l)||e.set(l,t.push(l)-1);return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(l=e,i):l},i.copy=function(){return er(t,n).unknown(l)},qi.apply(i,arguments),i}function tr(e){return+e}var nr=[0,1];function lr(e){return e}function ir(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function rr(e,t,n){var l=e[0],i=e[1],r=t[0],a=t[1];return i<l?(l=ir(i,l),r=n(a,r)):(l=ir(l,i),r=n(r,a)),function(e){return r(l(e))}}function ar(e,t,n){var l=Math.min(e.length,t.length)-1,i=new Array(l),r=new Array(l),a=-1;for(e[l]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<l;)i[a]=ir(e[a],e[a+1]),r[a]=n(t[a],t[a+1]);return function(t){var n=Ve(e,t,1,l)-1;return r[n](i[n](t))}}function cr(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ur(){var e,t,n,l,i,r,a=nr,c=nr,u=Cl,o=lr;function d(){var e,t,n,u=Math.min(a.length,c.length);return o!==lr&&(e=a[0],t=a[u-1],e>t&&(n=e,e=t,t=n),o=function(n){return Math.max(e,Math.min(t,n))}),l=u>2?ar:rr,i=r=null,s}function s(t){return null==t||isNaN(t=+t)?n:(i||(i=l(a.map(e),c,u)))(e(o(t)))}return s.invert=function(n){return o(t((r||(r=l(c,a.map(e),Bl)))(n)))},s.domain=function(e){return arguments.length?(a=Array.from(e,tr),d()):a.slice()},s.range=function(e){return arguments.length?(c=Array.from(e),d()):c.slice()},s.rangeRound=function(e){return c=Array.from(e),u=jl,d()},s.clamp=function(e){return arguments.length?(o=!!e||lr,d()):o!==lr},s.interpolate=function(e){return arguments.length?(u=e,d()):u},s.unknown=function(e){return arguments.length?(n=e,s):n},function(n,l){return e=n,t=l,d()}}function or(){return ur()(lr,lr)}function dr(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,l=e.slice(0,n);return[l.length>1?l[0]+l.slice(2):l,+e.slice(n+1)]}function sr(e){return(e=dr(Math.abs(e)))?e[1]:NaN}var mr,br=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Zr(e){if(!(t=br.exec(e)))throw new Error("invalid format: "+e);var t;return new pr({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function pr(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function hr(e,t){var n=dr(e,t);if(!n)return e+"";var l=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+l:l.length>i+1?l.slice(0,i+1)+"."+l.slice(i+1):l+new Array(i-l.length+2).join("0")}Zr.prototype=pr.prototype,pr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var yr={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>hr(100*e,t),r:hr,s:function(e,t){var n=dr(e,t);if(!n)return e+"";var l=n[0],i=n[1],r=i-(mr=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=l.length;return r===a?l:r>a?l+new Array(r-a+1).join("0"):r>0?l.slice(0,r)+"."+l.slice(r):"0."+new Array(1-r).join("0")+dr(e,Math.max(0,t+r-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function fr(e){return e}var Vr,Xr,Wr,Gr=Array.prototype.map,Rr=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Sr(e){var t,n,l=void 0===e.grouping||void 0===e.thousands?fr:(t=Gr.call(e.grouping,Number),n=e.thousands+"",function(e,l){for(var i=e.length,r=[],a=0,c=t[0],u=0;i>0&&c>0&&(u+c+1>l&&(c=Math.max(1,l-u)),r.push(e.substring(i-=c,i+c)),!((u+=c+1)>l));)c=t[a=(a+1)%t.length];return r.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",r=void 0===e.currency?"":e.currency[1]+"",a=void 0===e.decimal?".":e.decimal+"",c=void 0===e.numerals?fr:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(Gr.call(e.numerals,String)),u=void 0===e.percent?"%":e.percent+"",o=void 0===e.minus?"−":e.minus+"",d=void 0===e.nan?"NaN":e.nan+"";function s(e){var t=(e=Zr(e)).fill,n=e.align,s=e.sign,m=e.symbol,b=e.zero,Z=e.width,p=e.comma,h=e.precision,y=e.trim,f=e.type;"n"===f?(p=!0,f="g"):yr[f]||(void 0===h&&(h=12),y=!0,f="g"),(b||"0"===t&&"="===n)&&(b=!0,t="0",n="=");var V="$"===m?i:"#"===m&&/[boxX]/.test(f)?"0"+f.toLowerCase():"",X="$"===m?r:/[%p]/.test(f)?u:"",W=yr[f],G=/[defgprs%]/.test(f);function R(e){var i,r,u,m=V,R=X;if("c"===f)R=W(e)+R,e="";else{var S=(e=+e)<0||1/e<0;if(e=isNaN(e)?d:W(Math.abs(e),h),y&&(e=function(e){e:for(var t,n=e.length,l=1,i=-1;l<n;++l)switch(e[l]){case".":i=t=l;break;case"0":0===i&&(i=l),t=l;break;default:if(!+e[l])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),S&&0==+e&&"+"!==s&&(S=!1),m=(S?"("===s?s:o:"-"===s||"("===s?"":s)+m,R=("s"===f?Rr[8+mr/3]:"")+R+(S&&"("===s?")":""),G)for(i=-1,r=e.length;++i<r;)if(48>(u=e.charCodeAt(i))||u>57){R=(46===u?a+e.slice(i+1):e.slice(i))+R,e=e.slice(0,i);break}}p&&!b&&(e=l(e,1/0));var v=m.length+e.length+R.length,L=v<Z?new Array(Z-v+1).join(t):"";switch(p&&b&&(e=l(L+e,L.length?Z-R.length:1/0),L=""),n){case"<":e=m+e+R+L;break;case"=":e=m+L+e+R;break;case"^":e=L.slice(0,v=L.length>>1)+m+e+R+L.slice(v);break;default:e=L+m+e+R}return c(e)}return h=void 0===h?6:/[gprs]/.test(f)?Math.max(1,Math.min(21,h)):Math.max(0,Math.min(20,h)),R.toString=function(){return e+""},R}return{format:s,formatPrefix:function(e,t){var n=s(((e=Zr(e)).type="f",e)),l=3*Math.max(-8,Math.min(8,Math.floor(sr(t)/3))),i=Math.pow(10,-l),r=Rr[8+l/3];return function(e){return n(i*e)+r}}}}function vr(e,t,n,l){var i,r=function(e,t,n){var l=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(l)/Math.LN10)),r=l/i;return r>=Le?i*=10:r>=Ye?i*=5:r>=Je&&(i*=2),t<e?-i:i}(e,t,n);switch((l=Zr(null==l?",f":l)).type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));return null!=l.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(sr(t)/3)))-sr(Math.abs(e)))}(r,a))||(l.precision=i),Wr(l,a);case"":case"e":case"g":case"p":case"r":null!=l.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,sr(t)-sr(e))+1}(r,Math.max(Math.abs(e),Math.abs(t))))||(l.precision=i-("e"===l.type));break;case"f":case"%":null!=l.precision||isNaN(i=function(e){return Math.max(0,-sr(Math.abs(e)))}(r))||(l.precision=i-2*("%"===l.type))}return Xr(l)}function Lr(e){var t=e.domain;return e.ticks=function(e){var n=t();return xe(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var l=t();return vr(l[0],l[l.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var l,i,r=t(),a=0,c=r.length-1,u=r[a],o=r[c],d=10;for(o<u&&(i=u,u=o,o=i,i=a,a=c,c=i);d-- >0;){if((i=ge(u,o,n))===l)return r[a]=u,r[c]=o,t(r);if(i>0)u=Math.floor(u/i)*i,o=Math.ceil(o/i)*i;else{if(!(i<0))break;u=Math.ceil(u*i)/i,o=Math.floor(o*i)/i}l=i}return e},e}function Yr(){var e=or();return e.copy=function(){return cr(e,Yr())},qi.apply(e,arguments),Lr(e)}function Jr(e){return Math.log(e)}function xr(e){return Math.exp(e)}function gr(e){return-Math.log(-e)}function Hr(e){return-Math.exp(-e)}function Ur(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Ir(e){return function(t){return-e(-t)}}function Kr(e){var t,n,l=e(Jr,xr),i=l.domain,r=10;function a(){return t=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}(r),n=function(e){return 10===e?Ur:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}(r),i()[0]<0?(t=Ir(t),n=Ir(n),e(gr,Hr)):e(Jr,xr),l}return l.base=function(e){return arguments.length?(r=+e,a()):r},l.domain=function(e){return arguments.length?(i(e),a()):i()},l.ticks=function(e){var l,a=i(),c=a[0],u=a[a.length-1];(l=u<c)&&(m=c,c=u,u=m);var o,d,s,m=t(c),b=t(u),Z=null==e?10:+e,p=[];if(!(r%1)&&b-m<Z){if(m=Math.floor(m),b=Math.ceil(b),c>0){for(;m<=b;++m)for(d=1,o=n(m);d<r;++d)if(!((s=o*d)<c)){if(s>u)break;p.push(s)}}else for(;m<=b;++m)for(d=r-1,o=n(m);d>=1;--d)if(!((s=o*d)<c)){if(s>u)break;p.push(s)}2*p.length<Z&&(p=xe(c,u,Z))}else p=xe(m,b,Math.min(b-m,Z)).map(n);return l?p.reverse():p},l.tickFormat=function(e,i){if(null==i&&(i=10===r?".0e":","),"function"!=typeof i&&(i=Xr(i)),e===1/0)return i;null==e&&(e=10);var a=Math.max(1,r*e/l.ticks().length);return function(e){var l=e/n(Math.round(t(e)));return l*r<r-.5&&(l*=r),l<=a?i(e):""}},l.nice=function(){return i(function(e,t){var n,l=0,i=(e=e.slice()).length-1,r=e[l],a=e[i];return a<r&&(n=l,l=i,i=n,n=r,r=a,a=n),e[l]=t.floor(r),e[i]=t.ceil(a),e}(i(),{floor:function(e){return n(Math.floor(t(e)))},ceil:function(e){return n(Math.ceil(t(e)))}}))},l}function Nr(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function kr(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Br(e){return e<0?-e*e:e*e}function Fr(e){var t=e(lr,lr),n=1;function l(){return 1===n?e(lr,lr):.5===n?e(kr,Br):e(Nr(n),Nr(1/n))}return t.exponent=function(e){return arguments.length?(n=+e,l()):n},Lr(t)}function Tr(){var e=Fr(ur());return e.copy=function(){return cr(e,Tr()).exponent(e.exponent())},qi.apply(e,arguments),e}Vr=Sr({thousands:",",grouping:[3],currency:["$",""]}),Xr=Vr.format,Wr=Vr.formatPrefix;class _r{constructor(e,t){this.prefs=t,this.canvas=Ze(e),this.width=+this.canvas.attr("width"),this.height=+this.canvas.attr("height"),this.renderers=new Map}attach_tiles(e){return this.tileSet=e,this.tileSet._zoom=this,this}attach_renderer(e,t){return this.renderers.set(e,t),t.bind_zoom(this),t.zoom.initialize_zoom(),this}zoom_to(e,t=null,n=null,l=4e3){const i=this.scales(),{canvas:r,zoomer:a,width:c,height:u}=this,o=ji.translate(c/2,u/2).scale(e).translate(-i.x(t),-i.y(n));r.transition().duration(l).call(a.transform,o)}html_annotation(e){Ze(this.canvas.node().parentNode.parentNode).selectAll("div.tooltip").data(e).join((e=>e.append("div").attr("class","tooltip").style("top",0).style("left",0).style("position","absolute").style("z-index",100).style("border-radius","8px").style("padding","10px").style("background","whitesmoke").style("opacity",.9)),(e=>e),(e=>e.html((e=>{void 0!==e&&this.tooltip_html(e.data)})))).html((e=>this.tooltip_html(e.data))).style("transform",(e=>`translate(${+e.x+e.dx}px, ${+e.y+e.dy}px)`))}get tooltip_html(){return void 0===this._tooltip_html?Cr:this._tooltip_html}zoom_to_bbox(e,t=4){const n=this.scales(),[l,i]=e.x.map(n.x),[r,a]=e.y.map(n.y),{canvas:c,zoomer:u,width:o,height:d}=this,s=ji.translate(o/2,d/2).scale(.9/Math.max((i-l)/o,(a-r)/d)).translate(-(l+i)/2,-(r+a)/2);c.transition().duration(1e3*t).call(u.transform,s)}initialize_zoom(){const{width:e,height:t,canvas:n}=this;this.transform=ji;const l=function(){var e,t,n,l=Mi,i=Pi,r=Ai,a=Oi,c=Di,u=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],d=250,s=ql,m=xn("start","zoom","end"),b=500,Z=0,p=10;function h(e){e.property("__zoom",Ei).on("wheel.zoom",R,{passive:!1}).on("mousedown.zoom",S).on("dblclick.zoom",v).filter(c).on("touchstart.zoom",L).on("touchmove.zoom",Y).on("touchend.zoom touchcancel.zoom",J).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function y(e,t){return(t=Math.max(u[0],Math.min(u[1],t)))===e.k?e:new Ci(t,e.x,e.y)}function f(e,t,n){var l=t[0]-n[0]*e.k,i=t[1]-n[1]*e.k;return l===e.x&&i===e.y?e:new Ci(e.k,l,i)}function V(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function X(e,t,n,l){e.on("start.zoom",(function(){W(this,arguments).event(l).start()})).on("interrupt.zoom end.zoom",(function(){W(this,arguments).event(l).end()})).tween("zoom",(function(){var e=this,r=arguments,a=W(e,r).event(l),c=i.apply(e,r),u=null==n?V(c):"function"==typeof n?n.apply(e,r):n,o=Math.max(c[1][0]-c[0][0],c[1][1]-c[0][1]),d=e.__zoom,m="function"==typeof t?t.apply(e,r):t,b=s(d.invert(u).concat(o/d.k),m.invert(u).concat(o/m.k));return function(e){if(1===e)e=m;else{var t=b(e),n=o/t[2];e=new Ci(n,u[0]-t[0]*n,u[1]-t[1]*n)}a.zoom(null,e)}}))}function W(e,t,n){return!n&&e.__zooming||new G(e,t)}function G(e,t){this.that=e,this.args=t,this.active=0,this.sourceEvent=null,this.extent=i.apply(e,t),this.taps=0}function R(e,...t){if(l.apply(this,arguments)){var n=W(this,t).event(e),i=this.__zoom,c=Math.max(u[0],Math.min(u[1],i.k*Math.pow(2,a.apply(this,arguments)))),d=pe(e);if(n.wheel)n.mouse[0][0]===d[0]&&n.mouse[0][1]===d[1]||(n.mouse[1]=i.invert(n.mouse[0]=d)),clearTimeout(n.wheel);else{if(i.k===c)return;n.mouse=[d,i.invert(d)],ci(this),n.start()}Qi(e),n.wheel=setTimeout(s,150),n.zoom("mouse",r(f(y(i,c),n.mouse[0],n.mouse[1]),n.extent,o))}function s(){n.wheel=null,n.end()}}function S(e,...t){if(!n&&l.apply(this,arguments)){var i=e.currentTarget,a=W(this,t,!0).event(e),c=Ze(e.view).on("mousemove.zoom",m,!0).on("mouseup.zoom",b,!0),u=pe(e,i),d=e.clientX,s=e.clientY;kn(e.view),zi(e),a.mouse=[u,this.__zoom.invert(u)],ci(this),a.start()}function m(e){if(Qi(e),!a.moved){var t=e.clientX-d,n=e.clientY-s;a.moved=t*t+n*n>Z}a.event(e).zoom("mouse",r(f(a.that.__zoom,a.mouse[0]=pe(e,i),a.mouse[1]),a.extent,o))}function b(e){c.on("mousemove.zoom mouseup.zoom",null),Bn(e.view,a.moved),Qi(e),a.event(e).end()}}function v(e,...t){if(l.apply(this,arguments)){var n=this.__zoom,a=pe(e.changedTouches?e.changedTouches[0]:e,this),c=n.invert(a),u=n.k*(e.shiftKey?.5:2),s=r(f(y(n,u),a,c),i.apply(this,t),o);Qi(e),d>0?Ze(this).transition().duration(d).call(X,s,a,e):Ze(this).call(h.transform,s,a,e)}}function L(n,...i){if(l.apply(this,arguments)){var r,a,c,u,o=n.touches,d=o.length,s=W(this,i,n.changedTouches.length===d).event(n);for(zi(n),a=0;a<d;++a)u=[u=pe(c=o[a],this),this.__zoom.invert(u),c.identifier],s.touch0?s.touch1||s.touch0[2]===u[2]||(s.touch1=u,s.taps=0):(s.touch0=u,r=!0,s.taps=1+!!e);e&&(e=clearTimeout(e)),r&&(s.taps<2&&(t=u[0],e=setTimeout((function(){e=null}),b)),ci(this),s.start())}}function Y(e,...t){if(this.__zooming){var n,l,i,a,c=W(this,t).event(e),u=e.changedTouches,d=u.length;for(Qi(e),n=0;n<d;++n)i=pe(l=u[n],this),c.touch0&&c.touch0[2]===l.identifier?c.touch0[0]=i:c.touch1&&c.touch1[2]===l.identifier&&(c.touch1[0]=i);if(l=c.that.__zoom,c.touch1){var s=c.touch0[0],m=c.touch0[1],b=c.touch1[0],Z=c.touch1[1],p=(p=b[0]-s[0])*p+(p=b[1]-s[1])*p,h=(h=Z[0]-m[0])*h+(h=Z[1]-m[1])*h;l=y(l,Math.sqrt(p/h)),i=[(s[0]+b[0])/2,(s[1]+b[1])/2],a=[(m[0]+Z[0])/2,(m[1]+Z[1])/2]}else{if(!c.touch0)return;i=c.touch0[0],a=c.touch0[1]}c.zoom("touch",r(f(l,i,a),c.extent,o))}}function J(e,...l){if(this.__zooming){var i,r,a=W(this,l).event(e),c=e.changedTouches,u=c.length;for(zi(e),n&&clearTimeout(n),n=setTimeout((function(){n=null}),b),i=0;i<u;++i)r=c[i],a.touch0&&a.touch0[2]===r.identifier?delete a.touch0:a.touch1&&a.touch1[2]===r.identifier&&delete a.touch1;if(a.touch1&&!a.touch0&&(a.touch0=a.touch1,delete a.touch1),a.touch0)a.touch0[1]=this.__zoom.invert(a.touch0[0]);else if(a.end(),2===a.taps&&(r=pe(r,this),Math.hypot(t[0]-r[0],t[1]-r[1])<p)){var o=Ze(this).on("dblclick.zoom");o&&o.apply(this,arguments)}}}return h.transform=function(e,t,n,l){var i=e.selection?e.selection():e;i.property("__zoom",Ei),e!==i?X(e,t,n,l):i.interrupt().each((function(){W(this,arguments).event(l).start().zoom(null,"function"==typeof t?t.apply(this,arguments):t).end()}))},h.scaleBy=function(e,t,n,l){h.scaleTo(e,(function(){return this.__zoom.k*("function"==typeof t?t.apply(this,arguments):t)}),n,l)},h.scaleTo=function(e,t,n,l){h.transform(e,(function(){var e=i.apply(this,arguments),l=this.__zoom,a=null==n?V(e):"function"==typeof n?n.apply(this,arguments):n,c=l.invert(a),u="function"==typeof t?t.apply(this,arguments):t;return r(f(y(l,u),a,c),e,o)}),n,l)},h.translateBy=function(e,t,n,l){h.transform(e,(function(){return r(this.__zoom.translate("function"==typeof t?t.apply(this,arguments):t,"function"==typeof n?n.apply(this,arguments):n),i.apply(this,arguments),o)}),null,l)},h.translateTo=function(e,t,n,l,a){h.transform(e,(function(){var e=i.apply(this,arguments),a=this.__zoom,c=null==l?V(e):"function"==typeof l?l.apply(this,arguments):l;return r(ji.translate(c[0],c[1]).scale(a.k).translate("function"==typeof t?-t.apply(this,arguments):-t,"function"==typeof n?-n.apply(this,arguments):-n),e,o)}),l,a)},G.prototype={event:function(e){return e&&(this.sourceEvent=e),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){var t=Ze(this.that).datum();m.call(e,this.that,new wi(e,{sourceEvent:this.sourceEvent,target:h,type:e,transform:this.that.__zoom,dispatch:m}),t)}},h.wheelDelta=function(e){return arguments.length?(a="function"==typeof e?e:_i(+e),h):a},h.filter=function(e){return arguments.length?(l="function"==typeof e?e:_i(!!e),h):l},h.touchable=function(e){return arguments.length?(c="function"==typeof e?e:_i(!!e),h):c},h.extent=function(e){return arguments.length?(i="function"==typeof e?e:_i([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),h):i},h.scaleExtent=function(e){return arguments.length?(u[0]=+e[0],u[1]=+e[1],h):[u[0],u[1]]},h.translateExtent=function(e){return arguments.length?(o[0][0]=+e[0][0],o[1][0]=+e[1][0],o[0][1]=+e[0][1],o[1][1]=+e[1][1],h):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},h.constrain=function(e){return arguments.length?(r=e,h):r},h.duration=function(e){return arguments.length?(d=+e,h):d},h.interpolate=function(e){return arguments.length?(s=e,h):s},h.on=function(){var e=m.on.apply(m,arguments);return e===m?h:e},h.clickDistance=function(e){return arguments.length?(Z=(e=+e)*e,h):Math.sqrt(Z)},h.tapDistance=function(e){return arguments.length?(p=+e,h):p},h}().scaleExtent([1/3,1e5]).extent([[0,0],[e,t]]).on("zoom",(e=>{this.transform=e.transform,this.restart_timer(1e4)}));n.call(l),this.add_mouseover(),this.zoomer=l}add_mouseover(){let e=0;const t=this.renderers.get("regl"),n=t.aes.x.current,l=t.aes.y.current;this.canvas.on("mousemove",(i=>{if(Date.now()-e<50)return;e=Date.now();const r=t.color_pick(i.layerX,i.layerY),a=r?[r]:[],c=a[0],u=c?[{x:i.layerX,y:i.layerY,data:c,dx:0,dy:30}]:[];if(!c)return;const{x_:o,y_:d}=this.scales();u.length&&this.html_annotation(u),Ze("#deepscatter-svg").selectAll("circle.label").data(a,(e=>e.ix)).join((e=>e.append("circle").attr("class","label").attr("stroke","#110022").attr("r",12).attr("fill",(e=>this.renderers.get("regl").aes.color.current.apply(e))).attr("cx",(e=>o(n.value_for(e)))).attr("cy",(e=>d(l.value_for(e))))),(e=>e.attr("fill",(e=>this.renderers.get("regl").aes.color.current.apply(e)))),(e=>e.call((e=>e.remove())))).on("click",((e,t)=>{this.renderers.get("regl").click_function(t,e)}))}))}current_corners(){const{width:e,height:t}=this,n=this.scales();if(void 0===n)return;const{x_:l,y_:i}=n;return{x:[l.invert(0),l.invert(e)],y:[i.invert(0),i.invert(t)]}}current_center(){const{x:e,y:t}=this.current_corners();return[(e[0]+e[1])/2,(t[0]+t[1])/2]}restart_timer(e=1e4){let t=Date.now()+e;this._timer&&(this._timer.stop_at>t&&(t=this._timer.stop_at),this._timer.stop());const n=Rn(this.tick.bind(this));return this._timer=n,this._timer.stop_at=t,this._timer}data(e){return void 0===data?this.tileSet:(this.tileSet=e,this)}scales(e=!0){if(this._scales)return this._scales.x_=this.transform.rescaleX(this._scales.x),this._scales.y_=this.transform.rescaleY(this._scales.y),this._scales;const{width:t,height:n,tileSet:l}=this,{extent:i}=this.tileSet,r={};if(void 0===i)return;const a={x:{},y:{}};for(const[m,b]of[["x",t],["y",n]]){const e=i[m];a[m].limits=e,a[m].size_range=e[1]-e[0],a[m].pixels_per_unit=b/a[m].size_range}const c=a.x.pixels_per_unit/a.y.pixels_per_unit;let u=0,o=0,d=t,s=n;return c>1?(d=t/c,u=(t-d)/2):(s=n*c,o=(n-s)/2),r.x=Yr().domain(a.x.limits).range([u,t-u]),r.y=Yr().domain(a.y.limits).range([o,n-o]),r.x_=this.transform.rescaleX(r.x),r.y_=this.transform.rescaleY(r.y),this._scales=r,r}webgl_scale(e=!0){const{x:t,y:n}=this.scales();return wr(t,n).flat()}tick(e=!1){this._start=this._start||Date.now(),!0!==e&&this._timer&&this._timer.stop_at<=Date.now()&&(console.log("Timer ending"),this._timer.stop())}}function wr(e,t){function n(e){return e[1]-e[0]}const l=Ie(e.domain()),i=Ie(t.domain()),r=n(e.range())/n(e.domain()),a=n(t.range())/n(t.domain());return[[r,0,-r*l+Ie(e.range())],[0,a,-a*i+Ie(t.range())],[0,0,1]]}function Cr(e,t){let n="<dl>";const l=new Set(["x","y","ix","bookstack",null,"tile_key"]);for(const[i,r]of e.entries()){if(t){if(!t.has(i))continue}else{if(l.has(i))continue;if(i.match(/_dict_index/))continue;if(null===r)continue;if(""===r)continue}n+=`<dt>${i}</dt>`,n+=`<dd>${r}<dd>`}return`${n}</dl>`}var jr={exports:{}},zr=jr.exports=function(){var e=function(e){return e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Float32Array||e instanceof Float64Array||e instanceof Uint8ClampedArray},t=function(e,t){for(var n=Object.keys(t),l=0;l<n.length;++l)e[n[l]]=t[n[l]];return e},n="\n";function l(e){return"undefined"!=typeof atob?atob(e):"base64:"+e}function i(e){var t=new Error("(regl) "+e);throw console.error(t),t}function r(e,t){e||i(t)}function a(e){return e?": "+e:""}function c(e,t,n){e in t||i("unknown parameter ("+e+")"+a(n)+". possible values: "+Object.keys(t).join())}function u(t,n){e(t)||i("invalid parameter type"+a(n)+". must be a typed array")}function o(e,t){switch(t){case"number":return"number"==typeof e;case"object":return"object"==typeof e;case"string":return"string"==typeof e;case"boolean":return"boolean"==typeof e;case"function":return"function"==typeof e;case"undefined":return void 0===e;case"symbol":return"symbol"==typeof e}}function d(e,t,n){o(e,t)||i("invalid parameter type"+a(n)+". expected "+t+", got "+typeof e)}function s(e,t){e>=0&&(0|e)===e||i("invalid parameter type, ("+e+")"+a(t)+". must be a nonnegative integer")}function m(e,t,n){t.indexOf(e)<0&&i("invalid value"+a(n)+". must be one of: "+t)}var b=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function Z(e){Object.keys(e).forEach((function(e){b.indexOf(e)<0&&i('invalid regl constructor argument "'+e+'". must be one of '+b)}))}function p(e,t){for(e+="";e.length<t;)e=" "+e;return e}function h(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function y(e,t){this.number=e,this.line=t,this.errors=[]}function f(e,t,n){this.file=e,this.line=t,this.message=n}function V(){var e=new Error,t=(e.stack||e).toString(),n=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(t);if(n)return n[1];var l=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(t);return l?l[1]:"unknown"}function X(){var e=new Error,t=(e.stack||e).toString(),n=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(t);if(n)return n[1];var l=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(t);return l?l[1]:"unknown"}function W(e,t){var n=e.split("\n"),i=1,r=0,a={unknown:new h,0:new h};a.unknown.name=a[0].name=t||V(),a.unknown.lines.push(new y(0,""));for(var c=0;c<n.length;++c){var u=n[c],o=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(u);if(o)switch(o[1]){case"line":var d=/(\d+)(\s+\d+)?/.exec(o[2]);d&&(i=0|d[1],d[2]&&((r=0|d[2])in a||(a[r]=new h)));break;case"define":var s=/SHADER_NAME(_B64)?\s+(.*)$/.exec(o[2]);s&&(a[r].name=s[1]?l(s[2]):s[2])}a[r].lines.push(new y(i++,u))}return Object.keys(a).forEach((function(e){var t=a[e];t.lines.forEach((function(e){t.index[e.number]=e}))})),a}function G(e){var t=[];return e.split("\n").forEach((function(e){if(!(e.length<5)){var n=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(e);n?t.push(new f(0|n[1],0|n[2],n[3].trim())):e.length>0&&t.push(new f("unknown",0,e))}})),t}function R(e,t){t.forEach((function(t){var n=e[t.file];if(n){var l=n.index[t.line];if(l)return l.errors.push(t),void(n.hasErrors=!0)}e.unknown.hasErrors=!0,e.unknown.lines[0].errors.push(t)}))}function S(e,t,l,i,a){if(!e.getShaderParameter(t,e.COMPILE_STATUS)){var c=e.getShaderInfoLog(t),u=i===e.FRAGMENT_SHADER?"fragment":"vertex";H(l,"string",u+" shader source must be a string",a);var o=W(l,a),d=G(c);R(o,d),Object.keys(o).forEach((function(e){var t=o[e];if(t.hasErrors){var l=[""],i=[""];r("file number "+e+": "+t.name+"\n","color:red;text-decoration:underline;font-weight:bold"),t.lines.forEach((function(e){if(e.errors.length>0){r(p(e.number,4)+"|  ","background-color:yellow; font-weight:bold"),r(e.line+n,"color:red; background-color:yellow; font-weight:bold");var t=0;e.errors.forEach((function(l){var i=l.message,a=/^\s*'(.*)'\s*:\s*(.*)$/.exec(i);if(a){var c=a[1];switch(i=a[2],c){case"assign":c="="}t=Math.max(e.line.indexOf(c,t),0)}else t=0;r(p("| ",6)),r(p("^^^",t+3)+n,"font-weight:bold"),r(p("| ",6)),r(i+n,"font-weight:bold")})),r(p("| ",6)+n)}else r(p(e.number,4)+"|  "),r(e.line+n,"color:red")})),"undefined"==typeof document||window.chrome?console.log(l.join("")):(i[0]=l.join("%c"),console.log.apply(console,i))}function r(e,t){l.push(e),i.push(t||"")}})),r.raise("Error compiling "+u+" shader, "+o[0].name)}}function v(e,t,l,i,a){if(!e.getProgramParameter(t,e.LINK_STATUS)){var c=e.getProgramInfoLog(t),u=W(l,a),o='Error linking program with vertex shader, "'+W(i,a)[0].name+'", and fragment shader "'+u[0].name+'"';"undefined"!=typeof document?console.log("%c"+o+n+"%c"+c,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(o+n+c),r.raise(o)}}function L(e){e._commandRef=V()}function Y(e,t,n,l){function i(e){return e?l.id(e):0}function r(e,t){Object.keys(t).forEach((function(t){e[l.id(t)]=!0}))}L(e),e._fragId=i(e.static.frag),e._vertId=i(e.static.vert);var a=e._uniformSet={};r(a,t.static),r(a,t.dynamic);var c=e._attributeSet={};r(c,n.static),r(c,n.dynamic),e._hasCount="count"in e.static||"count"in e.dynamic||"elements"in e.static||"elements"in e.dynamic}function J(e,t){var n=X();i(e+" in command "+(t||V())+("unknown"===n?"":" called from "+n))}function x(e,t,n){e||J(t,n||V())}function g(e,t,n,l){e in t||J("unknown parameter ("+e+")"+a(n)+". possible values: "+Object.keys(t).join(),l||V())}function H(e,t,n,l){o(e,t)||J("invalid parameter type"+a(n)+". expected "+t+", got "+typeof e,l||V())}function U(e){e()}function I(e,t,n){e.texture?m(e.texture._texture.internalformat,t,"unsupported texture format for attachment"):m(e.renderbuffer._renderbuffer.format,n,"unsupported renderbuffer format for attachment")}var K=33071,N=9728,k=9984,B=9985,F=9986,T=9987,_=5121,w=5122,C=5123,j=5124,z=5125,Q=5126,M=32819,P=32820,E=33635,O=34042,D=36193,A={};function q(e,t){return e===P||e===M||e===E?2:e===O?4:A[e]*t}function $(e){return!(e&e-1||!e)}function ee(e,t,n){var l,i=t.width,a=t.height,c=t.channels;r(i>0&&i<=n.maxTextureSize&&a>0&&a<=n.maxTextureSize,"invalid texture shape"),e.wrapS===K&&e.wrapT===K||r($(i)&&$(a),"incompatible wrap mode for texture, both width and height must be power of 2"),1===t.mipmask?1!==i&&1!==a&&r(e.minFilter!==k&&e.minFilter!==F&&e.minFilter!==B&&e.minFilter!==T,"min filter requires mipmap"):(r($(i)&&$(a),"texture must be a square power of 2 to support mipmapping"),r(t.mipmask===(i<<1)-1,"missing or incomplete mipmap data")),t.type===Q&&(n.extensions.indexOf("oes_texture_float_linear")<0&&r(e.minFilter===N&&e.magFilter===N,"filter not supported, must enable oes_texture_float_linear"),r(!e.genMipmaps,"mipmap generation not supported with float textures"));var u=t.images;for(l=0;l<16;++l)if(u[l]){var o=i>>l,d=a>>l;r(t.mipmask&1<<l,"missing mipmap data");var s=u[l];if(r(s.width===o&&s.height===d,"invalid shape for mip images"),r(s.format===t.format&&s.internalformat===t.internalformat&&s.type===t.type,"incompatible type for mip image"),s.compressed);else if(s.data){var m=Math.ceil(q(s.type,c)*o/s.unpackAlignment)*s.unpackAlignment;r(s.data.byteLength===m*d,"invalid data for image, buffer size is inconsistent with image format")}else s.element||s.copy}else e.genMipmaps||r(0==(t.mipmask&1<<l),"extra mipmap data");t.compressed&&r(!e.genMipmaps,"mipmap generation for compressed images not supported")}function te(e,t,n,l){var i=e.width,a=e.height,c=e.channels;r(i>0&&i<=l.maxTextureSize&&a>0&&a<=l.maxTextureSize,"invalid texture shape"),r(i===a,"cube map must be square"),r(t.wrapS===K&&t.wrapT===K,"wrap mode not supported by cube map");for(var u=0;u<n.length;++u){var o=n[u];r(o.width===i&&o.height===a,"inconsistent cube map face shape"),t.genMipmaps&&(r(!o.compressed,"can not generate mipmap for compressed textures"),r(1===o.mipmask,"can not specify mipmaps and generate mipmaps"));for(var d=o.images,s=0;s<16;++s){var m=d[s];if(m){var b=i>>s,Z=a>>s;r(o.mipmask&1<<s,"missing mipmap data"),r(m.width===b&&m.height===Z,"invalid shape for mip images"),r(m.format===e.format&&m.internalformat===e.internalformat&&m.type===e.type,"incompatible type for mip image"),m.compressed||(m.data?r(m.data.byteLength===b*Z*Math.max(q(m.type,c),m.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):m.element||m.copy)}}}}A[5120]=A[_]=1,A[w]=A[C]=A[D]=A[E]=A[M]=A[P]=2,A[j]=A[z]=A[Q]=A[O]=4;var ne=t(r,{optional:U,raise:i,commandRaise:J,command:x,parameter:c,commandParameter:g,constructor:Z,type:d,commandType:H,isTypedArray:u,nni:s,oneOf:m,shaderError:S,linkError:v,callSite:X,saveCommandRef:L,saveDrawInfo:Y,framebufferFormat:I,guessCommand:V,texture2D:ee,textureCube:te}),le=0,ie=0,re=5,ae=6;function ce(e,t){this.id=le++,this.type=e,this.data=t}function ue(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function oe(e){if(0===e.length)return[];var t=e.charAt(0),n=e.charAt(e.length-1);if(e.length>1&&t===n&&('"'===t||"'"===t))return['"'+ue(e.substr(1,e.length-2))+'"'];var l=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(e);if(l)return oe(e.substr(0,l.index)).concat(oe(l[1])).concat(oe(e.substr(l.index+l[0].length)));var i=e.split(".");if(1===i.length)return['"'+ue(e)+'"'];for(var r=[],a=0;a<i.length;++a)r=r.concat(oe(i[a]));return r}function de(e){return"["+oe(e).join("][")+"]"}function se(e,t){return new ce(e,de(t+""))}function me(e){return"function"==typeof e&&!e._reglType||e instanceof ce}function be(e,t){return"function"==typeof e?new ce(ie,e):"number"==typeof e||"boolean"==typeof e?new ce(re,e):Array.isArray(e)?new ce(ae,e.map((function(e,n){return be(e,t+"["+n+"]")}))):e instanceof ce?e:void ne(!1,"invalid option type in uniform "+t)}var Ze={DynamicVariable:ce,define:se,isDynamic:me,unbox:be,accessor:de},pe={next:"function"==typeof requestAnimationFrame?function(e){return requestAnimationFrame(e)}:function(e){return setTimeout(e,16)},cancel:"function"==typeof cancelAnimationFrame?function(e){return cancelAnimationFrame(e)}:clearTimeout},he="undefined"!=typeof performance&&performance.now?function(){return performance.now()}:function(){return+new Date};function ye(){var e={"":0},t=[""];return{id:function(n){var l=e[n];return l||(l=e[n]=t.length,t.push(n),l)},str:function(e){return t[e]}}}function fe(e,n,l){var i,r=document.createElement("canvas");function a(){var t=window.innerWidth,n=window.innerHeight;if(e!==document.body){var i=r.getBoundingClientRect();t=i.right-i.left,n=i.bottom-i.top}r.width=l*t,r.height=l*n}function c(){i?i.disconnect():window.removeEventListener("resize",a),e.removeChild(r)}return t(r.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),e.appendChild(r),e===document.body&&(r.style.position="absolute",t(e.style,{margin:0,padding:0})),e!==document.body&&"function"==typeof ResizeObserver?(i=new ResizeObserver((function(){setTimeout(a)}))).observe(e):window.addEventListener("resize",a,!1),a(),{canvas:r,onDestroy:c}}function Ve(e,t){function n(n){try{return e.getContext(n,t)}catch(l){return null}}return n("webgl")||n("experimental-webgl")||n("webgl-experimental")}function Xe(e){return"string"==typeof e.nodeName&&"function"==typeof e.appendChild&&"function"==typeof e.getBoundingClientRect}function We(e){return"function"==typeof e.drawArrays||"function"==typeof e.drawElements}function Ge(e){return"string"==typeof e?e.split():(ne(Array.isArray(e),"invalid extension array"),e)}function Re(e){return"string"==typeof e?(ne("undefined"!=typeof document,"not supported outside of DOM"),document.querySelector(e)):e}function Se(e){var t,n,l,i,r=e||{},a={},c=[],u=[],o="undefined"==typeof window?1:window.devicePixelRatio,d=!1,s=function(e){e&&ne.raise(e)},m=function(){};if("string"==typeof r?(ne("undefined"!=typeof document,"selector queries only supported in DOM enviroments"),t=document.querySelector(r),ne(t,"invalid query string for element")):"object"==typeof r?Xe(r)?t=r:We(r)?l=(i=r).canvas:(ne.constructor(r),"gl"in r?i=r.gl:"canvas"in r?l=Re(r.canvas):"container"in r&&(n=Re(r.container)),"attributes"in r&&(a=r.attributes,ne.type(a,"object","invalid context attributes")),"extensions"in r&&(c=Ge(r.extensions)),"optionalExtensions"in r&&(u=Ge(r.optionalExtensions)),"onDone"in r&&(ne.type(r.onDone,"function","invalid or missing onDone callback"),s=r.onDone),"profile"in r&&(d=!!r.profile),"pixelRatio"in r&&(o=+r.pixelRatio,ne(o>0,"invalid pixel ratio"))):ne.raise("invalid arguments to regl"),t&&("canvas"===t.nodeName.toLowerCase()?l=t:n=t),!i){if(!l){ne("undefined"!=typeof document,"must manually specify webgl context outside of DOM environments");var b=fe(n||document.body,s,o);if(!b)return null;l=b.canvas,m=b.onDestroy}void 0===a.premultipliedAlpha&&(a.premultipliedAlpha=!0),i=Ve(l,a)}return i?{gl:i,canvas:l,container:n,extensions:c,optionalExtensions:u,pixelRatio:o,profile:d,onDone:s,onDestroy:m}:(m(),s("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function ve(e,t){var n={};function l(t){ne.type(t,"string","extension name must be string");var l,i=t.toLowerCase();try{l=n[i]=e.getExtension(i)}catch(r){}return!!l}for(var i=0;i<t.extensions.length;++i){var r=t.extensions[i];if(!l(r))return t.onDestroy(),t.onDone('"'+r+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return t.optionalExtensions.forEach(l),{extensions:n,restore:function(){Object.keys(n).forEach((function(e){if(n[e]&&!l(e))throw new Error("(regl): error restoring extension "+e)}))}}}function Le(e,t){for(var n=Array(e),l=0;l<e;++l)n[l]=t(l);return n}var Ye=5120,Je=5121,xe=5122,ge=5123,He=5124,Ue=5125,Ie=5126;function Ke(e){for(var t=16;t<=1<<28;t*=16)if(e<=t)return t;return 0}function Ne(e){var t,n;return t=(e>65535)<<4,t|=n=((e>>>=t)>255)<<3,t|=n=((e>>>=n)>15)<<2,(t|=n=((e>>>=n)>3)<<1)|(e>>>=n)>>1}function ke(){var e=Le(8,(function(){return[]}));function t(t){var n=Ke(t),l=e[Ne(n)>>2];return l.length>0?l.pop():new ArrayBuffer(n)}function n(t){e[Ne(t.byteLength)>>2].push(t)}function l(e,n){var l=null;switch(e){case Ye:l=new Int8Array(t(n),0,n);break;case Je:l=new Uint8Array(t(n),0,n);break;case xe:l=new Int16Array(t(2*n),0,n);break;case ge:l=new Uint16Array(t(2*n),0,n);break;case He:l=new Int32Array(t(4*n),0,n);break;case Ue:l=new Uint32Array(t(4*n),0,n);break;case Ie:l=new Float32Array(t(4*n),0,n);break;default:return null}return l.length!==n?l.subarray(0,n):l}function i(e){n(e.buffer)}return{alloc:t,free:n,allocType:l,freeType:i}}var Be=ke();Be.zero=ke();var Fe=3408,Te=3410,_e=3411,we=3412,Ce=3413,je=3414,ze=3415,Qe=33901,Me=33902,Pe=3379,Ee=3386,Oe=34921,De=36347,Ae=36348,qe=35661,$e=35660,et=34930,tt=36349,nt=34076,lt=34024,it=7936,rt=7937,at=7938,ct=35724,ut=34047,ot=36063,dt=34852,st=3553,mt=34067,bt=34069,Zt=33984,pt=6408,ht=5126,yt=5121,ft=36160,Vt=36053,Xt=36064,Wt=16384,Gt=function(e,t){var n=1;t.ext_texture_filter_anisotropic&&(n=e.getParameter(ut));var l=1,i=1;t.webgl_draw_buffers&&(l=e.getParameter(dt),i=e.getParameter(ot));var r=!!t.oes_texture_float;if(r){var a=e.createTexture();e.bindTexture(st,a),e.texImage2D(st,0,pt,1,1,0,pt,ht,null);var c=e.createFramebuffer();if(e.bindFramebuffer(ft,c),e.framebufferTexture2D(ft,Xt,st,a,0),e.bindTexture(st,null),e.checkFramebufferStatus(ft)!==Vt)r=!1;else{e.viewport(0,0,1,1),e.clearColor(1,0,0,1),e.clear(Wt);var u=Be.allocType(ht,4);e.readPixels(0,0,1,1,pt,ht,u),e.getError()?r=!1:(e.deleteFramebuffer(c),e.deleteTexture(a),r=1===u[0]),Be.freeType(u)}}var o=!0;if("undefined"==typeof navigator||!(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))){var d=e.createTexture(),s=Be.allocType(yt,36);e.activeTexture(Zt),e.bindTexture(mt,d),e.texImage2D(bt,0,pt,3,3,0,pt,yt,s),Be.freeType(s),e.bindTexture(mt,null),e.deleteTexture(d),o=!e.getError()}return{colorBits:[e.getParameter(Te),e.getParameter(_e),e.getParameter(we),e.getParameter(Ce)],depthBits:e.getParameter(je),stencilBits:e.getParameter(ze),subpixelBits:e.getParameter(Fe),extensions:Object.keys(t).filter((function(e){return!!t[e]})),maxAnisotropic:n,maxDrawbuffers:l,maxColorAttachments:i,pointSizeDims:e.getParameter(Qe),lineWidthDims:e.getParameter(Me),maxViewportDims:e.getParameter(Ee),maxCombinedTextureUnits:e.getParameter(qe),maxCubeMapSize:e.getParameter(nt),maxRenderbufferSize:e.getParameter(lt),maxTextureUnits:e.getParameter(et),maxTextureSize:e.getParameter(Pe),maxAttributes:e.getParameter(Oe),maxVertexUniforms:e.getParameter(De),maxVertexTextureUnits:e.getParameter($e),maxVaryingVectors:e.getParameter(Ae),maxFragmentUniforms:e.getParameter(tt),glsl:e.getParameter(ct),renderer:e.getParameter(rt),vendor:e.getParameter(it),version:e.getParameter(at),readFloat:r,npotTextureCube:o}};function Rt(t){return!!t&&"object"==typeof t&&Array.isArray(t.shape)&&Array.isArray(t.stride)&&"number"==typeof t.offset&&t.shape.length===t.stride.length&&(Array.isArray(t.data)||e(t.data))}var St=function(e){return Object.keys(e).map((function(t){return e[t]}))},vt={shape:Ht,flatten:gt};function Lt(e,t,n){for(var l=0;l<t;++l)n[l]=e[l]}function Yt(e,t,n,l){for(var i=0,r=0;r<t;++r)for(var a=e[r],c=0;c<n;++c)l[i++]=a[c]}function Jt(e,t,n,l,i,r){for(var a=r,c=0;c<t;++c)for(var u=e[c],o=0;o<n;++o)for(var d=u[o],s=0;s<l;++s)i[a++]=d[s]}function xt(e,t,n,l,i){for(var r=1,a=n+1;a<t.length;++a)r*=t[a];var c=t[n];if(t.length-n==4){var u=t[n+1],o=t[n+2],d=t[n+3];for(a=0;a<c;++a)Jt(e[a],u,o,d,l,i),i+=r}else for(a=0;a<c;++a)xt(e[a],t,n+1,l,i),i+=r}function gt(e,t,n,l){var i=1;if(t.length)for(var r=0;r<t.length;++r)i*=t[r];else i=0;var a=l||Be.allocType(n,i);switch(t.length){case 0:break;case 1:Lt(e,t[0],a);break;case 2:Yt(e,t[0],t[1],a);break;case 3:Jt(e,t[0],t[1],t[2],a,0);break;default:xt(e,t,0,a,0)}return a}function Ht(e){for(var t=[],n=e;n.length;n=n[0])t.push(n.length);return t}var Ut={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},It={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},Kt={dynamic:35048,stream:35040,static:35044},Nt=vt.flatten,kt=vt.shape,Bt=35044,Ft=35040,Tt=5121,_t=5126,wt=[];function Ct(e){return 0|Ut[Object.prototype.toString.call(e)]}function jt(e,t){for(var n=0;n<t.length;++n)e[n]=t[n]}function zt(e,t,n,l,i,r,a){for(var c=0,u=0;u<n;++u)for(var o=0;o<l;++o)e[c++]=t[i*u+r*o+a]}function Qt(t,n,l,i){var r=0,a={};function c(e){this.id=r++,this.buffer=t.createBuffer(),this.type=e,this.usage=Bt,this.byteLength=0,this.dimension=1,this.dtype=Tt,this.persistentData=null,l.profile&&(this.stats={size:0})}c.prototype.bind=function(){t.bindBuffer(this.type,this.buffer)},c.prototype.destroy=function(){b(this)};var u=[];function o(e,t){var n=u.pop();return n||(n=new c(e)),n.bind(),m(n,t,Ft,0,1,!1),n}function d(e){u.push(e)}function s(e,n,l){e.byteLength=n.byteLength,t.bufferData(e.type,n,l)}function m(t,n,l,i,r,a){var c,u;if(t.usage=l,Array.isArray(n)){if(t.dtype=i||_t,n.length>0)if(Array.isArray(n[0])){c=kt(n);for(var o=1,d=1;d<c.length;++d)o*=c[d];t.dimension=o,s(t,u=Nt(n,c,t.dtype),l),a?t.persistentData=u:Be.freeType(u)}else if("number"==typeof n[0]){t.dimension=r;var m=Be.allocType(t.dtype,n.length);jt(m,n),s(t,m,l),a?t.persistentData=m:Be.freeType(m)}else e(n[0])?(t.dimension=n[0].length,t.dtype=i||Ct(n[0])||_t,s(t,u=Nt(n,[n.length,n[0].length],t.dtype),l),a?t.persistentData=u:Be.freeType(u)):ne.raise("invalid buffer data")}else if(e(n))t.dtype=i||Ct(n),t.dimension=r,s(t,n,l),a&&(t.persistentData=new Uint8Array(new Uint8Array(n.buffer)));else if(Rt(n)){c=n.shape;var b=n.stride,Z=n.offset,p=0,h=0,y=0,f=0;1===c.length?(p=c[0],h=1,y=b[0],f=0):2===c.length?(p=c[0],h=c[1],y=b[0],f=b[1]):ne.raise("invalid shape"),t.dtype=i||Ct(n.data)||_t,t.dimension=h;var V=Be.allocType(t.dtype,p*h);zt(V,n.data,p,h,y,f,Z),s(t,V,l),a?t.persistentData=V:Be.freeType(V)}else n instanceof ArrayBuffer?(t.dtype=Tt,t.dimension=r,s(t,n,l),a&&(t.persistentData=new Uint8Array(new Uint8Array(n)))):ne.raise("invalid buffer data")}function b(e){n.bufferCount--,i(e);var l=e.buffer;ne(l,"buffer must not be deleted already"),t.deleteBuffer(l),e.buffer=null,delete a[e.id]}function Z(i,r,u,o){n.bufferCount++;var d=new c(r);function s(n){var i=Bt,r=null,a=0,c=0,u=1;return Array.isArray(n)||e(n)||Rt(n)||n instanceof ArrayBuffer?r=n:"number"==typeof n?a=0|n:n&&(ne.type(n,"object","buffer arguments must be an object, a number or an array"),"data"in n&&(ne(null===r||Array.isArray(r)||e(r)||Rt(r),"invalid data for buffer"),r=n.data),"usage"in n&&(ne.parameter(n.usage,Kt,"invalid buffer usage"),i=Kt[n.usage]),"type"in n&&(ne.parameter(n.type,It,"invalid buffer type"),c=It[n.type]),"dimension"in n&&(ne.type(n.dimension,"number","invalid dimension"),u=0|n.dimension),"length"in n&&(ne.nni(a,"buffer length must be a nonnegative integer"),a=0|n.length)),d.bind(),r?m(d,r,i,c,u,o):(a&&t.bufferData(d.type,a,i),d.dtype=c||Tt,d.usage=i,d.dimension=u,d.byteLength=a),l.profile&&(d.stats.size=d.byteLength*wt[d.dtype]),s}function Z(e,n){ne(n+e.byteLength<=d.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+e.byteLength+" starting from offset "+n+" to a buffer of size "+d.byteLength),t.bufferSubData(d.type,n,e)}function p(t,n){var l,i=0|(n||0);if(d.bind(),e(t)||t instanceof ArrayBuffer)Z(t,i);else if(Array.isArray(t)){if(t.length>0)if("number"==typeof t[0]){var r=Be.allocType(d.dtype,t.length);jt(r,t),Z(r,i),Be.freeType(r)}else if(Array.isArray(t[0])||e(t[0])){l=kt(t);var a=Nt(t,l,d.dtype);Z(a,i),Be.freeType(a)}else ne.raise("invalid buffer data")}else if(Rt(t)){l=t.shape;var c=t.stride,u=0,o=0,m=0,b=0;1===l.length?(u=l[0],o=1,m=c[0],b=0):2===l.length?(u=l[0],o=l[1],m=c[0],b=c[1]):ne.raise("invalid shape");var p=Array.isArray(t.data)?d.dtype:Ct(t.data),h=Be.allocType(p,u*o);zt(h,t.data,u,o,m,b,t.offset),Z(h,i),Be.freeType(h)}else ne.raise("invalid data for buffer subdata");return s}return a[d.id]=d,u||s(i),s._reglType="buffer",s._buffer=d,s.subdata=p,l.profile&&(s.stats=d.stats),s.destroy=function(){b(d)},s}function p(){St(a).forEach((function(e){e.buffer=t.createBuffer(),t.bindBuffer(e.type,e.buffer),t.bufferData(e.type,e.persistentData||e.byteLength,e.usage)}))}return l.profile&&(n.getTotalBufferSize=function(){var e=0;return Object.keys(a).forEach((function(t){e+=a[t].stats.size})),e}),{create:Z,createStream:o,destroyStream:d,clear:function(){St(a).forEach(b),u.forEach(b)},getBuffer:function(e){return e&&e._buffer instanceof c?e._buffer:null},restore:p,_initBuffer:m}}wt[5120]=1,wt[5122]=2,wt[5124]=4,wt[5121]=1,wt[5123]=2,wt[5125]=4,wt[5126]=4;var Mt={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},Pt=0,Et=1,Ot=4,Dt=5120,At=5121,qt=5122,$t=5123,en=5124,tn=5125,nn=34963,ln=35040,rn=35044;function an(t,n,l,i){var r={},a=0,c={uint8:At,uint16:$t};function u(e){this.id=a++,r[this.id]=this,this.buffer=e,this.primType=Ot,this.vertCount=0,this.type=0}n.oes_element_index_uint&&(c.uint32=tn),u.prototype.bind=function(){this.buffer.bind()};var o=[];function d(e){var t=o.pop();return t||(t=new u(l.create(null,nn,!0,!1)._buffer)),m(t,e,ln,-1,-1,0,0),t}function s(e){o.push(e)}function m(i,r,a,c,u,o,d){var s;if(i.buffer.bind(),r){var m=d;d||e(r)&&(!Rt(r)||e(r.data))||(m=n.oes_element_index_uint?tn:$t),l._initBuffer(i.buffer,r,a,m,3)}else t.bufferData(nn,o,a),i.buffer.dtype=s||At,i.buffer.usage=a,i.buffer.dimension=3,i.buffer.byteLength=o;if(s=d,!d){switch(i.buffer.dtype){case At:case Dt:s=At;break;case $t:case qt:s=$t;break;case tn:case en:s=tn;break;default:ne.raise("unsupported type for element array")}i.buffer.dtype=s}i.type=s,ne(s!==tn||!!n.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var b=u;b<0&&(b=i.buffer.byteLength,s===$t?b>>=1:s===tn&&(b>>=2)),i.vertCount=b;var Z=c;if(c<0){Z=Ot;var p=i.buffer.dimension;1===p&&(Z=Pt),2===p&&(Z=Et),3===p&&(Z=Ot)}i.primType=Z}function b(e){i.elementsCount--,ne(null!==e.buffer,"must not double destroy elements"),delete r[e.id],e.buffer.destroy(),e.buffer=null}function Z(t,n){var r=l.create(null,nn,!0),a=new u(r._buffer);function o(t){if(t)if("number"==typeof t)r(t),a.primType=Ot,a.vertCount=0|t,a.type=At;else{var n=null,l=rn,i=-1,u=-1,d=0,s=0;Array.isArray(t)||e(t)||Rt(t)?n=t:(ne.type(t,"object","invalid arguments for elements"),"data"in t&&(n=t.data,ne(Array.isArray(n)||e(n)||Rt(n),"invalid data for element buffer")),"usage"in t&&(ne.parameter(t.usage,Kt,"invalid element buffer usage"),l=Kt[t.usage]),"primitive"in t&&(ne.parameter(t.primitive,Mt,"invalid element buffer primitive"),i=Mt[t.primitive]),"count"in t&&(ne("number"==typeof t.count&&t.count>=0,"invalid vertex count for elements"),u=0|t.count),"type"in t&&(ne.parameter(t.type,c,"invalid buffer type"),s=c[t.type]),"length"in t?d=0|t.length:(d=u,s===$t||s===qt?d*=2:s!==tn&&s!==en||(d*=4))),m(a,n,l,i,u,d,s)}else r(),a.primType=Ot,a.vertCount=0,a.type=At;return o}return i.elementsCount++,o(t),o._reglType="elements",o._elements=a,o.subdata=function(e,t){return r.subdata(e,t),o},o.destroy=function(){b(a)},o}return{create:Z,createStream:d,destroyStream:s,getElements:function(e){return"function"==typeof e&&e._elements instanceof u?e._elements:null},clear:function(){St(r).forEach(b)}}}var cn=new Float32Array(1),un=new Uint32Array(cn.buffer),on=5123;function dn(e){for(var t=Be.allocType(on,e.length),n=0;n<e.length;++n)if(isNaN(e[n]))t[n]=65535;else if(e[n]===1/0)t[n]=31744;else if(e[n]===-1/0)t[n]=64512;else{cn[0]=e[n];var l=un[0],i=l>>>31<<15,r=(l<<1>>>24)-127,a=l>>13&1023;if(r<-24)t[n]=i;else if(r<-14){var c=-14-r;t[n]=i+(a+1024>>c)}else t[n]=r>15?i+31744:i+(r+15<<10)+a}return t}function sn(t){return Array.isArray(t)||e(t)}var mn=function(e){return!(e&e-1||!e)},bn=34467,Zn=3553,pn=34067,hn=34069,yn=6408,fn=6406,Vn=6407,Xn=6409,Wn=6410,Gn=32854,Rn=32855,Sn=36194,vn=32819,Ln=32820,Yn=33635,Jn=34042,xn=6402,gn=34041,Hn=35904,Un=35906,In=36193,Kn=33776,Nn=33777,kn=33778,Bn=33779,Fn=35986,Tn=35987,_n=34798,wn=35840,Cn=35841,jn=35842,zn=35843,Qn=36196,Mn=5121,Pn=5123,En=5125,On=5126,Dn=10242,An=10243,qn=10497,$n=33071,el=33648,tl=10240,nl=10241,ll=9728,il=9729,rl=9984,al=9985,cl=9986,ul=9987,ol=33170,dl=4352,sl=4353,ml=4354,bl=34046,Zl=3317,pl=37440,hl=37441,yl=37443,fl=37444,Vl=33984,Xl=[rl,cl,al,ul],Wl=[0,Xn,Wn,Vn,yn],Gl={};function Rl(e){return"[object "+e+"]"}Gl[Xn]=Gl[fn]=Gl[xn]=1,Gl[gn]=Gl[Wn]=2,Gl[Vn]=Gl[Hn]=3,Gl[yn]=Gl[Un]=4;var Sl=Rl("HTMLCanvasElement"),vl=Rl("OffscreenCanvas"),Ll=Rl("CanvasRenderingContext2D"),Yl=Rl("ImageBitmap"),Jl=Rl("HTMLImageElement"),xl=Rl("HTMLVideoElement"),gl=Object.keys(Ut).concat([Sl,vl,Ll,Yl,Jl,xl]),Hl=[];Hl[Mn]=1,Hl[On]=4,Hl[In]=2,Hl[Pn]=2,Hl[En]=4;var Ul=[];function Il(e){return Array.isArray(e)&&(0===e.length||"number"==typeof e[0])}function Kl(e){return!!Array.isArray(e)&&!(0===e.length||!sn(e[0]))}function Nl(e){return Object.prototype.toString.call(e)}function kl(e){return Nl(e)===Sl}function Bl(e){return Nl(e)===vl}function Fl(e){return Nl(e)===Ll}function Tl(e){return Nl(e)===Yl}function _l(e){return Nl(e)===Jl}function wl(e){return Nl(e)===xl}function Cl(e){if(!e)return!1;var t=Nl(e);return gl.indexOf(t)>=0||Il(e)||Kl(e)||Rt(e)}function jl(e){return 0|Ut[Object.prototype.toString.call(e)]}function zl(e,t){var n=t.length;switch(e.type){case Mn:case Pn:case En:case On:var l=Be.allocType(e.type,n);l.set(t),e.data=l;break;case In:e.data=dn(t);break;default:ne.raise("unsupported texture type, must specify a typed array")}}function Ql(e,t){return Be.allocType(e.type===In?On:e.type,t)}function Ml(e,t){e.type===In?(e.data=dn(t),Be.freeType(t)):e.data=t}function Pl(e,t,n,l,i,r){for(var a=e.width,c=e.height,u=e.channels,o=Ql(e,a*c*u),d=0,s=0;s<c;++s)for(var m=0;m<a;++m)for(var b=0;b<u;++b)o[d++]=t[n*m+l*s+i*b+r];Ml(e,o)}function El(e,t,n,l,i,r){var a;if(a=void 0!==Ul[e]?Ul[e]:Gl[e]*Hl[t],r&&(a*=6),i){for(var c=0,u=n;u>=1;)c+=a*u*u,u/=2;return c}return a*n*l}function Ol(n,l,i,r,a,c,u){var o={"don't care":dl,"dont care":dl,nice:ml,fast:sl},d={repeat:qn,clamp:$n,mirror:el},s={nearest:ll,linear:il},m=t({mipmap:ul,"nearest mipmap nearest":rl,"linear mipmap nearest":al,"nearest mipmap linear":cl,"linear mipmap linear":ul},s),b={none:0,browser:fl},Z={uint8:Mn,rgba4:vn,rgb565:Yn,"rgb5 a1":Ln},p={alpha:fn,luminance:Xn,"luminance alpha":Wn,rgb:Vn,rgba:yn,rgba4:Gn,"rgb5 a1":Rn,rgb565:Sn},h={};l.ext_srgb&&(p.srgb=Hn,p.srgba=Un),l.oes_texture_float&&(Z.float32=Z.float=On),l.oes_texture_half_float&&(Z.float16=Z["half float"]=In),l.webgl_depth_texture&&(t(p,{depth:xn,"depth stencil":gn}),t(Z,{uint16:Pn,uint32:En,"depth stencil":Jn})),l.webgl_compressed_texture_s3tc&&t(h,{"rgb s3tc dxt1":Kn,"rgba s3tc dxt1":Nn,"rgba s3tc dxt3":kn,"rgba s3tc dxt5":Bn}),l.webgl_compressed_texture_atc&&t(h,{"rgb atc":Fn,"rgba atc explicit alpha":Tn,"rgba atc interpolated alpha":_n}),l.webgl_compressed_texture_pvrtc&&t(h,{"rgb pvrtc 4bppv1":wn,"rgb pvrtc 2bppv1":Cn,"rgba pvrtc 4bppv1":jn,"rgba pvrtc 2bppv1":zn}),l.webgl_compressed_texture_etc1&&(h["rgb etc1"]=Qn);var y=Array.prototype.slice.call(n.getParameter(bn));Object.keys(h).forEach((function(e){var t=h[e];y.indexOf(t)>=0&&(p[e]=t)}));var f=Object.keys(p);i.textureFormats=f;var V=[];Object.keys(p).forEach((function(e){var t=p[e];V[t]=e}));var X=[];Object.keys(Z).forEach((function(e){var t=Z[e];X[t]=e}));var W=[];Object.keys(s).forEach((function(e){var t=s[e];W[t]=e}));var G=[];Object.keys(m).forEach((function(e){var t=m[e];G[t]=e}));var R=[];Object.keys(d).forEach((function(e){var t=d[e];R[t]=e}));var S=f.reduce((function(e,t){var n=p[t];return n===Xn||n===fn||n===Xn||n===Wn||n===xn||n===gn||l.ext_srgb&&(n===Hn||n===Un)?e[n]=n:n===Rn||t.indexOf("rgba")>=0?e[n]=yn:e[n]=Vn,e}),{});function v(){this.internalformat=yn,this.format=yn,this.type=Mn,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=fl,this.width=0,this.height=0,this.channels=0}function L(e,t){e.internalformat=t.internalformat,e.format=t.format,e.type=t.type,e.compressed=t.compressed,e.premultiplyAlpha=t.premultiplyAlpha,e.flipY=t.flipY,e.unpackAlignment=t.unpackAlignment,e.colorSpace=t.colorSpace,e.width=t.width,e.height=t.height,e.channels=t.channels}function Y(e,t){if("object"==typeof t&&t){if("premultiplyAlpha"in t&&(ne.type(t.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),e.premultiplyAlpha=t.premultiplyAlpha),"flipY"in t&&(ne.type(t.flipY,"boolean","invalid texture flip"),e.flipY=t.flipY),"alignment"in t&&(ne.oneOf(t.alignment,[1,2,4,8],"invalid texture unpack alignment"),e.unpackAlignment=t.alignment),"colorSpace"in t&&(ne.parameter(t.colorSpace,b,"invalid colorSpace"),e.colorSpace=b[t.colorSpace]),"type"in t){var n=t.type;ne(l.oes_texture_float||!("float"===n||"float32"===n),"you must enable the OES_texture_float extension in order to use floating point textures."),ne(l.oes_texture_half_float||!("half float"===n||"float16"===n),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),ne(l.webgl_depth_texture||!("uint16"===n||"uint32"===n||"depth stencil"===n),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),ne.parameter(n,Z,"invalid texture type"),e.type=Z[n]}var r=e.width,a=e.height,c=e.channels,u=!1;"shape"in t?(ne(Array.isArray(t.shape)&&t.shape.length>=2,"shape must be an array"),r=t.shape[0],a=t.shape[1],3===t.shape.length&&(c=t.shape[2],ne(c>0&&c<=4,"invalid number of channels"),u=!0),ne(r>=0&&r<=i.maxTextureSize,"invalid width"),ne(a>=0&&a<=i.maxTextureSize,"invalid height")):("radius"in t&&(r=a=t.radius,ne(r>=0&&r<=i.maxTextureSize,"invalid radius")),"width"in t&&(r=t.width,ne(r>=0&&r<=i.maxTextureSize,"invalid width")),"height"in t&&(a=t.height,ne(a>=0&&a<=i.maxTextureSize,"invalid height")),"channels"in t&&(c=t.channels,ne(c>0&&c<=4,"invalid number of channels"),u=!0)),e.width=0|r,e.height=0|a,e.channels=0|c;var o=!1;if("format"in t){var d=t.format;ne(l.webgl_depth_texture||!("depth"===d||"depth stencil"===d),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),ne.parameter(d,p,"invalid texture format");var s=e.internalformat=p[d];e.format=S[s],d in Z&&("type"in t||(e.type=Z[d])),d in h&&(e.compressed=!0),o=!0}!u&&o?e.channels=Gl[e.format]:u&&!o?e.channels!==Wl[e.format]&&(e.format=e.internalformat=Wl[e.channels]):o&&u&&ne(e.channels===Gl[e.format],"number of channels inconsistent with specified format")}}function J(e){n.pixelStorei(pl,e.flipY),n.pixelStorei(hl,e.premultiplyAlpha),n.pixelStorei(yl,e.colorSpace),n.pixelStorei(Zl,e.unpackAlignment)}function x(){v.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function g(t,n){var l=null;if(Cl(n)?l=n:n&&(ne.type(n,"object","invalid pixel data type"),Y(t,n),"x"in n&&(t.xOffset=0|n.x),"y"in n&&(t.yOffset=0|n.y),Cl(n.data)&&(l=n.data)),ne(!t.compressed||l instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),n.copy){ne(!l,"can not specify copy and data field for the same texture");var r=a.viewportWidth,c=a.viewportHeight;t.width=t.width||r-t.xOffset,t.height=t.height||c-t.yOffset,t.needsCopy=!0,ne(t.xOffset>=0&&t.xOffset<r&&t.yOffset>=0&&t.yOffset<c&&t.width>0&&t.width<=r&&t.height>0&&t.height<=c,"copy texture read out of bounds")}else if(l){if(e(l))t.channels=t.channels||4,t.data=l,"type"in n||t.type!==Mn||(t.type=jl(l));else if(Il(l))t.channels=t.channels||4,zl(t,l),t.alignment=1,t.needsFree=!0;else if(Rt(l)){var u=l.data;Array.isArray(u)||t.type!==Mn||(t.type=jl(u));var o,d,s,m,b,Z,p=l.shape,h=l.stride;3===p.length?(s=p[2],Z=h[2]):(ne(2===p.length,"invalid ndarray pixel data, must be 2 or 3D"),s=1,Z=1),o=p[0],d=p[1],m=h[0],b=h[1],t.alignment=1,t.width=o,t.height=d,t.channels=s,t.format=t.internalformat=Wl[s],t.needsFree=!0,Pl(t,u,m,b,Z,l.offset)}else if(kl(l)||Bl(l)||Fl(l))kl(l)||Bl(l)?t.element=l:t.element=l.canvas,t.width=t.element.width,t.height=t.element.height,t.channels=4;else if(Tl(l))t.element=l,t.width=l.width,t.height=l.height,t.channels=4;else if(_l(l))t.element=l,t.width=l.naturalWidth,t.height=l.naturalHeight,t.channels=4;else if(wl(l))t.element=l,t.width=l.videoWidth,t.height=l.videoHeight,t.channels=4;else if(Kl(l)){var y=t.width||l[0].length,f=t.height||l.length,V=t.channels;V=sn(l[0][0])?V||l[0][0].length:V||1;for(var X=vt.shape(l),W=1,G=0;G<X.length;++G)W*=X[G];var R=Ql(t,W);vt.flatten(l,X,"",R),Ml(t,R),t.alignment=1,t.width=y,t.height=f,t.channels=V,t.format=t.internalformat=Wl[V],t.needsFree=!0}}else t.width=t.width||1,t.height=t.height||1,t.channels=t.channels||4;t.type===On?ne(i.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):t.type===In&&ne(i.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function H(e,t,l){var i=e.element,a=e.data,c=e.internalformat,u=e.format,o=e.type,d=e.width,s=e.height;J(e),i?n.texImage2D(t,l,u,u,o,i):e.compressed?n.compressedTexImage2D(t,l,c,d,s,0,a):e.needsCopy?(r(),n.copyTexImage2D(t,l,u,e.xOffset,e.yOffset,d,s,0)):n.texImage2D(t,l,u,d,s,0,u,o,a||null)}function U(e,t,l,i,a){var c=e.element,u=e.data,o=e.internalformat,d=e.format,s=e.type,m=e.width,b=e.height;J(e),c?n.texSubImage2D(t,a,l,i,d,s,c):e.compressed?n.compressedTexSubImage2D(t,a,l,i,o,m,b,u):e.needsCopy?(r(),n.copyTexSubImage2D(t,a,l,i,e.xOffset,e.yOffset,m,b)):n.texSubImage2D(t,a,l,i,m,b,d,s,u)}var I=[];function K(){return I.pop()||new x}function N(e){e.needsFree&&Be.freeType(e.data),x.call(e),I.push(e)}function k(){v.call(this),this.genMipmaps=!1,this.mipmapHint=dl,this.mipmask=0,this.images=Array(16)}function B(e,t,n){var l=e.images[0]=K();e.mipmask=1,l.width=e.width=t,l.height=e.height=n,l.channels=e.channels=4}function F(e,t){var n=null;if(Cl(t))L(n=e.images[0]=K(),e),g(n,t),e.mipmask=1;else if(Y(e,t),Array.isArray(t.mipmap))for(var l=t.mipmap,i=0;i<l.length;++i)L(n=e.images[i]=K(),e),n.width>>=i,n.height>>=i,g(n,l[i]),e.mipmask|=1<<i;else L(n=e.images[0]=K(),e),g(n,t),e.mipmask=1;L(e,e.images[0]),!e.compressed||e.internalformat!==Kn&&e.internalformat!==Nn&&e.internalformat!==kn&&e.internalformat!==Bn||ne(e.width%4==0&&e.height%4==0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function T(e,t){for(var n=e.images,l=0;l<n.length;++l){if(!n[l])return;H(n[l],t,l)}}var _=[];function w(){var e=_.pop()||new k;v.call(e),e.mipmask=0;for(var t=0;t<16;++t)e.images[t]=null;return e}function C(e){for(var t=e.images,n=0;n<t.length;++n)t[n]&&N(t[n]),t[n]=null;_.push(e)}function j(){this.minFilter=ll,this.magFilter=ll,this.wrapS=$n,this.wrapT=$n,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=dl}function z(e,t){if("min"in t){var n=t.min;ne.parameter(n,m),e.minFilter=m[n],Xl.indexOf(e.minFilter)>=0&&!("faces"in t)&&(e.genMipmaps=!0)}if("mag"in t){var l=t.mag;ne.parameter(l,s),e.magFilter=s[l]}var r=e.wrapS,a=e.wrapT;if("wrap"in t){var c=t.wrap;"string"==typeof c?(ne.parameter(c,d),r=a=d[c]):Array.isArray(c)&&(ne.parameter(c[0],d),ne.parameter(c[1],d),r=d[c[0]],a=d[c[1]])}else{if("wrapS"in t){var u=t.wrapS;ne.parameter(u,d),r=d[u]}if("wrapT"in t){var b=t.wrapT;ne.parameter(b,d),a=d[b]}}if(e.wrapS=r,e.wrapT=a,"anisotropic"in t){var Z=t.anisotropic;ne("number"==typeof Z&&Z>=1&&Z<=i.maxAnisotropic,"aniso samples must be between 1 and "),e.anisotropic=t.anisotropic}if("mipmap"in t){var p=!1;switch(typeof t.mipmap){case"string":ne.parameter(t.mipmap,o,"invalid mipmap hint"),e.mipmapHint=o[t.mipmap],e.genMipmaps=!0,p=!0;break;case"boolean":p=e.genMipmaps=t.mipmap;break;case"object":ne(Array.isArray(t.mipmap),"invalid mipmap type"),e.genMipmaps=!1,p=!0;break;default:ne.raise("invalid mipmap type")}p&&!("min"in t)&&(e.minFilter=rl)}}function Q(e,t){n.texParameteri(t,nl,e.minFilter),n.texParameteri(t,tl,e.magFilter),n.texParameteri(t,Dn,e.wrapS),n.texParameteri(t,An,e.wrapT),l.ext_texture_filter_anisotropic&&n.texParameteri(t,bl,e.anisotropic),e.genMipmaps&&(n.hint(ol,e.mipmapHint),n.generateMipmap(t))}var M=0,P={},E=i.maxTextureUnits,O=Array(E).map((function(){return null}));function D(e){v.call(this),this.mipmask=0,this.internalformat=yn,this.id=M++,this.refCount=1,this.target=e,this.texture=n.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new j,u.profile&&(this.stats={size:0})}function A(e){n.activeTexture(Vl),n.bindTexture(e.target,e.texture)}function q(){var e=O[0];e?n.bindTexture(e.target,e.texture):n.bindTexture(Zn,null)}function $(e){var t=e.texture;ne(t,"must not double destroy texture");var l=e.unit,i=e.target;l>=0&&(n.activeTexture(Vl+l),n.bindTexture(i,null),O[l]=null),n.deleteTexture(t),e.texture=null,e.params=null,e.pixels=null,e.refCount=0,delete P[e.id],c.textureCount--}function ee(e,t){var l=new D(Zn);function r(e,t){var n=l.texInfo;j.call(n);var a=w();return"number"==typeof e?B(a,0|e,"number"==typeof t?0|t:0|e):e?(ne.type(e,"object","invalid arguments to regl.texture"),z(n,e),F(a,e)):B(a,1,1),n.genMipmaps&&(a.mipmask=(a.width<<1)-1),l.mipmask=a.mipmask,L(l,a),ne.texture2D(n,a,i),l.internalformat=a.internalformat,r.width=a.width,r.height=a.height,A(l),T(a,Zn),Q(n,Zn),q(),C(a),u.profile&&(l.stats.size=El(l.internalformat,l.type,a.width,a.height,n.genMipmaps,!1)),r.format=V[l.internalformat],r.type=X[l.type],r.mag=W[n.magFilter],r.min=G[n.minFilter],r.wrapS=R[n.wrapS],r.wrapT=R[n.wrapT],r}function a(e,t,n,i){ne(!!e,"must specify image data");var a=0|t,c=0|n,u=0|i,o=K();return L(o,l),o.width=0,o.height=0,g(o,e),o.width=o.width||(l.width>>u)-a,o.height=o.height||(l.height>>u)-c,ne(l.type===o.type&&l.format===o.format&&l.internalformat===o.internalformat,"incompatible format for texture.subimage"),ne(a>=0&&c>=0&&a+o.width<=l.width&&c+o.height<=l.height,"texture.subimage write out of bounds"),ne(l.mipmask&1<<u,"missing mipmap data"),ne(o.data||o.element||o.needsCopy,"missing image data"),A(l),U(o,Zn,a,c,u),q(),N(o),r}function o(e,t){var i=0|e,a=0|t||i;if(i===l.width&&a===l.height)return r;r.width=l.width=i,r.height=l.height=a,A(l);for(var c=0;l.mipmask>>c;++c){var o=i>>c,d=a>>c;if(!o||!d)break;n.texImage2D(Zn,c,l.format,o,d,0,l.format,l.type,null)}return q(),u.profile&&(l.stats.size=El(l.internalformat,l.type,i,a,!1,!1)),r}return P[l.id]=l,c.textureCount++,r(e,t),r.subimage=a,r.resize=o,r._reglType="texture2d",r._texture=l,u.profile&&(r.stats=l.stats),r.destroy=function(){l.decRef()},r}function te(e,t,l,r,a,o){var d=new D(pn);P[d.id]=d,c.cubeCount++;var s=new Array(6);function m(e,t,n,l,r,a){var c,o=d.texInfo;for(j.call(o),c=0;c<6;++c)s[c]=w();if("number"!=typeof e&&e)if("object"==typeof e)if(t)F(s[0],e),F(s[1],t),F(s[2],n),F(s[3],l),F(s[4],r),F(s[5],a);else if(z(o,e),Y(d,e),"faces"in e){var b=e.faces;for(ne(Array.isArray(b)&&6===b.length,"cube faces must be a length 6 array"),c=0;c<6;++c)ne("object"==typeof b[c]&&!!b[c],"invalid input for cube map face"),L(s[c],d),F(s[c],b[c])}else for(c=0;c<6;++c)F(s[c],e);else ne.raise("invalid arguments to cube map");else{var Z=0|e||1;for(c=0;c<6;++c)B(s[c],Z,Z)}for(L(d,s[0]),ne.optional((function(){i.npotTextureCube||ne(mn(d.width)&&mn(d.height),"your browser does not support non power or two texture dimensions")})),o.genMipmaps?d.mipmask=(s[0].width<<1)-1:d.mipmask=s[0].mipmask,ne.textureCube(d,o,s,i),d.internalformat=s[0].internalformat,m.width=s[0].width,m.height=s[0].height,A(d),c=0;c<6;++c)T(s[c],hn+c);for(Q(o,pn),q(),u.profile&&(d.stats.size=El(d.internalformat,d.type,m.width,m.height,o.genMipmaps,!0)),m.format=V[d.internalformat],m.type=X[d.type],m.mag=W[o.magFilter],m.min=G[o.minFilter],m.wrapS=R[o.wrapS],m.wrapT=R[o.wrapT],c=0;c<6;++c)C(s[c]);return m}function b(e,t,n,l,i){ne(!!t,"must specify image data"),ne("number"==typeof e&&e===(0|e)&&e>=0&&e<6,"invalid face");var r=0|n,a=0|l,c=0|i,u=K();return L(u,d),u.width=0,u.height=0,g(u,t),u.width=u.width||(d.width>>c)-r,u.height=u.height||(d.height>>c)-a,ne(d.type===u.type&&d.format===u.format&&d.internalformat===u.internalformat,"incompatible format for texture.subimage"),ne(r>=0&&a>=0&&r+u.width<=d.width&&a+u.height<=d.height,"texture.subimage write out of bounds"),ne(d.mipmask&1<<c,"missing mipmap data"),ne(u.data||u.element||u.needsCopy,"missing image data"),A(d),U(u,hn+e,r,a,c),q(),N(u),m}function Z(e){var t=0|e;if(t!==d.width){m.width=d.width=t,m.height=d.height=t,A(d);for(var l=0;l<6;++l)for(var i=0;d.mipmask>>i;++i)n.texImage2D(hn+l,i,d.format,t>>i,t>>i,0,d.format,d.type,null);return q(),u.profile&&(d.stats.size=El(d.internalformat,d.type,m.width,m.height,!1,!0)),m}}return m(e,t,l,r,a,o),m.subimage=b,m.resize=Z,m._reglType="textureCube",m._texture=d,u.profile&&(m.stats=d.stats),m.destroy=function(){d.decRef()},m}function le(){for(var e=0;e<E;++e)n.activeTexture(Vl+e),n.bindTexture(Zn,null),O[e]=null;St(P).forEach($),c.cubeCount=0,c.textureCount=0}function ie(){for(var e=0;e<E;++e){var t=O[e];t&&(t.bindCount=0,t.unit=-1,O[e]=null)}St(P).forEach((function(e){e.texture=n.createTexture(),n.bindTexture(e.target,e.texture);for(var t=0;t<32;++t)if(0!=(e.mipmask&1<<t))if(e.target===Zn)n.texImage2D(Zn,t,e.internalformat,e.width>>t,e.height>>t,0,e.internalformat,e.type,null);else for(var l=0;l<6;++l)n.texImage2D(hn+l,t,e.internalformat,e.width>>t,e.height>>t,0,e.internalformat,e.type,null);Q(e.texInfo,e.target)}))}function re(){for(var e=0;e<E;++e){var t=O[e];t&&(t.bindCount=0,t.unit=-1,O[e]=null),n.activeTexture(Vl+e),n.bindTexture(Zn,null),n.bindTexture(pn,null)}}return t(D.prototype,{bind:function(){var e=this;e.bindCount+=1;var t=e.unit;if(t<0){for(var l=0;l<E;++l){var i=O[l];if(i){if(i.bindCount>0)continue;i.unit=-1}O[l]=e,t=l;break}t>=E&&ne.raise("insufficient number of texture units"),u.profile&&c.maxTextureUnits<t+1&&(c.maxTextureUnits=t+1),e.unit=t,n.activeTexture(Vl+t),n.bindTexture(e.target,e.texture)}return t},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&$(this)}}),u.profile&&(c.getTotalTextureSize=function(){var e=0;return Object.keys(P).forEach((function(t){e+=P[t].stats.size})),e}),{create2D:ee,createCube:te,clear:le,getTexture:function(e){return null},restore:ie,refresh:re}}Ul[Gn]=2,Ul[Rn]=2,Ul[Sn]=2,Ul[gn]=4,Ul[Kn]=.5,Ul[Nn]=.5,Ul[kn]=1,Ul[Bn]=1,Ul[Fn]=.5,Ul[Tn]=1,Ul[_n]=1,Ul[wn]=.5,Ul[Cn]=.25,Ul[jn]=.5,Ul[zn]=.25,Ul[Qn]=.5;var Dl=36161,Al=32854,ql=32855,$l=36194,ei=33189,ti=36168,ni=34041,li=35907,ii=34836,ri=34842,ai=34843,ci=[];function ui(e,t,n){return ci[e]*t*n}ci[Al]=2,ci[ql]=2,ci[$l]=2,ci[ei]=2,ci[ti]=1,ci[ni]=4,ci[li]=4,ci[ii]=16,ci[ri]=8,ci[ai]=6;var oi=function(e,t,n,l,i){var r={rgba4:Al,rgb565:$l,"rgb5 a1":ql,depth:ei,stencil:ti,"depth stencil":ni};t.ext_srgb&&(r.srgba=li),t.ext_color_buffer_half_float&&(r.rgba16f=ri,r.rgb16f=ai),t.webgl_color_buffer_float&&(r.rgba32f=ii);var a=[];Object.keys(r).forEach((function(e){var t=r[e];a[t]=e}));var c=0,u={};function o(e){this.id=c++,this.refCount=1,this.renderbuffer=e,this.format=Al,this.width=0,this.height=0,i.profile&&(this.stats={size:0})}function d(t){var n=t.renderbuffer;ne(n,"must not double destroy renderbuffer"),e.bindRenderbuffer(Dl,null),e.deleteRenderbuffer(n),t.renderbuffer=null,t.refCount=0,delete u[t.id],l.renderbufferCount--}function s(t,c){var d=new o(e.createRenderbuffer());function s(t,l){var c=0,u=0,o=Al;if("object"==typeof t&&t){var m=t;if("shape"in m){var b=m.shape;ne(Array.isArray(b)&&b.length>=2,"invalid renderbuffer shape"),c=0|b[0],u=0|b[1]}else"radius"in m&&(c=u=0|m.radius),"width"in m&&(c=0|m.width),"height"in m&&(u=0|m.height);"format"in m&&(ne.parameter(m.format,r,"invalid renderbuffer format"),o=r[m.format])}else"number"==typeof t?(c=0|t,u="number"==typeof l?0|l:c):t?ne.raise("invalid arguments to renderbuffer constructor"):c=u=1;if(ne(c>0&&u>0&&c<=n.maxRenderbufferSize&&u<=n.maxRenderbufferSize,"invalid renderbuffer size"),c!==d.width||u!==d.height||o!==d.format)return s.width=d.width=c,s.height=d.height=u,d.format=o,e.bindRenderbuffer(Dl,d.renderbuffer),e.renderbufferStorage(Dl,o,c,u),ne(0===e.getError(),"invalid render buffer format"),i.profile&&(d.stats.size=ui(d.format,d.width,d.height)),s.format=a[d.format],s}function m(t,l){var r=0|t,a=0|l||r;return r===d.width&&a===d.height||(ne(r>0&&a>0&&r<=n.maxRenderbufferSize&&a<=n.maxRenderbufferSize,"invalid renderbuffer size"),s.width=d.width=r,s.height=d.height=a,e.bindRenderbuffer(Dl,d.renderbuffer),e.renderbufferStorage(Dl,d.format,r,a),ne(0===e.getError(),"invalid render buffer format"),i.profile&&(d.stats.size=ui(d.format,d.width,d.height))),s}return u[d.id]=d,l.renderbufferCount++,s(t,c),s.resize=m,s._reglType="renderbuffer",s._renderbuffer=d,i.profile&&(s.stats=d.stats),s.destroy=function(){d.decRef()},s}function m(){St(u).forEach((function(t){t.renderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(Dl,t.renderbuffer),e.renderbufferStorage(Dl,t.format,t.width,t.height)})),e.bindRenderbuffer(Dl,null)}return o.prototype.decRef=function(){--this.refCount<=0&&d(this)},i.profile&&(l.getTotalRenderbufferSize=function(){var e=0;return Object.keys(u).forEach((function(t){e+=u[t].stats.size})),e}),{create:s,clear:function(){St(u).forEach(d)},restore:m}},di=36160,si=36161,mi=3553,bi=34069,Zi=36064,pi=36096,hi=36128,yi=33306,fi=36053,Vi=36054,Xi=36055,Wi=36057,Gi=36061,Ri=36193,Si=5121,vi=5126,Li=6407,Yi=6408,Ji=6402,xi=[Li,Yi],gi=[];gi[Yi]=4,gi[Li]=3;var Hi=[];Hi[Si]=1,Hi[vi]=4,Hi[Ri]=2;var Ui=33189,Ii=36168,Ki=34041,Ni=[32854,32855,36194,35907,34842,34843,34836],ki={};function Bi(e,n,l,i,r,a){var c={cur:null,next:null,dirty:!1,setFBO:null},u=["rgba"],o=["rgba4","rgb565","rgb5 a1"];n.ext_srgb&&o.push("srgba"),n.ext_color_buffer_half_float&&o.push("rgba16f","rgb16f"),n.webgl_color_buffer_float&&o.push("rgba32f");var d=["uint8"];function s(e,t,n){this.target=e,this.texture=t,this.renderbuffer=n;var l=0,i=0;t?(l=t.width,i=t.height):n&&(l=n.width,i=n.height),this.width=l,this.height=i}function m(e){e&&(e.texture&&e.texture._texture.decRef(),e.renderbuffer&&e.renderbuffer._renderbuffer.decRef())}function b(e,t,n){if(e)if(e.texture){var l=e.texture._texture,i=Math.max(1,l.width),r=Math.max(1,l.height);ne(i===t&&r===n,"inconsistent width/height for supplied texture"),l.refCount+=1}else{var a=e.renderbuffer._renderbuffer;ne(a.width===t&&a.height===n,"inconsistent width/height for renderbuffer"),a.refCount+=1}}function Z(t,n){n&&(n.texture?e.framebufferTexture2D(di,t,n.target,n.texture._texture.texture,0):e.framebufferRenderbuffer(di,t,si,n.renderbuffer._renderbuffer.renderbuffer))}function p(e){var t=mi,n=null,l=null,i=e;"object"==typeof e&&(i=e.data,"target"in e&&(t=0|e.target)),ne.type(i,"function","invalid attachment data");var r=i._reglType;return"texture2d"===r?(n=i,ne(t===mi)):"textureCube"===r?(n=i,ne(t>=bi&&t<bi+6,"invalid cube map target")):"renderbuffer"===r?(l=i,t=si):ne.raise("invalid regl object for attachment"),new s(t,n,l)}function h(e,t,n,l,a){if(n){var c=i.create2D({width:e,height:t,format:l,type:a});return c._texture.refCount=0,new s(mi,c,null)}var u=r.create({width:e,height:t,format:l});return u._renderbuffer.refCount=0,new s(si,null,u)}function y(e){return e&&(e.texture||e.renderbuffer)}function f(e,t,n){e&&(e.texture?e.texture.resize(t,n):e.renderbuffer&&e.renderbuffer.resize(t,n),e.width=t,e.height=n)}n.oes_texture_half_float&&d.push("half float","float16"),n.oes_texture_float&&d.push("float","float32");var V=0,X={};function W(){this.id=V++,X[this.id]=this,this.framebuffer=e.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function G(e){e.colorAttachments.forEach(m),m(e.depthAttachment),m(e.stencilAttachment),m(e.depthStencilAttachment)}function R(t){var n=t.framebuffer;ne(n,"must not double destroy framebuffer"),e.deleteFramebuffer(n),t.framebuffer=null,a.framebufferCount--,delete X[t.id]}function S(t){var n;e.bindFramebuffer(di,t.framebuffer);var i=t.colorAttachments;for(n=0;n<i.length;++n)Z(Zi+n,i[n]);for(n=i.length;n<l.maxColorAttachments;++n)e.framebufferTexture2D(di,Zi+n,mi,null,0);e.framebufferTexture2D(di,yi,mi,null,0),e.framebufferTexture2D(di,pi,mi,null,0),e.framebufferTexture2D(di,hi,mi,null,0),Z(pi,t.depthAttachment),Z(hi,t.stencilAttachment),Z(yi,t.depthStencilAttachment);var r=e.checkFramebufferStatus(di);e.isContextLost()||r===fi||ne.raise("framebuffer configuration not supported, status = "+ki[r]),e.bindFramebuffer(di,c.next?c.next.framebuffer:null),c.cur=c.next,e.getError()}function v(e,i){var r=new W;function s(e,t){var i;ne(c.next!==r,"can not update framebuffer which is currently in use");var a=0,m=0,Z=!0,f=!0,V=null,X=!0,W="rgba",R="uint8",v=1,L=null,Y=null,J=null,x=!1;if("number"==typeof e)a=0|e,m=0|t||a;else if(e){ne.type(e,"object","invalid arguments for framebuffer");var g=e;if("shape"in g){var H=g.shape;ne(Array.isArray(H)&&H.length>=2,"invalid shape for framebuffer"),a=H[0],m=H[1]}else"radius"in g&&(a=m=g.radius),"width"in g&&(a=g.width),"height"in g&&(m=g.height);("color"in g||"colors"in g)&&(V=g.color||g.colors,Array.isArray(V)&&ne(1===V.length||n.webgl_draw_buffers,"multiple render targets not supported")),V||("colorCount"in g&&(v=0|g.colorCount,ne(v>0,"invalid color buffer count")),"colorTexture"in g&&(X=!!g.colorTexture,W="rgba4"),"colorType"in g&&(R=g.colorType,X?(ne(n.oes_texture_float||!("float"===R||"float32"===R),"you must enable OES_texture_float in order to use floating point framebuffer objects"),ne(n.oes_texture_half_float||!("half float"===R||"float16"===R),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):"half float"===R||"float16"===R?(ne(n.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),W="rgba16f"):"float"!==R&&"float32"!==R||(ne(n.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),W="rgba32f"),ne.oneOf(R,d,"invalid color type")),"colorFormat"in g&&(W=g.colorFormat,u.indexOf(W)>=0?X=!0:o.indexOf(W)>=0?X=!1:ne.optional((function(){X?ne.oneOf(g.colorFormat,u,"invalid color format for texture"):ne.oneOf(g.colorFormat,o,"invalid color format for renderbuffer")})))),("depthTexture"in g||"depthStencilTexture"in g)&&(x=!(!g.depthTexture&&!g.depthStencilTexture),ne(!x||n.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in g&&("boolean"==typeof g.depth?Z=g.depth:(L=g.depth,f=!1)),"stencil"in g&&("boolean"==typeof g.stencil?f=g.stencil:(Y=g.stencil,Z=!1)),"depthStencil"in g&&("boolean"==typeof g.depthStencil?Z=f=g.depthStencil:(J=g.depthStencil,Z=!1,f=!1))}else a=m=1;var U=null,I=null,K=null,N=null;if(Array.isArray(V))U=V.map(p);else if(V)U=[p(V)];else for(U=new Array(v),i=0;i<v;++i)U[i]=h(a,m,X,W,R);ne(n.webgl_draw_buffers||U.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),ne(U.length<=l.maxColorAttachments,"too many color attachments, not supported"),a=a||U[0].width,m=m||U[0].height,L?I=p(L):Z&&!f&&(I=h(a,m,x,"depth","uint32")),Y?K=p(Y):f&&!Z&&(K=h(a,m,!1,"stencil","uint8")),J?N=p(J):!L&&!Y&&f&&Z&&(N=h(a,m,x,"depth stencil","depth stencil")),ne(!!L+!!Y+!!J<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var k=null;for(i=0;i<U.length;++i)if(b(U[i],a,m),ne(!U[i]||U[i].texture&&xi.indexOf(U[i].texture._texture.format)>=0||U[i].renderbuffer&&Ni.indexOf(U[i].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+i+" is invalid"),U[i]&&U[i].texture){var B=gi[U[i].texture._texture.format]*Hi[U[i].texture._texture.type];null===k?k=B:ne(k===B,"all color attachments much have the same number of bits per pixel.")}return b(I,a,m),ne(!I||I.texture&&I.texture._texture.format===Ji||I.renderbuffer&&I.renderbuffer._renderbuffer.format===Ui,"invalid depth attachment for framebuffer object"),b(K,a,m),ne(!K||K.renderbuffer&&K.renderbuffer._renderbuffer.format===Ii,"invalid stencil attachment for framebuffer object"),b(N,a,m),ne(!N||N.texture&&N.texture._texture.format===Ki||N.renderbuffer&&N.renderbuffer._renderbuffer.format===Ki,"invalid depth-stencil attachment for framebuffer object"),G(r),r.width=a,r.height=m,r.colorAttachments=U,r.depthAttachment=I,r.stencilAttachment=K,r.depthStencilAttachment=N,s.color=U.map(y),s.depth=y(I),s.stencil=y(K),s.depthStencil=y(N),s.width=r.width,s.height=r.height,S(r),s}function m(e,t){ne(c.next!==r,"can not resize a framebuffer which is currently in use");var n=Math.max(0|e,1),l=Math.max(0|t||n,1);if(n===r.width&&l===r.height)return s;for(var i=r.colorAttachments,a=0;a<i.length;++a)f(i[a],n,l);return f(r.depthAttachment,n,l),f(r.stencilAttachment,n,l),f(r.depthStencilAttachment,n,l),r.width=s.width=n,r.height=s.height=l,S(r),s}return a.framebufferCount++,s(e,i),t(s,{resize:m,_reglType:"framebuffer",_framebuffer:r,destroy:function(){R(r),G(r)},use:function(e){c.setFBO({framebuffer:s},e)}})}function L(e){var r=Array(6);function a(e){var l;ne(r.indexOf(c.next)<0,"can not update framebuffer which is currently in use");var o,s={color:null},m=0,b=null,Z="rgba",p="uint8",h=1;if("number"==typeof e)m=0|e;else if(e){ne.type(e,"object","invalid arguments for framebuffer");var y=e;if("shape"in y){var f=y.shape;ne(Array.isArray(f)&&f.length>=2,"invalid shape for framebuffer"),ne(f[0]===f[1],"cube framebuffer must be square"),m=f[0]}else"radius"in y&&(m=0|y.radius),"width"in y?(m=0|y.width,"height"in y&&ne(y.height===m,"must be square")):"height"in y&&(m=0|y.height);("color"in y||"colors"in y)&&(b=y.color||y.colors,Array.isArray(b)&&ne(1===b.length||n.webgl_draw_buffers,"multiple render targets not supported")),b||("colorCount"in y&&(h=0|y.colorCount,ne(h>0,"invalid color buffer count")),"colorType"in y&&(ne.oneOf(y.colorType,d,"invalid color type"),p=y.colorType),"colorFormat"in y&&(Z=y.colorFormat,ne.oneOf(y.colorFormat,u,"invalid color format for texture"))),"depth"in y&&(s.depth=y.depth),"stencil"in y&&(s.stencil=y.stencil),"depthStencil"in y&&(s.depthStencil=y.depthStencil)}else m=1;if(b)if(Array.isArray(b))for(o=[],l=0;l<b.length;++l)o[l]=b[l];else o=[b];else{o=Array(h);var V={radius:m,format:Z,type:p};for(l=0;l<h;++l)o[l]=i.createCube(V)}for(s.color=Array(o.length),l=0;l<o.length;++l){var X=o[l];ne("function"==typeof X&&"textureCube"===X._reglType,"invalid cube map"),m=m||X.width,ne(X.width===m&&X.height===m,"invalid cube map shape"),s.color[l]={target:bi,data:o[l]}}for(l=0;l<6;++l){for(var W=0;W<o.length;++W)s.color[W].target=bi+l;l>0&&(s.depth=r[0].depth,s.stencil=r[0].stencil,s.depthStencil=r[0].depthStencil),r[l]?r[l](s):r[l]=v(s)}return t(a,{width:m,height:m,color:o})}function o(e){var t,n=0|e;if(ne(n>0&&n<=l.maxCubeMapSize,"invalid radius for cube fbo"),n===a.width)return a;var i=a.color;for(t=0;t<i.length;++t)i[t].resize(n);for(t=0;t<6;++t)r[t].resize(n);return a.width=a.height=n,a}return a(e),t(a,{faces:r,resize:o,_reglType:"framebufferCube",destroy:function(){r.forEach((function(e){e.destroy()}))}})}function Y(){c.cur=null,c.next=null,c.dirty=!0,St(X).forEach((function(t){t.framebuffer=e.createFramebuffer(),S(t)}))}return t(c,{getFramebuffer:function(e){if("function"==typeof e&&"framebuffer"===e._reglType){var t=e._framebuffer;if(t instanceof W)return t}return null},create:v,createCube:L,clear:function(){St(X).forEach(R)},restore:Y})}ki[fi]="complete",ki[Vi]="incomplete attachment",ki[Wi]="incomplete dimensions",ki[Xi]="incomplete, missing attachment",ki[Gi]="unsupported";var Fi=5126,Ti=34962,_i=34963,wi=["attributes","elements","offset","count","primitive","instances"];function Ci(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=Fi,this.offset=0,this.stride=0,this.divisor=0}function ji(t,n,l,i,r,a,c){for(var u=l.maxAttributes,o=new Array(u),d=0;d<u;++d)o[d]=new Ci;var s=0,m={},b={Record:Ci,scope:{},state:o,currentVAO:null,targetVAO:null,restore:p()?G:function(){},createVAO:R,getVAO:y,destroyBuffer:Z,setVAO:p()?f:V,clear:p()?X:function(){}};function Z(e){for(var n=0;n<o.length;++n){var l=o[n];l.buffer===e&&(t.disableVertexAttribArray(n),l.buffer=null)}}function p(){return n.oes_vertex_array_object}function h(){return n.angle_instanced_arrays}function y(e){return"function"==typeof e&&e._vao?e._vao:null}function f(e){if(e!==b.currentVAO){var t=p();e?t.bindVertexArrayOES(e.vao):t.bindVertexArrayOES(null),b.currentVAO=e}}function V(e){if(e!==b.currentVAO){if(e)e.bindAttrs();else{for(var n=h(),l=0;l<o.length;++l){var i=o[l];i.buffer?(t.enableVertexAttribArray(l),i.buffer.bind(),t.vertexAttribPointer(l,i.size,i.type,i.normalized,i.stride,i.offfset),n&&i.divisor&&n.vertexAttribDivisorANGLE(l,i.divisor)):(t.disableVertexAttribArray(l),t.vertexAttrib4f(l,i.x,i.y,i.z,i.w))}c.elements?t.bindBuffer(_i,c.elements.buffer.buffer):t.bindBuffer(_i,null)}b.currentVAO=e}}function X(){St(m).forEach((function(e){e.destroy()}))}function W(){this.id=++s,this.attributes=[],this.elements=null,this.ownsElements=!1,this.count=0,this.offset=0,this.instances=-1,this.primitive=4;var e=p();this.vao=e?e.createVertexArrayOES():null,m[this.id]=this,this.buffers=[]}function G(){p()&&St(m).forEach((function(e){e.refresh()}))}function R(t){var l=new W;function c(t){var i;if(Array.isArray(t))i=t,l.elements&&l.ownsElements&&l.elements.destroy(),l.elements=null,l.ownsElements=!1,l.offset=0,l.count=0,l.instances=-1,l.primitive=4;else{if(ne("object"==typeof t,"invalid arguments for create vao"),ne("attributes"in t,"must specify attributes for vao"),t.elements){var o=t.elements;l.ownsElements?"function"==typeof o&&"elements"===o._reglType?(l.elements.destroy(),l.ownsElements=!1):(l.elements(o),l.ownsElements=!1):a.getElements(t.elements)?(l.elements=t.elements,l.ownsElements=!1):(l.elements=a.create(t.elements),l.ownsElements=!0)}else l.elements=null,l.ownsElements=!1;i=t.attributes,l.offset=0,l.count=-1,l.instances=-1,l.primitive=4,l.elements&&(l.count=l.elements._elements.vertCount,l.primitive=l.elements._elements.primType),"offset"in t&&(l.offset=0|t.offset),"count"in t&&(l.count=0|t.count),"instances"in t&&(l.instances=0|t.instances),"primitive"in t&&(ne(t.primitive in Mt,"bad primitive type: "+t.primitive),l.primitive=Mt[t.primitive]),ne.optional((()=>{for(var e=Object.keys(t),n=0;n<e.length;++n)ne(wi.indexOf(e[n])>=0,'invalid option for vao: "'+e[n]+'" valid options are '+wi)})),ne(Array.isArray(i),"attributes must be an array")}ne(i.length<u,"too many attributes"),ne(i.length>0,"must specify at least one attribute");var d={},s=l.attributes;s.length=i.length;for(var m=0;m<i.length;++m){var b,Z=i[m],p=s[m]=new Ci,h=Z.data||Z;Array.isArray(h)||e(h)||Rt(h)?(l.buffers[m]&&(b=l.buffers[m],e(h)&&b._buffer.byteLength>=h.byteLength?b.subdata(h):(b.destroy(),l.buffers[m]=null)),l.buffers[m]||(b=l.buffers[m]=r.create(Z,Ti,!1,!0)),p.buffer=r.getBuffer(b),p.size=0|p.buffer.dimension,p.normalized=!1,p.type=p.buffer.dtype,p.offset=0,p.stride=0,p.divisor=0,p.state=1,d[m]=1):r.getBuffer(Z)?(p.buffer=r.getBuffer(Z),p.size=0|p.buffer.dimension,p.normalized=!1,p.type=p.buffer.dtype,p.offset=0,p.stride=0,p.divisor=0,p.state=1):r.getBuffer(Z.buffer)?(p.buffer=r.getBuffer(Z.buffer),p.size=0|(+Z.size||p.buffer.dimension),p.normalized=!!Z.normalized||!1,"type"in Z?(ne.parameter(Z.type,It,"invalid buffer type"),p.type=It[Z.type]):p.type=p.buffer.dtype,p.offset=0|(Z.offset||0),p.stride=0|(Z.stride||0),p.divisor=0|(Z.divisor||0),p.state=1,ne(p.size>=1&&p.size<=4,"size must be between 1 and 4"),ne(p.offset>=0,"invalid offset"),ne(p.stride>=0&&p.stride<=255,"stride must be between 0 and 255"),ne(p.divisor>=0,"divisor must be positive"),ne(!p.divisor||!!n.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in Z?(ne(m>0,"first attribute must not be a constant"),p.x=+Z.x||0,p.y=+Z.y||0,p.z=+Z.z||0,p.w=+Z.w||0,p.state=2):ne(!1,"invalid attribute spec for location "+m)}for(var y=0;y<l.buffers.length;++y)!d[y]&&l.buffers[y]&&(l.buffers[y].destroy(),l.buffers[y]=null);return l.refresh(),c}return i.vaoCount+=1,c.destroy=function(){for(var e=0;e<l.buffers.length;++e)l.buffers[e]&&l.buffers[e].destroy();l.buffers.length=0,l.ownsElements&&(l.elements.destroy(),l.elements=null,l.ownsElements=!1),l.destroy()},c._vao=l,c._reglType="vao",c(t)}return W.prototype.bindAttrs=function(){for(var e=h(),n=this.attributes,l=0;l<n.length;++l){var i=n[l];i.buffer?(t.enableVertexAttribArray(l),t.bindBuffer(Ti,i.buffer.buffer),t.vertexAttribPointer(l,i.size,i.type,i.normalized,i.stride,i.offset),e&&i.divisor&&e.vertexAttribDivisorANGLE(l,i.divisor)):(t.disableVertexAttribArray(l),t.vertexAttrib4f(l,i.x,i.y,i.z,i.w))}for(var r=n.length;r<u;++r)t.disableVertexAttribArray(r);var c=a.getElements(this.elements);c?t.bindBuffer(_i,c.buffer.buffer):t.bindBuffer(_i,null)},W.prototype.refresh=function(){var e=p();e&&(e.bindVertexArrayOES(this.vao),this.bindAttrs(),b.currentVAO=null,e.bindVertexArrayOES(null))},W.prototype.destroy=function(){if(this.vao){var e=p();this===b.currentVAO&&(b.currentVAO=null,e.bindVertexArrayOES(null)),e.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),m[this.id]&&(delete m[this.id],i.vaoCount-=1)},b}var zi=35632,Qi=35633,Mi=35718,Pi=35721;function Ei(e,n,l,i){var r={},a={};function c(e,t,n,l){this.name=e,this.id=t,this.location=n,this.info=l}function u(e,t){for(var n=0;n<e.length;++n)if(e[n].id===t.id)return void(e[n].location=t.location);e.push(t)}function o(t,l,i){var c=t===zi?r:a,u=c[l];if(!u){var o=n.str(l);u=e.createShader(t),e.shaderSource(u,o),e.compileShader(u),ne.shaderError(e,u,o,t,i),c[l]=u}return u}var d={},s=[],m=0;function b(e,t){this.id=m++,this.fragId=e,this.vertId=t,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,i.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function Z(t,l,r){var a,d,s=o(zi,t.fragId),m=o(Qi,t.vertId),b=t.program=e.createProgram();if(e.attachShader(b,s),e.attachShader(b,m),r)for(a=0;a<r.length;++a){var Z=r[a];e.bindAttribLocation(b,Z[0],Z[1])}e.linkProgram(b),ne.linkError(e,b,n.str(t.fragId),n.str(t.vertId),l);var p=e.getProgramParameter(b,Mi);i.profile&&(t.stats.uniformsCount=p);var h=t.uniforms;for(a=0;a<p;++a)if(d=e.getActiveUniform(b,a)){if(d.size>1)for(var y=0;y<d.size;++y){var f=d.name.replace("[0]","["+y+"]");u(h,new c(f,n.id(f),e.getUniformLocation(b,f),d))}var V=d.name;d.size>1&&(V=V.replace("[0]","")),u(h,new c(V,n.id(V),e.getUniformLocation(b,V),d))}var X=e.getProgramParameter(b,Pi);i.profile&&(t.stats.attributesCount=X);var W=t.attributes;for(a=0;a<X;++a)(d=e.getActiveAttrib(b,a))&&u(W,new c(d.name,n.id(d.name),e.getAttribLocation(b,d.name),d))}function p(){r={},a={};for(var e=0;e<s.length;++e)Z(s[e],null,s[e].attributes.map((function(e){return[e.location,e.name]})))}return i.profile&&(l.getMaxUniformsCount=function(){var e=0;return s.forEach((function(t){t.stats.uniformsCount>e&&(e=t.stats.uniformsCount)})),e},l.getMaxAttributesCount=function(){var e=0;return s.forEach((function(t){t.stats.attributesCount>e&&(e=t.stats.attributesCount)})),e}),{clear:function(){var t=e.deleteShader.bind(e);St(r).forEach(t),r={},St(a).forEach(t),a={},s.forEach((function(t){e.deleteProgram(t.program)})),s.length=0,d={},l.shaderCount=0},program:function(n,i,c,u){ne.command(n>=0,"missing vertex shader",c),ne.command(i>=0,"missing fragment shader",c);var o=d[i];o||(o=d[i]={});var m=o[n];if(m&&(m.refCount++,!u))return m;var p=new b(i,n);return l.shaderCount++,Z(p,c,u),m||(o[n]=p),s.push(p),t(p,{destroy:function(){if(p.refCount--,p.refCount<=0){e.deleteProgram(p.program);var t=s.indexOf(p);s.splice(t,1),l.shaderCount--}o[p.vertId].refCount<=0&&(e.deleteShader(a[p.vertId]),delete a[p.vertId],delete d[p.fragId][p.vertId]),Object.keys(d[p.fragId]).length||(e.deleteShader(r[p.fragId]),delete r[p.fragId],delete d[p.fragId])}})},restore:p,shader:o,frag:-1,vert:-1}}var Oi=6408,Di=5121,Ai=3333,qi=5126;function $i(t,n,l,i,r,a,c){function u(u){var o;null===n.next?(ne(r.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),o=Di):(ne(null!==n.next.colorAttachments[0].texture,"You cannot read from a renderbuffer"),o=n.next.colorAttachments[0].texture._texture.type,ne.optional((function(){a.oes_texture_float?(ne(o===Di||o===qi,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),o===qi&&ne(c.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):ne(o===Di,"Reading from a framebuffer is only allowed for the type 'uint8'")})));var d=0,s=0,m=i.framebufferWidth,b=i.framebufferHeight,Z=null;e(u)?Z=u:u&&(ne.type(u,"object","invalid arguments to regl.read()"),d=0|u.x,s=0|u.y,ne(d>=0&&d<i.framebufferWidth,"invalid x offset for regl.read"),ne(s>=0&&s<i.framebufferHeight,"invalid y offset for regl.read"),m=0|(u.width||i.framebufferWidth-d),b=0|(u.height||i.framebufferHeight-s),Z=u.data||null),Z&&(o===Di?ne(Z instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):o===qi&&ne(Z instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),ne(m>0&&m+d<=i.framebufferWidth,"invalid width for read pixels"),ne(b>0&&b+s<=i.framebufferHeight,"invalid height for read pixels"),l();var p=m*b*4;return Z||(o===Di?Z=new Uint8Array(p):o===qi&&(Z=Z||new Float32Array(p))),ne.isTypedArray(Z,"data buffer for regl.read() must be a typedarray"),ne(Z.byteLength>=p,"data buffer for regl.read() too small"),t.pixelStorei(Ai,4),t.readPixels(d,s,m,b,Oi,o,Z),Z}function o(e){var t;return n.setFBO({framebuffer:e.framebuffer},(function(){t=u(e)})),t}function d(e){return e&&"framebuffer"in e?o(e):u(e)}return d}function er(e){return Array.prototype.slice.call(e)}function tr(e){return er(e).join("")}function nr(){var e=0,n=[],l=[];function i(t){for(var i=0;i<l.length;++i)if(l[i]===t)return n[i];var r="g"+e++;return n.push(r),l.push(t),r}function r(){var n=[];function l(){n.push.apply(n,er(arguments))}var i=[];function r(){var t="v"+e++;return i.push(t),arguments.length>0&&(n.push(t,"="),n.push.apply(n,er(arguments)),n.push(";")),t}return t(l,{def:r,toString:function(){return tr([i.length>0?"var "+i.join(",")+";":"",tr(n)])}})}function a(){var e=r(),n=r(),l=e.toString,i=n.toString;function a(t,l){n(t,l,"=",e.def(t,l),";")}return t((function(){e.apply(e,er(arguments))}),{def:e.def,entry:e,exit:n,save:a,set:function(t,n,l){a(t,n),e(t,n,"=",l,";")},toString:function(){return l()+i()}})}function c(){var e=tr(arguments),n=a(),l=a(),i=n.toString,r=l.toString;return t(n,{then:function(){return n.apply(n,er(arguments)),this},else:function(){return l.apply(l,er(arguments)),this},toString:function(){var t=r();return t&&(t="else{"+t+"}"),tr(["if(",e,"){",i(),"}",t])}})}var u=r(),o={};function d(e,n){var l=[];function i(){var e="a"+l.length;return l.push(e),e}n=n||0;for(var r=0;r<n;++r)i();var c=a(),u=c.toString;return o[e]=t(c,{arg:i,toString:function(){return tr(["function(",l.join(),"){",u(),"}"])}})}function s(){var e=['"use strict";',u,"return {"];Object.keys(o).forEach((function(t){e.push('"',t,'":',o[t].toString(),",")})),e.push("}");var t=tr(e).replace(/;/g,";\n").replace(/}/g,"}\n").replace(/{/g,"{\n");return Function.apply(null,n.concat(t)).apply(null,l)}return{global:u,link:i,block:r,proc:d,scope:a,cond:c,compile:s}}var lr="xyzw".split(""),ir=5121,rr=1,ar=2,cr=0,ur=1,or=2,dr=3,sr=4,mr=5,br=6,Zr="dither",pr="blend.enable",hr="blend.color",yr="blend.equation",fr="blend.func",Vr="depth.enable",Xr="depth.func",Wr="depth.range",Gr="depth.mask",Rr="colorMask",Sr="cull.enable",vr="cull.face",Lr="frontFace",Yr="lineWidth",Jr="polygonOffset.enable",xr="polygonOffset.offset",gr="sample.alpha",Hr="sample.enable",Ur="sample.coverage",Ir="stencil.enable",Kr="stencil.mask",Nr="stencil.func",kr="stencil.opFront",Br="stencil.opBack",Fr="scissor.enable",Tr="scissor.box",_r="viewport",wr="profile",Cr="framebuffer",jr="vert",zr="frag",Qr="elements",Mr="primitive",Pr="count",Er="offset",Or="instances",Dr="vao",Ar="Width",qr="Height",$r=Cr+Ar,ea=Cr+qr,ta=_r+Ar,na=_r+qr,la="drawingBuffer",ia=la+Ar,ra=la+qr,aa=[fr,yr,Nr,kr,Br,Ur,_r,Tr,xr],ca=34962,ua=34963,oa=3553,da=34067,sa=2884,ma=3042,ba=3024,Za=2960,pa=2929,ha=3089,ya=32823,fa=32926,Va=32928,Xa=5126,Wa=35664,Ga=35665,Ra=35666,Sa=5124,va=35667,La=35668,Ya=35669,Ja=35670,xa=35671,ga=35672,Ha=35673,Ua=35674,Ia=35675,Ka=35676,Na=35678,ka=35680,Ba=4,Fa=1028,Ta=1029,_a=2304,wa=2305,Ca=32775,ja=32776,za=519,Qa=7680,Ma=0,Pa=1,Ea=32774,Oa=513,Da=36160,Aa=36064,qa={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},$a=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],ec={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},tc={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},nc={frag:35632,vert:35633},lc={cw:_a,ccw:wa};function ic(t){return Array.isArray(t)||e(t)||Rt(t)}function rc(e){return e.sort((function(e,t){return e===_r?-1:t===_r?1:e<t?-1:1}))}function ac(e,t,n,l){this.thisDep=e,this.contextDep=t,this.propDep=n,this.append=l}function cc(e){return e&&!(e.thisDep||e.contextDep||e.propDep)}function uc(e){return new ac(!1,!1,!1,e)}function oc(e,t){var n=e.type;if(n===cr){var l=e.data.length;return new ac(!0,l>=1,l>=2,t)}if(n===sr){var i=e.data;return new ac(i.thisDep,i.contextDep,i.propDep,t)}if(n===mr)return new ac(!1,!1,!1,t);if(n===br){for(var r=!1,a=!1,c=!1,u=0;u<e.data.length;++u){var o=e.data[u];if(o.type===ur)c=!0;else if(o.type===or)a=!0;else if(o.type===dr)r=!0;else if(o.type===cr){r=!0;var d=o.data;d>=1&&(a=!0),d>=2&&(c=!0)}else o.type===sr&&(r=r||o.data.thisDep,a=a||o.data.contextDep,c=c||o.data.propDep)}return new ac(r,a,c,t)}return new ac(n===dr,n===or,n===ur,t)}var dc=new ac(!1,!1,!1,(function(){}));function sc(e,n,l,i,r,a,c,u,o,d,s,m,b,Z,p){var h=d.Record,y={add:32774,subtract:32778,"reverse subtract":32779};l.ext_blend_minmax&&(y.min=Ca,y.max=ja);var f=l.angle_instanced_arrays,V=l.webgl_draw_buffers,X=l.oes_vertex_array_object,W={dirty:!0,profile:p.profile},G={},R=[],S={},v={};function L(e){return e.replace(".","_")}function Y(e,t,n){var l=L(e);R.push(e),G[l]=W[l]=!!n,S[l]=t}function J(e,t,n){var l=L(e);R.push(e),Array.isArray(n)?(W[l]=n.slice(),G[l]=n.slice()):W[l]=G[l]=n,v[l]=t}Y(Zr,ba),Y(pr,ma),J(hr,"blendColor",[0,0,0,0]),J(yr,"blendEquationSeparate",[Ea,Ea]),J(fr,"blendFuncSeparate",[Pa,Ma,Pa,Ma]),Y(Vr,pa,!0),J(Xr,"depthFunc",Oa),J(Wr,"depthRange",[0,1]),J(Gr,"depthMask",!0),J(Rr,Rr,[!0,!0,!0,!0]),Y(Sr,sa),J(vr,"cullFace",Ta),J(Lr,Lr,wa),J(Yr,Yr,1),Y(Jr,ya),J(xr,"polygonOffset",[0,0]),Y(gr,fa),Y(Hr,Va),J(Ur,"sampleCoverage",[1,!1]),Y(Ir,Za),J(Kr,"stencilMask",-1),J(Nr,"stencilFunc",[za,0,-1]),J(kr,"stencilOpSeparate",[Fa,Qa,Qa,Qa]),J(Br,"stencilOpSeparate",[Ta,Qa,Qa,Qa]),Y(Fr,ha),J(Tr,"scissor",[0,0,e.drawingBufferWidth,e.drawingBufferHeight]),J(_r,_r,[0,0,e.drawingBufferWidth,e.drawingBufferHeight]);var x={gl:e,context:b,strings:n,next:G,current:W,draw:m,elements:a,buffer:r,shader:s,attributes:d.state,vao:d,uniforms:o,framebuffer:u,extensions:l,timer:Z,isBufferArgs:ic},g={primTypes:Mt,compareFuncs:ec,blendFuncs:qa,blendEquations:y,stencilOps:tc,glTypes:It,orientationType:lc};ne.optional((function(){x.isArrayLike=sn})),V&&(g.backBuffer=[Ta],g.drawBuffer=Le(i.maxDrawbuffers,(function(e){return 0===e?[0]:Le(e,(function(e){return Aa+e}))})));var H=0;function U(){var e=nr(),t=e.link,l=e.global;e.id=H++,e.batchId="0";var i=t(x),r=e.shared={props:"a0"};Object.keys(x).forEach((function(e){r[e]=l.def(i,".",e)})),ne.optional((function(){e.CHECK=t(ne),e.commandStr=ne.guessCommand(),e.command=t(e.commandStr),e.assert=function(e,n,l){e("if(!(",n,"))",this.CHECK,".commandRaise(",t(l),",",this.command,");")},g.invalidBlendCombinations=$a}));var a=e.next={},c=e.current={};Object.keys(v).forEach((function(e){Array.isArray(W[e])&&(a[e]=l.def(r.next,".",e),c[e]=l.def(r.current,".",e))}));var u=e.constants={};Object.keys(g).forEach((function(e){u[e]=l.def(JSON.stringify(g[e]))})),e.invoke=function(n,l){switch(l.type){case cr:var i=["this",r.context,r.props,e.batchId];return n.def(t(l.data),".call(",i.slice(0,Math.max(l.data.length+1,4)),")");case ur:return n.def(r.props,l.data);case or:return n.def(r.context,l.data);case dr:return n.def("this",l.data);case sr:return l.data.append(e,n),l.data.ref;case mr:return l.data.toString();case br:return l.data.map((function(t){return e.invoke(n,t)}))}},e.attribCache={};var o={};return e.scopeAttrib=function(e){var l=n.id(e);if(l in o)return o[l];var i=d.scope[l];return i||(i=d.scope[l]=new h),o[l]=t(i)},e}function I(e){var t,n=e.static,l=e.dynamic;if(wr in n){var i=!!n[wr];(t=uc((function(e,t){return i}))).enable=i}else if(wr in l){var r=l[wr];t=oc(r,(function(e,t){return e.invoke(t,r)}))}return t}function K(e,t){var n=e.static,l=e.dynamic;if(Cr in n){var i=n[Cr];return i?(i=u.getFramebuffer(i),ne.command(i,"invalid framebuffer object"),uc((function(e,t){var n=e.link(i),l=e.shared;t.set(l.framebuffer,".next",n);var r=l.context;return t.set(r,"."+$r,n+".width"),t.set(r,"."+ea,n+".height"),n}))):uc((function(e,t){var n=e.shared;t.set(n.framebuffer,".next","null");var l=n.context;return t.set(l,"."+$r,l+"."+ia),t.set(l,"."+ea,l+"."+ra),"null"}))}if(Cr in l){var r=l[Cr];return oc(r,(function(e,t){var n=e.invoke(t,r),l=e.shared,i=l.framebuffer,a=t.def(i,".getFramebuffer(",n,")");ne.optional((function(){e.assert(t,"!"+n+"||"+a,"invalid framebuffer object")})),t.set(i,".next",a);var c=l.context;return t.set(c,"."+$r,a+"?"+a+".width:"+c+"."+ia),t.set(c,"."+ea,a+"?"+a+".height:"+c+"."+ra),a}))}return null}function N(e,t,n){var l=e.static,i=e.dynamic;function r(e){if(e in l){var r=l[e];ne.commandType(r,"object","invalid "+e,n.commandStr);var a,c,u=!0,o=0|r.x,d=0|r.y;return"width"in r?(a=0|r.width,ne.command(a>=0,"invalid "+e,n.commandStr)):u=!1,"height"in r?(c=0|r.height,ne.command(c>=0,"invalid "+e,n.commandStr)):u=!1,new ac(!u&&t&&t.thisDep,!u&&t&&t.contextDep,!u&&t&&t.propDep,(function(e,t){var n=e.shared.context,l=a;"width"in r||(l=t.def(n,".",$r,"-",o));var i=c;return"height"in r||(i=t.def(n,".",ea,"-",d)),[o,d,l,i]}))}if(e in i){var s=i[e],m=oc(s,(function(t,n){var l=t.invoke(n,s);ne.optional((function(){t.assert(n,l+"&&typeof "+l+'==="object"',"invalid "+e)}));var i=t.shared.context,r=n.def(l,".x|0"),a=n.def(l,".y|0"),c=n.def('"width" in ',l,"?",l,".width|0:","(",i,".",$r,"-",r,")"),u=n.def('"height" in ',l,"?",l,".height|0:","(",i,".",ea,"-",a,")");return ne.optional((function(){t.assert(n,c+">=0&&"+u+">=0","invalid "+e)})),[r,a,c,u]}));return t&&(m.thisDep=m.thisDep||t.thisDep,m.contextDep=m.contextDep||t.contextDep,m.propDep=m.propDep||t.propDep),m}return t?new ac(t.thisDep,t.contextDep,t.propDep,(function(e,t){var n=e.shared.context;return[0,0,t.def(n,".",$r),t.def(n,".",ea)]})):null}var a=r(_r);if(a){var c=a;a=new ac(a.thisDep,a.contextDep,a.propDep,(function(e,t){var n=c.append(e,t),l=e.shared.context;return t.set(l,"."+ta,n[2]),t.set(l,"."+na,n[3]),n}))}return{viewport:a,scissor_box:r(Tr)}}function k(e,t){var n=e.static;if("string"==typeof n[zr]&&"string"==typeof n[jr]){if(Object.keys(t.dynamic).length>0)return null;var l=t.static,i=Object.keys(l);if(i.length>0&&"number"==typeof l[i[0]]){for(var r=[],a=0;a<i.length;++a)ne("number"==typeof l[i[a]],"must specify all vertex attribute locations when using vaos"),r.push([0|l[i[a]],i[a]]);return r}}return null}function B(e,t,l){var i=e.static,r=e.dynamic;function a(e){if(e in i){var t=n.id(i[e]);ne.optional((function(){s.shader(nc[e],t,ne.guessCommand())}));var l=uc((function(){return t}));return l.id=t,l}if(e in r){var a=r[e];return oc(a,(function(t,n){var l=t.invoke(n,a),i=n.def(t.shared.strings,".id(",l,")");return ne.optional((function(){n(t.shared.shader,".shader(",nc[e],",",i,",",t.command,");")})),i}))}return null}var c,u=a(zr),o=a(jr),d=null;return cc(u)&&cc(o)?(d=s.program(o.id,u.id,null,l),c=uc((function(e,t){return e.link(d)}))):c=new ac(u&&u.thisDep||o&&o.thisDep,u&&u.contextDep||o&&o.contextDep,u&&u.propDep||o&&o.propDep,(function(e,t){var n,l=e.shared.shader;n=u?u.append(e,t):t.def(l,".",zr);var i=l+".program("+(o?o.append(e,t):t.def(l,".",jr))+","+n;return ne.optional((function(){i+=","+e.command})),t.def(i+")")})),{frag:u,vert:o,progVar:c,program:d}}function F(e,t){var n=e.static,l=e.dynamic,i={},r=!1;function c(){if(Dr in n){var e=n[Dr];return null!==e&&null===d.getVAO(e)&&(e=d.createVAO(e)),r=!0,i.vao=e,uc((function(t){var n=d.getVAO(e);return n?t.link(n):"null"}))}if(Dr in l){r=!0;var t=l[Dr];return oc(t,(function(e,n){var l=e.invoke(n,t);return n.def(e.shared.vao+".getVAO("+l+")")}))}return null}var u=c(),o=!1;function s(){if(Qr in n){var e=n[Qr];if(i.elements=e,ic(e)){var c=i.elements=a.create(e,!0);e=a.getElements(c),o=!0}else e&&(e=a.getElements(e),o=!0,ne.command(e,"invalid elements",t.commandStr));var d=uc((function(t,n){if(e){var l=t.link(e);return t.ELEMENTS=l,l}return t.ELEMENTS=null,null}));return d.value=e,d}if(Qr in l){o=!0;var s=l[Qr];return oc(s,(function(e,t){var n=e.shared,l=n.isBufferArgs,i=n.elements,r=e.invoke(t,s),a=t.def("null"),c=t.def(l,"(",r,")"),u=e.cond(c).then(a,"=",i,".createStream(",r,");").else(a,"=",i,".getElements(",r,");");return ne.optional((function(){e.assert(u.else,"!"+r+"||"+a,"invalid elements")})),t.entry(u),t.exit(e.cond(c).then(i,".destroyStream(",a,");")),e.ELEMENTS=a,a}))}return r?new ac(u.thisDep,u.contextDep,u.propDep,(function(e,t){return t.def(e.shared.vao+".currentVAO?"+e.shared.elements+".getElements("+e.shared.vao+".currentVAO.elements):null")})):null}var m=s();function b(){if(Mr in n){var e=n[Mr];return i.primitive=e,ne.commandParameter(e,Mt,"invalid primitve",t.commandStr),uc((function(t,n){return Mt[e]}))}if(Mr in l){var a=l[Mr];return oc(a,(function(e,t){var n=e.constants.primTypes,l=e.invoke(t,a);return ne.optional((function(){e.assert(t,l+" in "+n,"invalid primitive, must be one of "+Object.keys(Mt))})),t.def(n,"[",l,"]")}))}return o?cc(m)?m.value?uc((function(e,t){return t.def(e.ELEMENTS,".primType")})):uc((function(){return Ba})):new ac(m.thisDep,m.contextDep,m.propDep,(function(e,t){var n=e.ELEMENTS;return t.def(n,"?",n,".primType:",Ba)})):r?new ac(u.thisDep,u.contextDep,u.propDep,(function(e,t){return t.def(e.shared.vao+".currentVAO?"+e.shared.vao+".currentVAO.primitive:"+Ba)})):null}function Z(e,a){if(e in n){var c=0|n[e];return a?i.offset=c:i.instances=c,ne.command(!a||c>=0,"invalid "+e,t.commandStr),uc((function(e,t){return a&&(e.OFFSET=c),c}))}if(e in l){var d=l[e];return oc(d,(function(t,n){var l=t.invoke(n,d);return a&&(t.OFFSET=l,ne.optional((function(){t.assert(n,l+">=0","invalid "+e)}))),l}))}if(a){if(o)return uc((function(e,t){return e.OFFSET=0,0}));if(r)return new ac(u.thisDep,u.contextDep,u.propDep,(function(e,t){return t.def(e.shared.vao+".currentVAO?"+e.shared.vao+".currentVAO.offset:0")}))}else if(r)return new ac(u.thisDep,u.contextDep,u.propDep,(function(e,t){return t.def(e.shared.vao+".currentVAO?"+e.shared.vao+".currentVAO.instances:-1")}));return null}var p=Z(Er,!0);function h(){if(Pr in n){var e=0|n[Pr];return i.count=e,ne.command("number"==typeof e&&e>=0,"invalid vertex count",t.commandStr),uc((function(){return e}))}if(Pr in l){var a=l[Pr];return oc(a,(function(e,t){var n=e.invoke(t,a);return ne.optional((function(){e.assert(t,"typeof "+n+'==="number"&&'+n+">=0&&"+n+"===("+n+"|0)","invalid vertex count")})),n}))}if(o){if(cc(m)){if(m)return p?new ac(p.thisDep,p.contextDep,p.propDep,(function(e,t){var n=t.def(e.ELEMENTS,".vertCount-",e.OFFSET);return ne.optional((function(){e.assert(t,n+">=0","invalid vertex offset/element buffer too small")})),n})):uc((function(e,t){return t.def(e.ELEMENTS,".vertCount")}));var c=uc((function(){return-1}));return ne.optional((function(){c.MISSING=!0})),c}var d=new ac(m.thisDep||p.thisDep,m.contextDep||p.contextDep,m.propDep||p.propDep,(function(e,t){var n=e.ELEMENTS;return e.OFFSET?t.def(n,"?",n,".vertCount-",e.OFFSET,":-1"):t.def(n,"?",n,".vertCount:-1")}));return ne.optional((function(){d.DYNAMIC=!0})),d}return r?new ac(u.thisDep,u.contextDep,u.propDep,(function(e,t){return t.def(e.shared.vao,".currentVAO?",e.shared.vao,".currentVAO.count:-1")})):null}var y=b(),f=h(),V=Z(Or,!1);return{elements:m,primitive:y,count:f,instances:V,offset:p,vao:u,vaoActive:r,elementsActive:o,static:i}}function T(e,t){var n=e.static,l=e.dynamic,r={};return R.forEach((function(e){var a=L(e);function c(t,i){if(e in n){var c=t(n[e]);r[a]=uc((function(){return c}))}else if(e in l){var u=l[e];r[a]=oc(u,(function(e,t){return i(e,t,e.invoke(t,u))}))}}switch(e){case Sr:case pr:case Zr:case Ir:case Vr:case Fr:case Jr:case gr:case Hr:case Gr:return c((function(n){return ne.commandType(n,"boolean",e,t.commandStr),n}),(function(t,n,l){return ne.optional((function(){t.assert(n,"typeof "+l+'==="boolean"',"invalid flag "+e,t.commandStr)})),l}));case Xr:return c((function(n){return ne.commandParameter(n,ec,"invalid "+e,t.commandStr),ec[n]}),(function(t,n,l){var i=t.constants.compareFuncs;return ne.optional((function(){t.assert(n,l+" in "+i,"invalid "+e+", must be one of "+Object.keys(ec))})),n.def(i,"[",l,"]")}));case Wr:return c((function(e){return ne.command(sn(e)&&2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]&&e[0]<=e[1],"depth range is 2d array",t.commandStr),e}),(function(e,t,n){return ne.optional((function(){e.assert(t,e.shared.isArrayLike+"("+n+")&&"+n+".length===2&&typeof "+n+'[0]==="number"&&typeof '+n+'[1]==="number"&&'+n+"[0]<="+n+"[1]","depth range must be a 2d array")})),[t.def("+",n,"[0]"),t.def("+",n,"[1]")]}));case fr:return c((function(e){ne.commandType(e,"object","blend.func",t.commandStr);var n="srcRGB"in e?e.srcRGB:e.src,l="srcAlpha"in e?e.srcAlpha:e.src,i="dstRGB"in e?e.dstRGB:e.dst,r="dstAlpha"in e?e.dstAlpha:e.dst;return ne.commandParameter(n,qa,a+".srcRGB",t.commandStr),ne.commandParameter(l,qa,a+".srcAlpha",t.commandStr),ne.commandParameter(i,qa,a+".dstRGB",t.commandStr),ne.commandParameter(r,qa,a+".dstAlpha",t.commandStr),ne.command(-1===$a.indexOf(n+", "+i),"unallowed blending combination (srcRGB, dstRGB) = ("+n+", "+i+")",t.commandStr),[qa[n],qa[i],qa[l],qa[r]]}),(function(t,n,l){var i=t.constants.blendFuncs;function r(r,a){var c=n.def('"',r,a,'" in ',l,"?",l,".",r,a,":",l,".",r);return ne.optional((function(){t.assert(n,c+" in "+i,"invalid "+e+"."+r+a+", must be one of "+Object.keys(qa))})),c}ne.optional((function(){t.assert(n,l+"&&typeof "+l+'==="object"',"invalid blend func, must be an object")}));var a=r("src","RGB"),c=r("dst","RGB");ne.optional((function(){var e=t.constants.invalidBlendCombinations;t.assert(n,e+".indexOf("+a+'+", "+'+c+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")}));var u=n.def(i,"[",a,"]"),o=n.def(i,"[",r("src","Alpha"),"]");return[u,n.def(i,"[",c,"]"),o,n.def(i,"[",r("dst","Alpha"),"]")]}));case yr:return c((function(n){return"string"==typeof n?(ne.commandParameter(n,y,"invalid "+e,t.commandStr),[y[n],y[n]]):"object"==typeof n?(ne.commandParameter(n.rgb,y,e+".rgb",t.commandStr),ne.commandParameter(n.alpha,y,e+".alpha",t.commandStr),[y[n.rgb],y[n.alpha]]):void ne.commandRaise("invalid blend.equation",t.commandStr)}),(function(t,n,l){var i=t.constants.blendEquations,r=n.def(),a=n.def(),c=t.cond("typeof ",l,'==="string"');return ne.optional((function(){function n(e,n,l){t.assert(e,l+" in "+i,"invalid "+n+", must be one of "+Object.keys(y))}n(c.then,e,l),t.assert(c.else,l+"&&typeof "+l+'==="object"',"invalid "+e),n(c.else,e+".rgb",l+".rgb"),n(c.else,e+".alpha",l+".alpha")})),c.then(r,"=",a,"=",i,"[",l,"];"),c.else(r,"=",i,"[",l,".rgb];",a,"=",i,"[",l,".alpha];"),n(c),[r,a]}));case hr:return c((function(e){return ne.command(sn(e)&&4===e.length,"blend.color must be a 4d array",t.commandStr),Le(4,(function(t){return+e[t]}))}),(function(e,t,n){return ne.optional((function(){e.assert(t,e.shared.isArrayLike+"("+n+")&&"+n+".length===4","blend.color must be a 4d array")})),Le(4,(function(e){return t.def("+",n,"[",e,"]")}))}));case Kr:return c((function(e){return ne.commandType(e,"number",a,t.commandStr),0|e}),(function(e,t,n){return ne.optional((function(){e.assert(t,"typeof "+n+'==="number"',"invalid stencil.mask")})),t.def(n,"|0")}));case Nr:return c((function(n){ne.commandType(n,"object",a,t.commandStr);var l=n.cmp||"keep",i=n.ref||0,r="mask"in n?n.mask:-1;return ne.commandParameter(l,ec,e+".cmp",t.commandStr),ne.commandType(i,"number",e+".ref",t.commandStr),ne.commandType(r,"number",e+".mask",t.commandStr),[ec[l],i,r]}),(function(e,t,n){var l=e.constants.compareFuncs;return ne.optional((function(){function i(){e.assert(t,Array.prototype.join.call(arguments,""),"invalid stencil.func")}i(n+"&&typeof ",n,'==="object"'),i('!("cmp" in ',n,")||(",n,".cmp in ",l,")")})),[t.def('"cmp" in ',n,"?",l,"[",n,".cmp]",":",Qa),t.def(n,".ref|0"),t.def('"mask" in ',n,"?",n,".mask|0:-1")]}));case kr:case Br:return c((function(n){ne.commandType(n,"object",a,t.commandStr);var l=n.fail||"keep",i=n.zfail||"keep",r=n.zpass||"keep";return ne.commandParameter(l,tc,e+".fail",t.commandStr),ne.commandParameter(i,tc,e+".zfail",t.commandStr),ne.commandParameter(r,tc,e+".zpass",t.commandStr),[e===Br?Ta:Fa,tc[l],tc[i],tc[r]]}),(function(t,n,l){var i=t.constants.stencilOps;function r(r){return ne.optional((function(){t.assert(n,'!("'+r+'" in '+l+")||("+l+"."+r+" in "+i+")","invalid "+e+"."+r+", must be one of "+Object.keys(tc))})),n.def('"',r,'" in ',l,"?",i,"[",l,".",r,"]:",Qa)}return ne.optional((function(){t.assert(n,l+"&&typeof "+l+'==="object"',"invalid "+e)})),[e===Br?Ta:Fa,r("fail"),r("zfail"),r("zpass")]}));case xr:return c((function(e){ne.commandType(e,"object",a,t.commandStr);var n=0|e.factor,l=0|e.units;return ne.commandType(n,"number",a+".factor",t.commandStr),ne.commandType(l,"number",a+".units",t.commandStr),[n,l]}),(function(t,n,l){return ne.optional((function(){t.assert(n,l+"&&typeof "+l+'==="object"',"invalid "+e)})),[n.def(l,".factor|0"),n.def(l,".units|0")]}));case vr:return c((function(e){var n=0;return"front"===e?n=Fa:"back"===e&&(n=Ta),ne.command(!!n,a,t.commandStr),n}),(function(e,t,n){return ne.optional((function(){e.assert(t,n+'==="front"||'+n+'==="back"',"invalid cull.face")})),t.def(n,'==="front"?',Fa,":",Ta)}));case Yr:return c((function(e){return ne.command("number"==typeof e&&e>=i.lineWidthDims[0]&&e<=i.lineWidthDims[1],"invalid line width, must be a positive number between "+i.lineWidthDims[0]+" and "+i.lineWidthDims[1],t.commandStr),e}),(function(e,t,n){return ne.optional((function(){e.assert(t,"typeof "+n+'==="number"&&'+n+">="+i.lineWidthDims[0]+"&&"+n+"<="+i.lineWidthDims[1],"invalid line width")})),n}));case Lr:return c((function(e){return ne.commandParameter(e,lc,a,t.commandStr),lc[e]}),(function(e,t,n){return ne.optional((function(){e.assert(t,n+'==="cw"||'+n+'==="ccw"',"invalid frontFace, must be one of cw,ccw")})),t.def(n+'==="cw"?'+_a+":"+wa)}));case Rr:return c((function(e){return ne.command(sn(e)&&4===e.length,"color.mask must be length 4 array",t.commandStr),e.map((function(e){return!!e}))}),(function(e,t,n){return ne.optional((function(){e.assert(t,e.shared.isArrayLike+"("+n+")&&"+n+".length===4","invalid color.mask")})),Le(4,(function(e){return"!!"+n+"["+e+"]"}))}));case Ur:return c((function(e){ne.command("object"==typeof e&&e,a,t.commandStr);var n="value"in e?e.value:1,l=!!e.invert;return ne.command("number"==typeof n&&n>=0&&n<=1,"sample.coverage.value must be a number between 0 and 1",t.commandStr),[n,l]}),(function(e,t,n){return ne.optional((function(){e.assert(t,n+"&&typeof "+n+'==="object"',"invalid sample.coverage")})),[t.def('"value" in ',n,"?+",n,".value:1"),t.def("!!",n,".invert")]}))}})),r}function _(e,t){var n=e.static,l=e.dynamic,i={};return Object.keys(n).forEach((function(e){var l,r=n[e];if("number"==typeof r||"boolean"==typeof r)l=uc((function(){return r}));else if("function"==typeof r){var a=r._reglType;"texture2d"===a||"textureCube"===a?l=uc((function(e){return e.link(r)})):"framebuffer"===a||"framebufferCube"===a?(ne.command(r.color.length>0,'missing color attachment for framebuffer sent to uniform "'+e+'"',t.commandStr),l=uc((function(e){return e.link(r.color[0])}))):ne.commandRaise('invalid data for uniform "'+e+'"',t.commandStr)}else sn(r)?l=uc((function(t){return t.global.def("[",Le(r.length,(function(n){return ne.command("number"==typeof r[n]||"boolean"==typeof r[n],"invalid uniform "+e,t.commandStr),r[n]})),"]")})):ne.commandRaise('invalid or missing data for uniform "'+e+'"',t.commandStr);l.value=r,i[e]=l})),Object.keys(l).forEach((function(e){var t=l[e];i[e]=oc(t,(function(e,n){return e.invoke(n,t)}))})),i}function w(e,t){var l=e.static,i=e.dynamic,a={};return Object.keys(l).forEach((function(e){var i=l[e],c=n.id(e),u=new h;if(ic(i))u.state=rr,u.buffer=r.getBuffer(r.create(i,ca,!1,!0)),u.type=0;else{var o=r.getBuffer(i);if(o)u.state=rr,u.buffer=o,u.type=0;else if(ne.command("object"==typeof i&&i,"invalid data for attribute "+e,t.commandStr),"constant"in i){var d=i.constant;u.buffer="null",u.state=ar,"number"==typeof d?u.x=d:(ne.command(sn(d)&&d.length>0&&d.length<=4,"invalid constant for attribute "+e,t.commandStr),lr.forEach((function(e,t){t<d.length&&(u[e]=d[t])})))}else{o=ic(i.buffer)?r.getBuffer(r.create(i.buffer,ca,!1,!0)):r.getBuffer(i.buffer),ne.command(!!o,'missing buffer for attribute "'+e+'"',t.commandStr);var s=0|i.offset;ne.command(s>=0,'invalid offset for attribute "'+e+'"',t.commandStr);var m=0|i.stride;ne.command(m>=0&&m<256,'invalid stride for attribute "'+e+'", must be integer betweeen [0, 255]',t.commandStr);var b=0|i.size;ne.command(!("size"in i)||b>0&&b<=4,'invalid size for attribute "'+e+'", must be 1,2,3,4',t.commandStr);var Z=!!i.normalized,p=0;"type"in i&&(ne.commandParameter(i.type,It,"invalid type for attribute "+e,t.commandStr),p=It[i.type]);var y=0|i.divisor;ne.optional((function(){"divisor"in i&&(ne.command(0===y||f,'cannot specify divisor for attribute "'+e+'", instancing not supported',t.commandStr),ne.command(y>=0,'invalid divisor for attribute "'+e+'"',t.commandStr));var n=t.commandStr,l=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(i).forEach((function(t){ne.command(l.indexOf(t)>=0,'unknown parameter "'+t+'" for attribute pointer "'+e+'" (valid parameters are '+l+")",n)}))})),u.buffer=o,u.state=rr,u.size=b,u.normalized=Z,u.type=p||o.dtype,u.offset=s,u.stride=m,u.divisor=y}}a[e]=uc((function(e,t){var n=e.attribCache;if(c in n)return n[c];var l={isStream:!1};return Object.keys(u).forEach((function(e){l[e]=u[e]})),u.buffer&&(l.buffer=e.link(u.buffer),l.type=l.type||l.buffer+".dtype"),n[c]=l,l}))})),Object.keys(i).forEach((function(e){var t=i[e];function n(n,l){var i=n.invoke(l,t),r=n.shared,a=n.constants,c=r.isBufferArgs,u=r.buffer;ne.optional((function(){n.assert(l,i+"&&(typeof "+i+'==="object"||typeof '+i+'==="function")&&('+c+"("+i+")||"+u+".getBuffer("+i+")||"+u+".getBuffer("+i+".buffer)||"+c+"("+i+'.buffer)||("constant" in '+i+"&&(typeof "+i+'.constant==="number"||'+r.isArrayLike+"("+i+".constant))))",'invalid dynamic attribute "'+e+'"')}));var o={isStream:l.def(!1)},d=new h;d.state=rr,Object.keys(d).forEach((function(e){o[e]=l.def(""+d[e])}));var s=o.buffer,m=o.type;function b(e){l(o[e],"=",i,".",e,"|0;")}return l("if(",c,"(",i,")){",o.isStream,"=true;",s,"=",u,".createStream(",ca,",",i,");",m,"=",s,".dtype;","}else{",s,"=",u,".getBuffer(",i,");","if(",s,"){",m,"=",s,".dtype;",'}else if("constant" in ',i,"){",o.state,"=",ar,";","if(typeof "+i+'.constant === "number"){',o[lr[0]],"=",i,".constant;",lr.slice(1).map((function(e){return o[e]})).join("="),"=0;","}else{",lr.map((function(e,t){return o[e]+"="+i+".constant.length>"+t+"?"+i+".constant["+t+"]:0;"})).join(""),"}}else{","if(",c,"(",i,".buffer)){",s,"=",u,".createStream(",ca,",",i,".buffer);","}else{",s,"=",u,".getBuffer(",i,".buffer);","}",m,'="type" in ',i,"?",a.glTypes,"[",i,".type]:",s,".dtype;",o.normalized,"=!!",i,".normalized;"),b("size"),b("offset"),b("stride"),b("divisor"),l("}}"),l.exit("if(",o.isStream,"){",u,".destroyStream(",s,");","}"),o}a[e]=oc(t,n)})),a}function C(e){var t=e.static,n=e.dynamic,l={};return Object.keys(t).forEach((function(e){var n=t[e];l[e]=uc((function(e,t){return"number"==typeof n||"boolean"==typeof n?""+n:e.link(n)}))})),Object.keys(n).forEach((function(e){var t=n[e];l[e]=oc(t,(function(e,n){return e.invoke(n,t)}))})),l}function j(e,t,n,i,r){var a=e.static,c=e.dynamic;ne.optional((function(){var e=[Cr,jr,zr,Qr,Mr,Er,Pr,Or,wr,Dr].concat(R);function t(t){Object.keys(t).forEach((function(t){ne.command(e.indexOf(t)>=0,'unknown parameter "'+t+'"',r.commandStr)}))}t(a),t(c)}));var u=k(e,t),o=K(e),s=N(e,o,r),m=F(e,r),b=T(e,r),Z=B(e,r,u);function p(e){var t=s[e];t&&(b[e]=t)}p(_r),p(L(Tr));var h=Object.keys(b).length>0,y={framebuffer:o,draw:m,shader:Z,state:b,dirty:h,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(y.profile=I(e),y.uniforms=_(n,r),y.drawVAO=y.scopeVAO=m.vao,!y.drawVAO&&Z.program&&!u&&l.angle_instanced_arrays&&m.static.elements){var f=!0,V=Z.program.attributes.map((function(e){var n=t.static[e];return f=f&&!!n,n}));if(f&&V.length>0){var X=d.getVAO(d.createVAO({attributes:V,elements:m.static.elements}));y.drawVAO=new ac(null,null,null,(function(e,t){return e.link(X)})),y.useVAO=!0}}return u?y.useVAO=!0:y.attributes=w(t,r),y.context=C(i),y}function z(e,t,n){var l=e.shared.context,i=e.scope();Object.keys(n).forEach((function(r){t.save(l,"."+r);var a=n[r].append(e,t);Array.isArray(a)?i(l,".",r,"=[",a.join(),"];"):i(l,".",r,"=",a,";")})),t(i)}function Q(e,t,n,l){var i,r=e.shared,a=r.gl,c=r.framebuffer;V&&(i=t.def(r.extensions,".webgl_draw_buffers"));var u,o=e.constants,d=o.drawBuffer,s=o.backBuffer;u=n?n.append(e,t):t.def(c,".next"),l||t("if(",u,"!==",c,".cur){"),t("if(",u,"){",a,".bindFramebuffer(",Da,",",u,".framebuffer);"),V&&t(i,".drawBuffersWEBGL(",d,"[",u,".colorAttachments.length]);"),t("}else{",a,".bindFramebuffer(",Da,",null);"),V&&t(i,".drawBuffersWEBGL(",s,");"),t("}",c,".cur=",u,";"),l||t("}")}function M(e,t,n){var l=e.shared,i=l.gl,r=e.current,a=e.next,c=l.current,u=l.next,o=e.cond(c,".dirty");R.forEach((function(t){var l,d,s=L(t);if(!(s in n.state))if(s in a){l=a[s],d=r[s];var m=Le(W[s].length,(function(e){return o.def(l,"[",e,"]")}));o(e.cond(m.map((function(e,t){return e+"!=="+d+"["+t+"]"})).join("||")).then(i,".",v[s],"(",m,");",m.map((function(e,t){return d+"["+t+"]="+e})).join(";"),";"))}else{l=o.def(u,".",s);var b=e.cond(l,"!==",c,".",s);o(b),s in S?b(e.cond(l).then(i,".enable(",S[s],");").else(i,".disable(",S[s],");"),c,".",s,"=",l,";"):b(i,".",v[s],"(",l,");",c,".",s,"=",l,";")}})),0===Object.keys(n.state).length&&o(c,".dirty=false;"),t(o)}function P(e,t,n,l){var i=e.shared,r=e.current,a=i.current,c=i.gl;rc(Object.keys(n)).forEach((function(i){var u=n[i];if(!l||l(u)){var o=u.append(e,t);if(S[i]){var d=S[i];cc(u)?t(c,o?".enable(":".disable(",d,");"):t(e.cond(o).then(c,".enable(",d,");").else(c,".disable(",d,");")),t(a,".",i,"=",o,";")}else if(sn(o)){var s=r[i];t(c,".",v[i],"(",o,");",o.map((function(e,t){return s+"["+t+"]="+e})).join(";"),";")}else t(c,".",v[i],"(",o,");",a,".",i,"=",o,";")}}))}function E(e,t){f&&(e.instancing=t.def(e.shared.extensions,".angle_instanced_arrays"))}function O(e,t,n,l,i){var r,a,c,u=e.shared,o=e.stats,d=u.current,s=u.timer,m=n.profile;function b(){return"undefined"==typeof performance?"Date.now()":"performance.now()"}function p(e){e(r=t.def(),"=",b(),";"),"string"==typeof i?e(o,".count+=",i,";"):e(o,".count++;"),Z&&(l?e(a=t.def(),"=",s,".getNumPendingQueries();"):e(s,".beginQuery(",o,");"))}function h(e){e(o,".cpuTime+=",b(),"-",r,";"),Z&&(l?e(s,".pushScopeStats(",a,",",s,".getNumPendingQueries(),",o,");"):e(s,".endQuery();"))}function y(e){var n=t.def(d,".profile");t(d,".profile=",e,";"),t.exit(d,".profile=",n,";")}if(m){if(cc(m))return void(m.enable?(p(t),h(t.exit),y("true")):y("false"));y(c=m.append(e,t))}else c=t.def(d,".profile");var f=e.block();p(f),t("if(",c,"){",f,"}");var V=e.block();h(V),t.exit("if(",c,"){",V,"}")}function D(e,t,n,l,i){var r=e.shared;function a(e){switch(e){case Wa:case va:case xa:return 2;case Ga:case La:case ga:return 3;case Ra:case Ya:case Ha:return 4;default:return 1}}function c(n,l,i){var a=r.gl,c=t.def(n,".location"),u=t.def(r.attributes,"[",c,"]"),o=i.state,d=i.buffer,s=[i.x,i.y,i.z,i.w],m=["buffer","normalized","offset","stride"];function b(){t("if(!",u,".buffer){",a,".enableVertexAttribArray(",c,");}");var n,r=i.type;if(n=i.size?t.def(i.size,"||",l):l,t("if(",u,".type!==",r,"||",u,".size!==",n,"||",m.map((function(e){return u+"."+e+"!=="+i[e]})).join("||"),"){",a,".bindBuffer(",ca,",",d,".buffer);",a,".vertexAttribPointer(",[c,n,r,i.normalized,i.stride,i.offset],");",u,".type=",r,";",u,".size=",n,";",m.map((function(e){return u+"."+e+"="+i[e]+";"})).join(""),"}"),f){var o=i.divisor;t("if(",u,".divisor!==",o,"){",e.instancing,".vertexAttribDivisorANGLE(",[c,o],");",u,".divisor=",o,";}")}}function Z(){t("if(",u,".buffer){",a,".disableVertexAttribArray(",c,");",u,".buffer=null;","}if(",lr.map((function(e,t){return u+"."+e+"!=="+s[t]})).join("||"),"){",a,".vertexAttrib4f(",c,",",s,");",lr.map((function(e,t){return u+"."+e+"="+s[t]+";"})).join(""),"}")}o===rr?b():o===ar?Z():(t("if(",o,"===",rr,"){"),b(),t("}else{"),Z(),t("}"))}l.forEach((function(l){var r,u=l.name,o=n.attributes[u];if(o){if(!i(o))return;r=o.append(e,t)}else{if(!i(dc))return;var d=e.scopeAttrib(u);ne.optional((function(){e.assert(t,d+".state","missing attribute "+u)})),r={},Object.keys(new h).forEach((function(e){r[e]=t.def(d,".",e)}))}c(e.link(l),a(l.info.type),r)}))}function A(e,t,l,i,r,a){for(var c,u=e.shared,o=u.gl,d={},s=0;s<i.length;++s){var m=i[s],b=m.name,Z=m.info.type,p=m.info.size,h=l.uniforms[b];if(p>1){if(!h)continue;var y=b.replace("[0]","");if(d[y])continue;d[y]=1}var f,V=e.link(m)+".location";if(h){if(!r(h))continue;if(cc(h)){var X=h.value;if(ne.command(null!=X,'missing uniform "'+b+'"',e.commandStr),Z===Na||Z===ka){ne.command("function"==typeof X&&(Z===Na&&("texture2d"===X._reglType||"framebuffer"===X._reglType)||Z===ka&&("textureCube"===X._reglType||"framebufferCube"===X._reglType)),"invalid texture for uniform "+b,e.commandStr);var W=e.link(X._texture||X.color[0]._texture);t(o,".uniform1i(",V,",",W+".bind());"),t.exit(W,".unbind();")}else if(Z===Ua||Z===Ia||Z===Ka){ne.optional((function(){ne.command(sn(X),"invalid matrix for uniform "+b,e.commandStr),ne.command(Z===Ua&&4===X.length||Z===Ia&&9===X.length||Z===Ka&&16===X.length,"invalid length for matrix uniform "+b,e.commandStr)}));var G=e.global.def("new Float32Array(["+Array.prototype.slice.call(X)+"])"),R=2;Z===Ia?R=3:Z===Ka&&(R=4),t(o,".uniformMatrix",R,"fv(",V,",false,",G,");")}else{switch(Z){case Xa:1===p?ne.commandType(X,"number","uniform "+b,e.commandStr):ne.command(sn(X)&&X.length===p,"uniform "+b,e.commandStr),c="1f";break;case Wa:ne.command(sn(X)&&X.length&&X.length%2==0&&X.length<=2*p,"uniform "+b,e.commandStr),c="2f";break;case Ga:ne.command(sn(X)&&X.length&&X.length%3==0&&X.length<=3*p,"uniform "+b,e.commandStr),c="3f";break;case Ra:ne.command(sn(X)&&X.length&&X.length%4==0&&X.length<=4*p,"uniform "+b,e.commandStr),c="4f";break;case Ja:1===p?ne.commandType(X,"boolean","uniform "+b,e.commandStr):ne.command(sn(X)&&X.length===p,"uniform "+b,e.commandStr),c="1i";break;case Sa:1===p?ne.commandType(X,"number","uniform "+b,e.commandStr):ne.command(sn(X)&&X.length===p,"uniform "+b,e.commandStr),c="1i";break;case xa:case va:ne.command(sn(X)&&X.length&&X.length%2==0&&X.length<=2*p,"uniform "+b,e.commandStr),c="2i";break;case ga:case La:ne.command(sn(X)&&X.length&&X.length%3==0&&X.length<=3*p,"uniform "+b,e.commandStr),c="3i";break;case Ha:case Ya:ne.command(sn(X)&&X.length&&X.length%4==0&&X.length<=4*p,"uniform "+b,e.commandStr),c="4i"}p>1?(c+="v",X=e.global.def("["+Array.prototype.slice.call(X)+"]")):X=sn(X)?Array.prototype.slice.call(X):X,t(o,".uniform",c,"(",V,",",X,");")}continue}f=h.append(e,t)}else{if(!r(dc))continue;f=t.def(u.uniforms,"[",n.id(b),"]")}Z===Na?(ne(!Array.isArray(f),"must specify a scalar prop for textures"),t("if(",f,"&&",f,'._reglType==="framebuffer"){',f,"=",f,".color[0];","}")):Z===ka&&(ne(!Array.isArray(f),"must specify a scalar prop for cube maps"),t("if(",f,"&&",f,'._reglType==="framebufferCube"){',f,"=",f,".color[0];","}")),ne.optional((function(){function n(n,l){e.assert(t,n,'bad data or missing for uniform "'+b+'".  '+l)}function l(e,t){1===t&&ne(!Array.isArray(f),"must not specify an array type for uniform"),n("Array.isArray("+f+") && typeof "+f+'[0]===" '+e+'" || typeof '+f+'==="'+e+'"',"invalid type, expected "+e)}function i(t,l,i){Array.isArray(f)?ne(f.length&&f.length%t==0&&f.length<=t*i,"must have length of "+(1===i?"":"n * ")+t):n(u.isArrayLike+"("+f+")&&"+f+".length && "+f+".length % "+t+" === 0 && "+f+".length<="+t*i,"invalid vector, should have length of "+(1===i?"":"n * ")+t,e.commandStr)}function r(t){ne(!Array.isArray(f),"must not specify a value type"),n("typeof "+f+'==="function"&&'+f+'._reglType==="texture'+(t===oa?"2d":"Cube")+'"',"invalid texture type",e.commandStr)}switch(Z){case Sa:l("number",p);break;case va:i(2,"number",p);break;case La:i(3,"number",p);break;case Ya:i(4,"number",p);break;case Xa:l("number",p);break;case Wa:i(2,"number",p);break;case Ga:i(3,"number",p);break;case Ra:i(4,"number",p);break;case Ja:l("boolean",p);break;case xa:i(2,"boolean",p);break;case ga:i(3,"boolean",p);break;case Ha:i(4,"boolean",p);break;case Ua:i(4,"number",p);break;case Ia:i(9,"number",p);break;case Ka:i(16,"number",p);break;case Na:r(oa);break;case ka:r(da)}}));var S=1;switch(Z){case Na:case ka:var v=t.def(f,"._texture");t(o,".uniform1i(",V,",",v,".bind());"),t.exit(v,".unbind();");continue;case Sa:case Ja:c="1i";break;case va:case xa:c="2i",S=2;break;case La:case ga:c="3i",S=3;break;case Ya:case Ha:c="4i",S=4;break;case Xa:c="1f";break;case Wa:c="2f",S=2;break;case Ga:c="3f",S=3;break;case Ra:c="4f",S=4;break;case Ua:c="Matrix2fv";break;case Ia:c="Matrix3fv";break;case Ka:c="Matrix4fv"}if(-1===c.indexOf("Matrix")&&p>1&&(c+="v",S=1),"M"===c.charAt(0)){t(o,".uniform",c,"(",V,",");var L=Math.pow(Z-Ua+2,2),Y=e.global.def("new Float32Array(",L,")");Array.isArray(f)?t("false,(",Le(L,(function(e){return Y+"["+e+"]="+f[e]})),",",Y,")"):t("false,(Array.isArray(",f,")||",f," instanceof Float32Array)?",f,":(",Le(L,(function(e){return Y+"["+e+"]="+f+"["+e+"]"})),",",Y,")"),t(");")}else if(S>1){for(var J=[],x=[],g=0;g<S;++g)Array.isArray(f)?x.push(f[g]):x.push(t.def(f+"["+g+"]")),a&&J.push(t.def());a&&t("if(!",e.batchId,"||",J.map((function(e,t){return e+"!=="+x[t]})).join("||"),"){",J.map((function(e,t){return e+"="+x[t]+";"})).join("")),t(o,".uniform",c,"(",V,",",x.join(","),");"),a&&t("}")}else{if(ne(!Array.isArray(f),"uniform value must not be an array"),a){var H=t.def();t("if(!",e.batchId,"||",H,"!==",f,"){",H,"=",f,";")}t(o,".uniform",c,"(",V,",",f,");"),a&&t("}")}}}function q(e,t,n,l){var i=e.shared,r=i.gl,a=i.draw,c=l.draw;function u(){var u,o=c.elements,d=t;return o?((o.contextDep&&l.contextDynamic||o.propDep)&&(d=n),u=o.append(e,d),c.elementsActive&&d("if("+u+")"+r+".bindBuffer("+ua+","+u+".buffer.buffer);")):(u=d.def(),d(u,"=",a,".",Qr,";","if(",u,"){",r,".bindBuffer(",ua,",",u,".buffer.buffer);}","else if(",i.vao,".currentVAO){",u,"=",e.shared.elements+".getElements("+i.vao,".currentVAO.elements);",X?"":"if("+u+")"+r+".bindBuffer("+ua+","+u+".buffer.buffer);","}")),u}function o(){var i,r=c.count,u=t;return r?((r.contextDep&&l.contextDynamic||r.propDep)&&(u=n),i=r.append(e,u),ne.optional((function(){r.MISSING&&e.assert(t,"false","missing vertex count"),r.DYNAMIC&&e.assert(u,i+">=0","missing vertex count")}))):(i=u.def(a,".",Pr),ne.optional((function(){e.assert(u,i+">=0","missing vertex count")}))),i}var d=u();function s(i){var r=c[i];return r?r.contextDep&&l.contextDynamic||r.propDep?r.append(e,n):r.append(e,t):t.def(a,".",i)}var m,b,Z=s(Mr),p=s(Er),h=o();if("number"==typeof h){if(0===h)return}else n("if(",h,"){"),n.exit("}");f&&(m=s(Or),b=e.instancing);var y=d+".type",V=c.elements&&cc(c.elements)&&!c.vaoActive;function W(){function e(){n(b,".drawElementsInstancedANGLE(",[Z,h,y,p+"<<(("+y+"-"+ir+")>>1)",m],");")}function t(){n(b,".drawArraysInstancedANGLE(",[Z,p,h,m],");")}d&&"null"!==d?V?e():(n("if(",d,"){"),e(),n("}else{"),t(),n("}")):t()}function G(){function e(){n(r+".drawElements("+[Z,h,y,p+"<<(("+y+"-"+ir+")>>1)"]+");")}function t(){n(r+".drawArrays("+[Z,p,h]+");")}d&&"null"!==d?V?e():(n("if(",d,"){"),e(),n("}else{"),t(),n("}")):t()}f&&("number"!=typeof m||m>=0)?"string"==typeof m?(n("if(",m,">0){"),W(),n("}else if(",m,"<0){"),G(),n("}")):W():G()}function $(e,t,n,l,i){var r=U(),a=r.proc("body",i);return ne.optional((function(){r.commandStr=t.commandStr,r.command=r.link(t.commandStr)})),f&&(r.instancing=a.def(r.shared.extensions,".angle_instanced_arrays")),e(r,a,n,l),r.compile().body}function ee(e,t,n,l){E(e,t),n.useVAO?n.drawVAO?t(e.shared.vao,".setVAO(",n.drawVAO.append(e,t),");"):t(e.shared.vao,".setVAO(",e.shared.vao,".targetVAO);"):(t(e.shared.vao,".setVAO(null);"),D(e,t,n,l.attributes,(function(){return!0}))),A(e,t,n,l.uniforms,(function(){return!0}),!1),q(e,t,t,n)}function te(e,t){var n=e.proc("draw",1);E(e,n),z(e,n,t.context),Q(e,n,t.framebuffer),M(e,n,t),P(e,n,t.state),O(e,n,t,!1,!0);var l=t.shader.progVar.append(e,n);if(n(e.shared.gl,".useProgram(",l,".program);"),t.shader.program)ee(e,n,t,t.shader.program);else{n(e.shared.vao,".setVAO(null);");var i=e.global.def("{}"),r=n.def(l,".id"),a=n.def(i,"[",r,"]");n(e.cond(a).then(a,".call(this,a0);").else(a,"=",i,"[",r,"]=",e.link((function(n){return $(ee,e,t,n,1)})),"(",l,");",a,".call(this,a0);"))}Object.keys(t.state).length>0&&n(e.shared.current,".dirty=true;"),e.shared.vao&&n(e.shared.vao,".setVAO(null);")}function le(e,t,n,l){function i(){return!0}e.batchId="a1",E(e,t),D(e,t,n,l.attributes,i),A(e,t,n,l.uniforms,i,!1),q(e,t,t,n)}function ie(e,t,n,l){E(e,t);var i=n.contextDep,r=t.def(),a="a0",c="a1",u=t.def();e.shared.props=u,e.batchId=r;var o=e.scope(),d=e.scope();function s(e){return e.contextDep&&i||e.propDep}function m(e){return!s(e)}if(t(o.entry,"for(",r,"=0;",r,"<",c,";++",r,"){",u,"=",a,"[",r,"];",d,"}",o.exit),n.needsContext&&z(e,d,n.context),n.needsFramebuffer&&Q(e,d,n.framebuffer),P(e,d,n.state,s),n.profile&&s(n.profile)&&O(e,d,n,!1,!0),l)n.useVAO?n.drawVAO?s(n.drawVAO)?d(e.shared.vao,".setVAO(",n.drawVAO.append(e,d),");"):o(e.shared.vao,".setVAO(",n.drawVAO.append(e,o),");"):o(e.shared.vao,".setVAO(",e.shared.vao,".targetVAO);"):(o(e.shared.vao,".setVAO(null);"),D(e,o,n,l.attributes,m),D(e,d,n,l.attributes,s)),A(e,o,n,l.uniforms,m,!1),A(e,d,n,l.uniforms,s,!0),q(e,o,d,n);else{var b=e.global.def("{}"),Z=n.shader.progVar.append(e,d),p=d.def(Z,".id"),h=d.def(b,"[",p,"]");d(e.shared.gl,".useProgram(",Z,".program);","if(!",h,"){",h,"=",b,"[",p,"]=",e.link((function(t){return $(le,e,n,t,2)})),"(",Z,");}",h,".call(this,a0[",r,"],",r,");")}}function re(e,t){var n=e.proc("batch",2);e.batchId="0",E(e,n);var l=!1,i=!0;Object.keys(t.context).forEach((function(e){l=l||t.context[e].propDep})),l||(z(e,n,t.context),i=!1);var r=t.framebuffer,a=!1;function c(e){return e.contextDep&&l||e.propDep}r?(r.propDep?l=a=!0:r.contextDep&&l&&(a=!0),a||Q(e,n,r)):Q(e,n,null),t.state.viewport&&t.state.viewport.propDep&&(l=!0),M(e,n,t),P(e,n,t.state,(function(e){return!c(e)})),t.profile&&c(t.profile)||O(e,n,t,!1,"a1"),t.contextDep=l,t.needsContext=i,t.needsFramebuffer=a;var u=t.shader.progVar;if(u.contextDep&&l||u.propDep)ie(e,n,t,null);else{var o=u.append(e,n);if(n(e.shared.gl,".useProgram(",o,".program);"),t.shader.program)ie(e,n,t,t.shader.program);else{n(e.shared.vao,".setVAO(null);");var d=e.global.def("{}"),s=n.def(o,".id"),m=n.def(d,"[",s,"]");n(e.cond(m).then(m,".call(this,a0,a1);").else(m,"=",d,"[",s,"]=",e.link((function(n){return $(ie,e,t,n,2)})),"(",o,");",m,".call(this,a0,a1);"))}}Object.keys(t.state).length>0&&n(e.shared.current,".dirty=true;"),e.shared.vao&&n(e.shared.vao,".setVAO(null);")}function ae(e,t){var l=e.proc("scope",3);e.batchId="a2";var i=e.shared,r=i.current;function a(n){var r=t.shader[n];r&&l.set(i.shader,"."+n,r.append(e,l))}z(e,l,t.context),t.framebuffer&&t.framebuffer.append(e,l),rc(Object.keys(t.state)).forEach((function(n){var r=t.state[n].append(e,l);sn(r)?r.forEach((function(t,i){l.set(e.next[n],"["+i+"]",t)})):l.set(i.next,"."+n,r)})),O(e,l,t,!0,!0),[Qr,Er,Pr,Or,Mr].forEach((function(n){var r=t.draw[n];r&&l.set(i.draw,"."+n,""+r.append(e,l))})),Object.keys(t.uniforms).forEach((function(r){var a=t.uniforms[r].append(e,l);Array.isArray(a)&&(a="["+a.join()+"]"),l.set(i.uniforms,"["+n.id(r)+"]",a)})),Object.keys(t.attributes).forEach((function(n){var i=t.attributes[n].append(e,l),r=e.scopeAttrib(n);Object.keys(new h).forEach((function(e){l.set(r,"."+e,i[e])}))})),t.scopeVAO&&l.set(i.vao,".targetVAO",t.scopeVAO.append(e,l)),a(jr),a(zr),Object.keys(t.state).length>0&&(l(r,".dirty=true;"),l.exit(r,".dirty=true;")),l("a1(",e.shared.context,",a0,",e.batchId,");")}function ce(e){if("object"==typeof e&&!sn(e)){for(var t=Object.keys(e),n=0;n<t.length;++n)if(Ze.isDynamic(e[t[n]]))return!0;return!1}}function ue(e,t,n){var l=t.static[n];if(l&&ce(l)){var i=e.global,r=Object.keys(l),a=!1,c=!1,u=!1,o=e.global.def("{}");r.forEach((function(t){var n=l[t];if(Ze.isDynamic(n)){"function"==typeof n&&(n=l[t]=Ze.unbox(n));var r=oc(n,null);a=a||r.thisDep,u=u||r.propDep,c=c||r.contextDep}else{switch(i(o,".",t,"="),typeof n){case"number":i(n);break;case"string":i('"',n,'"');break;case"object":Array.isArray(n)&&i("[",n.join(),"]");break;default:i(e.link(n))}i(";")}})),t.dynamic[n]=new Ze.DynamicVariable(sr,{thisDep:a,contextDep:c,propDep:u,ref:o,append:d}),delete t.static[n]}function d(e,t){r.forEach((function(n){var i=l[n];if(Ze.isDynamic(i)){var r=e.invoke(t,i);t(o,".",n,"=",r,";")}}))}}function oe(e,n,l,i,r){var a=U();a.stats=a.link(r),Object.keys(n.static).forEach((function(e){ue(a,n,e)})),aa.forEach((function(t){ue(a,e,t)}));var c=j(e,n,l,i,a);return te(a,c),ae(a,c),re(a,c),t(a.compile(),{destroy:function(){c.shader.program.destroy()}})}return{next:G,current:W,procs:function(){var e=U(),t=e.proc("poll"),n=e.proc("refresh"),r=e.block();t(r),n(r);var a,c=e.shared,u=c.gl,o=c.next,d=c.current;r(d,".dirty=false;"),Q(e,t),Q(e,n,null,!0),f&&(a=e.link(f)),l.oes_vertex_array_object&&n(e.link(l.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var s=0;s<i.maxAttributes;++s){var m=n.def(c.attributes,"[",s,"]"),b=e.cond(m,".buffer");b.then(u,".enableVertexAttribArray(",s,");",u,".bindBuffer(",ca,",",m,".buffer.buffer);",u,".vertexAttribPointer(",s,",",m,".size,",m,".type,",m,".normalized,",m,".stride,",m,".offset);").else(u,".disableVertexAttribArray(",s,");",u,".vertexAttrib4f(",s,",",m,".x,",m,".y,",m,".z,",m,".w);",m,".buffer=null;"),n(b),f&&n(a,".vertexAttribDivisorANGLE(",s,",",m,".divisor);")}return n(e.shared.vao,".currentVAO=null;",e.shared.vao,".setVAO(",e.shared.vao,".targetVAO);"),Object.keys(S).forEach((function(l){var i=S[l],a=r.def(o,".",l),c=e.block();c("if(",a,"){",u,".enable(",i,")}else{",u,".disable(",i,")}",d,".",l,"=",a,";"),n(c),t("if(",a,"!==",d,".",l,"){",c,"}")})),Object.keys(v).forEach((function(l){var i,a,c=v[l],s=W[l],m=e.block();if(m(u,".",c,"("),sn(s)){var b=s.length;i=e.global.def(o,".",l),a=e.global.def(d,".",l),m(Le(b,(function(e){return i+"["+e+"]"})),");",Le(b,(function(e){return a+"["+e+"]="+i+"["+e+"];"})).join("")),t("if(",Le(b,(function(e){return i+"["+e+"]!=="+a+"["+e+"]"})).join("||"),"){",m,"}")}else i=r.def(o,".",l),a=r.def(d,".",l),m(i,");",d,".",l,"=",i,";"),t("if(",i,"!==",a,"){",m,"}");n(m)})),e.compile()}(),compile:oe}}function mc(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var bc=34918,Zc=34919,pc=35007,hc=function(e,t){if(!t.ext_disjoint_timer_query)return null;var n=[];function l(){return n.pop()||t.ext_disjoint_timer_query.createQueryEXT()}function i(e){n.push(e)}var r=[];function a(e){var n=l();t.ext_disjoint_timer_query.beginQueryEXT(pc,n),r.push(n),b(r.length-1,r.length,e)}function c(){t.ext_disjoint_timer_query.endQueryEXT(pc)}function u(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var o=[];function d(){return o.pop()||new u}function s(e){o.push(e)}var m=[];function b(e,t,n){var l=d();l.startQueryIndex=e,l.endQueryIndex=t,l.sum=0,l.stats=n,m.push(l)}var Z=[],p=[];function h(){var e,n,l=r.length;if(0!==l){p.length=Math.max(p.length,l+1),Z.length=Math.max(Z.length,l+1),Z[0]=0,p[0]=0;var a=0;for(e=0,n=0;n<r.length;++n){var c=r[n];t.ext_disjoint_timer_query.getQueryObjectEXT(c,Zc)?(a+=t.ext_disjoint_timer_query.getQueryObjectEXT(c,bc),i(c)):r[e++]=c,Z[n+1]=a,p[n+1]=e}for(r.length=e,e=0,n=0;n<m.length;++n){var u=m[n],o=u.startQueryIndex,d=u.endQueryIndex;u.sum+=Z[d]-Z[o];var b=p[o],h=p[d];h===b?(u.stats.gpuTime+=u.sum/1e6,s(u)):(u.startQueryIndex=b,u.endQueryIndex=h,m[e++]=u)}m.length=e}}return{beginQuery:a,endQuery:c,pushScopeStats:b,update:h,getNumPendingQueries:function(){return r.length},clear:function(){n.push.apply(n,r);for(var e=0;e<n.length;e++)t.ext_disjoint_timer_query.deleteQueryEXT(n[e]);r.length=0,n.length=0},restore:function(){r.length=0,n.length=0}}},yc=16384,fc=256,Vc=1024,Xc=34962,Wc="webglcontextlost",Gc="webglcontextrestored",Rc=1,Sc=2,vc=3;function Lc(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}function Yc(e){var n=Se(e);if(!n)return null;var l=n.gl,i=l.getContextAttributes(),r=l.isContextLost(),a=ve(l,n);if(!a)return null;var c=ye(),u=mc(),o=a.extensions,d=hc(l,o),s=he(),m=l.drawingBufferWidth,b=l.drawingBufferHeight,Z={tick:0,time:0,viewportWidth:m,viewportHeight:b,framebufferWidth:m,framebufferHeight:b,drawingBufferWidth:m,drawingBufferHeight:b,pixelRatio:n.pixelRatio},p={},h={elements:null,primitive:4,count:-1,offset:0,instances:-1},y=Gt(l,o),f=Qt(l,u,n,W),V=an(l,o,f,u),X=ji(l,o,y,u,f,V,h);function W(e){return X.destroyBuffer(e)}var G=Ei(l,c,u,n),R=Ol(l,o,y,(function(){L.procs.poll()}),Z,u,n),S=oi(l,o,y,u,n),v=Bi(l,o,y,R,S,u),L=sc(l,c,o,y,f,V,R,v,p,X,G,h,Z,d,n),Y=$i(l,v,L.procs.poll,Z,i,o,y),J=L.next,x=l.canvas,g=[],H=[],U=[],I=[n.onDestroy],K=null;function N(){if(0===g.length)return d&&d.update(),void(K=null);K=pe.next(N),P();for(var e=g.length-1;e>=0;--e){var t=g[e];t&&t(Z,null,0)}l.flush(),d&&d.update()}function k(){!K&&g.length>0&&(K=pe.next(N))}function B(){K&&(pe.cancel(N),K=null)}function F(e){e.preventDefault(),r=!0,B(),H.forEach((function(e){e()}))}function T(e){l.getError(),r=!1,a.restore(),G.restore(),f.restore(),R.restore(),S.restore(),v.restore(),X.restore(),d&&d.restore(),L.procs.refresh(),k(),U.forEach((function(e){e()}))}function _(){g.length=0,B(),x&&(x.removeEventListener(Wc,F),x.removeEventListener(Gc,T)),G.clear(),v.clear(),S.clear(),X.clear(),R.clear(),V.clear(),f.clear(),d&&d.clear(),I.forEach((function(e){e()}))}function w(e){function n(e){var n=t({},e);function l(e){if(e in n){var t=n[e];delete n[e],Object.keys(t).forEach((function(l){n[e+"."+l]=t[l]}))}}return delete n.uniforms,delete n.attributes,delete n.context,delete n.vao,"stencil"in n&&n.stencil.op&&(n.stencil.opBack=n.stencil.opFront=n.stencil.op,delete n.stencil.op),l("blend"),l("depth"),l("cull"),l("stencil"),l("polygonOffset"),l("scissor"),l("sample"),"vao"in e&&(n.vao=e.vao),n}function l(e,t){var n={},l={};return Object.keys(e).forEach((function(i){var r=e[i];if(Ze.isDynamic(r))l[i]=Ze.unbox(r,i);else{if(t&&Array.isArray(r))for(var a=0;a<r.length;++a)if(Ze.isDynamic(r[a]))return void(l[i]=Ze.unbox(r,i));n[i]=r}})),{dynamic:l,static:n}}ne(!!e,"invalid args to regl({...})"),ne.type(e,"object","invalid args to regl({...})");var i=l(e.context||{},!0),a=l(e.uniforms||{},!0),c=l(e.attributes||{},!1),u=l(n(e),!1),o={gpuTime:0,cpuTime:0,count:0},d=L.compile(u,c,a,i,o),s=d.draw,m=d.batch,b=d.scope,Z=[];function p(e){for(;Z.length<e;)Z.push(null);return Z}function h(e,t){var n;if(r&&ne.raise("context lost"),"function"==typeof e)return b.call(this,null,e,0);if("function"==typeof t)if("number"==typeof e)for(n=0;n<e;++n)b.call(this,null,t,n);else{if(!Array.isArray(e))return b.call(this,e,t,0);for(n=0;n<e.length;++n)b.call(this,e[n],t,n)}else if("number"==typeof e){if(e>0)return m.call(this,p(0|e),0|e)}else{if(!Array.isArray(e))return s.call(this,e);if(e.length)return m.call(this,e,e.length)}}return t(h,{stats:o,destroy:function(){d.destroy()}})}x&&(x.addEventListener(Wc,F,!1),x.addEventListener(Gc,T,!1));var C=v.setFBO=w({framebuffer:Ze.define.call(null,Rc,"framebuffer")});function j(e,t){var n=0;L.procs.poll();var i=t.color;i&&(l.clearColor(+i[0]||0,+i[1]||0,+i[2]||0,+i[3]||0),n|=yc),"depth"in t&&(l.clearDepth(+t.depth),n|=fc),"stencil"in t&&(l.clearStencil(0|t.stencil),n|=Vc),ne(!!n,"called regl.clear with no buffer specified"),l.clear(n)}function z(e){if(ne("object"==typeof e&&e,"regl.clear() takes an object as input"),"framebuffer"in e)if(e.framebuffer&&"framebufferCube"===e.framebuffer_reglType)for(var n=0;n<6;++n)C(t({framebuffer:e.framebuffer.faces[n]},e),j);else C(e,j);else j(null,e)}function Q(e){function t(){var t=Lc(g,e);function n(){var e=Lc(g,n);g[e]=g[g.length-1],g.length-=1,g.length<=0&&B()}ne(t>=0,"cannot cancel a frame twice"),g[t]=n}return ne.type(e,"function","regl.frame() callback must be a function"),g.push(e),k(),{cancel:t}}function M(){var e=J.viewport,t=J.scissor_box;e[0]=e[1]=t[0]=t[1]=0,Z.viewportWidth=Z.framebufferWidth=Z.drawingBufferWidth=e[2]=t[2]=l.drawingBufferWidth,Z.viewportHeight=Z.framebufferHeight=Z.drawingBufferHeight=e[3]=t[3]=l.drawingBufferHeight}function P(){Z.tick+=1,Z.time=O(),M(),L.procs.poll()}function E(){R.refresh(),M(),L.procs.refresh(),d&&d.update()}function O(){return(he()-s)/1e3}function D(e,t){var n;switch(ne.type(t,"function","listener callback must be a function"),e){case"frame":return Q(t);case"lost":n=H;break;case"restore":n=U;break;case"destroy":n=I;break;default:ne.raise("invalid event, must be one of frame,lost,restore,destroy")}return n.push(t),{cancel:function(){for(var e=0;e<n.length;++e)if(n[e]===t)return n[e]=n[n.length-1],void n.pop()}}}E();var A=t(w,{clear:z,prop:Ze.define.bind(null,Rc),context:Ze.define.bind(null,Sc),this:Ze.define.bind(null,vc),draw:w({}),buffer:function(e){return f.create(e,Xc,!1,!1)},elements:function(e){return V.create(e,!1)},texture:R.create2D,cube:R.createCube,renderbuffer:S.create,framebuffer:v.create,framebufferCube:v.createCube,vao:X.createVAO,attributes:i,frame:Q,on:D,limits:y,hasExtension:function(e){return y.extensions.indexOf(e.toLowerCase())>=0},read:Y,destroy:_,_gl:l,_refresh:E,poll:function(){P(),d&&d.update()},now:O,stats:u});return n.onDone(null,A),A}return Yc}(),Qr=function(e,t,n,l){return Mr[0]=l,Mr[1]=n,Mr[2]=t,Mr[3]=e,Pr[0]},Mr=new Uint8Array(4),Pr=new Float32Array(Mr.buffer);function Er(e){for(var t=e.length/6|0,n=new Array(t),l=0;l<t;)n[l]="#"+e.slice(6*l,6*++l);return n}var Or=Er("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Dr=Er("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Ar=Er("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),qr=Er("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),$r=Er("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),ea=Er("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),ta=Er("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),na=Er("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),la=Er("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),ia=Er("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),ra=e=>Il(e[e.length-1]),aa=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Er),ca=ra(aa),ua=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Er),oa=ra(ua),da=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Er),sa=ra(da),ma=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Er),ba=ra(ma),Za=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Er),pa=ra(Za),ha=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Er),ya=ra(ha),fa=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Er),Va=ra(fa),Xa=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Er),Wa=ra(Xa),Ga=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Er),Ra=ra(Ga),Sa=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Er),va=ra(Sa),La=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Er),Ya=ra(La),Ja=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Er),xa=ra(Ja),ga=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Er),Ha=ra(ga),Ua=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Er),Ia=ra(Ua),Ka=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Er),Na=ra(Ka),ka=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Er),Ba=ra(ka),Fa=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Er),Ta=ra(Fa),_a=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Er),wa=ra(_a),Ca=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Er),ja=ra(Ca),za=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Er),Qa=ra(za),Ma=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Er),Pa=ra(Ma),Ea=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Er),Oa=ra(Ea),Da=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Er),Aa=ra(Da),qa=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Er),$a=ra(qa),ec=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Er),tc=ra(ec),nc=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Er),lc=ra(nc),ic=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Er),rc=ra(ic);var ac=ei(vl(300,.5,0),vl(-240,.5,1)),cc=ei(vl(-100,.75,.35),vl(80,1.5,.8)),uc=ei(vl(260,.75,.35),vl(80,1.5,.8)),oc=vl();var dc=rl(),sc=Math.PI/3,mc=2*Math.PI/3;function bc(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}var Zc=bc(Er("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),pc=bc(Er("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),hc=bc(Er("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),yc=bc(Er("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),fc=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",schemeCategory10:Or,schemeAccent:Dr,schemeDark2:Ar,schemePaired:qr,schemePastel1:$r,schemePastel2:ea,schemeSet1:ta,schemeSet2:na,schemeSet3:la,schemeTableau10:ia,interpolateBrBG:ca,schemeBrBG:aa,interpolatePRGn:oa,schemePRGn:ua,interpolatePiYG:sa,schemePiYG:da,interpolatePuOr:ba,schemePuOr:ma,interpolateRdBu:pa,schemeRdBu:Za,interpolateRdGy:ya,schemeRdGy:ha,interpolateRdYlBu:Va,schemeRdYlBu:fa,interpolateRdYlGn:Wa,schemeRdYlGn:Xa,interpolateSpectral:Ra,schemeSpectral:Ga,interpolateBuGn:va,schemeBuGn:Sa,interpolateBuPu:Ya,schemeBuPu:La,interpolateGnBu:xa,schemeGnBu:Ja,interpolateOrRd:Ha,schemeOrRd:ga,interpolatePuBuGn:Ia,schemePuBuGn:Ua,interpolatePuBu:Na,schemePuBu:Ka,interpolatePuRd:Ba,schemePuRd:ka,interpolateRdPu:Ta,schemeRdPu:Fa,interpolateYlGnBu:wa,schemeYlGnBu:_a,interpolateYlGn:ja,schemeYlGn:Ca,interpolateYlOrBr:Qa,schemeYlOrBr:za,interpolateYlOrRd:Pa,schemeYlOrRd:Ma,interpolateBlues:Oa,schemeBlues:Ea,interpolateGreens:Aa,schemeGreens:Da,interpolateGreys:$a,schemeGreys:qa,interpolatePurples:tc,schemePurples:ec,interpolateReds:lc,schemeReds:nc,interpolateOranges:rc,schemeOranges:ic,interpolateCividis:function(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-2710.57*e)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-67.37*e)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-2475.67*e)))))))+")"},interpolateCubehelixDefault:ac,interpolateRainbow:function(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return oc.h=360*e-100,oc.s=1.5-1.5*t,oc.l=.8-.9*t,oc+""},interpolateWarm:cc,interpolateCool:uc,interpolateSinebow:function(e){var t;return e=(.5-e)*Math.PI,dc.r=255*(t=Math.sin(e))*t,dc.g=255*(t=Math.sin(e+sc))*t,dc.b=255*(t=Math.sin(e+mc))*t,dc+""},interpolateTurbo:function(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-14825.05*e)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+707.56*e)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-6838.66*e)))))))+")"},interpolateViridis:Zc,interpolateMagma:pc,interpolateInferno:hc,interpolatePlasma:yc});const Vc={sqrt:function(){return Tr.apply(null,arguments).exponent(.5)},log:function e(){var t=Kr(ur()).domain([1,10]);return t.copy=function(){return cr(t,e()).base(t.base())},qi.apply(t,arguments),t},linear:Yr,literal:function e(t){var n;function l(e){return null==e||isNaN(e=+e)?n:e}return l.invert=l,l.domain=l.range=function(e){return arguments.length?(t=Array.from(e,tr),l):t.slice()},l.unknown=function(e){return arguments.length?(n=e,l):n},l.copy=function(){return e(t).unknown(n)},t=arguments.length?Array.from(t,tr):[0,1],Lr(l)}};function Xc(e){const t=new Uint8Array(16384);return t.set(e.flat()),t}function Wc(e){return Xc(Ke(4096).map((t=>{const n=rl(e(t/4096));return[n.r,n.g,n.b,255]})))}const Gc={white:Ke(4096).map((()=>[255,255,255,255]))},Rc={};for(const[DR,AR]of Object.entries(fc)){if(DR.startsWith("scheme")&&"string"==typeof AR[0]){const e=new Array(4096),t=AR.map((e=>{const t=rl(e);return[t.r,t.g,t.b,255]}));for(const l of Ke(4096))e[l]=t[l%AR.length];const n=DR.replace("scheme","").toLowerCase();Gc[n]=Xc(e),Rc[n]=AR}if(DR.startsWith("interpolate")){const e=DR.replace("interpolate","").toLowerCase();Gc[e]=Wc(AR),"rainbow"===e&&(Gc.shufbow=ke(Gc[e]))}}!function(){const e=["#E69F00","#CC79A7","#56B4E9","#009E73","#0072B2","#D55E00","#F0E442"],t=new Array(4096),n=e.map((e=>{const t=rl(e);return[t.r,t.g,t.b,255]}));for(const l of Ke(4096))t[l]=n[l%e.length];Gc.okabe=Xc(t),Rc.okabe=e}();const Sc={x:{field:"x",constant:1,range:[0,500],transform:"literal"},y:{field:"y",constant:1,range:[0,500],transform:"literal"},x0:{constant:0,range:[0,500],transform:"literal"},y0:{constant:0,range:[0,500],transform:"literal"},color:{constant:[1,1,1],range:Gc.white,transform:"linear"},jitter_radius:{constant:0,range:[0,1],transform:"linear"},jitter_speed:{constant:0,range:[.05,1],transform:"linear"},size:{constant:1.5,range:[.5,5],transform:"sqrt"},filter1:{constant:1,range:[0,1],transform:"linear"},filter2:{constant:1,range:[0,1],transform:"linear"}};class vc{constructor(e,t,n,l){this.label=e,this.scatterplot=t,this.regl=n,this._domain=this.default_domain,this._range=this.default_range,this._transform=Sc[e].transform,this.tileSet=l,this.needs_transitions=!0,this._domains={}}get default_val(){return 1}get texture_size(){return 4096}apply(e){return this.scale(this.value_for(e))}get transform(){return this._transform?this._transform:Sc[this.label].transform}get default_range(){return Sc[this.label].range}get scale(){return Vc[this.transform]().domain(this.domain).range(this.range)}get column(){return this.tileSet.table.getColumn(this.field)}get default_domain(){if(null==this.field)return[1,1];if(this._domains[this.field])return this._domains[this.field];if(!this.tileSet.table)return[1,1];const{column:e}=this;return e.type.dictionary?this._domains[this.field]=[0,this.texture_size-1]:this._domains[this.field]=We(e.toArray()),this._domains[this.field]}default_data(){return Array(this.texture_size).fill(this.default_val)}get domain(){return this._domain||this.default_domain}get range(){return this._range||this.default_range}get scale(){return Vc[this.transform]().domain(this.domain).range(this.range)}value_for(e){return e[this.field||this.partner.field]}get texture_buffer(){return this._texture_buffer||(this._texture_buffer=new Float32Array(this.texture_size),this._texture_buffer.set(this.default_data())),this._texture_buffer}get textures(){if(this._textures)return this._textures;this.texture_type=this.regl.hasExtension("OES_texture_float")?"float":this.regl.hasExtension("OES_texture_half_float")?"half float":"uint8",this.texture_format="uint8"===this.texture_type?"rgba":"alpha";const e={width:1,height:this.texture_size,type:this.texture_type,format:this.texture_format,data:this.default_data()};return this._textures={one_d:this.regl.texture(e)},this._textures}key(){return this.field+this.domain+this.range+this.transform}post_to_regl_buffer(e){this.textures[e].subimage({data:this.texture_buffer,width:1,height:this.texture_size})}clear(){this.texture_buffer.set(this.default_data()),this.post_to_regl_buffer("one_d"),this.lookup=void 0,this.field=void 0,this._domain=void 0,this._range=void 0,this._transform=void 0}get use_lookup(){const{lookup:e}=this;return e?1:0}get lookup_texture(){const{lookup:e}=this;if(void 0===e)return{texture:this.textures.one_d,y_domain:[-1,1],x_domain:[-1,1],z_domain:[-1,1],y_constant:0};const{field:t}=this,{table:n,value:l,y:i,z:r}=e;if(!i.constant)throw"Only constant lookups for the secondary dimension are currently supported.";const a={x:t,y:i.field,z:r.field},c=this.scatterplot.lookup_tables.get(n),u=()=>this.arrow_column().data.dictionary.toArray();let o;o=void 0===c?{texture:this.textures.one_d,y_domain:[-1,1],z_domain:[-1,1],x_domain:[-1,1]}:c.get_cached_crosstab_texture(a,{x:u},this.regl);const{texture:d,z_domain:s,y_domain:m,x_domain:b,shape:Z,crosstabs:p}=o;return{value:i.constant||0,crosstabs:p,texture:d,shape:Z,x_domain:b,y_domain:m,z_domain:s}}update(e){if(null===e)return void this.clear();if(void 0===e)throw"This should have been removed earlier";if("x"!==e.field&&"y"!==e.field||!e.range||console.warn("Asked for an x or y range, but it will be automatically\n                    set to the window scale."),this.stringversion=JSON.parse(JSON.stringify(e)),e.field===this.field&&e.op&&void 0!==this.field)return;"string"==typeof e&&(e=Uc(e,!1),this.label.startsWith("filter")&&(e.domain=[-2047,2047])),("number"==typeof e||e.length)&&(e={constant:e,transform:"literal"}),e.lambda&&"string"==typeof e.lambda&&Object.assign(e,Uc(e.lambda,!1)),this.lookup=e.lookup,this.field=e.field,this._domain=xc(e.domain),this._range=xc(e.range),this._constant=e.constant;const{lambda:t,field:n}=e;this._transform=e.transform||this.default_transform,t?this.apply_function_to_textures(n,this.domain,t):e.range&&(this.encode_for_textures(this.range),this.post_to_regl_buffer("one_d"))}encode_for_textures(e){const t=new Array(this.texture_size);this.scaleFunc=Vc[this.transform]().range(e).domain([0,this.texture_size-1]);for(let n=0;n<this.texture_size;n+=1)t[n]=this.scaleFunc(n);this.texture_buffer.set(t)}arrow_column(){const e=this.tileSet.table.getColumn(this.field);if(null===e)throw`No column ${this.field} on arrow table for aesthetic ${this.label}`;return e}is_dictionary(){return null!=this.field&&this.arrow_column().type.dictionary}get constant(){return this._constant}get use_map_on_regl(){return this.is_dictionary()&&this.domain===[-2047,2047]?1:0}apply_function_to_textures(e,t,n){let l;if("string"==typeof n){const[e,t]=n.split("=>").map((e=>e.trim()));l=void 0===t?Function("x",n):Function(e,t)}else l=n;this.scaleFunc=Yr().range(t).domain([0,this.texture_size-1]);let i=Ke(this.texture_size);if(void 0===e||void 0===this.tileSet.table)return void this.texture_buffer.set(Ke(this.texture_size).map((e=>1)));const{column:r}=this;if(!r)throw`Column ${e} does not exist on table.`;if(r.type.dictionary){i.fill("");r.data.dictionary.toArray().forEach(((e,t)=>{i[t]=e}))}else i=i.map((e=>this.scaleFunc(e)));const a=i.map((e=>l(e)));this.texture_buffer.set(a),this.post_to_regl_buffer("one_d")}}class Lc extends vc{constructor(...e){super(...e),this._transform="literal"}get range(){return this.tileSet.extent?this.tileSet.extent.x:[-20,20]}get previous_range(){return this.range}get default_val(){return 1}}class Yc extends Lc{get range(){const[e,t]=this.tileSet.extent?this.tileSet.extent.y:[-20,20];return[t,e]}get previous_range(){return this.range}}class Jc extends vc{get default_val(){return 1}get domain(){return this.is_dictionary()?[-2047,2047]:[0,1]}get_function(){const e=this.stringversion;if(e&&e.op){if("gt"==e.op)return t=>t>e.a;if("lt"==e.op)return t=>t<e.a;if("eq"==e.op)return t=>t==e.a;if("within"==e.op)return t=>Math.abs(t-e.a)<=e.b}if(!this.encoding)return()=>!0;const{lambda:t,field:n}=this.encoding;return t?e=>t(e[n]):e=>!0}ops_to_array(){const e=this.stringversion;if(!e||!e.op)return[0,0,0];return[[null,"lt","gt","eq","within"].indexOf(e.op),e.a||0,e.b||0]}}function xc(e){if("string"==typeof e)return e;if("numeric"==typeof e)return[e,e];if(void 0===e)return[1,1];try{return[...e]}catch(t){return console.warn("No list for range",e),[1,1]}}const gc={Size:class extends vc{get default_val(){return 1}},Jitter_speed:class extends vc{get default_val(){return.1}},Jitter_radius:class extends vc{constructor(...e){super(...e),this.method="None"}get default_val(){return.05}update(e){"number"==typeof e&&(e={constant:e}),e.method?this.method=e.method:this.partner.method&&(this.method=this.partner.method),null===e.method&&(this.method="None"),super.update(e)}get jitter_int_format(){return"spiral"===(e=this.method)?1:"uniform"===e?2:"normal"===e?3:"circle"===e?4:"time"===e?5:0;var e}},Color:class extends vc{get default_val(){return[128,150,213,255]}default_data(){return Gc.viridis}get texture_buffer(){return this._texture_buffer||(this._texture_buffer=new Uint8Array(4*this.texture_size),this._texture_buffer.set(this.default_data())),this._texture_buffer}get textures(){if(this._textures)return this._textures;const e={width:1,height:this.texture_size,type:"uint8",format:"rgba",data:this.default_data()};return this._textures={one_d:this.regl.texture(e)},this.post_to_regl_buffer("one_d"),this._textures}get constant(){if(void 0!==this._constant){if("string"==typeof this._constant){const{r:e,g:t,b:n}=rl(this._constant);return this._constant=[e/255,t/255,n/255],this._constant}return this._constant}}get scale(){return this._scale?this._scale:e=>"white"}encode_for_textures(e){if(this.is_dictionary()?(this._scale=er().range(e).domain(this.domain),Rc[e]&&this._scale.range(Rc[e]).domain(this.column.dictionary.toArray())):this._scale=Vc[this.transform]().range(e).domain(this.domain),console.log("A"),Gc[e])this.texture_buffer.set(Gc[e]);else if(e.length===4*this.texture_size)this.texture_buffer.set(e);else if(e.length&&e[0].length&&3===e[0].length){console.log(e);const t=Ke(4096).map((t=>{const[n,l,i]=e[t%e.length];return[n,l,i,255]}));this.texture_buffer.set(t.flat())}else console.warn(`request range of ${e} for color ${this.field} unknown`)}},Filter1:class extends Jc{},Filter2:class extends Jc{},X:Lc,Y:Yc,X0:class extends Lc{},Y0:class extends Yc{}};class Hc{constructor(e,t,n,l){this.states=[];const i=e.toLowerCase(),r=gc[e];this.states.push(new r(i,t,n,l)),this.states.push(new r(i,t,n,l));const[a,c]=this.states;a.partner=c,c.partner=a;for(const u of this.states)u.update({constant:Sc[i].constant});this.current_encoding=JSON.stringify({constant:Sc[i].constant})}get current(){return this.states[0]}get last(){return this.states[1]}update(e){const t=JSON.stringify(e);if(t==this.current_encoding||void 0===e)return this.needs_transitions&&this.states[1].update(JSON.parse(this.current_encoding)),void(this.needs_transitions=!1);this.states.reverse(),this.states[0].update(e),this.needs_transitions=!0,this.current_encoding=t}}function Uc(e,t=!1){let[n,l]=e.split("=>").map((e=>e.trim()));if(void 0===l)throw`Couldn't parse ${e} into a function`;"{"!==l.slice(0,1)&&"return"!==l.slice(0,6)&&(l=`return ${l}`);const i=`${n} => ${l}`;return t?Function(n,l):{field:n,lambda:i}}const Ic=Array.from(Object.keys(gc)).map((e=>e.toLowerCase()));class Kc{constructor(e,t,n,l=null){if(this.is_aesthetic_set=!0,this.scatterplot=e,this.regl=t,this.tileSet=n,null===l)for(const r of Array.from(Object.keys(gc))){const e=r,t=[e,this.scatterplot,this.regl,n];this[e.toLowerCase()]=new Hc(...t)}const i={};for(const[r,a]of Object.entries(Sc))i[r]=a.constant||a;this.encoding=JSON.parse(JSON.stringify(i)),this.apply_encoding(this.encoding)}interpret_position(e){if(e){e.x0||e.position0?this.position_interpolation=!0:(e.x||e.position)&&(this.position_interpolation=!1);for(const t of["position","position0"]){const n=t.replace("position","");if(e[t]){if("literal"===e[t])e[`x${n}`]={field:"x",transform:"literal"},e[`y${n}`]={field:"y",transform:"literal"};else{const l=e[t];e[`x${n}`]={field:`${l}.x`,transform:"literal"},e[`y${n}`]={field:`${l}.y`,transform:"literal"}}delete e[t]}}}delete e.position,delete e.position0}apply_encoding(e){null==e&&(e={}),e.filter&&(e.filter1=e.filter,delete e.filter),this.interpret_position(e),e.x0&&this.x.update(e.x0),e.y0&&this.y.update(e.y0);for(const t of Ic)this[t].update(e[t])}}class Nc extends class{constructor(e,t,n){this.scatterplot=n,this.holder=Ze(e),this.canvas=Ze(this.holder.node().firstElementChild),this.tileSet=t,this.prefs=n.prefs,this.width=+this.canvas.attr("width"),this.height=+this.canvas.attr("height"),this.deferred_functions=[],this._use_scale_to_download_tiles=!0}get discard_share(){return 0}get optimal_alpha(){let{zoom_balance:e,alpha:t,point_size:n}=this.prefs;const{max_ix:l,width:i,discard_share:r,height:a}=this,{k:c}=this.zoom.transform;t=void 0===t?.25:t;const u=1/c**2,o=t*(i*a)/(Ue([l,this.tileSet.highest_known_ix])*(1-r)*u*(Math.PI*Math.exp(Math.log(1*c)*e)*n)**2);return o>1?1:o<1/255?1/255:o}get max_ix(){const{prefs:e}=this;if(!this._use_scale_to_download_tiles)return e.max_points;const{k:t}=this.zoom.transform,n=Math.exp(Math.log(t)*e.zoom_balance);return e.max_points*t*t/n/n}is_visible(e){return p_in_rect(e,this._zoom.current_corners)&&e.ix<this.prefs.max_points*this._zoom.k}visible_tiles(){const{max_ix:e}=this,{tileSet:t}=this;let n;return n=this._use_scale_to_download_tiles?t.map((e=>e)).filter((t=>t.is_visible(e,this.zoom.current_corners()))):t.map((e=>e)).filter((e=>e.min_ix<this.max_ix)),n.sort(((e,t)=>e.min_ix-t.min_ix)),n}bind_zoom(e){return this.zoom=e,this}set click_function(e){this._current_click_function_string=this.scatterplot.prefs.click_function,this._click_function=Function("datum",this._current_click_function_string)}get click_function(){return this._current_click_function_string&&this._current_click_function_string===this.scatterplot.prefs.click_function||(this._current_click_function_string=this.scatterplot.prefs.click_function,this._click_function=Function("datum",this.scatterplot.prefs.click_function)),this._click_function}*initialize(){return Promise.all(this._initializations).then((e=>{this.zoom.restart_timer(5e5)}))}}{constructor(e,t,n){super(e,t,n),this.regl=zr({optionalExtensions:["OES_standard_derivatives","OES_element_index_uint","OES_texture_float","OES_texture_half_float"],canvas:this.canvas.node()}),this.aes=new Kc(n,this.regl,t),this.buffer_size=67108864,this.initialize_textures(),this._initializations=[this.tileSet.promise.then((()=>{this.remake_renderer(),this._webgl_scale_history=[this.default_webgl_scale,this.default_webgl_scale]}))],this.initialize()}get buffers(){return this._buffers=this._buffers||new Bc(this.regl,this.buffer_size),this._buffers}data(e){return void 0===e?this.tileSet:(this.tileSet=e,this)}apply_webgl_scale(){if(this._use_scale_to_download_tiles=!0,this.aes.encoding.x.transform&&"literal"!==this.aes.encoding.x.transform||this.aes.encoding.y.transform&&"literal"!==this.aes.encoding.y.transform){const e=wr(this.aes.x.scale,this.aes.y.scale).flat();this._webgl_scale_history.unshift(e),this._use_scale_to_download_tiles=!1}else this._webgl_scale_history||(this._webgl_scale_history=[]),this._webgl_scale_history.unshift(this.default_webgl_scale)}get props(){const{prefs:e}=this,{transform:t}=this.zoom,{aes_to_buffer_num:n,buffer_num_to_variable:l,variable_to_buffer_num:i}=this.allocate_aesthetic_buffers(),r={aes:{encoding:this.aes.encoding},colors_as_grid:0,corners:this.zoom.current_corners(),zoom_balance:e.zoom_balance,transform:t,max_ix:this.max_ix,time:(Date.now()-this.zoom._start)/1e3,update_time:(Date.now()-this.most_recent_restart)/1e3,string_index:0,prefs:JSON.parse(JSON.stringify(e)),color_type:void 0,start_time:this.most_recent_restart,webgl_scale:this._webgl_scale_history[0],last_webgl_scale:this._webgl_scale_history[1],use_scale_for_tiles:this._use_scale_to_download_tiles,grid_mode:0,buffer_num_to_variable:l,aes_to_buffer_num:n,variable_to_buffer_num:i,color_picker_mode:0};return r.zoom_matrix=[[r.transform.k,0,r.transform.x],[0,r.transform.k,r.transform.y],[0,0,1]].flat(),JSON.parse(JSON.stringify(r))}get default_webgl_scale(){return this._default_webgl_scale||(this._default_webgl_scale=this.zoom.webgl_scale()),this._default_webgl_scale}render_points(e){const t=[];for(const l of this.visible_tiles()){const i=new kc(this.regl,l,this);try{if(!i.ready(e.prefs,e.block_for_buffers))continue}catch(n){continue}const r={manager:i,image_locations:i.image_locations,sprites:this.sprites};Object.assign(r,e),t.push(r)}void 0!==this._renderer?(t.reverse(),this._renderer(t)):this._zoom&&this._zoom._timer&&this._zoom._timer.stop()}tick(){const{prefs:e}=this,{regl:t,tileSet:n}=this,{props:l}=this;this.tick_num=this.tick_num||0,this.tick_num++,this._use_scale_to_download_tiles?n.download_most_needed_tiles(this.zoom.current_corners(),this.props.max_ix):n.download_to_depth(e.max_points),t.clear({color:[.9,.9,.93,0],depth:1});const i=Date.now();let r=()=>{};for(;Date.now()-i<10&&this.deferred_functions.length;){r=this.deferred_functions.shift();try{r()}catch(a){console.warn(a,r)}}this.render_all(l)}render_jpeg(e){}single_blur_pass(e,t,n){const{regl:l}=this;t.use((()=>{l.clear({color:[0,0,0,0]}),l({frag:"precision mediump float;\n#define GLSLIFY 1\n\nvec4 blur13(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {\n  vec4 color = vec4(0.0);\n  vec2 off1 = vec2(1.411764705882353) * direction;\n  vec2 off2 = vec2(3.2941176470588234) * direction;\n  vec2 off3 = vec2(5.176470588235294) * direction;\n  color += texture2D(image, uv) * 0.1964825501511404;\n  color += texture2D(image, uv + (off1 / resolution)) * 0.2969069646728344;\n  color += texture2D(image, uv - (off1 / resolution)) * 0.2969069646728344;\n  color += texture2D(image, uv + (off2 / resolution)) * 0.09447039785044732;\n  color += texture2D(image, uv - (off2 / resolution)) * 0.09447039785044732;\n  color += texture2D(image, uv + (off3 / resolution)) * 0.010381362401148057;\n  color += texture2D(image, uv - (off3 / resolution)) * 0.010381362401148057;\n  return color;\n}\n\nuniform vec2 iResolution;\nuniform sampler2D iChannel0;\nuniform vec2 direction;\n\nvoid main() {\n  vec2 uv = vec2(gl_FragCoord.xy / iResolution.xy);\n  gl_FragColor = blur13(iChannel0, uv, iResolution.xy, direction);\n}\n",uniforms:{iResolution:({viewportWidth:e,viewportHeight:t})=>[e,t],iChannel0:e,direction:n},vert:"\n        precision mediump float;\n        attribute vec2 position;\n        varying vec2 uv;\n        void main() {\n          uv = 0.5 * (position + 1.0);\n          gl_Position = vec4(position, 0, 1);\n        }",attributes:{position:[-4,-4,4,-4,0,4]},depth:{enable:!1},count:3})()}))}blur(e,t,n=3){let l=n-1;for(;l>-1;)this.single_blur_pass(e,t,[2**l,0]),this.single_blur_pass(t,e,[0,2**l]),l-=1}render_all(e){const{regl:t}=this;this.fbos.points.use((()=>{t.clear({color:[0,0,0,0]}),this.render_points(e)})),t.clear({color:[0,0,0,0]}),this.fbos.lines.use((()=>t.clear({color:[0,0,0,0]}))),this.scatterplot.trimap&&this.fbos.lines.use((()=>{this.scatterplot.trimap.zoom=this.zoom,this.scatterplot.trimap.tick("polygon")}));for(const n of[this.fbos.lines,this.fbos.points])t({profile:!0,blend:{enable:!0,func:{srcRGB:"one",srcAlpha:"one",dstRGB:"one minus src alpha",dstAlpha:"one minus src alpha"}},frag:"\n        precision mediump float;\n        varying vec2 uv;\n        uniform sampler2D tex;\n        uniform float wRcp, hRcp;\n        void main() {\n          gl_FragColor = texture2D(tex, uv);\n        }\n      ",vert:"\n        precision mediump float;\n        attribute vec2 position;\n        varying vec2 uv;\n        void main() {\n          uv = 0.5 * (position + 1.0);\n          gl_Position = vec4(position, 0, 1);\n        }\n      ",attributes:{position:this.fill_buffer},depth:{enable:!1},count:3,uniforms:{tex:()=>n,wRcp:({viewportWidth:e})=>1/e,hRcp:({viewportHeight:e})=>1/e}})()}set_image_data(e,t){this.initialize_sprites(e);const{current_position:n}=sprites;if(n[1]>4060)return console.error(`First spritesheet overflow on ${e.key}`),void(sprites.current_position=[0,0]);e.table.get(t)._jpeg}spritesheet_setter(e){let t=0;if(this.spritesheet)t=this.spritesheet;else{t=(n="canvas",Ze(r(n).call(document.documentElement))).attr("width",4096).attr("width",4096).style("display","none").node().getContext("2d");const e=32;t.font=`${e}px Times New Roman`,t.fillStyle="black",t.lookups=new Map,t.position=[0,e-e/4],this.spritesheet=t}var n;let[l,i]=t.position;if(t.lookups.get(e))return t.lookups.get(e);const a=t.measureText(e).width;return a>4096?void 0:(l+a>4096&&(l=0,i+=font_size),t.fillText(e,l,i),lookups.set(e,{x:l,y:i,width:a}),l+=a,t.position=[l,i],lookups.get(e))}initialize_textures(){const{regl:e}=this;this.fbos=this.fbos||{},this.fbos.empty_texture=e.texture(Ke(128).map((e=>Ke(128).map((e=>[0,0,0]))))),this.fbos.minicounter=e.framebuffer({width:512,height:512,depth:!1}),this.fbos.lines=e.framebuffer({width:this.width,height:this.height,depth:!1}),this.fbos.points=e.framebuffer({width:this.width,height:this.height,depth:!1}),this.fbos.ping=e.framebuffer({width:this.width,height:this.height,depth:!1}),this.fbos.pong=e.framebuffer({width:this.width,height:this.height,depth:!1}),this.fbos.contour=this.fbos.contour||e.framebuffer({width:this.width,height:this.height,depth:!1}),this.fbos.colorpicker=this.fbos.colorpicker||e.framebuffer({width:this.width,height:this.height,depth:!1}),this.fbos.dummy=this.fbos.dummy||e.framebuffer({width:1,height:1,depth:!1}),this.fbos.dummy_buffer=e.buffer(10)}get_image_texture(e){const{regl:t}=this;if(this.textures=this.textures||{},this.textures[e])return this.textures[e];const n=new Image;return n.src=e,this.textures[e]=this.fbos.minicounter,n.onload=()=>{console.log("loaded image",e),this.textures[e]=t.texture(n)},this.textures[e]}plot_as_grid(e,t,n=this.fbos.minicounter){console.log("plotting as grid");const{scatterplot:l,regl:i,tileSet:r}=this.aes,a=this.aes;void 0===n&&(n={width:this.width,height:this.height,use:e=>e()});const{width:c,height:u}=n;this.aes=new Kc(l,i,r);const o=map._root.table.getColumn(e).data.dictionary.length;let d=1;for(;d<o;)d*=2;const s={x:{field:e,transform:"linear",domain:[-2047,-2047+d]},y:void 0!==t?{field:t,transform:"linear",domain:[-2047,-2020]}:{constant:-1},size:1,color:{constant:[0,0,0],transform:"literal"},jitter_radius:{constant:1/2560,method:"uniform"},jitter_speed:void 0===t?1:1/256};console.log(`map.plotAPI({encoding: ${JSON.stringify(s)}})`),this.aes.apply_encoding(s),this.aes.apply_encoding(s),this.aes.x[1]=a.x[0],this.aes.y[1]=a.y[0],this.aes.filter1=a.filter1,this.aes.filter2=a.filter2;const{props:m}=this;m.block_for_buffers=!0,m.grid_mode=1;const b=new Uint8Array(c*u*4);n.use((()=>{this.regl.clear({color:[0,0,0,0]}),this.render_points(m),i.read({data:b})})),this.aes=a}count_colors(e){const{regl:t,props:n}=this;n.prefs.jitter=null,void 0!==e?(console.warn("PROBABLY BROKEN BECAUSE OF THE NEW AES",e,n.prefs,e),n.aes.encoding.color={field:e,domain:[-2047,2047]}):e=this.aes.color.field,n.only_color=-1,n.colors_as_grid=1,n.block_for_buffers=!0;const{width:l,height:i}=this.fbos.minicounter,r=new Uint8Array(l*i*4),a=new Map;this.fbos.minicounter.use((()=>{t.clear({color:[0,0,0,0]}),this.render_points(n),t.read({data:r})}));for(const[c,u]of this.tileSet.dictionary_lookups[e]){if("string"==typeof c)continue;const e=Math.floor(c/64),t=c%64,n=l/64;let i=0,o=!1;for(const a of Ke(n))for(const c of Ke(n)){const u=r[e*n*4+4*c+t*n*4*l+a*l*4+3];u>=128?o=!0:i+=u}o?(console.log(c,u,"overflown, performing manually"),a.set(u,this.n_visible(c))):a.set(u,i)}return a}n_visible(e=-1){let{width:t,height:n}=this;t=Math.floor(t),n=Math.floor(n),this.contour_vals=this.contour_vals||new Uint8Array(4*t*n);const{props:l}=this;let i;return l.only_color=e,this.fbos.contour.use((()=>{this.regl.clear({color:[0,0,0,0]}),this.render_points(l),this.regl.read(this.contour_vals),i=function(e,t){let n=0;if(void 0===t)for(let l of e)(l=+l)&&(n+=l);else{let l=-1;for(let i of e)(i=+t(i,++l,e))&&(n+=i)}return n}(this.contour_vals)})),i}color_pick(e,t){const{props:n,height:l}=this;let i;n.color_picker_mode=1,this.fbos.colorpicker.use((()=>{this.regl.clear({color:[0,0,0,0]}),this.render_points(n);try{i=this.regl.read({x:e,y:l-t,width:1,height:1})}catch(r){console.warn("Read bad data from",{x:e,y:t,height:l,attempted:l-t}),i=[0,0,0,0]}}));const r=Qr(...i)-1,a=Math.round(r),c=this.tileSet.findPoint(a);if(0!==c.length)return c[0]}get fill_buffer(){if(!this._fill_buffer){const{regl:e}=this;this._fill_buffer=e.buffer({data:[-4,-4,4,-4,0,4]})}return this._fill_buffer}draw_contour_buffer(e,t){let{width:n,height:l}=this;n=Math.floor(n),l=Math.floor(l),this.contour_vals=this.contour_vals||new Uint8Array(4*n*l),this.contour_alpha_vals=this.contour_alpha_vals||new Uint16Array(n*l);const{props:i}=this;i.aes.encoding.color={field:e},i.only_color=t,this.fbos.contour.use((()=>{this.regl.clear({color:[0,0,0,0]}),this.render_points(i),this.regl.read(this.contour_vals),console.log(this.contour_vals.filter((e=>0!==e)).map((e=>e/6)).reduce(((e,t)=>e+t),0))})),this.blur(this.fbos.contour,this.fbos.ping,3),this.fbos.contour.use((()=>{this.regl.read(this.contour_vals),console.log(this.contour_vals.filter((e=>0!=e)).map((e=>e/6)).reduce(((e,t)=>e+t),0))}));let r=0;for(;r<n*l*4;)this.contour_alpha_vals[r/4]=255*this.contour_vals[r+3],r+=4;return this.contour_alpha_vals}remake_renderer(){console.log("Remaking renderers");const{regl:e}=this,t={depth:{enable:!1},stencil:{enable:!1},blend:{enable:(e,{color_picker_mode:t})=>t<.5,func:{srcRGB:"one",srcAlpha:"one",dstRGB:"one minus src alpha",dstAlpha:"one minus src alpha"}},primitive:"points",frag:"#ifdef GL_OES_standard_derivatives\n#extension GL_OES_standard_derivatives : enable\n#endif\n\nprecision mediump float;\n#define GLSLIFY 1\n\nvarying float pic_mode;\nvarying vec4 fill;\nvarying vec4 stroke;\nvarying vec2 letter_pos;\nvarying float point_size;\n\nuniform float u_only_color;\nuniform float u_color_picker_mode;\nuniform float u_use_glyphset;\nuniform sampler2D u_glyphset;\n\nfloat delta = 0.0, alpha = 1.0;\n\nbool out_of_circle(in vec2 coord) {\n  vec2 cxy = 2.0 * coord - 1.0;\n  float r_sq = dot(cxy, cxy);\n  if (r_sq > 1.03) {return true;}\n  return false;\n}\n\nbool out_of_hollow_circle(in vec2 coord) {\n  vec2 cxy = 2.0 * coord - 1.0;\n  float r_sq = dot(cxy, cxy);\n  if (r_sq > 1.01) {return true;}\n  float distance_from_edge = (1.0 - r_sq) * point_size;\n  if (distance_from_edge > 4.0) {return true;}\n  return false;\n}\n\nbool out_of_triangle(in vec2 coord) {\n  if (coord.y > (2. * abs(coord.x - .5))) {\n    return false;\n  }\n  return true;\n}\n\nvoid main() {\n\n  if (u_only_color >= -1.5) {\n    gl_FragColor = vec4(0., 0., 0., 1./255.);\n    return;\n  }\n\n  // Drop parts of the rectangle outside the unit circle.\n  // I took this from observable.\n  float alpha = fill.a;\n  if (u_use_glyphset == 0. || point_size < 5.0) {\n    if (out_of_circle(gl_PointCoord)) {\n      discard;\n      return;\n    }\n    vec2 cxy = 2.0 * gl_PointCoord - 1.0;\n    float r = dot(cxy, cxy);\n    #ifdef GL_OES_standard_derivatives\n      delta = fwidth(r);\n      alpha *= (1.0 - smoothstep(1.0 - delta, 1.0 + delta, r));\n    #endif\n  } else {\n    vec2 coords = letter_pos + gl_PointCoord/8.;\n//    vec2 coords = vec2(.2, .2);\n    vec4 sprite = texture2D(u_glyphset, coords);\n    alpha *= (sprite.a);  \n//    fill = vec4(1.0, 1.0, 1.0, alpha);  \n    if (alpha <= 0.03) discard;\n  }\n  // Pre-blend the alpha channel.\n  if (u_color_picker_mode == 1.) {\n    // no alpha when color picking; we use all four channels for that.\n    gl_FragColor = fill;\n  } else {\n    gl_FragColor = vec4(fill.rgb * alpha, alpha);\n  }\n}\n",vert:'precision mediump float;\n#define GLSLIFY 1\n\nuniform float u_zoom_balance;\n\nuniform float u_update_time;\nuniform float u_transition_duration;\n\n// Type of jitter.\nuniform float u_jitter;\nuniform float u_last_jitter;\n\n// Whether to plot only a single category.\nuniform float u_only_color;\nuniform float u_grid_mode;\n\nuniform vec3 u_filter1_numeric; // An override for simple numeric operations.\nuniform vec3 u_last_filter1_numeric; // An override for simple numeric operations.\n\nuniform vec3 u_filter2_numeric; // An override for simple numeric operations.\nuniform vec3 u_last_filter2_numeric; // An override for simple numeric operations.\n\n// Transform from data space to the open window.\nuniform mat3 u_window_scale;\nuniform mat3 u_last_window_scale;\n// Transform from the open window to the d3-zoom.\nuniform mat3 u_zoom;\n\nuniform float u_width;\nuniform float u_height;\nuniform float u_use_glyphset;\nvarying vec2 letter_pos; // store which letter to use.\n\nuniform float u_maxix;           // The maximum index to plot.\nuniform float u_time;            // The current time.\nuniform float u_k;               // The d3-scale factor.\nuniform float u_color_picker_mode;\nuniform float u_base_size;\nuniform float u_current_alpha;\nuniform float u_last_alpha;\n\n// The same set of items for a variety of aesthetics.\n\n// whether to continuously interpolate between\n// x0 and x, y0 and y.\nuniform float u_position_interpolation_mode;\n\n/*\npython code to generate what follows.\ndef autogenerate_code():\n  ks = ["x", "y", "jitter_radius", "jitter_speed", "size", "filter1", "filter2", "x0", "y0"]\n  times = ["", "last_"]\n  print("""\n  //  BEGIN AUTOGENERATED. DO NOT EDIT. \n  // ------------------------------------------------    \n  """)\n  for k in ks:\n    for time in times:\n      timek = time + k\n      print(f"""\n  uniform float u_{timek}_buffer_num;\n  uniform float u_{timek}_constant;\n  uniform float u_{timek}_transform;\n  uniform vec2 u_{timek}_domain;\n  uniform vec2 u_{timek}_range;\n  uniform sampler2D u_{timek}_map;\n  uniform float u_{timek}_needs_map;\n  float a_{timek};\n  bool a_{timek}_is_constant;\n      """)\n  for i in range(0, 16):\n    print(f"attribute float buffer_{i};")\n  for k in ks:\n    for time in times:\n      timek = time + k\n      print(f"""\n    if (u_{timek}_buffer_num > -0.5) {{\n      a_{timek} = get_buffer(u_{timek}_buffer_num);\n      a_{timek}_is_constant = false;\n    }} else {{\n      a_{timek} = u_{timek}_constant;\n      a_{timek}_is_constant = true;\n    }}""")\n  print("""\n//  END AUTOGENERATED. DO NOT EDIT ABOVE. \n// ------------------------------------------------    \n  """)\n\nautogenerate_code()\n*/\n  //  BEGIN AUTOGENERATED. DO NOT EDIT. \n  // ------------------------------------------------    \n  \n\n  uniform float u_x_buffer_num;\n  uniform float u_x_constant;\n  uniform float u_x_transform;\n  uniform vec2 u_x_domain;\n  uniform vec2 u_x_range;\n  uniform sampler2D u_x_map;\n  uniform float u_x_needs_map;\n  float a_x;\n  bool a_x_is_constant;\n      \n\n  uniform float u_last_x_buffer_num;\n  uniform float u_last_x_constant;\n  uniform float u_last_x_transform;\n  uniform vec2 u_last_x_domain;\n  uniform vec2 u_last_x_range;\n  uniform sampler2D u_last_x_map;\n  uniform float u_last_x_needs_map;\n  float a_last_x;\n  bool a_last_x_is_constant;\n      \n\n  uniform float u_y_buffer_num;\n  uniform float u_y_constant;\n  uniform float u_y_transform;\n  uniform vec2 u_y_domain;\n  uniform vec2 u_y_range;\n  uniform sampler2D u_y_map;\n  uniform float u_y_needs_map;\n  float a_y;\n  bool a_y_is_constant;\n      \n\n  uniform float u_last_y_buffer_num;\n  uniform float u_last_y_constant;\n  uniform float u_last_y_transform;\n  uniform vec2 u_last_y_domain;\n  uniform vec2 u_last_y_range;\n  uniform sampler2D u_last_y_map;\n  uniform float u_last_y_needs_map;\n  float a_last_y;\n  bool a_last_y_is_constant;\n      \n\n  uniform float u_jitter_radius_buffer_num;\n  uniform float u_jitter_radius_constant;\n  uniform float u_jitter_radius_transform;\n  uniform vec2 u_jitter_radius_domain;\n  uniform vec2 u_jitter_radius_range;\n  uniform sampler2D u_jitter_radius_map;\n  uniform float u_jitter_radius_needs_map;\n  float a_jitter_radius;\n  bool a_jitter_radius_is_constant;\n      \n\n  uniform float u_last_jitter_radius_buffer_num;\n  uniform float u_last_jitter_radius_constant;\n  uniform float u_last_jitter_radius_transform;\n  uniform vec2 u_last_jitter_radius_domain;\n  uniform vec2 u_last_jitter_radius_range;\n  uniform sampler2D u_last_jitter_radius_map;\n  uniform float u_last_jitter_radius_needs_map;\n  float a_last_jitter_radius;\n  bool a_last_jitter_radius_is_constant;\n      \n\n  uniform float u_jitter_speed_buffer_num;\n  uniform float u_jitter_speed_constant;\n  uniform float u_jitter_speed_transform;\n  uniform vec2 u_jitter_speed_domain;\n  uniform vec2 u_jitter_speed_range;\n  uniform sampler2D u_jitter_speed_map;\n  uniform float u_jitter_speed_needs_map;\n  float a_jitter_speed;\n  bool a_jitter_speed_is_constant;\n      \n\n  uniform float u_last_jitter_speed_buffer_num;\n  uniform float u_last_jitter_speed_constant;\n  uniform float u_last_jitter_speed_transform;\n  uniform vec2 u_last_jitter_speed_domain;\n  uniform vec2 u_last_jitter_speed_range;\n  uniform sampler2D u_last_jitter_speed_map;\n  uniform float u_last_jitter_speed_needs_map;\n  float a_last_jitter_speed;\n  bool a_last_jitter_speed_is_constant;\n      \n\n  uniform float u_size_buffer_num;\n  uniform float u_size_constant;\n  uniform float u_size_transform;\n  uniform vec2 u_size_domain;\n  uniform vec2 u_size_range;\n  uniform sampler2D u_size_map;\n  uniform float u_size_needs_map;\n  float a_size;\n  bool a_size_is_constant;\n      \n\n  uniform float u_last_size_buffer_num;\n  uniform float u_last_size_constant;\n  uniform float u_last_size_transform;\n  uniform vec2 u_last_size_domain;\n  uniform vec2 u_last_size_range;\n  uniform sampler2D u_last_size_map;\n  uniform float u_last_size_needs_map;\n  float a_last_size;\n  bool a_last_size_is_constant;\n      \n\n  uniform float u_filter1_buffer_num;\n  uniform float u_filter1_constant;\n  uniform float u_filter1_transform;\n  uniform vec2 u_filter1_domain;\n  uniform vec2 u_filter1_range;\n  uniform sampler2D u_filter1_map;\n  uniform float u_filter1_needs_map;\n  float a_filter1;\n  bool a_filter1_is_constant;\n      \n\n  uniform float u_last_filter1_buffer_num;\n  uniform float u_last_filter1_constant;\n  uniform float u_last_filter1_transform;\n  uniform vec2 u_last_filter1_domain;\n  uniform vec2 u_last_filter1_range;\n  uniform sampler2D u_last_filter1_map;\n  uniform float u_last_filter1_needs_map;\n  float a_last_filter1;\n  bool a_last_filter1_is_constant;\n\n  uniform float u_filter2_buffer_num;\n  uniform float u_filter2_constant;\n  uniform float u_filter2_transform;\n  uniform vec2 u_filter2_domain;\n  uniform vec2 u_filter2_range;\n  uniform sampler2D u_filter2_map;\n  uniform float u_filter2_needs_map;\n  float a_filter2;\n  bool a_filter2_is_constant;\n      \n\n  uniform float u_last_filter2_buffer_num;\n  uniform float u_last_filter2_constant;\n  uniform float u_last_filter2_transform;\n  uniform vec2 u_last_filter2_domain;\n  uniform vec2 u_last_filter2_range;\n  uniform sampler2D u_last_filter2_map;\n  uniform float u_last_filter2_needs_map;\n  float a_last_filter2;\n  bool a_last_filter2_is_constant;\n\n  uniform float u_x0_buffer_num;\n  uniform float u_x0_constant;\n  uniform float u_x0_transform;\n  uniform vec2 u_x0_domain;\n  uniform vec2 u_x0_range;\n  uniform sampler2D u_x0_map;\n  uniform float u_x0_needs_map;\n  float a_x0;\n  bool a_x0_is_constant;\n      \n\n  uniform float u_last_x0_buffer_num;\n  uniform float u_last_x0_constant;\n  uniform float u_last_x0_transform;\n  uniform vec2 u_last_x0_domain;\n  uniform vec2 u_last_x0_range;\n  uniform sampler2D u_last_x0_map;\n  uniform float u_last_x0_needs_map;\n  float a_last_x0;\n  bool a_last_x0_is_constant;\n      \n\n  uniform float u_y0_buffer_num;\n  uniform float u_y0_constant;\n  uniform float u_y0_transform;\n  uniform vec2 u_y0_domain;\n  uniform vec2 u_y0_range;\n  uniform sampler2D u_y0_map;\n  uniform float u_y0_needs_map;\n  float a_y0;\n  bool a_y0_is_constant;\n      \n\n  uniform float u_last_y0_buffer_num;\n  uniform float u_last_y0_constant;\n  uniform float u_last_y0_transform;\n  uniform vec2 u_last_y0_domain;\n  uniform vec2 u_last_y0_range;\n  uniform sampler2D u_last_y0_map;\n  uniform float u_last_y0_needs_map;\n  float a_last_y0;\n  bool a_last_y0_is_constant;\n      \nattribute float buffer_0;\nattribute float buffer_1;\nattribute float buffer_2;\nattribute float buffer_3;\nattribute float buffer_4;\nattribute float buffer_5;\nattribute float buffer_6;\nattribute float buffer_7;\nattribute float buffer_8;\nattribute float buffer_9;\nattribute float buffer_10;\nattribute float buffer_11;\nattribute float buffer_12;\nattribute float buffer_13;\nattribute float buffer_14;\nattribute float buffer_15;\n\n// END AUTOGENERATED\n  \n\nhighp float ix_to_random(in float ix, in float seed) {\n  // For high numbers, taking the log avoids coincidence.\n  highp float seed2 = log(ix) + 1.;\n  vec2 co = vec2(seed2, seed);\n  highp float a = 12.9898;\n  highp float b = 78.233;\n  highp float c = 43758.5453;\n  highp float dt = dot(co.xy, vec2(a, b));\n  highp float sn = mod(dt, 3.14);\n  return fract(sin(sn) * c);\n}\n\nfloat a_color;\nfloat a_last_color;\n\nuniform float u_color_buffer_num;\nuniform float u_last_color_buffer_num;\n\nuniform vec3 u_color_constant;\nuniform vec3 u_last_color_constant;\n\nuniform float u_color_transform;\nuniform float u_last_color_transform;\nuniform vec2 u_color_domain;\nuniform vec2 u_last_color_domain;\nuniform sampler2D u_color_map;\nuniform sampler2D u_last_color_map;\nuniform float u_last_color_needs_map;\nuniform float u_color_needs_map;\nuniform vec3 u_constant_color;\nuniform vec3 u_constant_last_color;\n\n// The fill color.\nvarying vec4 fill;\nvarying float point_size;\n\nuniform float u_jitter_radius_lookup;\nuniform float u_jitter_radius_lookup_y_constant;\nuniform sampler2D u_jitter_radius_lookup_map;\nuniform vec2 u_jitter_radius_lookup_x_domain;\nuniform vec2 u_jitter_radius_lookup_y_domain;\n\nfloat point_size_adjust;\n\n// A coordinate to throw away a vertex point.\nvec4 discard_me = vec4(100.0, 100.0, 1.0, 1.0);\n\n// Initialized in the main loop\n// mat3 from_coord_to_gl;\n\nconst float e = 1.618282;\n// I\'ve been convinced.\nconst float tau = 2. * 3.14159265359;\n\n// uniform vec4 corners;\n\n/*************** COLOR SCALES *******************************/\n\n// Ha! A gazillion version of this function:\n// https://gist.github.com/kylemcdonald/f8df3bc2f8d38ca2b7cb\n/*vec3 hsv2rgb(in vec3 c) {\n  vec3 rgb = clamp(abs(mod(c.x * 6.0 + vec3(0.0, 4.0, 2.0), 6.0) - 3.0) - 1.0,\n                   0.0, 1.0);\n  rgb = rgb * rgb * (3.0 - 2.0 * rgb);\n  return c.z * mix(vec3(1.0), rgb, c.y);\n}*/\n\nfloat interpolate_raw(in float x, in float min, in float max) {\n  if (x < min) {return 0.;}\n  if (x > max) {return 1.;}\n  return (x - min)/(max - min);\n}\n\nfloat interpolate(in float x, in float min, in float max) {\n  if (max < min) {\n    return 1. - interpolate_raw(x, max, min);\n  } else {\n    return interpolate_raw(x, min, max);\n  }\n}\n\n/*\n\nThe following glsl code was written in python.\n\nbuffers = [*range(16)]\n\ndef write_buffs(buffs):\n    if len(buffs) == 1:\n        return[f"return buffer_{buffs[0]}"]\n    condition_1 = ["  " + line for line in write_buffs(buffs[:len(buffs)//2])]\n    condition_2 = ["" + line for line in write_buffs(buffs[len(buffs)//2:])]\n\n    args = [\n        f"if (i < {buffs[len(buffs) // 2 - 1]}.5) {{",\n        *condition_1,\n        "}",\n        *condition_2\n    ]\n    return args\n\nprint("\\n".join(write_buffs(buffers)))\n*/\n\nfloat get_buffer(in float i) {\n  //given an index, returns the appropriate buffer.\n  if (i < 7.5) {\n    if (i < 3.5) {\n      if (i < 1.5) {\n        if (i < 0.5) {\n          return buffer_0;\n        }\n        return buffer_1;\n      }\n      if (i < 2.5) {\n        return buffer_2;\n      }\n      return buffer_3;\n    }\n    if (i < 5.5) {\n      if (i < 4.5) {\n        return buffer_4;\n      }\n      return buffer_5;\n    }\n    if (i < 6.5) {\n      return buffer_6;\n    }\n    return buffer_7;\n  }\n  if (i < 11.5) {\n    if (i < 9.5) {\n      if (i < 8.5) {\n        return buffer_8;\n      }\n      return buffer_9;\n    }\n    if (i < 10.5) {\n      return buffer_10;\n    }\n    return buffer_11;\n  }\n  if (i < 13.5) {\n    if (i < 12.5) {\n      return buffer_12;\n    }\n    return buffer_13;\n  }\n  if (i < 14.5) {\n    return buffer_14;\n  }\n  return buffer_15;\n}\n\nfloat linstep(in vec2 range, in float x) {\n  return interpolate(x, range.x, range.y);\n  float scale_size = range.y - range.x;\n  float from_left = x - range.x;\n  return clamp(from_left / scale_size, 0.0, 1.0);\n}\n\nfloat linscale(in vec2 range, in float x) {\n  float scale_size = range.y - range.x;\n  float from_left = x - range.x;\n  return from_left / scale_size;\n}\n\nvec2 box_muller(in float ix, in float seed) {\n  // Box-Muller transform gives you two gaussian randoms for two uniforms.\n  highp float U = ix_to_random(ix, seed);\n  highp float V = ix_to_random(ix, seed + 17.123123);\n  return vec2(sqrt(-2. * log(U)) * cos(tau * V),\n              sqrt(-2. * log(U)) * sin(tau * V));\n}\n\n/*************** END COLOR SCALES *******************************/\n\nfloat domainify(in vec2 domain, in float transform, in float attr, in bool clamped) {\n\n  // Clamp an attribute into a domain, with an option log or sqrt transform.\n  if (transform == 2.) {\n    domain = sqrt(domain);\n    attr = sqrt(attr);\n  }\n  if (transform == 3.) {\n    domain = log(domain);\n    attr = log(attr);\n  }\n  if (clamped) {\n    return linstep(domain, attr);\n  } else {\n    return linscale(domain, attr);\n  }\n}\n\nmat3 pixelspace_to_glspace;\n\nfloat run_numeric_filter (in float a_filter,\n  in float u_filter_op, in float u_filter_param_1,\n  in float u_filter_param_2) {\n  bool truthy;\n  if (u_filter_op < 1.5) {\n    truthy = a_filter < u_filter_param_1;\n  } else if (u_filter_op < 2.5) {\n    truthy = a_filter > u_filter_param_1;\n  } else if (u_filter_op < 3.5) {\n    truthy = a_filter == u_filter_param_1;\n  } else if (u_filter_op < 4.5) {\n    truthy = abs(a_filter - u_filter_param_2) < u_filter_param_1;\n  }\n  if (truthy) {return 1.;} else {return 0.;}\n}\n\nfloat choose_and_run_filter(\n  in vec3 u_filter_numeric,\n  in vec2 u_filter_domain,\n  in float a_filter,\n  in sampler2D filtermap) {\n  if (u_filter_numeric.r < 0.5) {\n    float frac_filter = linstep(u_filter_domain, a_filter);\n    return texture2D(filtermap, vec2(0.5, frac_filter)).a;\n  } else {\n    return run_numeric_filter(a_filter,\n      u_filter_numeric.r, u_filter_numeric.g, u_filter_numeric.b);\n  }\n}\n\n// Progress through the filters at different rates.\nfloat combine_filters(\n  in vec3 u_filter_numeric, in vec2 u_filter_domain, in float a_filter,\n  in sampler2D u_filter_map,\n  in vec3 u_last_filter_numeric, in vec2 u_last_filter_domain, in float a_last_filter,\n  in sampler2D u_last_filter_map,\n  in float ease,\n  in float ix\n) {\n  float my_filter = 0.;\n  if (ix_to_random(ix, 13.5) > ease) {\n    return choose_and_run_filter(\n      u_last_filter_numeric, u_last_filter_domain, a_last_filter,\n      u_last_filter_map\n    );\n  } else {\n    return choose_and_run_filter(\n      u_filter_numeric, u_filter_domain, a_filter,\n      u_filter_map);\n  }\n}\n\nconst float tau_0 = 2. * 3.14159265359;\n\nhighp float ix_to_random_1540259130(in float ix, in float seed) {\n  // For high numbers, taking the log avoids coincidence.\n  highp float seed2 = log(ix) + 1.;\n  vec2 co = vec2(seed2, seed);\n  highp float a = 12.9898;\n  highp float b = 78.233;\n  highp float c = 43758.5453;\n  highp float dt= dot(co.xy ,vec2(a,b));\n  highp float sn= mod(dt,3.14);\n  return fract(sin(sn) * c);\n}\n\nhighp vec2 box_muller_1540259130(in float ix, in float seed) {\n  // Box-Muller transform gives you two gaussian randoms for two uniforms.\n  highp float U = ix_to_random_1540259130(ix, seed);\n  highp float V = ix_to_random_1540259130(ix, seed + 17.123123);\n  return vec2(\n    sqrt(-2.*log(U))*cos(tau_0*V),\n    sqrt(-2.*log(U))*sin(tau_0*V)\n  );\n}\n\nvec2 logarithmic_spiral_jitter_1540259130(\n  in float ix, // a random seed.\n  in float a, // offset\n  in float angle_parameter_1540259130, // angle parameter\n  in float randomize_angle_1540259130, // sd radians\n  in float max_r_1540259130, // Maximum radius of spiral.\n  in float randomize_rotation_max_radians_1540259130, // in standard deviations to the log-multiplier.\n  in float randomize_radius_1540259130, // in standard deviation percentage points.\n  in float hole, // donut hole size.\n  in float speed_0, // webgl units per second.\n  in float time_0,// The time, in seconds, to plot at. Generally passed as a uniform or something.\n  in float acceleration,\n  in float n_spirals_1540259130,\n  in float shear,\n  in float aspect_ratio_1540259130\n  ) {\n  // Each point starts at a different place on the spiral.\n  vec2 two_gaussians_1540259130 = box_muller_1540259130(ix, 55.1);\n\n  highp float calculated_angle = angle_parameter_1540259130 + two_gaussians_1540259130.x * randomize_angle_1540259130;\n  float k = 1. / tan(calculated_angle);\n  if (k > 100000.) {\n    k = 0.;\n  }\n\n  // The length of the segment to be traversed.\n  float arc_length =  sqrt((1. + k*k)/k) * (max_r_1540259130 - a);\n  float period = arc_length / speed_0;\n\n  // Every point needs to start at a different place along the curve.\n  float stagger_time = ix_to_random_1540259130(ix, 3.);\n\n  // How long does a circuit take? Add some random noise.\n  float time_period = period * exp(box_muller_1540259130(ix, 0.031).x / 6.);\n\n  // Adjust u_time from the clock to our current spot.\n  float varying_time = time_0 + stagger_time * time_period;\n\n  // Adjust that time by raising to a power to set the speed along the curve.\n  // Not sure if this is the soundest way to parametrize.\n  float relative_time = pow(1. - mod(varying_time, time_period)/time_period, acceleration);\n\n  // Calculate the radius at this time point.\n  float radius = max_r_1540259130 * relative_time + a;\n\n  // The angle implied by that radius.\n  float theta  = 1./k * log(radius / a);\n\n  /* A different way to calculate radius from the theta. Not used\n  float max_theta = 1. / k * log(max_r / a);\n  float theta2 = max_theta * relative_time;\n  vec2 pos_theta_style = vec2(a * exp(k * theta2), theta2);\n  radius = pos_theta_style.x;\n  theta = pos_theta_style.y;\n  */\n\n  // If multiple spirals, the theta needs to be rotated for which spiral we\'re in.\n  // Choose it based on a new random seed.\n  float which_spiral = floor(ix_to_random_1540259130(ix, 13.13) * n_spirals_1540259130);\n  float which_spiral_adjust = which_spiral / n_spirals_1540259130 * tau_0;\n  theta = theta + which_spiral_adjust;\n\n  // Add some gaussian jitter to the polar coordinates.\n  vec2 polar_jitter = box_muller_1540259130(ix, 24.);\n\n  highp float radius_adjust = 1. + polar_jitter.x * randomize_radius_1540259130;\n  highp float theta_adjust = polar_jitter.y * randomize_rotation_max_radians_1540259130;\n\n  vec2 shear_adjust = box_muller_1540259130(ix, 59.1) * shear;\n\n  mat3 shear_mat = mat3(\n    1., shear_adjust.x, 0.,\n    shear_adjust.y, 1., 0.,\n    0., 0., 1.);\n  // into euclidean space.\n  vec3 pos_spiral = vec3(\n   cos(theta + theta_adjust)*(radius * radius_adjust + hole),\n   sin(theta + theta_adjust)*(radius * radius_adjust + hole),\n   0.\n  );\n  mat3 adjust_to_viewport =\n         mat3(\n            1./aspect_ratio_1540259130, 0., 0.,\n            0., 1., 0.,\n            0., 0., 1.);\n\n  pos_spiral = pos_spiral * shear_mat * \n               adjust_to_viewport;\n  return pos_spiral.xy;\n}\n\n#define FLOAT_MAX  1.70141184e38\n#define FLOAT_MIN  1.17549435e-38\n\nlowp vec4 encode_float_1604150559(highp float v) {\n  highp float av = abs(v);\n\n  //Handle special cases\n  if(av < FLOAT_MIN) {\n    return vec4(0.0, 0.0, 0.0, 0.0);\n  } else if(v > FLOAT_MAX) {\n    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;\n  } else if(v < -FLOAT_MAX) {\n    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;\n  }\n\n  highp vec4 c = vec4(0,0,0,0);\n\n  //Compute exponent and mantissa\n  highp float e = floor(log2(av));\n  highp float m = av * pow(2.0, -e) - 1.0;\n  \n  //Unpack mantissa\n  c[1] = floor(128.0 * m);\n  m -= c[1] / 128.0;\n  c[2] = floor(32768.0 * m);\n  m -= c[2] / 32768.0;\n  c[3] = floor(8388608.0 * m);\n  \n  //Unpack exponent\n  highp float ebias = e + 127.0;\n  c[0] = floor(ebias / 2.0);\n  ebias -= c[0] * 2.0;\n  c[1] += floor(ebias) * 128.0; \n\n  //Unpack sign bit\n  c[0] += 128.0 * step(0.0, -v);\n\n  //Scale back to range\n  return c / 255.0;\n}\n\n#ifndef PI\n#define PI 3.141592653589793\n#endif\n\nfloat sineInOut_0(float t) {\n  return -0.5 * (cos(PI * t) - 1.0);\n}\n\n#ifndef PI\n#define PI 3.141592653589793\n#endif\n\nfloat sineInOut(float t) {\n  return -0.5 * (cos(PI * t) - 1.0);\n}\n\nconst vec4 decoder = vec4(1./256./256./256., 1. / 256. / 256., 1. / 256., 1.);\n\nfloat RGBAtoFloat(in vec4 floater) {\n  //return 0.05;\n  // Scale values up by 256.\n  return dot(floater, decoder);\n}\n\nfloat texture_float_lookup(in sampler2D texture,\n                           in vec2 domain,\n                           in vec2 range,\n                           in float transform,\n                           in float attr,\n                           in float use_texture,\n                           in float y_attr,\n                           in vec2 y_range) {\n  if (transform == 4.0) {\n    // Literal transforms aren\'t looked up, just returned as is.\n    return attr;\n  }\n  float inrange = domainify(domain, transform, attr, true);\n  if (use_texture > 0.) {\n    float y_pos = 0.5;// linstep(y_range, y_attr);\n    vec4 encoded = texture2D(texture, vec2(y_pos, inrange));\n    return encoded.a;\n    return RGBAtoFloat(encoded);\n  } else {\n    return mix(range.x, range.y, inrange);\n  }\n}\n\nfloat texture_float_lookup(in sampler2D texture,\n                           in vec2 domain,\n                           in vec2 range,\n                           in float transform,\n                           in float attr,\n                           in float use_texture) {\n\n  return texture_float_lookup(texture,\n                              domain,\n                              range,\n                              transform,\n                              attr,use_texture,\n                              1.,\n                              vec2(0., 2.));\n}\n\nvec2 calculate_position(in vec2 position, in float x_scale_type,\n                        in vec2 x_domain, in vec2 x_range, in float y_scale_type,\n                        in vec2 y_domain, in vec2 y_range, in mat3 window_scale,\n                        in mat3 zoom, in sampler2D x_map, in float x_needs_map,\n                        in sampler2D y_map, in float y_needs_map\n                        ) {\n    float x;\n    float y;\n\n    if (x_scale_type < 4.0) {\n      x = texture_float_lookup(x_map, x_domain, x_range,\n        x_scale_type,\n        position.x, x_needs_map, 1., vec2(0., 2.)\n        );\n    } else {\n      x = position.x;\n    }\n\n    if (x_scale_type < 4.0) {\n      y = texture_float_lookup(y_map, y_domain, y_range, y_scale_type,\n        position.y, y_needs_map, 1., vec2(0., 2.)\n        );\n    } else {\n      y = position.y;\n    }\n\n    vec3 pos2d = vec3(x, y, 1.0) * window_scale * zoom * pixelspace_to_glspace;\n    return pos2d.xy;\n}\n\nfloat cubicInOut(float t) {\n  return t < 0.5\n    ? 4.0 * t * t * t\n    : 1. - 4.0 * pow(1. - t, 3.0);\n}\n\nvec4 ixToRGBA(in float ix)  {\n  float min = fract(ix / 256.);\n  float mid = fract((ix - min) / 256.);\n  float high = fract((ix - min - mid * 256.) / (256.) / 256.);\n  return vec4(min, mid, high, 1.);\n}\n\nvec2 circle_jitter(in float ix, in float aspect_ratio, in float time,\n                   in float radius, in float speed) {\n  vec2 two_gaussians = box_muller(ix, 12.);\n\n  float stagger_time = two_gaussians.y * tau;\n\n  // How long does a circuit take?\n\n  float units_per_period = radius * radius * tau / 2.;\n  float units_per_second = speed / 100.;\n  float seconds_per_period = units_per_period / units_per_second;\n  float time_period = seconds_per_period;\n  if (time_period > 1e4) {\n    return vec2(0., 0.);\n  }\n\n  // Adjust time from the clock to our current spot.\n  float varying_time = time + stagger_time * time_period;\n  // Where are we from 0 to 1 relative to the time period\n\n  float relative_time = 1. - mod(varying_time, time_period) / time_period;\n\n  float theta = relative_time * tau;\n\n  float r_mult = (sqrt(ix_to_random(ix, 7.)));\n  return vec2(cos(theta) * r_mult, aspect_ratio * sin(theta) * r_mult) *\n         radius;\n}\n\nvec2 calculate_jitter(\n  in float jitter_type,\n  in float ix, // distinguishing index\n  in sampler2D jitter_radius_map,\n  in vec2 jitter_radius_domain,\n  in vec2 jitter_radius_range,\n  in float jitter_radius_transform,\n  in float jitter_radius,\n  in float jitter_radius_needs_map,\n  in bool jitter_radius_is_constant,\n  in sampler2D jitter_speed_map,\n  in vec2 jitter_speed_domain,\n  in vec2 jitter_speed_range,\n  in float jitter_speed_transform,\n  in float jitter_speed,\n  in float jitter_speed_needs_map,\n  in bool jitter_speed_is_constant\n) {\n\n  // Jitter is calculated based on speed, so requires two full maps in.\n\n  if (jitter_type == 0.) {\n    // No jitter\n    return vec2(0., 0.);\n  }\n\n  if (jitter_type == 5.) {\n    // Temporal jitter--should be broken out into a separate channel/channels.\n    float time_period = 60.;\n    float share = 1./4.;\n    float offset = ix_to_random(ix, 12.);\n    float fractional = fract((offset * time_period + u_time)/time_period);\n    if (fractional > share) {\n      return vec2(0., 0.);\n    }\n    float size = 0.5 * (1. - cos(2. * 3.1415926 * min(fractional/share, 1. - fractional/share)));\n    size = clamp(size, 0., 1.);\n    return vec2(size, 0.);\n  }\n  float jitter_r;  \n  if (jitter_radius_is_constant) {\n    jitter_r = jitter_radius;\n  } else {\n    jitter_r = texture_float_lookup(\n    jitter_radius_map,\n    jitter_radius_domain,\n    jitter_radius_range,\n    jitter_radius_transform,\n    jitter_radius,\n    0., 0., vec2(-1., 1.));\n  }\n  if (jitter_type == 3.) {\n    float r = box_muller(ix, 1.).r * jitter_r;\n    r = r / u_k;    \n    float theta = ix_to_random(ix, 15.) * tau;\n    return vec2(cos(theta) * r, sin(theta) * r * u_width / u_height);\n  }\n\n  if (jitter_type == 2.) {\n    // uniform in the circle.\n    float theta = ix_to_random(ix, 15.) * tau;\n    float r = jitter_r * sqrt(ix_to_random(ix, 115.));\n    r = r / u_k;\n    return vec2(cos(theta) * r, sin(theta) * r * u_width / u_height);\n  }\n\n  /* Jittering that includes motion) */\n\n  float p_jitter_speed =\n      texture_float_lookup(jitter_speed_map, jitter_speed_domain,\n                          jitter_speed_range,\n                          jitter_speed_transform, jitter_speed,\n                          jitter_speed_needs_map,  1., vec2(0., 2.));\n\n  if (jitter_type == 1.) {\n    return logarithmic_spiral_jitter_1540259130(\n                ix,\n                0.005 * jitter_r,                     // a\n                1.3302036,                       // angle parameter\n                0.005,                                 // angle random\n                jitter_r,                             // max radius\n                0.03,                                 // random_rotation\n                0.06,                                 // random radius\n                0.003 * point_size_adjust * jitter_r, // donut.\n                .5 * p_jitter_speed * jitter_r / point_size_adjust, // speed\n                u_time,                                           // time\n                0.8,                                              // acceleration\n                2.0,                                              // n_spirals\n                .09, //shear\n                u_width/u_height         // shear\n            );\n  }\n\n  if (jitter_type == 4.) {\n    // circle\n    return circle_jitter(ix, u_width/u_height, u_time, jitter_r, p_jitter_speed);\n  }\n}\n\nvoid run_color_fill(in float ease) {\n  if (u_only_color >= -1.5) {\n    if (u_only_color > -.5 && a_color != u_only_color) {\n      gl_Position = discard_me;\n      return;\n    } else {\n      // -1 is a special value meaning \'plot everything\'.\n      fill = vec4(0., 0., 0., 1. / 255.);\n      gl_PointSize = 1.;\n    }\n  } else {\n    if (u_constant_color.r > -1.) {\n      fill = vec4(u_constant_color.rgb, u_current_alpha);\n    } else {\n      float fractional_color = linstep(u_color_domain, a_color);\n      fill = texture2D(u_color_map, vec2(0., fractional_color));\n      fill = vec4(fill.rgb, u_current_alpha);\n    }\n    if (ease < 1.) {\n      vec4 last_fill;\n      if (u_constant_last_color.r > 0.) {\n        last_fill = vec4(u_constant_last_color.rgb, u_last_alpha);\n      } else {\n        float last_fractional = linstep(u_last_color_domain, a_last_color);\n        last_fill = texture2D(u_last_color_map, vec2(0., last_fractional));\n        // Alpha channel interpolation already happened.\n        last_fill = vec4(last_fill.rgb, u_last_alpha);\n      }\n      // RGB blending is bad--maybe use https://www.shadertoy.com/view/lsdGzN\n      // instead?\n      fill = mix(last_fill, fill, ease);\n    }\n  }\n}\n\nvoid main() {\n\n  float ix = buffer_0;\n\n  if (ix > u_maxix) {\n    // throwaway points that are too low.\n    gl_Position = discard_me;\n    return;\n  }\n\n \n // Autogenerated below this point\n if (u_x_buffer_num > -0.5) {\n      a_x = get_buffer(u_x_buffer_num);\n      a_x_is_constant = false;\n    } else {\n      a_x = u_x_constant;\n      a_x_is_constant = true;\n    }\n\n    if (u_last_x_buffer_num > -0.5) {\n      a_last_x = get_buffer(u_last_x_buffer_num);\n      a_last_x_is_constant = false;\n    } else {\n      a_last_x = u_last_x_constant;\n      a_last_x_is_constant = true;\n    }\n\n    if (u_y_buffer_num > -0.5) {\n      a_y = get_buffer(u_y_buffer_num);\n      a_y_is_constant = false;\n    } else {\n      a_y = u_y_constant;\n      a_y_is_constant = true;\n    }\n\n    if (u_last_y_buffer_num > -0.5) {\n      a_last_y = get_buffer(u_last_y_buffer_num);\n      a_last_y_is_constant = false;\n    } else {\n      a_last_y = u_last_y_constant;\n      a_last_y_is_constant = true;\n    }\n\n    if (u_jitter_radius_buffer_num > -0.5) {\n      a_jitter_radius = get_buffer(u_jitter_radius_buffer_num);\n      a_jitter_radius_is_constant = false;\n    } else {\n      a_jitter_radius = u_jitter_radius_constant;\n      a_jitter_radius_is_constant = true;\n    }\n\n    if (u_last_jitter_radius_buffer_num > -0.5) {\n      a_last_jitter_radius = get_buffer(u_last_jitter_radius_buffer_num);\n      a_last_jitter_radius_is_constant = false;\n    } else {\n      a_last_jitter_radius = u_last_jitter_radius_constant;\n      a_last_jitter_radius_is_constant = true;\n    }\n\n    if (u_jitter_speed_buffer_num > -0.5) {\n      a_jitter_speed = get_buffer(u_jitter_speed_buffer_num);\n      a_jitter_speed_is_constant = false;\n    } else {\n      a_jitter_speed = u_jitter_speed_constant;\n      a_jitter_speed_is_constant = true;\n    }\n\n    if (u_last_jitter_speed_buffer_num > -0.5) {\n      a_last_jitter_speed = get_buffer(u_last_jitter_speed_buffer_num);\n      a_last_jitter_speed_is_constant = false;\n    } else {\n      a_last_jitter_speed = u_last_jitter_speed_constant;\n      a_last_jitter_speed_is_constant = true;\n    }\n\n    if (u_size_buffer_num > -0.5) {\n      a_size = get_buffer(u_size_buffer_num);\n      a_size_is_constant = false;\n    } else {\n      a_size = u_size_constant;\n      a_size_is_constant = true;\n    }\n\n    if (u_last_size_buffer_num > -0.5) {\n      a_last_size = get_buffer(u_last_size_buffer_num);\n      a_last_size_is_constant = false;\n    } else {\n      a_last_size = u_last_size_constant;\n      a_last_size_is_constant = true;\n    }\n\n    if (u_filter1_buffer_num > -0.5) {\n      a_filter1 = get_buffer(u_filter1_buffer_num);\n      a_filter1_is_constant = false;\n    } else {\n      a_filter1 = u_filter1_constant;\n      a_filter1_is_constant = true;\n    }\n\n    if (u_last_filter1_buffer_num > -0.5) {\n      a_last_filter1 = get_buffer(u_last_filter1_buffer_num);\n      a_last_filter1_is_constant = false;\n    } else {\n      a_last_filter1 = u_last_filter1_constant;\n      a_last_filter1_is_constant = true;\n    }\n\n    if (u_filter2_buffer_num > -0.5) {\n      a_filter2 = get_buffer(u_filter2_buffer_num);\n      a_filter2_is_constant = false;\n    } else {\n      a_filter2 = u_filter2_constant;\n      a_filter2_is_constant = true;\n    }\n\n    if (u_last_filter2_buffer_num > -0.5) {\n      a_last_filter2 = get_buffer(u_last_filter2_buffer_num);\n      a_last_filter2_is_constant = false;\n    } else {\n      a_last_filter2 = u_last_filter2_constant;\n      a_last_filter2_is_constant = true;\n    }\n    if (u_x0_buffer_num > -0.5) {\n      a_x0 = get_buffer(u_x0_buffer_num);\n      a_x0_is_constant = false;\n    } else {\n      a_x0 = u_x0_constant;\n      a_x0_is_constant = true;\n    }\n\n    if (u_last_x0_buffer_num > -0.5) {\n      a_last_x0 = get_buffer(u_last_x0_buffer_num);\n      a_last_x0_is_constant = false;\n    } else {\n      a_last_x0 = u_last_x0_constant;\n      a_last_x0_is_constant = true;\n    }\n\n    if (u_y0_buffer_num > -0.5) {\n      a_y0 = get_buffer(u_y0_buffer_num);\n      a_y0_is_constant = false;\n    } else {\n      a_y0 = u_y0_constant;\n      a_y0_is_constant = true;\n    }\n\n    if (u_last_y0_buffer_num > -0.5) {\n      a_last_y0 = get_buffer(u_last_y0_buffer_num);\n      a_last_y0_is_constant = false;\n    } else {\n      a_last_y0 = u_last_y0_constant;\n      a_last_y0_is_constant = true;\n    }\n\n//  END AUTOGENERATED. DO NOT EDIT ABOVE. \n// ------------------------------------------------    \n\n  if (u_color_buffer_num > -0.5) {\n    a_color = get_buffer(u_color_buffer_num);\n  } else {\n    a_color = ix;\n  }\n\n  if (u_last_color_buffer_num > -0.5) {\n    a_last_color = get_buffer(u_last_color_buffer_num);\n  } else {\n    a_last_color = ix;\n  }\n\n  pixelspace_to_glspace = mat3(\n      2. / u_width, 0., -1.,\n      0., - 2. / u_height, 1.,\n      0., 0., 1.\n  );\n\n  float interpolation =\n    interpolate(u_update_time, 0., u_transition_duration);\n\n  float ease = interpolation;\n//  float ease = easeCubic(interpolation);\n//  from_coord_to_gl = u_window_scale * u_zoom * pixelspace_to_glspace;\n\n  float debug_mode = 0.;\n\n  vec2 position = vec2(a_x, a_y);\n  vec2 old_position = vec2(a_last_x, a_last_y);\n\n  old_position = calculate_position(old_position, u_last_x_transform,\n     u_last_x_domain, u_last_x_range,\n     u_last_y_transform, u_last_y_domain, u_last_y_range,\n     u_last_window_scale,\n     u_zoom, u_last_x_map, u_last_x_needs_map, u_last_y_map,\n     u_last_y_needs_map);\n\n  bool plot_actual_position = u_grid_mode < .5;\n\n  if (plot_actual_position) {\n    position = calculate_position(position, u_x_transform,\n      u_x_domain, u_x_range,\n      u_y_transform, u_y_domain, u_y_range, u_window_scale, u_zoom, u_x_map,\n      u_x_needs_map, u_y_map, u_y_needs_map);\n\n    float xpos = clamp((1. + position.x) / 2., 0., 1.);\n    float randy = ix_to_random(ix, 13.76);\n    float delay = xpos + randy * .1;\n\n    delay = delay * 3.;\n    // delay = 0.;\n    float frac = interpolate(\n      u_update_time,\n      delay,\n      u_transition_duration + delay\n    );\n\n    if (u_position_interpolation_mode > 0.) {\n      // If it\'s a continuous loop, just choose a random point along that loop.\n      frac = fract(u_update_time/u_transition_duration);\n      frac = fract(frac + randy);\n    }\n\n    frac = sineInOut_0(frac);\n\n    if (frac <= 0.) {\n      position = old_position;\n    } else if (frac < 1.) {\n      // position = mix(old_position, position, u_interpolation);\n      frac = fract(frac);\n      vec2 midpoint = box_muller(ix, 3.) * .05 *\n         dot(old_position - position, old_position - position)\n         + old_position / 2. + position / 2.;\n\n      position = mix(\n        mix(old_position, midpoint, frac),\n        mix(midpoint, position, frac),\n        frac);\n    }\n\n  } else {\n     position.x = -1. + 2. * linscale(u_x_domain, position.x);\n    //position.y = -1.0;\n    vec2 jitterspec = vec2(\n      (ix_to_random(ix, 3.) * a_jitter_radius ) * 2.,\n      (ix_to_random(ix, 1.5) * a_jitter_speed ) * 2.\n    );\n\n    position = position + jitterspec;\n  }\n\n  if (debug_mode > 0.) {\n    // Just plot every point.\n    gl_PointSize = 1.;\n    fill = vec4(1., 1., 1., 1.);\n    gl_Position = vec4(position, 1., 1.);\n    return;\n  }\n\n  float filtered_by_filter1 = combine_filters(u_filter1_numeric, \n    u_filter1_domain, a_filter1,  \n    u_filter1_map,   \n    u_last_filter1_numeric, u_last_filter1_domain, a_last_filter1, \n    u_last_filter1_map, ease, ix);\n\n  if (filtered_by_filter1 <= 0.5) {\n    gl_Position = discard_me;\n    return;\n  }\n\n  float filtered_by_filter2 = combine_filters(u_filter2_numeric,\n    u_filter2_domain, a_filter2,\n    u_filter2_map,\n    u_last_filter2_numeric, u_last_filter2_domain, a_last_filter2,\n    u_last_filter2_map, ease, ix);\n\n  if (filtered_by_filter2 <= 0.5) {\n    gl_Position = discard_me;\n    return;\n  }\n\n  float size_multiplier = texture_float_lookup(\n    u_size_map, u_size_domain, u_size_range,\n    u_size_transform, a_size, u_size_needs_map);\n\n  float last_size_multiplier = texture_float_lookup(\n    u_last_size_map, u_last_size_domain, u_last_size_range,\n                                              u_last_size_transform, a_last_size,\n                                              u_last_size_needs_map);\n\n  size_multiplier = u_base_size * \n     mix(last_size_multiplier, size_multiplier, ease);\n  \n  float depth_size_adjust = (1.0 - ix / (u_maxix));\n\n  point_size_adjust = exp(log(u_k) * u_zoom_balance);\n\n  gl_PointSize = point_size_adjust * size_multiplier;\n\n  vec2 jitter = vec2(0., 0.);\n\n  if (plot_actual_position && (u_jitter > 0. || u_last_jitter > 0.)) {\n    /* JITTER */\n    float jitter_radius_fraction;\n      jitter = calculate_jitter(\n        u_jitter, ix, u_jitter_radius_map,\n        u_jitter_radius_domain,        u_jitter_radius_range,\n        u_jitter_radius_transform,        a_jitter_radius,\n        u_jitter_radius_needs_map,        a_jitter_radius_is_constant,\n        u_jitter_speed_map, u_jitter_speed_domain,\n        u_jitter_speed_range,\n        u_jitter_speed_transform, a_jitter_speed,\n        u_jitter_speed_needs_map, a_jitter_speed_is_constant\n      );\n\n    vec2 last_jitter;\n    if (ease < 1.) {\n      last_jitter = calculate_jitter(\n        u_last_jitter, ix,\n        u_last_jitter_radius_map,\n        u_last_jitter_radius_domain,        u_last_jitter_radius_range,\n        u_last_jitter_radius_transform,        a_last_jitter_radius,\n        u_last_jitter_radius_needs_map,        a_last_jitter_radius_is_constant,\n        u_last_jitter_speed_map,         u_last_jitter_speed_domain,\n        u_last_jitter_speed_range,\n        u_last_jitter_speed_transform, a_last_jitter_speed,\n        u_last_jitter_speed_needs_map,        a_last_jitter_speed_is_constant\n      );\n      jitter = mix(last_jitter, jitter, ease);\n    }\n    if (u_jitter == 5.) {\n      gl_PointSize *= jitter.x;\n      jitter = vec2(0., 0.);\n      if (gl_PointSize < 0.05) {\n        gl_Position = discard_me;\n        return;\n      }\n    }\n    gl_Position = vec4(position + jitter, 0., 1.);\n  } else {\n    gl_Position = vec4(position + jitter, 0., 1.);\n  }  \n  if (u_color_picker_mode > 0.) {\n    // Add one so the first element is distinguishable.\n    fill = encode_float_1604150559(ix + 1.);\n  } else {\n    run_color_fill(ease);\n  }\n  point_size = gl_PointSize;\n  if (u_use_glyphset > 0. && point_size > 5.0) {\n    float random_letter = floor(64. * ix_to_random(ix, 1.3));\n    letter_pos = vec2(\n      // start at a number between 0 and 7.\n      mod(random_letter, 8.) / 8.,\n      floor(random_letter / 8.) / 8.\n    );\n    gl_PointSize *= 3.0;\n  }\n}\n',count:(e,t)=>t.manager.count,attributes:{buffer_0:(e,t)=>t.manager.regl_elements.get("ix")},uniforms:{u_update_time:e.prop("update_time"),u_transition_duration:(e,t)=>t.prefs.duration,u_only_color:(e,t)=>void 0!==t.only_color?t.only_color:-2,u_use_glyphset:(e,{prefs:t})=>t.glyph_set?1:0,u_glyphset:(e,{prefs:t})=>t.glyph_set?this.get_image_texture(t.glyph_set):this.fbos.empty_texture,u_color_picker_mode:e.prop("color_picker_mode"),u_position_interpolation_mode(){return this.aes.position_interpolation?1:0},u_grid_mode:(e,{grid_mode:t})=>t,u_colors_as_grid:e.prop("colors_as_grid"),u_constant_color:()=>void 0!==this.aes.color.current.constant?this.aes.color.current.constant:[-1,-1,-1],u_constant_last_color:()=>null!=this.aes.color.last.constant?this.aes.color.last.constant:[-1,-1,-1],u_width:({viewportWidth:e})=>e,u_height:({viewportHeight:e})=>e,u_aspect_ratio:({viewportWidth:e,viewportHeight:t})=>e/t,u_zoom_balance:e.prop("zoom_balance"),u_base_size:(e,{prefs:t})=>t.point_size,u_maxix:(e,t)=>t.max_ix,u_k:(e,t)=>t.transform.k,u_window_scale:e.prop("webgl_scale"),u_last_window_scale:e.prop("last_webgl_scale"),u_time:({time:e})=>e,u_filter1_numeric(){return this.aes.filter1.current.ops_to_array()},u_last_filter1_numeric(){return this.aes.filter1.last.ops_to_array()},u_filter2_numeric(){return this.aes.filter2.current.ops_to_array()},u_last_filter2_numeric(){return this.aes.filter2.last.ops_to_array()},u_current_alpha:()=>this.optimal_alpha,u_last_alpha:()=>this.optimal_alpha,u_jitter:()=>this.aes.jitter_radius.current.jitter_int_format,u_last_jitter:()=>this.aes.jitter_radius.last.jitter_int_format,u_zoom:(e,t)=>t.zoom_matrix}};for(const n of Ke(0,16))t.attributes[`buffer_${n}`]=(e,{manager:t,buffer_num_to_variable:l})=>t.regl_elements.get(l[n])||{constant:0};for(const n of["x","y","color","jitter_radius","jitter_speed","size","filter1","filter2","character","x0","y0"])for(const e of["current","last"]){const l="current"===e?"":"last_";t.uniforms[`u_${l}${n}_map`]=()=>this.aes[n][e].textures.one_d,t.uniforms[`u_${l}${n}_needs_map`]=()=>this.aes[n][e].use_map_on_regl,t.uniforms[`u_${l}${n}_domain`]=()=>this.aes[n][e].domain,"color"!==n&&(t.uniforms[`u_${l}${n}_range`]=()=>this.aes[n][e].range),t.uniforms[`u_${l}${n}_transform`]=()=>{const t=this.aes[n][e].transform;if("linear"===t)return 1;if("sqrt"===t)return 2;if("log"===t)return 3;if("literal"===t)return 4;throw"Invalid transform"},t.uniforms[`u_${l}${n}_constant`]=()=>void 0!==this.aes[n][e].constant?this.aes[n][e].constant:this.aes[n][e].default_val,t.uniforms[`u_${l}${n}_buffer_num`]=(t,{aes_to_buffer_num:l})=>{const i=l[`${n}--${e}`];return void 0===i?-1:i}}return this._renderer=e(t),this._renderer}allocate_aesthetic_buffers(){const e=[],t=["x","y","color","size","jitter_radius","jitter_speed","character","x0","y0","filter1","filter2"];for(const r of t)for(const t of["current","last"])this.aes[r]&&this.aes[r][t].field&&e.push({aesthetic:r,time:t,field:this.aes[r][t].field});e.sort(((e,n)=>e.time<n.time?-1:n.time<e.time?1:t.indexOf(e.aesthetic)-t.indexOf(n.aesthetic)));const n={},l={ix:0};let i=0;for(const{aesthetic:r,time:a,field:c}of e){const e=`${r}--${a}`;void 0===l[c]?i++<16?(n[e]=i,l[c]=i):n[e]=n[`${r}--current`]:n[e]=l[c]}return{aes_to_buffer_num:n,variable_to_buffer_num:l,buffer_num_to_variable:[...Object.keys(l)]}}get discard_share(){return 0}}class kc{constructor(e,t,n){this.tile=t,this.regl=e,this.renderer=n,t._regl_elements=t._regl_elements||new Map,this.regl_elements=t._regl_elements}ready(e,t=!0){const{renderer:n,regl_elements:l}=this,{aes:i}=n;if(!i.is_aesthetic_set)throw"Aesthetic must be an aesthetic set";let r=[...Object.entries(i)];r=r.map((([e,t])=>{if(-1===Ic.indexOf(e))return[];const n=[];for(const l of[t.current,t.last])l.field&&n.push(l.field);return n})).flat();for(const a of r.concat(["ix"])){const e=this.regl_elements.get(a);if(null===e)return!1;if(void 0===e){if(!this.tile.ready)return!1;if(l.set(a,null),!t)return n.deferred_functions.push((()=>this.create_regl_buffer(a))),!1;this.create_regl_buffer(a)}}return!0}get count(){const{tile:e,regl_elements:t}=this;return t.has("_count")?t.get("_count"):e.ready?(t.set("_count",e.table.length),t.get("_count")):void 0}create_buffer_data(e){const{tile:t}=this;if(!t.ready)throw"Tile table not present.";const n=t.table.getColumn(`${e}_dict_index`)||t.table.getColumn(e);if(!n){throw`Requested ${e} but table has columns ${t.table.schema.fields.map((e=>e.name)).join(", ")}`}if(n.dictionary){const l=new Float32Array(t.table.length);let i=0;for(const r of n.data.values){const n=t.local_dictionary_lookups[e].get(r);l[i]=t.dictionary_lookups[e].get(n),i+=1}return l}if(n.data.values.constructor!==Float32Array){const e=new Float32Array(t.table.length);for(let l=0;l<t.table.length;l++)e[l]=n.data.values[l];return e}return n.data.values}create_regl_buffer(e){const{regl:t,regl_elements:n}=this,l=this.create_buffer_data(e),i=l.length,r=this.renderer.buffers.allocate_block(i,4);n.set(e,r),r.buffer.subdata(l,r.offset)}}class Bc{constructor(e,t){this.regl=e,this.buffer_size=t,this.buffers=[],this.buffer_offsets=[],this.generate_new_buffer()}generate_new_buffer(){this.pointer&&this.buffer_offsets.unshift(this.pointer),this.pointer=0,this.buffers.unshift(this.regl.buffer({type:"float",length:this.buffer_size,usage:"dynamic"}))}allocate_block(e,t){this.pointer+e*t>this.buffer_size&&this.generate_new_buffer();const n={buffer:this.buffers[0],offset:this.pointer,stride:t};return this.pointer+=e*t,n}}var Fc,Tc,_c,wc,Cc,jc,zc,Qc,Mc,Pc,Ec,Oc,Dc,Ac,qc,$c,eu,tu,nu,lu,iu,ru,au,cu,uu,ou={},du={},su={exports:{}};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
Fc=su,function(e){var t="object"==typeof an?an:"object"==typeof self?self:"object"==typeof this?this:{};function n(e,n){return e!==t&&("function"==typeof Object.create?Object.defineProperty(e,"__esModule",{value:!0}):e.__esModule=!0),function(t,l){return e[t]=n?n(t,l):l}}!function(e){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])};Tc=function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function l(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(l.prototype=n.prototype,new l)},_c=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},wc=function(e,t){var n={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(n[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(l=Object.getOwnPropertySymbols(e);i<l.length;i++)t.indexOf(l[i])<0&&Object.prototype.propertyIsEnumerable.call(e,l[i])&&(n[l[i]]=e[l[i]])}return n},Cc=function(e,t,n,l){var i,r=arguments.length,a=r<3?t:null===l?l=Object.getOwnPropertyDescriptor(t,n):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,l);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},jc=function(e,t){return function(n,l){t(n,l,e)}},zc=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Qc=function(e,t,n,l){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,r){function a(e){try{u(l.next(e))}catch(t){r(t)}}function c(e){try{u(l.throw(e))}catch(t){r(t)}}function u(e){e.done?n(e.value):i(e.value).then(a,c)}u((l=l.apply(e,t||[])).next())}))},Mc=function(e,t){var n,l,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(e){return function(t){return u([e,t])}}function u(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,l&&(i=2&r[0]?l.return:r[0]?l.throw||((i=l.return)&&i.call(l),0):l.next)&&!(i=i.call(l,r[1])).done)return i;switch(l=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,l=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==r[0]&&2!==r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(c){r=[6,c],l=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},Pc=function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||uu(t,e,n)},uu=Object.create?function(e,t,n,l){void 0===l&&(l=n),Object.defineProperty(e,l,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,l){void 0===l&&(l=n),e[l]=t[n]},Ec=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],l=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&l>=e.length&&(e=void 0),{value:e&&e[l++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Oc=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,r=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=r.next()).done;)a.push(l.value)}catch(c){i={error:c}}finally{try{l&&!l.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return a},Dc=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Oc(arguments[t]));return e},Ac=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var l=Array(e),i=0;for(t=0;t<n;t++)for(var r=arguments[t],a=0,c=r.length;a<c;a++,i++)l[i]=r[a];return l},qc=function(e,t,n){if(n||2===arguments.length)for(var l,i=0,r=t.length;i<r;i++)!l&&i in t||(l||(l=Array.prototype.slice.call(t,0,i)),l[i]=t[i]);return e.concat(l||Array.prototype.slice.call(t))},$c=function(e){return this instanceof $c?(this.v=e,this):new $c(e)},eu=function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l,i=n.apply(e,t||[]),r=[];return l={},a("next"),a("throw"),a("return"),l[Symbol.asyncIterator]=function(){return this},l;function a(e){i[e]&&(l[e]=function(t){return new Promise((function(n,l){r.push([e,t,n,l])>1||c(e,t)}))})}function c(e,t){try{u(i[e](t))}catch(n){s(r[0][3],n)}}function u(e){e.value instanceof $c?Promise.resolve(e.value.v).then(o,d):s(r[0][2],e)}function o(e){c("next",e)}function d(e){c("throw",e)}function s(e,t){e(t),r.shift(),r.length&&c(r[0][0],r[0][1])}},tu=function(e){var t,n;return t={},l("next"),l("throw",(function(e){throw e})),l("return"),t[Symbol.iterator]=function(){return this},t;function l(l,i){t[l]=e[l]?function(t){return(n=!n)?{value:$c(e[l](t)),done:"return"===l}:i?i(t):t}:i}},nu=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=Ec(e),t={},l("next"),l("throw"),l("return"),t[Symbol.asyncIterator]=function(){return this},t);function l(n){t[n]=e[n]&&function(t){return new Promise((function(l,r){i(l,r,(t=e[n](t)).done,t.value)}))}}function i(e,t,n,l){Promise.resolve(l).then((function(t){e({value:t,done:n})}),t)}},lu=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};var n=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};iu=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var l in e)"default"!==l&&Object.prototype.hasOwnProperty.call(e,l)&&uu(t,e,l);return n(t,e),t},ru=function(e){return e&&e.__esModule?e:{default:e}},au=function(e,t,n,l){if("a"===n&&!l)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!l:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?l:"a"===n?l.call(e):l?l.value:t.get(e)},cu=function(e,t,n,l,i){if("m"===l)throw new TypeError("Private method is not writable");if("a"===l&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===l?i.call(e,n):i?i.value=n:t.set(e,n),n},e("__extends",Tc),e("__assign",_c),e("__rest",wc),e("__decorate",Cc),e("__param",jc),e("__metadata",zc),e("__awaiter",Qc),e("__generator",Mc),e("__exportStar",Pc),e("__createBinding",uu),e("__values",Ec),e("__read",Oc),e("__spread",Dc),e("__spreadArrays",Ac),e("__spreadArray",qc),e("__await",$c),e("__asyncGenerator",eu),e("__asyncDelegator",tu),e("__asyncValues",nu),e("__makeTemplateObject",lu),e("__importStar",iu),e("__importDefault",ru),e("__classPrivateFieldGet",au),e("__classPrivateFieldSet",cu)}(n(t,n(Fc.exports)))}();var mu={},bu={};bu.Offset,bu.Table,bu.SIZEOF_SHORT=2,bu.SIZEOF_INT=4,bu.FILE_IDENTIFIER_LENGTH=4,bu.SIZE_PREFIX_LENGTH=4,bu.Encoding={UTF8_BYTES:1,UTF16_STRING:2},bu.int32=new Int32Array(2),bu.float32=new Float32Array(bu.int32.buffer),bu.float64=new Float64Array(bu.int32.buffer),bu.isLittleEndian=1===new Uint16Array(new Uint8Array([1,0]).buffer)[0],bu.Long=function(e,t){this.low=0|e,this.high=0|t},bu.Long.create=function(e,t){return 0==e&&0==t?bu.Long.ZERO:new bu.Long(e,t)},bu.Long.prototype.toFloat64=function(){return(this.low>>>0)+4294967296*this.high},bu.Long.prototype.equals=function(e){return this.low==e.low&&this.high==e.high},bu.Long.ZERO=new bu.Long(0,0),bu.Builder=function(e){if(e)t=e;else var t=1024;this.bb=bu.ByteBuffer.allocate(t),this.space=t,this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},bu.Builder.prototype.clear=function(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},bu.Builder.prototype.forceDefaults=function(e){this.force_defaults=e},bu.Builder.prototype.dataBuffer=function(){return this.bb},bu.Builder.prototype.asUint8Array=function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())},bu.Builder.prototype.prep=function(e,t){e>this.minalign&&(this.minalign=e);for(var n=1+~(this.bb.capacity()-this.space+t)&e-1;this.space<n+e+t;){var l=this.bb.capacity();this.bb=bu.Builder.growByteBuffer(this.bb),this.space+=this.bb.capacity()-l}this.pad(n)},bu.Builder.prototype.pad=function(e){for(var t=0;t<e;t++)this.bb.writeInt8(--this.space,0)},bu.Builder.prototype.writeInt8=function(e){this.bb.writeInt8(this.space-=1,e)},bu.Builder.prototype.writeInt16=function(e){this.bb.writeInt16(this.space-=2,e)},bu.Builder.prototype.writeInt32=function(e){this.bb.writeInt32(this.space-=4,e)},bu.Builder.prototype.writeInt64=function(e){this.bb.writeInt64(this.space-=8,e)},bu.Builder.prototype.writeFloat32=function(e){this.bb.writeFloat32(this.space-=4,e)},bu.Builder.prototype.writeFloat64=function(e){this.bb.writeFloat64(this.space-=8,e)},bu.Builder.prototype.addInt8=function(e){this.prep(1,0),this.writeInt8(e)},bu.Builder.prototype.addInt16=function(e){this.prep(2,0),this.writeInt16(e)},bu.Builder.prototype.addInt32=function(e){this.prep(4,0),this.writeInt32(e)},bu.Builder.prototype.addInt64=function(e){this.prep(8,0),this.writeInt64(e)},bu.Builder.prototype.addFloat32=function(e){this.prep(4,0),this.writeFloat32(e)},bu.Builder.prototype.addFloat64=function(e){this.prep(8,0),this.writeFloat64(e)},bu.Builder.prototype.addFieldInt8=function(e,t,n){(this.force_defaults||t!=n)&&(this.addInt8(t),this.slot(e))},bu.Builder.prototype.addFieldInt16=function(e,t,n){(this.force_defaults||t!=n)&&(this.addInt16(t),this.slot(e))},bu.Builder.prototype.addFieldInt32=function(e,t,n){(this.force_defaults||t!=n)&&(this.addInt32(t),this.slot(e))},bu.Builder.prototype.addFieldInt64=function(e,t,n){!this.force_defaults&&t.equals(n)||(this.addInt64(t),this.slot(e))},bu.Builder.prototype.addFieldFloat32=function(e,t,n){(this.force_defaults||t!=n)&&(this.addFloat32(t),this.slot(e))},bu.Builder.prototype.addFieldFloat64=function(e,t,n){(this.force_defaults||t!=n)&&(this.addFloat64(t),this.slot(e))},bu.Builder.prototype.addFieldOffset=function(e,t,n){(this.force_defaults||t!=n)&&(this.addOffset(t),this.slot(e))},bu.Builder.prototype.addFieldStruct=function(e,t,n){t!=n&&(this.nested(t),this.slot(e))},bu.Builder.prototype.nested=function(e){if(e!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")},bu.Builder.prototype.notNested=function(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")},bu.Builder.prototype.slot=function(e){this.vtable[e]=this.offset()},bu.Builder.prototype.offset=function(){return this.bb.capacity()-this.space},bu.Builder.growByteBuffer=function(e){var t=e.capacity();if(3221225472&t)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var n=t<<1,l=bu.ByteBuffer.allocate(n);return l.setPosition(n-t),l.bytes().set(e.bytes(),n-t),l},bu.Builder.prototype.addOffset=function(e){this.prep(bu.SIZEOF_INT,0),this.writeInt32(this.offset()-e+bu.SIZEOF_INT)},bu.Builder.prototype.startObject=function(e){this.notNested(),null==this.vtable&&(this.vtable=[]),this.vtable_in_use=e;for(var t=0;t<e;t++)this.vtable[t]=0;this.isNested=!0,this.object_start=this.offset()},bu.Builder.prototype.endObject=function(){if(null==this.vtable||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var e=this.offset(),t=this.vtable_in_use-1;t>=0&&0==this.vtable[t];t--);for(var n=t+1;t>=0;t--)this.addInt16(0!=this.vtable[t]?e-this.vtable[t]:0);this.addInt16(e-this.object_start);var l=(n+2)*bu.SIZEOF_SHORT;this.addInt16(l);var i=0,r=this.space;e:for(t=0;t<this.vtables.length;t++){var a=this.bb.capacity()-this.vtables[t];if(l==this.bb.readInt16(a)){for(var c=bu.SIZEOF_SHORT;c<l;c+=bu.SIZEOF_SHORT)if(this.bb.readInt16(r+c)!=this.bb.readInt16(a+c))continue e;i=this.vtables[t];break}}return i?(this.space=this.bb.capacity()-e,this.bb.writeInt32(this.space,i-e)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-e,this.offset()-e)),this.isNested=!1,e},bu.Builder.prototype.finish=function(e,t,n){var l=n?bu.SIZE_PREFIX_LENGTH:0;if(t){var i=t;if(this.prep(this.minalign,bu.SIZEOF_INT+bu.FILE_IDENTIFIER_LENGTH+l),i.length!=bu.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+bu.FILE_IDENTIFIER_LENGTH);for(var r=bu.FILE_IDENTIFIER_LENGTH-1;r>=0;r--)this.writeInt8(i.charCodeAt(r))}this.prep(this.minalign,bu.SIZEOF_INT+l),this.addOffset(e),l&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)},bu.Builder.prototype.finishSizePrefixed=function(e,t){this.finish(e,t,!0)},bu.Builder.prototype.requiredField=function(e,t){var n=this.bb.capacity()-e,l=n-this.bb.readInt32(n);if(!(0!=this.bb.readInt16(l+t)))throw new Error("FlatBuffers: field "+t+" must be set")},bu.Builder.prototype.startVector=function(e,t,n){this.notNested(),this.vector_num_elems=t,this.prep(bu.SIZEOF_INT,e*t),this.prep(n,e*t)},bu.Builder.prototype.endVector=function(){return this.writeInt32(this.vector_num_elems),this.offset()},bu.Builder.prototype.createString=function(e){if(e instanceof Uint8Array)var t=e;else{t=[];for(var n=0;n<e.length;){var l,i=e.charCodeAt(n++);if(i<55296||i>=56320)l=i;else l=(i<<10)+e.charCodeAt(n++)+-56613888;l<128?t.push(l):(l<2048?t.push(l>>6&31|192):(l<65536?t.push(l>>12&15|224):t.push(l>>18&7|240,l>>12&63|128),t.push(l>>6&63|128)),t.push(63&l|128))}}this.addInt8(0),this.startVector(1,t.length,1),this.bb.setPosition(this.space-=t.length);n=0;for(var r=this.space,a=this.bb.bytes();n<t.length;n++)a[r++]=t[n];return this.endVector()},bu.Builder.prototype.createLong=function(e,t){return bu.Long.create(e,t)},bu.ByteBuffer=function(e){this.bytes_=e,this.position_=0},bu.ByteBuffer.allocate=function(e){return new bu.ByteBuffer(new Uint8Array(e))},bu.ByteBuffer.prototype.clear=function(){this.position_=0},bu.ByteBuffer.prototype.bytes=function(){return this.bytes_},bu.ByteBuffer.prototype.position=function(){return this.position_},bu.ByteBuffer.prototype.setPosition=function(e){this.position_=e},bu.ByteBuffer.prototype.capacity=function(){return this.bytes_.length},bu.ByteBuffer.prototype.readInt8=function(e){return this.readUint8(e)<<24>>24},bu.ByteBuffer.prototype.readUint8=function(e){return this.bytes_[e]},bu.ByteBuffer.prototype.readInt16=function(e){return this.readUint16(e)<<16>>16},bu.ByteBuffer.prototype.readUint16=function(e){return this.bytes_[e]|this.bytes_[e+1]<<8},bu.ByteBuffer.prototype.readInt32=function(e){return this.bytes_[e]|this.bytes_[e+1]<<8|this.bytes_[e+2]<<16|this.bytes_[e+3]<<24},bu.ByteBuffer.prototype.readUint32=function(e){return this.readInt32(e)>>>0},bu.ByteBuffer.prototype.readInt64=function(e){return new bu.Long(this.readInt32(e),this.readInt32(e+4))},bu.ByteBuffer.prototype.readUint64=function(e){return new bu.Long(this.readUint32(e),this.readUint32(e+4))},bu.ByteBuffer.prototype.readFloat32=function(e){return bu.int32[0]=this.readInt32(e),bu.float32[0]},bu.ByteBuffer.prototype.readFloat64=function(e){return bu.int32[bu.isLittleEndian?0:1]=this.readInt32(e),bu.int32[bu.isLittleEndian?1:0]=this.readInt32(e+4),bu.float64[0]},bu.ByteBuffer.prototype.writeInt8=function(e,t){this.bytes_[e]=t},bu.ByteBuffer.prototype.writeUint8=function(e,t){this.bytes_[e]=t},bu.ByteBuffer.prototype.writeInt16=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8},bu.ByteBuffer.prototype.writeUint16=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8},bu.ByteBuffer.prototype.writeInt32=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24},bu.ByteBuffer.prototype.writeUint32=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24},bu.ByteBuffer.prototype.writeInt64=function(e,t){this.writeInt32(e,t.low),this.writeInt32(e+4,t.high)},bu.ByteBuffer.prototype.writeUint64=function(e,t){this.writeUint32(e,t.low),this.writeUint32(e+4,t.high)},bu.ByteBuffer.prototype.writeFloat32=function(e,t){bu.float32[0]=t,this.writeInt32(e,bu.int32[0])},bu.ByteBuffer.prototype.writeFloat64=function(e,t){bu.float64[0]=t,this.writeInt32(e,bu.int32[bu.isLittleEndian?0:1]),this.writeInt32(e+4,bu.int32[bu.isLittleEndian?1:0])},bu.ByteBuffer.prototype.getBufferIdentifier=function(){if(this.bytes_.length<this.position_+bu.SIZEOF_INT+bu.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");for(var e="",t=0;t<bu.FILE_IDENTIFIER_LENGTH;t++)e+=String.fromCharCode(this.readInt8(this.position_+bu.SIZEOF_INT+t));return e},bu.ByteBuffer.prototype.__offset=function(e,t){var n=e-this.readInt32(e);return t<this.readInt16(n)?this.readInt16(n+t):0},bu.ByteBuffer.prototype.__union=function(e,t){return e.bb_pos=t+this.readInt32(t),e.bb=this,e},bu.ByteBuffer.prototype.__string=function(e,t){e+=this.readInt32(e);var n=this.readInt32(e),l="",i=0;if(e+=bu.SIZEOF_INT,t===bu.Encoding.UTF8_BYTES)return this.bytes_.subarray(e,e+n);for(;i<n;){var r,a=this.readUint8(e+i++);if(a<192)r=a;else{var c=this.readUint8(e+i++);if(a<224)r=(31&a)<<6|63&c;else{var u=this.readUint8(e+i++);if(a<240)r=(15&a)<<12|(63&c)<<6|63&u;else r=(7&a)<<18|(63&c)<<12|(63&u)<<6|63&this.readUint8(e+i++)}}r<65536?l+=String.fromCharCode(r):(r-=65536,l+=String.fromCharCode(55296+(r>>10),56320+(1023&r)))}return l},bu.ByteBuffer.prototype.__indirect=function(e){return e+this.readInt32(e)},bu.ByteBuffer.prototype.__vector=function(e){return e+this.readInt32(e)+bu.SIZEOF_INT},bu.ByteBuffer.prototype.__vector_len=function(e){return this.readInt32(e+this.readInt32(e))},bu.ByteBuffer.prototype.__has_identifier=function(e){if(e.length!=bu.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+bu.FILE_IDENTIFIER_LENGTH);for(var t=0;t<bu.FILE_IDENTIFIER_LENGTH;t++)if(e.charCodeAt(t)!=this.readInt8(this.position_+bu.SIZEOF_INT+t))return!1;return!0},bu.ByteBuffer.prototype.createLong=function(e,t){return bu.Long.create(e,t)};var Zu=cn(Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",flatbuffers:bu})),pu={};Object.defineProperty(pu,"__esModule",{value:!0}),pu.encodeUtf8=pu.decodeUtf8=void 0;var hu=new TextDecoder("utf-8");pu.decodeUtf8=function(e){return hu.decode(e)};var yu=new TextEncoder;pu.encodeUtf8=function(e){return yu.encode(e)};var fu={},Vu={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.AsyncQueue=e.ReadableInterop=e.ArrowJSON=e.ITERATOR_DONE=void 0;var t=su.exports,n=du;e.ITERATOR_DONE=Object.freeze({done:!0,value:void 0});var l=function(){function e(e){this._json=e}return Object.defineProperty(e.prototype,"schema",{get:function(){return this._json.schema},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"batches",{get:function(){return this._json.batches||[]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dictionaries",{get:function(){return this._json.dictionaries||[]},enumerable:!1,configurable:!0}),e}();e.ArrowJSON=l;var i=function(){function e(){}return e.prototype.tee=function(){return this._getDOMStream().tee()},e.prototype.pipe=function(e,t){return this._getNodeStream().pipe(e,t)},e.prototype.pipeTo=function(e,t){return this._getDOMStream().pipeTo(e,t)},e.prototype.pipeThrough=function(e,t){return this._getDOMStream().pipeThrough(e,t)},e.prototype._getDOMStream=function(){return this._DOMStream||(this._DOMStream=this.toDOMStream())},e.prototype._getNodeStream=function(){return this._nodeStream||(this._nodeStream=this.toNodeStream())},e}();e.ReadableInterop=i;var r=function(l){function i(){var e=l.call(this)||this;return e._values=[],e.resolvers=[],e._closedPromise=new Promise((function(t){return e._closedPromiseResolve=t})),e}return t.__extends(i,l),Object.defineProperty(i.prototype,"closed",{get:function(){return this._closedPromise},enumerable:!1,configurable:!0}),i.prototype.cancel=function(e){return t.__awaiter(this,void 0,void 0,(function(){return t.__generator(this,(function(t){switch(t.label){case 0:return[4,this.return(e)];case 1:return t.sent(),[2]}}))}))},i.prototype.write=function(e){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(e):this.resolvers.shift().resolve({done:!1,value:e}))},i.prototype.abort=function(e){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:e}:this.resolvers.shift().reject({done:!0,value:e}))},i.prototype.close=function(){if(this._closedPromiseResolve){for(var t=this.resolvers;t.length>0;)t.shift().resolve(e.ITERATOR_DONE);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}},i.prototype[Symbol.asyncIterator]=function(){return this},i.prototype.toDOMStream=function(e){return n.default.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,e)},i.prototype.toNodeStream=function(e){return n.default.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,e)},i.prototype.throw=function(n){return t.__awaiter(this,void 0,void 0,(function(){return t.__generator(this,(function(t){switch(t.label){case 0:return[4,this.abort(n)];case 1:return t.sent(),[2,e.ITERATOR_DONE]}}))}))},i.prototype.return=function(n){return t.__awaiter(this,void 0,void 0,(function(){return t.__generator(this,(function(t){switch(t.label){case 0:return[4,this.close()];case 1:return t.sent(),[2,e.ITERATOR_DONE]}}))}))},i.prototype.read=function(e){return t.__awaiter(this,void 0,void 0,(function(){return t.__generator(this,(function(t){switch(t.label){case 0:return[4,this.next(e,"read")];case 1:return[2,t.sent().value]}}))}))},i.prototype.peek=function(e){return t.__awaiter(this,void 0,void 0,(function(){return t.__generator(this,(function(t){switch(t.label){case 0:return[4,this.next(e,"peek")];case 1:return[2,t.sent().value]}}))}))},i.prototype.next=function(){for(var t=this,n=[],l=0;l<arguments.length;l++)n[l]=arguments[l];return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((function(e,n){t.resolvers.push({resolve:e,reject:n})})):Promise.resolve(e.ITERATOR_DONE)},i.prototype._ensureOpen=function(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")},i}(i);e.AsyncQueue=r}(Vu),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isReadableNodeStream=e.isWritableNodeStream=e.isReadableDOMStream=e.isWritableDOMStream=e.isFetchResponse=e.isFSReadStream=e.isFileHandle=e.isUnderlyingSink=e.isIteratorResult=e.isArrayLike=e.isArrowJSON=e.isAsyncIterable=e.isIterable=e.isObservable=e.isPromise=e.isObject=e.BigUint64ArrayAvailable=e.BigUint64Array=e.BigInt64ArrayAvailable=e.BigInt64Array=e.BigIntAvailable=e.BigInt=void 0;var t=su.exports,n=Vu,l=t.__read(function(){var e=function(){throw new Error("BigInt is not available in this environment")};function t(){throw e()}return t.asIntN=function(){throw e()},t.asUintN=function(){throw e()},"undefined"!=typeof BigInt?[BigInt,!0]:[t,!1]}(),2),i=l[0],r=l[1];e.BigInt=i,e.BigIntAvailable=r;var a,c,u=t.__read((a=function(){throw new Error("BigInt64Array is not available in this environment")},c=function(){function e(){throw a()}return Object.defineProperty(e,"BYTES_PER_ELEMENT",{get:function(){return 8},enumerable:!1,configurable:!0}),e.of=function(){throw a()},e.from=function(){throw a()},e}(),"undefined"!=typeof BigInt64Array?[BigInt64Array,!0]:[c,!1]),2),o=u[0],d=u[1];e.BigInt64Array=o,e.BigInt64ArrayAvailable=d;var s,m,b=t.__read((s=function(){throw new Error("BigUint64Array is not available in this environment")},m=function(){function e(){throw s()}return Object.defineProperty(e,"BYTES_PER_ELEMENT",{get:function(){return 8},enumerable:!1,configurable:!0}),e.of=function(){throw s()},e.from=function(){throw s()},e}(),"undefined"!=typeof BigUint64Array?[BigUint64Array,!0]:[m,!1]),2),Z=b[0],p=b[1];e.BigUint64Array=Z,e.BigUint64ArrayAvailable=p;var h=function(e){return"number"==typeof e},y=function(e){return"boolean"==typeof e},f=function(e){return"function"==typeof e};e.isObject=function(e){return null!=e&&Object(e)===e},e.isPromise=function(t){return e.isObject(t)&&f(t.then)},e.isObservable=function(t){return e.isObject(t)&&f(t.subscribe)},e.isIterable=function(t){return e.isObject(t)&&f(t[Symbol.iterator])},e.isAsyncIterable=function(t){return e.isObject(t)&&f(t[Symbol.asyncIterator])},e.isArrowJSON=function(t){return e.isObject(t)&&e.isObject(t.schema)},e.isArrayLike=function(t){return e.isObject(t)&&h(t.length)},e.isIteratorResult=function(t){return e.isObject(t)&&"done"in t&&"value"in t},e.isUnderlyingSink=function(t){return e.isObject(t)&&f(t.abort)&&f(t.close)&&f(t.start)&&f(t.write)},e.isFileHandle=function(t){return e.isObject(t)&&f(t.stat)&&h(t.fd)},e.isFSReadStream=function(t){return e.isReadableNodeStream(t)&&h(t.bytesRead)},e.isFetchResponse=function(t){return e.isObject(t)&&e.isReadableDOMStream(t.body)},e.isWritableDOMStream=function(t){return e.isObject(t)&&f(t.abort)&&f(t.getWriter)&&!(t instanceof n.ReadableInterop)},e.isReadableDOMStream=function(t){return e.isObject(t)&&f(t.cancel)&&f(t.getReader)&&!(t instanceof n.ReadableInterop)},e.isWritableNodeStream=function(t){return e.isObject(t)&&f(t.end)&&f(t.write)&&y(t.writable)&&!(t instanceof n.ReadableInterop)},e.isReadableNodeStream=function(t){return e.isObject(t)&&f(t.read)&&f(t.pipe)&&y(t.readable)&&!(t instanceof n.ReadableInterop)}}(fu),Object.defineProperty(mu,"__esModule",{value:!0}),mu.compareArrayLike=mu.rebaseValueOffsets=mu.toUint8ClampedArrayAsyncIterator=mu.toFloat64ArrayAsyncIterator=mu.toFloat32ArrayAsyncIterator=mu.toUint32ArrayAsyncIterator=mu.toUint16ArrayAsyncIterator=mu.toUint8ArrayAsyncIterator=mu.toInt32ArrayAsyncIterator=mu.toInt16ArrayAsyncIterator=mu.toInt8ArrayAsyncIterator=mu.toArrayBufferViewAsyncIterator=mu.toUint8ClampedArrayIterator=mu.toFloat64ArrayIterator=mu.toFloat32ArrayIterator=mu.toUint32ArrayIterator=mu.toUint16ArrayIterator=mu.toUint8ArrayIterator=mu.toInt32ArrayIterator=mu.toInt16ArrayIterator=mu.toInt8ArrayIterator=mu.toArrayBufferViewIterator=mu.toUint8ClampedArray=mu.toFloat64Array=mu.toFloat32Array=mu.toBigUint64Array=mu.toUint32Array=mu.toUint16Array=mu.toUint8Array=mu.toBigInt64Array=mu.toInt32Array=mu.toInt16Array=mu.toInt8Array=mu.toArrayBufferView=mu.joinUint8Arrays=mu.memcpy=void 0;var Xu=su.exports,Wu=pu,Gu=Zu.flatbuffers.ByteBuffer,Ru=fu,Su="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:ArrayBuffer;function vu(e,t,n,l){void 0===n&&(n=0),void 0===l&&(l=t.byteLength);var i=e.byteLength,r=new Uint8Array(e.buffer,e.byteOffset,i),a=new Uint8Array(t.buffer,t.byteOffset,Math.min(l,i));return r.set(a,n),e}function Lu(e,t){var n=Ru.isIteratorResult(t)?t.value:t;return n instanceof e?e===Uint8Array?new e(n.buffer,n.byteOffset,n.byteLength):n:n?("string"==typeof n&&(n=Wu.encodeUtf8(n)),n instanceof ArrayBuffer||n instanceof Su?new e(n):n instanceof Gu?Lu(e,n.bytes()):ArrayBuffer.isView(n)?n.byteLength<=0?new e(0):new e(n.buffer,n.byteOffset,n.byteLength/e.BYTES_PER_ELEMENT):e.from(n)):new e(0)}mu.memcpy=vu,mu.joinUint8Arrays=function(e,t){for(var n,l,i,r=function(e){for(var t,n,l,i,r=e[0]?[e[0]]:[],a=void 0,c=void 0,u=0,o=0,d=e.length;++u<d;)a=r[o],c=e[u],!a||!c||a.buffer!==c.buffer||c.byteOffset<a.byteOffset?c&&(r[++o]=c):(t=a.byteOffset,l=a.byteLength,n=c.byteOffset,i=c.byteLength,t+l<n||n+i<t?c&&(r[++o]=c):r[o]=new Uint8Array(a.buffer,t,n-t+i));return r}(e),a=r.reduce((function(e,t){return e+t.byteLength}),0),c=0,u=-1,o=Math.min(t||1/0,a),d=r.length;++u<d;){if(o<=c+(l=(n=r[u]).subarray(0,Math.min(n.length,o-c))).length){l.length<n.length?r[u]=n.subarray(l.length):l.length===n.length&&u++,i?vu(i,l,c):i=l;break}vu(i||(i=new Uint8Array(o)),l,c),c+=l.length}return[i||new Uint8Array(0),r.slice(u),a-(i?i.byteLength:0)]},mu.toArrayBufferView=Lu,mu.toInt8Array=function(e){return Lu(Int8Array,e)},mu.toInt16Array=function(e){return Lu(Int16Array,e)},mu.toInt32Array=function(e){return Lu(Int32Array,e)},mu.toBigInt64Array=function(e){return Lu(Ru.BigInt64Array,e)},mu.toUint8Array=function(e){return Lu(Uint8Array,e)},mu.toUint16Array=function(e){return Lu(Uint16Array,e)},mu.toUint32Array=function(e){return Lu(Uint32Array,e)},mu.toBigUint64Array=function(e){return Lu(Ru.BigUint64Array,e)},mu.toFloat32Array=function(e){return Lu(Float32Array,e)},mu.toFloat64Array=function(e){return Lu(Float64Array,e)},mu.toUint8ClampedArray=function(e){return Lu(Uint8ClampedArray,e)};var Yu=function(e){return e.next(),e};function Ju(e,t){var n,l;return Xu.__generator(this,(function(i){switch(i.label){case 0:return n=function(e){return Xu.__generator(this,(function(t){switch(t.label){case 0:return[4,e];case 1:return t.sent(),[2]}}))},l="string"==typeof t||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof Su?n(t):Ru.isIterable(t)?t:n(t),[5,Xu.__values(Yu(function(t){var n,l,i;return Xu.__generator(this,(function(r){switch(r.label){case 0:n=null,r.label=1;case 1:return i=(l=t).next,[4,Lu(e,n)];case 2:n=i.apply(l,[r.sent()]),r.label=3;case 3:if(!n.done)return[3,1];r.label=4;case 4:return[2]}}))}(l[Symbol.iterator]())))];case 1:return i.sent(),[2,new e]}}))}function xu(e,t){return Xu.__asyncGenerator(this,arguments,(function(){var n,l,i,r,a;return Xu.__generator(this,(function(c){switch(c.label){case 0:return Ru.isPromise(t)?(n=xu,l=[e],[4,Xu.__await(t)]):[3,5];case 1:return[5,Xu.__values(Xu.__asyncDelegator.apply(void 0,[Xu.__asyncValues.apply(void 0,[n.apply(void 0,l.concat([c.sent()]))])]))];case 2:case 3:return[4,Xu.__await.apply(void 0,[c.sent()])];case 4:return[2,c.sent()];case 5:return i=function(e){return Xu.__asyncGenerator(this,arguments,(function(){return Xu.__generator(this,(function(t){switch(t.label){case 0:return[4,Xu.__await(e)];case 1:return[4,Xu.__await.apply(void 0,[t.sent()])];case 2:return[4,t.sent()];case 3:return t.sent(),[2]}}))}))},r=function(e){return Xu.__asyncGenerator(this,arguments,(function(){return Xu.__generator(this,(function(t){switch(t.label){case 0:return[5,Xu.__values(Xu.__asyncDelegator(Xu.__asyncValues(Yu(function(e){var t,n,l;return Xu.__generator(this,(function(i){switch(i.label){case 0:t=null,i.label=1;case 1:return l=(n=e).next,[4,null==t?void 0:t.value];case 2:t=l.apply(n,[i.sent()]),i.label=3;case 3:if(!t.done)return[3,1];i.label=4;case 4:return[2]}}))}(e[Symbol.iterator]())))))];case 1:return[4,Xu.__await.apply(void 0,[t.sent()])];case 2:return t.sent(),[2]}}))}))},a="string"==typeof t||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof Su?i(t):Ru.isIterable(t)?r(t):Ru.isAsyncIterable(t)?t:i(t),[5,Xu.__values(Xu.__asyncDelegator(Xu.__asyncValues(Yu(function(t){return Xu.__asyncGenerator(this,arguments,(function(){var n,l,i;return Xu.__generator(this,(function(r){switch(r.label){case 0:n=null,r.label=1;case 1:return i=(l=t).next,[4,Xu.__await(Lu(e,n))];case 2:return[4,r.sent()];case 3:return[4,Xu.__await.apply(void 0,[i.apply(l,[r.sent()])])];case 4:n=r.sent(),r.label=5;case 5:if(!n.done)return[3,1];r.label=6;case 6:return[2]}}))}))}(a[Symbol.asyncIterator]())))))];case 6:return[4,Xu.__await.apply(void 0,[c.sent()])];case 7:return c.sent(),[4,Xu.__await(new e)];case 8:return[2,c.sent()]}}))}))}mu.toArrayBufferViewIterator=Ju,mu.toInt8ArrayIterator=function(e){return Ju(Int8Array,e)},mu.toInt16ArrayIterator=function(e){return Ju(Int16Array,e)},mu.toInt32ArrayIterator=function(e){return Ju(Int32Array,e)},mu.toUint8ArrayIterator=function(e){return Ju(Uint8Array,e)},mu.toUint16ArrayIterator=function(e){return Ju(Uint16Array,e)},mu.toUint32ArrayIterator=function(e){return Ju(Uint32Array,e)},mu.toFloat32ArrayIterator=function(e){return Ju(Float32Array,e)},mu.toFloat64ArrayIterator=function(e){return Ju(Float64Array,e)},mu.toUint8ClampedArrayIterator=function(e){return Ju(Uint8ClampedArray,e)},mu.toArrayBufferViewAsyncIterator=xu,mu.toInt8ArrayAsyncIterator=function(e){return xu(Int8Array,e)},mu.toInt16ArrayAsyncIterator=function(e){return xu(Int16Array,e)},mu.toInt32ArrayAsyncIterator=function(e){return xu(Int32Array,e)},mu.toUint8ArrayAsyncIterator=function(e){return xu(Uint8Array,e)},mu.toUint16ArrayAsyncIterator=function(e){return xu(Uint16Array,e)},mu.toUint32ArrayAsyncIterator=function(e){return xu(Uint32Array,e)},mu.toFloat32ArrayAsyncIterator=function(e){return xu(Float32Array,e)},mu.toFloat64ArrayAsyncIterator=function(e){return xu(Float64Array,e)},mu.toUint8ClampedArrayAsyncIterator=function(e){return xu(Uint8ClampedArray,e)},mu.rebaseValueOffsets=function(e,t,n){if(0!==e){n=n.slice(0,t+1);for(var l=-1;++l<=t;)n[l]+=e}return n},mu.compareArrayLike=function(e,t){var n=0,l=e.length;if(l!==t.length)return!1;if(l>0)do{if(e[n]!==t[n])return!1}while(++n<l);return!0},Object.defineProperty(du,"__esModule",{value:!0});var gu=su.exports,Hu=mu;du.default={fromIterable:function(e){return Uu(function(e){function t(){var e;return"peek"===a?Hu.joinUint8Arrays(i,c)[0]:(e=gu.__read(Hu.joinUint8Arrays(i,c),3),r=e[0],i=e[1],u=e[2],r)}var n,l,i,r,a,c,u,o,d,s,m,b;return gu.__generator(this,(function(Z){switch(Z.label){case 0:return l=!1,i=[],u=0,[4,null];case 1:s=Z.sent(),a=s.cmd,c=s.size,o=Hu.toUint8ArrayIterator(e)[Symbol.iterator](),Z.label=2;case 2:Z.trys.push([2,9,10,11]),Z.label=3;case 3:if(m=isNaN(c-u)?o.next(void 0):o.next(c-u),n=m.done,r=m.value,!n&&r.byteLength>0&&(i.push(r),u+=r.byteLength),!(n||c<=u))return[3,7];Z.label=4;case 4:return[4,t()];case 5:b=Z.sent(),a=b.cmd,c=b.size,Z.label=6;case 6:if(c<u)return[3,4];Z.label=7;case 7:if(!n)return[3,3];Z.label=8;case 8:return[3,11];case 9:return d=Z.sent(),(l=!0)&&"function"==typeof o.throw&&o.throw(d),[3,11];case 10:return!1===l&&"function"==typeof o.return&&o.return(null),[7];case 11:return[2,null]}}))}(e))},fromAsyncIterable:function(e){return Uu(function(e){return gu.__asyncGenerator(this,arguments,(function(){function t(){var e;return"peek"===a?Hu.joinUint8Arrays(i,c)[0]:(e=gu.__read(Hu.joinUint8Arrays(i,c),3),r=e[0],i=e[1],u=e[2],r)}var n,l,i,r,a,c,u,o,d,s,m,b,Z;return gu.__generator(this,(function(p){switch(p.label){case 0:return l=!1,i=[],u=0,[4,gu.__await(null)];case 1:return[4,p.sent()];case 2:m=p.sent(),a=m.cmd,c=m.size,o=Hu.toUint8ArrayAsyncIterator(e)[Symbol.asyncIterator](),p.label=3;case 3:p.trys.push([3,15,18,21]),p.label=4;case 4:return isNaN(c-u)?[4,gu.__await(o.next(void 0))]:[3,6];case 5:return d=p.sent(),[3,8];case 6:return[4,gu.__await(o.next(c-u))];case 7:d=p.sent(),p.label=8;case 8:if(n=(b=d).done,r=b.value,!n&&r.byteLength>0&&(i.push(r),u+=r.byteLength),!(n||c<=u))return[3,13];p.label=9;case 9:return[4,gu.__await(t())];case 10:return[4,p.sent()];case 11:Z=p.sent(),a=Z.cmd,c=Z.size,p.label=12;case 12:if(c<u)return[3,9];p.label=13;case 13:if(!n)return[3,4];p.label=14;case 14:return[3,21];case 15:return s=p.sent(),(l=!0)&&"function"==typeof o.throw?[4,gu.__await(o.throw(s))]:[3,17];case 16:p.sent(),p.label=17;case 17:return[3,21];case 18:return!1===l&&"function"==typeof o.return?[4,gu.__await(o.return(new Uint8Array(0)))]:[3,20];case 19:p.sent(),p.label=20;case 20:return[7];case 21:return[4,gu.__await(null)];case 22:return[2,p.sent()]}}))}))}(e))},fromDOMStream:function(e){return Uu(function(e){return gu.__asyncGenerator(this,arguments,(function(){function t(){var e;return"peek"===a?Hu.joinUint8Arrays(i,c)[0]:(e=gu.__read(Hu.joinUint8Arrays(i,c),3),r=e[0],i=e[1],u=e[2],r)}var n,l,i,r,a,c,u,o,d,s,m,b,Z;return gu.__generator(this,(function(p){switch(p.label){case 0:return n=!1,l=!1,i=[],u=0,[4,gu.__await(null)];case 1:return[4,p.sent()];case 2:m=p.sent(),a=m.cmd,c=m.size,o=new Iu(e),p.label=3;case 3:p.trys.push([3,15,18,22]),p.label=4;case 4:return isNaN(c-u)?[4,gu.__await(o.read(void 0))]:[3,6];case 5:return d=p.sent(),[3,8];case 6:return[4,gu.__await(o.read(c-u))];case 7:d=p.sent(),p.label=8;case 8:if(n=(b=d).done,r=b.value,!n&&r.byteLength>0&&(i.push(Hu.toUint8Array(r)),u+=r.byteLength),!(n||c<=u))return[3,13];p.label=9;case 9:return[4,gu.__await(t())];case 10:return[4,p.sent()];case 11:Z=p.sent(),a=Z.cmd,c=Z.size,p.label=12;case 12:if(c<u)return[3,9];p.label=13;case 13:if(!n)return[3,4];p.label=14;case 14:return[3,22];case 15:return s=p.sent(),(l=!0)?[4,gu.__await(o.cancel(s))]:[3,17];case 16:p.sent(),p.label=17;case 17:return[3,22];case 18:return!1!==l?[3,20]:[4,gu.__await(o.cancel())];case 19:return p.sent(),[3,21];case 20:e.locked&&o.releaseLock(),p.label=21;case 21:return[7];case 22:return[4,gu.__await(null)];case 23:return[2,p.sent()]}}))}))}(e))},fromNodeStream:function(e){return Uu(function(e){return gu.__asyncGenerator(this,arguments,(function(){function t(){var e;return"peek"===c?Hu.joinUint8Arrays(d,u)[0]:(e=gu.__read(Hu.joinUint8Arrays(d,u),3),s=e[0],d=e[1],o=e[2],s)}function n(t,n){return s=d=null,new Promise((function(l,i){var r,a;try{for(var c=gu.__values(t),u=c.next();!u.done;u=c.next()){var o=gu.__read(u.value,2),d=o[0],s=o[1];e.off(d,s)}}catch(b){r={error:b}}finally{try{u&&!u.done&&(a=c.return)&&a.call(c)}finally{if(r)throw r.error}}try{var m=e.destroy;m&&m.call(e,n),n=void 0}catch(Z){n=Z||n}finally{null!=n?i(n):l()}}))}var l,i,r,a,c,u,o,d,s,m,b,Z;return gu.__generator(this,(function(p){switch(p.label){case 0:return l=[],i="error",r=!1,a=null,o=0,d=[],[4,gu.__await(null)];case 1:return[4,p.sent()];case 2:return m=p.sent(),c=m.cmd,u=m.size,e.isTTY?[4,gu.__await(new Uint8Array(0))]:[3,6];case 3:return[4,p.sent()];case 4:return p.sent(),[4,gu.__await(null)];case 5:return[2,p.sent()];case 6:p.trys.push([6,,15,17]),l[0]=Nu(e,"end"),l[1]=Nu(e,"error"),p.label=7;case 7:return l[2]=Nu(e,"readable"),[4,gu.__await(Promise.race(l.map((function(e){return e[2]}))))];case 8:if(b=gu.__read.apply(void 0,[p.sent(),2]),i=b[0],a=b[1],"error"===i)return[3,14];if((r="end"===i)||(isFinite(u-o)?(s=Hu.toUint8Array(e.read(u-o))).byteLength<u-o&&(s=Hu.toUint8Array(e.read(void 0))):s=Hu.toUint8Array(e.read(void 0)),s.byteLength>0&&(d.push(s),o+=s.byteLength)),!(r||u<=o))return[3,13];p.label=9;case 9:return[4,gu.__await(t())];case 10:return[4,p.sent()];case 11:Z=p.sent(),c=Z.cmd,u=Z.size,p.label=12;case 12:if(u<o)return[3,9];p.label=13;case 13:if(!r)return[3,7];p.label=14;case 14:return[3,17];case 15:return[4,gu.__await(n(l,"error"===i?a:null))];case 16:return p.sent(),[7];case 17:return[4,gu.__await(null)];case 18:return[2,p.sent()]}}))}))}(e))},toDOMStream:function(e,t){throw new Error('"toDOMStream" not available in this environment')},toNodeStream:function(e,t){throw new Error('"toNodeStream" not available in this environment')}};var Uu=function(e){return e.next(),e};var Iu=function(){function e(e){this.source=e,this.byobReader=null,this.defaultReader=null;try{this.supportsBYOB=!!(this.reader=this.getBYOBReader())}catch(t){this.supportsBYOB=!(this.reader=this.getDefaultReader())}}return Object.defineProperty(e.prototype,"closed",{get:function(){return this.reader?this.reader.closed.catch((function(){})):Promise.resolve()},enumerable:!1,configurable:!0}),e.prototype.releaseLock=function(){this.reader&&this.reader.releaseLock(),this.reader=this.byobReader=this.defaultReader=null},e.prototype.cancel=function(e){return gu.__awaiter(this,void 0,void 0,(function(){var t,n,l;return gu.__generator(this,(function(i){switch(i.label){case 0:return n=(t=this).reader,l=t.source,n?[4,n.cancel(e).catch((function(){}))]:[3,2];case 1:i.sent(),i.label=2;case 2:return l&&l.locked&&this.releaseLock(),[2]}}))}))},e.prototype.read=function(e){return gu.__awaiter(this,void 0,void 0,(function(){var t,n;return gu.__generator(this,(function(l){switch(l.label){case 0:return 0===e?[2,{done:null==this.reader,value:new Uint8Array(0)}]:this.supportsBYOB&&"number"==typeof e?[3,2]:[4,this.getDefaultReader().read()];case 1:return n=l.sent(),[3,4];case 2:return[4,this.readFromBYOBReader(e)];case 3:n=l.sent(),l.label=4;case 4:return!(t=n).done&&(t.value=Hu.toUint8Array(t)),[2,t]}}))}))},e.prototype.getDefaultReader=function(){return this.byobReader&&this.releaseLock(),this.defaultReader||(this.defaultReader=this.source.getReader(),this.defaultReader.closed.catch((function(){}))),this.reader=this.defaultReader},e.prototype.getBYOBReader=function(){return this.defaultReader&&this.releaseLock(),this.byobReader||(this.byobReader=this.source.getReader({mode:"byob"}),this.byobReader.closed.catch((function(){}))),this.reader=this.byobReader},e.prototype.readFromBYOBReader=function(e){return gu.__awaiter(this,void 0,void 0,(function(){return gu.__generator(this,(function(t){switch(t.label){case 0:return[4,Ku(this.getBYOBReader(),new ArrayBuffer(e),0,e)];case 1:return[2,t.sent()]}}))}))},e}();function Ku(e,t,n,l){return gu.__awaiter(this,void 0,void 0,(function(){var i,r,a;return gu.__generator(this,(function(c){switch(c.label){case 0:return n>=l?[2,{done:!1,value:new Uint8Array(t,0,l)}]:[4,e.read(new Uint8Array(t,n,l-n))];case 1:return i=c.sent(),r=i.done,a=i.value,(n+=a.byteLength)<l&&!r?[4,Ku(e,a.buffer,n,l)]:[3,3];case 2:return[2,c.sent()];case 3:return[2,{done:r,value:new Uint8Array(a.buffer,0,n)}]}}))}))}var Nu=function(e,t){var n,l=function(e){return n([t,e])};return[t,l,new Promise((function(i){return(n=i)&&e.once(t,l)}))]};var ku={},Bu={},Fu={};Object.defineProperty(Fu,"__esModule",{value:!0}),Fu.Vector=Fu.AbstractVector=void 0;var Tu=function(){};Fu.AbstractVector=Tu,Fu.Vector=Tu,Tu.prototype.data=null;var _u={},wu={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Schema=e.Buffer=e.Field=e.DictionaryEncoding=e.KeyValue=e.Duration=e.Interval=e.Timestamp=e.Time=e.Date=e.Decimal=e.Bool=e.FixedSizeBinary=e.LargeBinary=e.LargeUtf8=e.Binary=e.Utf8=e.FloatingPoint=e.Int=e.Union=e.Map=e.FixedSizeList=e.LargeList=e.List=e.Struct_=e.Null=e.Endianness=e.DictionaryKind=e.Type=e.IntervalUnit=e.TimeUnit=e.DateUnit=e.Precision=e.UnionMode=e.Feature=e.MetadataVersion=void 0;var t,n,l,i,r,a,c,u,o,d,s,m,b,Z,p,h,y,f,V=Zu;(t=e.MetadataVersion||(e.MetadataVersion={}))[t.V1=0]="V1",t[t.V2=1]="V2",t[t.V3=2]="V3",t[t.V4=3]="V4",t[t.V5=4]="V5",(n=e.Feature||(e.Feature={}))[n.UNUSED=0]="UNUSED",n[n.DICTIONARY_REPLACEMENT=1]="DICTIONARY_REPLACEMENT",n[n.COMPRESSED_BODY=2]="COMPRESSED_BODY",(i=l=e.UnionMode||(e.UnionMode={}))[i.Sparse=0]="Sparse",i[i.Dense=1]="Dense",(a=r=e.Precision||(e.Precision={}))[a.HALF=0]="HALF",a[a.SINGLE=1]="SINGLE",a[a.DOUBLE=2]="DOUBLE",(u=c=e.DateUnit||(e.DateUnit={}))[u.DAY=0]="DAY",u[u.MILLISECOND=1]="MILLISECOND",(d=o=e.TimeUnit||(e.TimeUnit={}))[d.SECOND=0]="SECOND",d[d.MILLISECOND=1]="MILLISECOND",d[d.MICROSECOND=2]="MICROSECOND",d[d.NANOSECOND=3]="NANOSECOND",(m=s=e.IntervalUnit||(e.IntervalUnit={}))[m.YEAR_MONTH=0]="YEAR_MONTH",m[m.DAY_TIME=1]="DAY_TIME",(Z=b=e.Type||(e.Type={}))[Z.NONE=0]="NONE",Z[Z.Null=1]="Null",Z[Z.Int=2]="Int",Z[Z.FloatingPoint=3]="FloatingPoint",Z[Z.Binary=4]="Binary",Z[Z.Utf8=5]="Utf8",Z[Z.Bool=6]="Bool",Z[Z.Decimal=7]="Decimal",Z[Z.Date=8]="Date",Z[Z.Time=9]="Time",Z[Z.Timestamp=10]="Timestamp",Z[Z.Interval=11]="Interval",Z[Z.List=12]="List",Z[Z.Struct_=13]="Struct_",Z[Z.Union=14]="Union",Z[Z.FixedSizeBinary=15]="FixedSizeBinary",Z[Z.FixedSizeList=16]="FixedSizeList",Z[Z.Map=17]="Map",Z[Z.Duration=18]="Duration",Z[Z.LargeBinary=19]="LargeBinary",Z[Z.LargeUtf8=20]="LargeUtf8",Z[Z.LargeList=21]="LargeList",(h=p=e.DictionaryKind||(e.DictionaryKind={}))[h.DenseArray=0]="DenseArray",(f=y=e.Endianness||(e.Endianness={}))[f.Little=0]="Little",f[f.Big=1]="Big";var X=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsNull=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsNull=function(t,n){return t.setPosition(t.position()+V.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.startNull=function(e){e.startObject(0)},e.endNull=function(e){return e.endObject()},e.createNull=function(t){return e.startNull(t),e.endNull(t)},e}();e.Null=X;var W=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsStruct_=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsStruct_=function(t,n){return t.setPosition(t.position()+V.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.startStruct_=function(e){e.startObject(0)},e.endStruct_=function(e){return e.endObject()},e.createStruct_=function(t){return e.startStruct_(t),e.endStruct_(t)},e}();e.Struct_=W;var G=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsList=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsList=function(t,n){return t.setPosition(t.position()+V.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.startList=function(e){e.startObject(0)},e.endList=function(e){return e.endObject()},e.createList=function(t){return e.startList(t),e.endList(t)},e}();e.List=G;var R=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsLargeList=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsLargeList=function(t,n){return t.setPosition(t.position()+V.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.startLargeList=function(e){e.startObject(0)},e.endLargeList=function(e){return e.endObject()},e.createLargeList=function(t){return e.startLargeList(t),e.endLargeList(t)},e}();e.LargeList=R;var S=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsFixedSizeList=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsFixedSizeList=function(t,n){return t.setPosition(t.position()+V.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.listSize=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0},e.startFixedSizeList=function(e){e.startObject(1)},e.addListSize=function(e,t){e.addFieldInt32(0,t,0)},e.endFixedSizeList=function(e){return e.endObject()},e.createFixedSizeList=function(t,n){return e.startFixedSizeList(t),e.addListSize(t,n),e.endFixedSizeList(t)},e}();e.FixedSizeList=S;var v=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsMap=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsMap=function(t,n){return t.setPosition(t.position()+V.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.keysSorted=function(){var e=this.bb.__offset(this.bb_pos,4);return!!e&&!!this.bb.readInt8(this.bb_pos+e)},e.startMap=function(e){e.startObject(1)},e.addKeysSorted=function(e,t){e.addFieldInt8(0,+t,0)},e.endMap=function(e){return e.endObject()},e.createMap=function(t,n){return e.startMap(t),e.addKeysSorted(t,n),e.endMap(t)},e}();e.Map=v;var L=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsUnion=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsUnion=function(t,n){return t.setPosition(t.position()+V.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.mode=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):l.Sparse},e.prototype.typeIds=function(e){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb.__vector(this.bb_pos+t)+4*e):0},e.prototype.typeIdsLength=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0},e.prototype.typeIdsArray=function(){var e=this.bb.__offset(this.bb_pos,6);return e?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null},e.startUnion=function(e){e.startObject(2)},e.addMode=function(e,t){e.addFieldInt16(0,t,l.Sparse)},e.addTypeIds=function(e,t){e.addFieldOffset(1,t,0)},e.createTypeIdsVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addInt32(t[n]);return e.endVector()},e.startTypeIdsVector=function(e,t){e.startVector(4,t,4)},e.endUnion=function(e){return e.endObject()},e.createUnion=function(t,n,l){return e.startUnion(t),e.addMode(t,n),e.addTypeIds(t,l),e.endUnion(t)},e}();e.Union=L;var Y=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsInt=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsInt=function(t,n){return t.setPosition(t.position()+V.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.bitWidth=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0},e.prototype.isSigned=function(){var e=this.bb.__offset(this.bb_pos,6);return!!e&&!!this.bb.readInt8(this.bb_pos+e)},e.startInt=function(e){e.startObject(2)},e.addBitWidth=function(e,t){e.addFieldInt32(0,t,0)},e.addIsSigned=function(e,t){e.addFieldInt8(1,+t,0)},e.endInt=function(e){return e.endObject()},e.createInt=function(t,n,l){return e.startInt(t),e.addBitWidth(t,n),e.addIsSigned(t,l),e.endInt(t)},e}();e.Int=Y;var J=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsFloatingPoint=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsFloatingPoint=function(t,n){return t.setPosition(t.position()+V.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.precision=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):r.HALF},e.startFloatingPoint=function(e){e.startObject(1)},e.addPrecision=function(e,t){e.addFieldInt16(0,t,r.HALF)},e.endFloatingPoint=function(e){return e.endObject()},e.createFloatingPoint=function(t,n){return e.startFloatingPoint(t),e.addPrecision(t,n),e.endFloatingPoint(t)},e}();e.FloatingPoint=J;var x=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsUtf8=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsUtf8=function(t,n){return t.setPosition(t.position()+V.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.startUtf8=function(e){e.startObject(0)},e.endUtf8=function(e){return e.endObject()},e.createUtf8=function(t){return e.startUtf8(t),e.endUtf8(t)},e}();e.Utf8=x;var g=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsBinary=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsBinary=function(t,n){return t.setPosition(t.position()+V.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.startBinary=function(e){e.startObject(0)},e.endBinary=function(e){return e.endObject()},e.createBinary=function(t){return e.startBinary(t),e.endBinary(t)},e}();e.Binary=g;var H=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsLargeUtf8=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsLargeUtf8=function(t,n){return t.setPosition(t.position()+V.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.startLargeUtf8=function(e){e.startObject(0)},e.endLargeUtf8=function(e){return e.endObject()},e.createLargeUtf8=function(t){return e.startLargeUtf8(t),e.endLargeUtf8(t)},e}();e.LargeUtf8=H;var U=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsLargeBinary=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsLargeBinary=function(t,n){return t.setPosition(t.position()+V.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.startLargeBinary=function(e){e.startObject(0)},e.endLargeBinary=function(e){return e.endObject()},e.createLargeBinary=function(t){return e.startLargeBinary(t),e.endLargeBinary(t)},e}();e.LargeBinary=U;var I=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsFixedSizeBinary=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsFixedSizeBinary=function(t,n){return t.setPosition(t.position()+V.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.byteWidth=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0},e.startFixedSizeBinary=function(e){e.startObject(1)},e.addByteWidth=function(e,t){e.addFieldInt32(0,t,0)},e.endFixedSizeBinary=function(e){return e.endObject()},e.createFixedSizeBinary=function(t,n){return e.startFixedSizeBinary(t),e.addByteWidth(t,n),e.endFixedSizeBinary(t)},e}();e.FixedSizeBinary=I;var K=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsBool=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsBool=function(t,n){return t.setPosition(t.position()+V.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.startBool=function(e){e.startObject(0)},e.endBool=function(e){return e.endObject()},e.createBool=function(t){return e.startBool(t),e.endBool(t)},e}();e.Bool=K;var N=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsDecimal=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsDecimal=function(t,n){return t.setPosition(t.position()+V.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.precision=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0},e.prototype.scale=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):0},e.prototype.bitWidth=function(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readInt32(this.bb_pos+e):128},e.startDecimal=function(e){e.startObject(3)},e.addPrecision=function(e,t){e.addFieldInt32(0,t,0)},e.addScale=function(e,t){e.addFieldInt32(1,t,0)},e.addBitWidth=function(e,t){e.addFieldInt32(2,t,128)},e.endDecimal=function(e){return e.endObject()},e.createDecimal=function(t,n,l,i){return e.startDecimal(t),e.addPrecision(t,n),e.addScale(t,l),e.addBitWidth(t,i),e.endDecimal(t)},e}();e.Decimal=N;var k=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsDate=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsDate=function(t,n){return t.setPosition(t.position()+V.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.unit=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):c.MILLISECOND},e.startDate=function(e){e.startObject(1)},e.addUnit=function(e,t){e.addFieldInt16(0,t,c.MILLISECOND)},e.endDate=function(e){return e.endObject()},e.createDate=function(t,n){return e.startDate(t),e.addUnit(t,n),e.endDate(t)},e}();e.Date=k;var B=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsTime=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsTime=function(t,n){return t.setPosition(t.position()+V.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.unit=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):o.MILLISECOND},e.prototype.bitWidth=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):32},e.startTime=function(e){e.startObject(2)},e.addUnit=function(e,t){e.addFieldInt16(0,t,o.MILLISECOND)},e.addBitWidth=function(e,t){e.addFieldInt32(1,t,32)},e.endTime=function(e){return e.endObject()},e.createTime=function(t,n,l){return e.startTime(t),e.addUnit(t,n),e.addBitWidth(t,l),e.endTime(t)},e}();e.Time=B;var F=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsTimestamp=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsTimestamp=function(t,n){return t.setPosition(t.position()+V.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.unit=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):o.SECOND},e.prototype.timezone=function(e){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null},e.startTimestamp=function(e){e.startObject(2)},e.addUnit=function(e,t){e.addFieldInt16(0,t,o.SECOND)},e.addTimezone=function(e,t){e.addFieldOffset(1,t,0)},e.endTimestamp=function(e){return e.endObject()},e.createTimestamp=function(t,n,l){return e.startTimestamp(t),e.addUnit(t,n),e.addTimezone(t,l),e.endTimestamp(t)},e}();e.Timestamp=F;var T=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsInterval=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsInterval=function(t,n){return t.setPosition(t.position()+V.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.unit=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):s.YEAR_MONTH},e.startInterval=function(e){e.startObject(1)},e.addUnit=function(e,t){e.addFieldInt16(0,t,s.YEAR_MONTH)},e.endInterval=function(e){return e.endObject()},e.createInterval=function(t,n){return e.startInterval(t),e.addUnit(t,n),e.endInterval(t)},e}();e.Interval=T;var _=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsDuration=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsDuration=function(t,n){return t.setPosition(t.position()+V.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.unit=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):o.MILLISECOND},e.startDuration=function(e){e.startObject(1)},e.addUnit=function(e,t){e.addFieldInt16(0,t,o.MILLISECOND)},e.endDuration=function(e){return e.endObject()},e.createDuration=function(t,n){return e.startDuration(t),e.addUnit(t,n),e.endDuration(t)},e}();e.Duration=_;var w=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsKeyValue=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsKeyValue=function(t,n){return t.setPosition(t.position()+V.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.key=function(e){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null},e.prototype.value=function(e){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null},e.startKeyValue=function(e){e.startObject(2)},e.addKey=function(e,t){e.addFieldOffset(0,t,0)},e.addValue=function(e,t){e.addFieldOffset(1,t,0)},e.endKeyValue=function(e){return e.endObject()},e.createKeyValue=function(t,n,l){return e.startKeyValue(t),e.addKey(t,n),e.addValue(t,l),e.endKeyValue(t)},e}();e.KeyValue=w;var C=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsDictionaryEncoding=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsDictionaryEncoding=function(t,n){return t.setPosition(t.position()+V.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.id=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)},e.prototype.indexType=function(e){var t=this.bb.__offset(this.bb_pos,6);return t?(e||new Y).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null},e.prototype.isOrdered=function(){var e=this.bb.__offset(this.bb_pos,8);return!!e&&!!this.bb.readInt8(this.bb_pos+e)},e.prototype.dictionaryKind=function(){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt16(this.bb_pos+e):p.DenseArray},e.startDictionaryEncoding=function(e){e.startObject(4)},e.addId=function(e,t){e.addFieldInt64(0,t,e.createLong(0,0))},e.addIndexType=function(e,t){e.addFieldOffset(1,t,0)},e.addIsOrdered=function(e,t){e.addFieldInt8(2,+t,0)},e.addDictionaryKind=function(e,t){e.addFieldInt16(3,t,p.DenseArray)},e.endDictionaryEncoding=function(e){return e.endObject()},e.createDictionaryEncoding=function(t,n,l,i,r){return e.startDictionaryEncoding(t),e.addId(t,n),e.addIndexType(t,l),e.addIsOrdered(t,i),e.addDictionaryKind(t,r),e.endDictionaryEncoding(t)},e}();e.DictionaryEncoding=C;var j=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsField=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsField=function(t,n){return t.setPosition(t.position()+V.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.name=function(e){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null},e.prototype.nullable=function(){var e=this.bb.__offset(this.bb_pos,6);return!!e&&!!this.bb.readInt8(this.bb_pos+e)},e.prototype.typeType=function(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readUint8(this.bb_pos+e):b.NONE},e.prototype.type=function(e){var t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__union(e,this.bb_pos+t):null},e.prototype.dictionary=function(e){var t=this.bb.__offset(this.bb_pos,12);return t?(e||new C).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null},e.prototype.children=function(t,n){var l=this.bb.__offset(this.bb_pos,14);return l?(n||new e).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+l)+4*t),this.bb):null},e.prototype.childrenLength=function(){var e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__vector_len(this.bb_pos+e):0},e.prototype.customMetadata=function(e,t){var n=this.bb.__offset(this.bb_pos,16);return n?(t||new w).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*e),this.bb):null},e.prototype.customMetadataLength=function(){var e=this.bb.__offset(this.bb_pos,16);return e?this.bb.__vector_len(this.bb_pos+e):0},e.startField=function(e){e.startObject(7)},e.addName=function(e,t){e.addFieldOffset(0,t,0)},e.addNullable=function(e,t){e.addFieldInt8(1,+t,0)},e.addTypeType=function(e,t){e.addFieldInt8(2,t,b.NONE)},e.addType=function(e,t){e.addFieldOffset(3,t,0)},e.addDictionary=function(e,t){e.addFieldOffset(4,t,0)},e.addChildren=function(e,t){e.addFieldOffset(5,t,0)},e.createChildrenVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()},e.startChildrenVector=function(e,t){e.startVector(4,t,4)},e.addCustomMetadata=function(e,t){e.addFieldOffset(6,t,0)},e.createCustomMetadataVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()},e.startCustomMetadataVector=function(e,t){e.startVector(4,t,4)},e.endField=function(e){return e.endObject()},e.createField=function(t,n,l,i,r,a,c,u){return e.startField(t),e.addName(t,n),e.addNullable(t,l),e.addTypeType(t,i),e.addType(t,r),e.addDictionary(t,a),e.addChildren(t,c),e.addCustomMetadata(t,u),e.endField(t)},e}();e.Field=j;var z=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.prototype.offset=function(){return this.bb.readInt64(this.bb_pos)},e.prototype.length=function(){return this.bb.readInt64(this.bb_pos+8)},e.createBuffer=function(e,t,n){return e.prep(8,16),e.writeInt64(n),e.writeInt64(t),e.offset()},e}();e.Buffer=z;var Q=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsSchema=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsSchema=function(t,n){return t.setPosition(t.position()+V.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.endianness=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):y.Little},e.prototype.fields=function(e,t){var n=this.bb.__offset(this.bb_pos,6);return n?(t||new j).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*e),this.bb):null},e.prototype.fieldsLength=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0},e.prototype.customMetadata=function(e,t){var n=this.bb.__offset(this.bb_pos,8);return n?(t||new w).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*e),this.bb):null},e.prototype.customMetadataLength=function(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0},e.prototype.features=function(e){var t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb.__vector(this.bb_pos+t)+8*e):this.bb.createLong(0,0)},e.prototype.featuresLength=function(){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0},e.startSchema=function(e){e.startObject(4)},e.addEndianness=function(e,t){e.addFieldInt16(0,t,y.Little)},e.addFields=function(e,t){e.addFieldOffset(1,t,0)},e.createFieldsVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()},e.startFieldsVector=function(e,t){e.startVector(4,t,4)},e.addCustomMetadata=function(e,t){e.addFieldOffset(2,t,0)},e.createCustomMetadataVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()},e.startCustomMetadataVector=function(e,t){e.startVector(4,t,4)},e.addFeatures=function(e,t){e.addFieldOffset(3,t,0)},e.createFeaturesVector=function(e,t){e.startVector(8,t.length,8);for(var n=t.length-1;n>=0;n--)e.addInt64(t[n]);return e.endVector()},e.startFeaturesVector=function(e,t){e.startVector(8,t,8)},e.endSchema=function(e){return e.endObject()},e.finishSchemaBuffer=function(e,t){e.finish(t)},e.finishSizePrefixedSchemaBuffer=function(e,t){e.finish(t,void 0,!0)},e.createSchema=function(t,n,l,i,r){return e.startSchema(t),e.addEndianness(t,n),e.addFields(t,l),e.addCustomMetadata(t,i),e.addFeatures(t,r),e.endSchema(t)},e}();e.Schema=Q}(wu);var Cu={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Message=e.DictionaryBatch=e.RecordBatch=e.BodyCompression=e.FieldNode=e.MessageHeader=e.BodyCompressionMethod=e.CompressionType=void 0;var t,n,l,i,r,a,c=Zu,u=wu;(n=t=e.CompressionType||(e.CompressionType={}))[n.LZ4_FRAME=0]="LZ4_FRAME",n[n.ZSTD=1]="ZSTD",(i=l=e.BodyCompressionMethod||(e.BodyCompressionMethod={}))[i.BUFFER=0]="BUFFER",(a=r=e.MessageHeader||(e.MessageHeader={}))[a.NONE=0]="NONE",a[a.Schema=1]="Schema",a[a.DictionaryBatch=2]="DictionaryBatch",a[a.RecordBatch=3]="RecordBatch",a[a.Tensor=4]="Tensor",a[a.SparseTensor=5]="SparseTensor";var o=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.prototype.length=function(){return this.bb.readInt64(this.bb_pos)},e.prototype.nullCount=function(){return this.bb.readInt64(this.bb_pos+8)},e.createFieldNode=function(e,t,n){return e.prep(8,16),e.writeInt64(n),e.writeInt64(t),e.offset()},e}();e.FieldNode=o;var d=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsBodyCompression=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsBodyCompression=function(t,n){return t.setPosition(t.position()+c.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.codec=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt8(this.bb_pos+e):t.LZ4_FRAME},e.prototype.method=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt8(this.bb_pos+e):l.BUFFER},e.startBodyCompression=function(e){e.startObject(2)},e.addCodec=function(e,n){e.addFieldInt8(0,n,t.LZ4_FRAME)},e.addMethod=function(e,t){e.addFieldInt8(1,t,l.BUFFER)},e.endBodyCompression=function(e){return e.endObject()},e.createBodyCompression=function(t,n,l){return e.startBodyCompression(t),e.addCodec(t,n),e.addMethod(t,l),e.endBodyCompression(t)},e}();e.BodyCompression=d;var s=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsRecordBatch=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsRecordBatch=function(t,n){return t.setPosition(t.position()+c.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.length=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)},e.prototype.nodes=function(e,t){var n=this.bb.__offset(this.bb_pos,6);return n?(t||new o).__init(this.bb.__vector(this.bb_pos+n)+16*e,this.bb):null},e.prototype.nodesLength=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0},e.prototype.buffers=function(e,t){var n=this.bb.__offset(this.bb_pos,8);return n?(t||new u.Buffer).__init(this.bb.__vector(this.bb_pos+n)+16*e,this.bb):null},e.prototype.buffersLength=function(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0},e.prototype.compression=function(e){var t=this.bb.__offset(this.bb_pos,10);return t?(e||new d).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null},e.startRecordBatch=function(e){e.startObject(4)},e.addLength=function(e,t){e.addFieldInt64(0,t,e.createLong(0,0))},e.addNodes=function(e,t){e.addFieldOffset(1,t,0)},e.startNodesVector=function(e,t){e.startVector(16,t,8)},e.addBuffers=function(e,t){e.addFieldOffset(2,t,0)},e.startBuffersVector=function(e,t){e.startVector(16,t,8)},e.addCompression=function(e,t){e.addFieldOffset(3,t,0)},e.endRecordBatch=function(e){return e.endObject()},e.createRecordBatch=function(t,n,l,i,r){return e.startRecordBatch(t),e.addLength(t,n),e.addNodes(t,l),e.addBuffers(t,i),e.addCompression(t,r),e.endRecordBatch(t)},e}();e.RecordBatch=s;var m=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsDictionaryBatch=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsDictionaryBatch=function(t,n){return t.setPosition(t.position()+c.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.id=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)},e.prototype.data=function(e){var t=this.bb.__offset(this.bb_pos,6);return t?(e||new s).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null},e.prototype.isDelta=function(){var e=this.bb.__offset(this.bb_pos,8);return!!e&&!!this.bb.readInt8(this.bb_pos+e)},e.startDictionaryBatch=function(e){e.startObject(3)},e.addId=function(e,t){e.addFieldInt64(0,t,e.createLong(0,0))},e.addData=function(e,t){e.addFieldOffset(1,t,0)},e.addIsDelta=function(e,t){e.addFieldInt8(2,+t,0)},e.endDictionaryBatch=function(e){return e.endObject()},e.createDictionaryBatch=function(t,n,l,i){return e.startDictionaryBatch(t),e.addId(t,n),e.addData(t,l),e.addIsDelta(t,i),e.endDictionaryBatch(t)},e}();e.DictionaryBatch=m;var b=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsMessage=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsMessage=function(t,n){return t.setPosition(t.position()+c.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.version=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):u.MetadataVersion.V1},e.prototype.headerType=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readUint8(this.bb_pos+e):r.NONE},e.prototype.header=function(e){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__union(e,this.bb_pos+t):null},e.prototype.bodyLength=function(){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)},e.prototype.customMetadata=function(e,t){var n=this.bb.__offset(this.bb_pos,12);return n?(t||new u.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*e),this.bb):null},e.prototype.customMetadataLength=function(){var e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0},e.startMessage=function(e){e.startObject(5)},e.addVersion=function(e,t){e.addFieldInt16(0,t,u.MetadataVersion.V1)},e.addHeaderType=function(e,t){e.addFieldInt8(1,t,r.NONE)},e.addHeader=function(e,t){e.addFieldOffset(2,t,0)},e.addBodyLength=function(e,t){e.addFieldInt64(3,t,e.createLong(0,0))},e.addCustomMetadata=function(e,t){e.addFieldOffset(4,t,0)},e.createCustomMetadataVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()},e.startCustomMetadataVector=function(e,t){e.startVector(4,t,4)},e.endMessage=function(e){return e.endObject()},e.finishMessageBuffer=function(e,t){e.finish(t)},e.finishSizePrefixedMessageBuffer=function(e,t){e.finish(t,void 0,!0)},e.createMessage=function(t,n,l,i,r,a){return e.startMessage(t),e.addVersion(t,n),e.addHeaderType(t,l),e.addHeader(t,i),e.addBodyLength(t,r),e.addCustomMetadata(t,a),e.endMessage(t)},e}();e.Message=b}(Cu),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.BufferType=e.Type=e.MessageHeader=e.MetadataVersion=e.IntervalUnit=e.UnionMode=e.Precision=e.TimeUnit=e.DateUnit=void 0;var t=wu;Object.defineProperty(e,"DateUnit",{enumerable:!0,get:function(){return t.DateUnit}}),Object.defineProperty(e,"TimeUnit",{enumerable:!0,get:function(){return t.TimeUnit}}),Object.defineProperty(e,"Precision",{enumerable:!0,get:function(){return t.Precision}}),Object.defineProperty(e,"UnionMode",{enumerable:!0,get:function(){return t.UnionMode}}),Object.defineProperty(e,"IntervalUnit",{enumerable:!0,get:function(){return t.IntervalUnit}}),Object.defineProperty(e,"MetadataVersion",{enumerable:!0,get:function(){return t.MetadataVersion}});var n,l,i=Cu;Object.defineProperty(e,"MessageHeader",{enumerable:!0,get:function(){return i.MessageHeader}}),(n=e.Type||(e.Type={}))[n.NONE=0]="NONE",n[n.Null=1]="Null",n[n.Int=2]="Int",n[n.Float=3]="Float",n[n.Binary=4]="Binary",n[n.Utf8=5]="Utf8",n[n.Bool=6]="Bool",n[n.Decimal=7]="Decimal",n[n.Date=8]="Date",n[n.Time=9]="Time",n[n.Timestamp=10]="Timestamp",n[n.Interval=11]="Interval",n[n.List=12]="List",n[n.Struct=13]="Struct",n[n.Union=14]="Union",n[n.FixedSizeBinary=15]="FixedSizeBinary",n[n.FixedSizeList=16]="FixedSizeList",n[n.Map=17]="Map",n[n.Dictionary=-1]="Dictionary",n[n.Int8=-2]="Int8",n[n.Int16=-3]="Int16",n[n.Int32=-4]="Int32",n[n.Int64=-5]="Int64",n[n.Uint8=-6]="Uint8",n[n.Uint16=-7]="Uint16",n[n.Uint32=-8]="Uint32",n[n.Uint64=-9]="Uint64",n[n.Float16=-10]="Float16",n[n.Float32=-11]="Float32",n[n.Float64=-12]="Float64",n[n.DateDay=-13]="DateDay",n[n.DateMillisecond=-14]="DateMillisecond",n[n.TimestampSecond=-15]="TimestampSecond",n[n.TimestampMillisecond=-16]="TimestampMillisecond",n[n.TimestampMicrosecond=-17]="TimestampMicrosecond",n[n.TimestampNanosecond=-18]="TimestampNanosecond",n[n.TimeSecond=-19]="TimeSecond",n[n.TimeMillisecond=-20]="TimeMillisecond",n[n.TimeMicrosecond=-21]="TimeMicrosecond",n[n.TimeNanosecond=-22]="TimeNanosecond",n[n.DenseUnion=-23]="DenseUnion",n[n.SparseUnion=-24]="SparseUnion",n[n.IntervalDayTime=-25]="IntervalDayTime",n[n.IntervalYearMonth=-26]="IntervalYearMonth",(l=e.BufferType||(e.BufferType={}))[l.OFFSET=0]="OFFSET",l[l.DATA=1]="DATA",l[l.VALIDITY=2]="VALIDITY",l[l.TYPE=3]="TYPE"}(_u);var ju={},zu={};Object.defineProperty(zu,"__esModule",{value:!0}),zu.popcnt_uint32=zu.popcnt_array=zu.popcnt_bit_range=zu.BitIterator=zu.packBools=zu.truncateBitmap=zu.setBool=zu.getBit=zu.getBool=void 0;var Qu=su.exports;function Mu(e,t,n,l){return 0!=(n&1<<l)}function Pu(e,t,n,l){return(n&1<<l)>>l}function Eu(e){var t,n,l=[],i=0,r=0,a=0;try{for(var c=Qu.__values(e),u=c.next();!u.done;u=c.next()){u.value&&(a|=1<<r),8==++r&&(l[i++]=a,a=r=0)}}catch(d){t={error:d}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}(0===i||r>0)&&(l[i++]=a);var o=new Uint8Array(l.length+7&-8);return o.set(l),o}zu.getBool=Mu,zu.getBit=Pu,zu.setBool=function(e,t,n){return n?!!(e[t>>3]|=1<<t%8)||!0:!(e[t>>3]&=~(1<<t%8))&&!1},zu.truncateBitmap=function(e,t,n){var l=n.byteLength+7&-8;if(e>0||n.byteLength<l){var i=new Uint8Array(l);return i.set(e%8==0?n.subarray(e>>3):Eu(new Ou(n,e,t,null,Mu)).subarray(0,l)),i}return n},zu.packBools=Eu;var Ou=function(){function e(e,t,n,l,i){this.bytes=e,this.length=n,this.context=l,this.get=i,this.bit=t%8,this.byteIndex=t>>3,this.byte=e[this.byteIndex++],this.index=0}return e.prototype.next=function(){return this.index<this.length?(8===this.bit&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}},e.prototype[Symbol.iterator]=function(){return this},e}();function Du(e,t,n){for(var l=0,i=0|t,r=new DataView(e.buffer,e.byteOffset,e.byteLength),a=void 0===n?e.byteLength:i+n;a-i>=4;)l+=Au(r.getUint32(i)),i+=4;for(;a-i>=2;)l+=Au(r.getUint16(i)),i+=2;for(;a-i>=1;)l+=Au(r.getUint8(i)),i+=1;return l}function Au(e){var t=0|e;return 16843009*((t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)>>>24}zu.BitIterator=Ou,zu.popcnt_bit_range=function e(t,n,l){var i,r;if(l-n<=0)return 0;if(l-n<8){var a=0;try{for(var c=Qu.__values(new Ou(t,n,l-n,t,Pu)),u=c.next();!u.done;u=c.next()){a+=u.value}}catch(s){i={error:s}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(i)throw i.error}}return a}var o=l>>3<<3,d=n+(n%8==0?0:8-n%8);return e(t,n,d)+e(t,o,l)+Du(t,d>>3,o-d>>3)},zu.popcnt_array=Du,zu.popcnt_uint32=Au;var qu={};Object.defineProperty(qu,"__esModule",{value:!0}),qu.strideForType=qu.Dictionary=qu.Map_=qu.FixedSizeList=qu.FixedSizeBinary=qu.SparseUnion=qu.DenseUnion=qu.Union=qu.Struct=qu.List=qu.IntervalYearMonth=qu.IntervalDayTime=qu.Interval=qu.TimestampNanosecond=qu.TimestampMicrosecond=qu.TimestampMillisecond=qu.TimestampSecond=qu.Timestamp=qu.TimeNanosecond=qu.TimeMicrosecond=qu.TimeMillisecond=qu.TimeSecond=qu.Time=qu.DateMillisecond=qu.DateDay=qu.Date_=qu.Decimal=qu.Bool=qu.Utf8=qu.Binary=qu.Float64=qu.Float32=qu.Float16=qu.Float=qu.Uint64=qu.Uint32=qu.Uint16=qu.Uint8=qu.Int64=qu.Int32=qu.Int16=qu.Int8=qu.Int=qu.Null=qu.DataType=void 0;var $u=su.exports,eo=_u,to=function(){function e(){}var t;return e.isNull=function(e){return(null==e?void 0:e.typeId)===eo.Type.Null},e.isInt=function(e){return(null==e?void 0:e.typeId)===eo.Type.Int},e.isFloat=function(e){return(null==e?void 0:e.typeId)===eo.Type.Float},e.isBinary=function(e){return(null==e?void 0:e.typeId)===eo.Type.Binary},e.isUtf8=function(e){return(null==e?void 0:e.typeId)===eo.Type.Utf8},e.isBool=function(e){return(null==e?void 0:e.typeId)===eo.Type.Bool},e.isDecimal=function(e){return(null==e?void 0:e.typeId)===eo.Type.Decimal},e.isDate=function(e){return(null==e?void 0:e.typeId)===eo.Type.Date},e.isTime=function(e){return(null==e?void 0:e.typeId)===eo.Type.Time},e.isTimestamp=function(e){return(null==e?void 0:e.typeId)===eo.Type.Timestamp},e.isInterval=function(e){return(null==e?void 0:e.typeId)===eo.Type.Interval},e.isList=function(e){return(null==e?void 0:e.typeId)===eo.Type.List},e.isStruct=function(e){return(null==e?void 0:e.typeId)===eo.Type.Struct},e.isUnion=function(e){return(null==e?void 0:e.typeId)===eo.Type.Union},e.isFixedSizeBinary=function(e){return(null==e?void 0:e.typeId)===eo.Type.FixedSizeBinary},e.isFixedSizeList=function(e){return(null==e?void 0:e.typeId)===eo.Type.FixedSizeList},e.isMap=function(e){return(null==e?void 0:e.typeId)===eo.Type.Map},e.isDictionary=function(e){return(null==e?void 0:e.typeId)===eo.Type.Dictionary},Object.defineProperty(e.prototype,"typeId",{get:function(){return eo.Type.NONE},enumerable:!1,configurable:!0}),e[Symbol.toStringTag]=((t=e.prototype).children=null,t.ArrayType=Array,t[Symbol.toStringTag]="DataType"),e}();qu.DataType=to;var no=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $u.__extends(t,e),t.prototype.toString=function(){return"Null"},Object.defineProperty(t.prototype,"typeId",{get:function(){return eo.Type.Null},enumerable:!1,configurable:!0}),t[Symbol.toStringTag]=t.prototype[Symbol.toStringTag]="Null",t}(to);qu.Null=no;var lo=function(e){function t(t,n){var l=e.call(this)||this;return l.isSigned=t,l.bitWidth=n,l}var n;return $u.__extends(t,e),Object.defineProperty(t.prototype,"typeId",{get:function(){return eo.Type.Int},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ArrayType",{get:function(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:case 64:return this.isSigned?Int32Array:Uint32Array}throw new Error("Unrecognized "+this[Symbol.toStringTag]+" type")},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return(this.isSigned?"I":"Ui")+"nt"+this.bitWidth},t[Symbol.toStringTag]=((n=t.prototype).isSigned=null,n.bitWidth=null,n[Symbol.toStringTag]="Int"),t}(to);qu.Int=lo;var io=function(e){function t(){return e.call(this,!0,8)||this}return $u.__extends(t,e),t}(lo);qu.Int8=io;var ro=function(e){function t(){return e.call(this,!0,16)||this}return $u.__extends(t,e),t}(lo);qu.Int16=ro;var ao=function(e){function t(){return e.call(this,!0,32)||this}return $u.__extends(t,e),t}(lo);qu.Int32=ao;var co=function(e){function t(){return e.call(this,!0,64)||this}return $u.__extends(t,e),t}(lo);qu.Int64=co;var uo=function(e){function t(){return e.call(this,!1,8)||this}return $u.__extends(t,e),t}(lo);qu.Uint8=uo;var oo=function(e){function t(){return e.call(this,!1,16)||this}return $u.__extends(t,e),t}(lo);qu.Uint16=oo;var so=function(e){function t(){return e.call(this,!1,32)||this}return $u.__extends(t,e),t}(lo);qu.Uint32=so;var mo=function(e){function t(){return e.call(this,!1,64)||this}return $u.__extends(t,e),t}(lo);qu.Uint64=mo,Object.defineProperty(io.prototype,"ArrayType",{value:Int8Array}),Object.defineProperty(ro.prototype,"ArrayType",{value:Int16Array}),Object.defineProperty(ao.prototype,"ArrayType",{value:Int32Array}),Object.defineProperty(co.prototype,"ArrayType",{value:Int32Array}),Object.defineProperty(uo.prototype,"ArrayType",{value:Uint8Array}),Object.defineProperty(oo.prototype,"ArrayType",{value:Uint16Array}),Object.defineProperty(so.prototype,"ArrayType",{value:Uint32Array}),Object.defineProperty(mo.prototype,"ArrayType",{value:Uint32Array});var bo=function(e){function t(t){var n=e.call(this)||this;return n.precision=t,n}var n;return $u.__extends(t,e),Object.defineProperty(t.prototype,"typeId",{get:function(){return eo.Type.Float},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ArrayType",{get:function(){switch(this.precision){case eo.Precision.HALF:return Uint16Array;case eo.Precision.SINGLE:return Float32Array;case eo.Precision.DOUBLE:return Float64Array}throw new Error("Unrecognized "+this[Symbol.toStringTag]+" type")},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"Float"+(this.precision<<5||16)},t[Symbol.toStringTag]=((n=t.prototype).precision=null,n[Symbol.toStringTag]="Float"),t}(to);qu.Float=bo;var Zo=function(e){function t(){return e.call(this,eo.Precision.HALF)||this}return $u.__extends(t,e),t}(bo);qu.Float16=Zo;var po=function(e){function t(){return e.call(this,eo.Precision.SINGLE)||this}return $u.__extends(t,e),t}(bo);qu.Float32=po;var ho=function(e){function t(){return e.call(this,eo.Precision.DOUBLE)||this}return $u.__extends(t,e),t}(bo);qu.Float64=ho,Object.defineProperty(Zo.prototype,"ArrayType",{value:Uint16Array}),Object.defineProperty(po.prototype,"ArrayType",{value:Float32Array}),Object.defineProperty(ho.prototype,"ArrayType",{value:Float64Array});var yo=function(e){function t(){return e.call(this)||this}var n;return $u.__extends(t,e),Object.defineProperty(t.prototype,"typeId",{get:function(){return eo.Type.Binary},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"Binary"},t[Symbol.toStringTag]=((n=t.prototype).ArrayType=Uint8Array,n[Symbol.toStringTag]="Binary"),t}(to);qu.Binary=yo;var fo=function(e){function t(){return e.call(this)||this}var n;return $u.__extends(t,e),Object.defineProperty(t.prototype,"typeId",{get:function(){return eo.Type.Utf8},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"Utf8"},t[Symbol.toStringTag]=((n=t.prototype).ArrayType=Uint8Array,n[Symbol.toStringTag]="Utf8"),t}(to);qu.Utf8=fo;var Vo=function(e){function t(){return e.call(this)||this}var n;return $u.__extends(t,e),Object.defineProperty(t.prototype,"typeId",{get:function(){return eo.Type.Bool},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"Bool"},t[Symbol.toStringTag]=((n=t.prototype).ArrayType=Uint8Array,n[Symbol.toStringTag]="Bool"),t}(to);qu.Bool=Vo;var Xo=function(e){function t(t,n){var l=e.call(this)||this;return l.scale=t,l.precision=n,l}var n;return $u.__extends(t,e),Object.defineProperty(t.prototype,"typeId",{get:function(){return eo.Type.Decimal},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"Decimal["+this.precision+"e"+(this.scale>0?"+":"")+this.scale+"]"},t[Symbol.toStringTag]=((n=t.prototype).scale=null,n.precision=null,n.ArrayType=Uint32Array,n[Symbol.toStringTag]="Decimal"),t}(to);qu.Decimal=Xo;var Wo=function(e){function t(t){var n=e.call(this)||this;return n.unit=t,n}var n;return $u.__extends(t,e),Object.defineProperty(t.prototype,"typeId",{get:function(){return eo.Type.Date},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"Date"+32*(this.unit+1)+"<"+eo.DateUnit[this.unit]+">"},t[Symbol.toStringTag]=((n=t.prototype).unit=null,n.ArrayType=Int32Array,n[Symbol.toStringTag]="Date"),t}(to);qu.Date_=Wo;var Go=function(e){function t(){return e.call(this,eo.DateUnit.DAY)||this}return $u.__extends(t,e),t}(Wo);qu.DateDay=Go;var Ro=function(e){function t(){return e.call(this,eo.DateUnit.MILLISECOND)||this}return $u.__extends(t,e),t}(Wo);qu.DateMillisecond=Ro;var So=function(e){function t(t,n){var l=e.call(this)||this;return l.unit=t,l.bitWidth=n,l}var n;return $u.__extends(t,e),Object.defineProperty(t.prototype,"typeId",{get:function(){return eo.Type.Time},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"Time"+this.bitWidth+"<"+eo.TimeUnit[this.unit]+">"},t[Symbol.toStringTag]=((n=t.prototype).unit=null,n.bitWidth=null,n.ArrayType=Int32Array,n[Symbol.toStringTag]="Time"),t}(to);qu.Time=So;var vo=function(e){function t(){return e.call(this,eo.TimeUnit.SECOND,32)||this}return $u.__extends(t,e),t}(So);qu.TimeSecond=vo;var Lo=function(e){function t(){return e.call(this,eo.TimeUnit.MILLISECOND,32)||this}return $u.__extends(t,e),t}(So);qu.TimeMillisecond=Lo;var Yo=function(e){function t(){return e.call(this,eo.TimeUnit.MICROSECOND,64)||this}return $u.__extends(t,e),t}(So);qu.TimeMicrosecond=Yo;var Jo=function(e){function t(){return e.call(this,eo.TimeUnit.NANOSECOND,64)||this}return $u.__extends(t,e),t}(So);qu.TimeNanosecond=Jo;var xo=function(e){function t(t,n){var l=e.call(this)||this;return l.unit=t,l.timezone=n,l}var n;return $u.__extends(t,e),Object.defineProperty(t.prototype,"typeId",{get:function(){return eo.Type.Timestamp},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"Timestamp<"+eo.TimeUnit[this.unit]+(this.timezone?", "+this.timezone:"")+">"},t[Symbol.toStringTag]=((n=t.prototype).unit=null,n.timezone=null,n.ArrayType=Int32Array,n[Symbol.toStringTag]="Timestamp"),t}(to);qu.Timestamp=xo;var go=function(e){function t(t){return e.call(this,eo.TimeUnit.SECOND,t)||this}return $u.__extends(t,e),t}(xo);qu.TimestampSecond=go;var Ho=function(e){function t(t){return e.call(this,eo.TimeUnit.MILLISECOND,t)||this}return $u.__extends(t,e),t}(xo);qu.TimestampMillisecond=Ho;var Uo=function(e){function t(t){return e.call(this,eo.TimeUnit.MICROSECOND,t)||this}return $u.__extends(t,e),t}(xo);qu.TimestampMicrosecond=Uo;var Io=function(e){function t(t){return e.call(this,eo.TimeUnit.NANOSECOND,t)||this}return $u.__extends(t,e),t}(xo);qu.TimestampNanosecond=Io;var Ko=function(e){function t(t){var n=e.call(this)||this;return n.unit=t,n}var n;return $u.__extends(t,e),Object.defineProperty(t.prototype,"typeId",{get:function(){return eo.Type.Interval},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"Interval<"+eo.IntervalUnit[this.unit]+">"},t[Symbol.toStringTag]=((n=t.prototype).unit=null,n.ArrayType=Int32Array,n[Symbol.toStringTag]="Interval"),t}(to);qu.Interval=Ko;var No=function(e){function t(){return e.call(this,eo.IntervalUnit.DAY_TIME)||this}return $u.__extends(t,e),t}(Ko);qu.IntervalDayTime=No;var ko=function(e){function t(){return e.call(this,eo.IntervalUnit.YEAR_MONTH)||this}return $u.__extends(t,e),t}(Ko);qu.IntervalYearMonth=ko;var Bo=function(e){function t(t){var n=e.call(this)||this;return n.children=[t],n}var n;return $u.__extends(t,e),Object.defineProperty(t.prototype,"typeId",{get:function(){return eo.Type.List},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"List<"+this.valueType+">"},Object.defineProperty(t.prototype,"valueType",{get:function(){return this.children[0].type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"valueField",{get:function(){return this.children[0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ArrayType",{get:function(){return this.valueType.ArrayType},enumerable:!1,configurable:!0}),t[Symbol.toStringTag]=((n=t.prototype).children=null,n[Symbol.toStringTag]="List"),t}(to);qu.List=Bo;var Fo=function(e){function t(t){var n=e.call(this)||this;return n.children=t,n}var n;return $u.__extends(t,e),Object.defineProperty(t.prototype,"typeId",{get:function(){return eo.Type.Struct},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"Struct<{"+this.children.map((function(e){return e.name+":"+e.type})).join(", ")+"}>"},t[Symbol.toStringTag]=((n=t.prototype).children=null,n[Symbol.toStringTag]="Struct"),t}(to);qu.Struct=Fo;var To=function(e){function t(t,n,l){var i=e.call(this)||this;return i.mode=t,i.children=l,i.typeIds=n=Int32Array.from(n),i.typeIdToChildIndex=n.reduce((function(e,t,n){return(e[t]=n)&&e||e}),Object.create(null)),i}var n;return $u.__extends(t,e),Object.defineProperty(t.prototype,"typeId",{get:function(){return eo.Type.Union},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this[Symbol.toStringTag]+"<"+this.children.map((function(e){return""+e.type})).join(" | ")+">"},t[Symbol.toStringTag]=((n=t.prototype).mode=null,n.typeIds=null,n.children=null,n.typeIdToChildIndex=null,n.ArrayType=Int8Array,n[Symbol.toStringTag]="Union"),t}(to);qu.Union=To;var _o=function(e){function t(t,n){return e.call(this,eo.UnionMode.Dense,t,n)||this}return $u.__extends(t,e),t}(To);qu.DenseUnion=_o;var wo=function(e){function t(t,n){return e.call(this,eo.UnionMode.Sparse,t,n)||this}return $u.__extends(t,e),t}(To);qu.SparseUnion=wo;var Co=function(e){function t(t){var n=e.call(this)||this;return n.byteWidth=t,n}var n;return $u.__extends(t,e),Object.defineProperty(t.prototype,"typeId",{get:function(){return eo.Type.FixedSizeBinary},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"FixedSizeBinary["+this.byteWidth+"]"},t[Symbol.toStringTag]=((n=t.prototype).byteWidth=null,n.ArrayType=Uint8Array,n[Symbol.toStringTag]="FixedSizeBinary"),t}(to);qu.FixedSizeBinary=Co;var jo=function(e){function t(t,n){var l=e.call(this)||this;return l.listSize=t,l.children=[n],l}var n;return $u.__extends(t,e),Object.defineProperty(t.prototype,"typeId",{get:function(){return eo.Type.FixedSizeList},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"valueType",{get:function(){return this.children[0].type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"valueField",{get:function(){return this.children[0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ArrayType",{get:function(){return this.valueType.ArrayType},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"FixedSizeList["+this.listSize+"]<"+this.valueType+">"},t[Symbol.toStringTag]=((n=t.prototype).children=null,n.listSize=null,n[Symbol.toStringTag]="FixedSizeList"),t}(to);qu.FixedSizeList=jo;var zo=function(e){function t(t,n){void 0===n&&(n=!1);var l=e.call(this)||this;return l.children=[t],l.keysSorted=n,l}var n;return $u.__extends(t,e),Object.defineProperty(t.prototype,"typeId",{get:function(){return eo.Type.Map},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"keyType",{get:function(){return this.children[0].type.children[0].type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"valueType",{get:function(){return this.children[0].type.children[1].type},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"Map<{"+this.children[0].type.children.map((function(e){return e.name+":"+e.type})).join(", ")+"}>"},t[Symbol.toStringTag]=((n=t.prototype).children=null,n.keysSorted=null,n[Symbol.toStringTag]="Map_"),t}(to);qu.Map_=zo;var Qo,Mo=(Qo=-1,function(){return++Qo}),Po=function(e){function t(t,n,l,i){var r=e.call(this)||this;return r.indices=n,r.dictionary=t,r.isOrdered=i||!1,r.id=null==l?Mo():"number"==typeof l?l:l.low,r}var n;return $u.__extends(t,e),Object.defineProperty(t.prototype,"typeId",{get:function(){return eo.Type.Dictionary},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this.dictionary.children},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"valueType",{get:function(){return this.dictionary},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ArrayType",{get:function(){return this.dictionary.ArrayType},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"Dictionary<"+this.indices+", "+this.dictionary+">"},t[Symbol.toStringTag]=((n=t.prototype).id=null,n.indices=null,n.isOrdered=null,n.dictionary=null,n[Symbol.toStringTag]="Dictionary"),t}(to);qu.Dictionary=Po,qu.strideForType=function(e){var t=e;switch(e.typeId){case eo.Type.Decimal:return 4;case eo.Type.Timestamp:return 2;case eo.Type.Date:case eo.Type.Interval:return 1+t.unit;case eo.Type.Int:case eo.Type.Time:return+(t.bitWidth>32)+1;case eo.Type.FixedSizeList:return t.listSize;case eo.Type.FixedSizeBinary:return t.byteWidth;default:return 1}},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Data=e.kUnknownNullCount=void 0;var t=zu,n=zu,l=_u,i=qu,r=mu;e.kUnknownNullCount=-1;var a=function(){function a(e,t,n,l,r,c,u){var o;this.type=e,this.dictionary=u,this.offset=Math.floor(Math.max(t||0,0)),this.length=Math.floor(Math.max(n||0,0)),this._nullCount=Math.floor(Math.max(l||0,-1)),this.childData=(c||[]).map((function(e){return e instanceof a?e:e.data})),r instanceof a?(this.stride=r.stride,this.values=r.values,this.typeIds=r.typeIds,this.nullBitmap=r.nullBitmap,this.valueOffsets=r.valueOffsets):(this.stride=i.strideForType(e),r&&((o=r[0])&&(this.valueOffsets=o),(o=r[1])&&(this.values=o),(o=r[2])&&(this.nullBitmap=o),(o=r[3])&&(this.typeIds=o)))}return Object.defineProperty(a.prototype,"typeId",{get:function(){return this.type.typeId},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"ArrayType",{get:function(){return this.type.ArrayType},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"buffers",{get:function(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"byteLength",{get:function(){var e=0,t=this,n=t.valueOffsets,l=t.values,i=t.nullBitmap,r=t.typeIds;return n&&(e+=n.byteLength),l&&(e+=l.byteLength),i&&(e+=i.byteLength),r&&(e+=r.byteLength),this.childData.reduce((function(e,t){return e+t.byteLength}),e)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"nullCount",{get:function(){var t,l=this._nullCount;return l<=e.kUnknownNullCount&&(t=this.nullBitmap)&&(this._nullCount=l=this.length-n.popcnt_bit_range(t,this.offset,this.offset+this.length)),l},enumerable:!1,configurable:!0}),a.prototype.clone=function(e,t,n,l,i,r){return void 0===t&&(t=this.offset),void 0===n&&(n=this.length),void 0===l&&(l=this._nullCount),void 0===i&&(i=this),void 0===r&&(r=this.childData),new a(e,t,n,l,i,r,this.dictionary)},a.prototype.slice=function(e,t){var n=this,l=n.stride,i=n.typeId,r=n.childData,a=+(0===this._nullCount)-1,c=16===i?l:1,u=this._sliceBuffers(e,t,l,i);return this.clone(this.type,this.offset+e,t,a,u,!r.length||this.valueOffsets?r:this._sliceChildren(r,c*e,c*t))},a.prototype._changeLengthAndBackfillNullBitmap=function(e){if(this.typeId===l.Type.Null)return this.clone(this.type,0,e,0);var n=this.length,i=this.nullCount,r=new Uint8Array((e+63&-64)>>3).fill(255,0,n>>3);r[n>>3]=(1<<n-(-8&n))-1,i>0&&r.set(t.truncateBitmap(this.offset,n,this.nullBitmap),0);var a=this.buffers;return a[l.BufferType.VALIDITY]=r,this.clone(this.type,0,e,i+(e-n),a)},a.prototype._sliceBuffers=function(e,t,n,i){var r,a=this.buffers;return(r=a[l.BufferType.TYPE])&&(a[l.BufferType.TYPE]=r.subarray(e,e+t)),(r=a[l.BufferType.OFFSET])&&(a[l.BufferType.OFFSET]=r.subarray(e,e+t+1))||(r=a[l.BufferType.DATA])&&(a[l.BufferType.DATA]=6===i?r:r.subarray(n*e,n*(e+t))),a},a.prototype._sliceChildren=function(e,t,n){return e.map((function(e){return e.slice(t,n)}))},a.new=function(e,t,n,i,r,c,u){switch(r instanceof a?r=r.buffers:r||(r=[]),e.typeId){case l.Type.Null:return a.Null(e,t,n);case l.Type.Int:return a.Int(e,t,n,i||0,r[l.BufferType.VALIDITY],r[l.BufferType.DATA]||[]);case l.Type.Dictionary:return a.Dictionary(e,t,n,i||0,r[l.BufferType.VALIDITY],r[l.BufferType.DATA]||[],u);case l.Type.Float:return a.Float(e,t,n,i||0,r[l.BufferType.VALIDITY],r[l.BufferType.DATA]||[]);case l.Type.Bool:return a.Bool(e,t,n,i||0,r[l.BufferType.VALIDITY],r[l.BufferType.DATA]||[]);case l.Type.Decimal:return a.Decimal(e,t,n,i||0,r[l.BufferType.VALIDITY],r[l.BufferType.DATA]||[]);case l.Type.Date:return a.Date(e,t,n,i||0,r[l.BufferType.VALIDITY],r[l.BufferType.DATA]||[]);case l.Type.Time:return a.Time(e,t,n,i||0,r[l.BufferType.VALIDITY],r[l.BufferType.DATA]||[]);case l.Type.Timestamp:return a.Timestamp(e,t,n,i||0,r[l.BufferType.VALIDITY],r[l.BufferType.DATA]||[]);case l.Type.Interval:return a.Interval(e,t,n,i||0,r[l.BufferType.VALIDITY],r[l.BufferType.DATA]||[]);case l.Type.FixedSizeBinary:return a.FixedSizeBinary(e,t,n,i||0,r[l.BufferType.VALIDITY],r[l.BufferType.DATA]||[]);case l.Type.Binary:return a.Binary(e,t,n,i||0,r[l.BufferType.VALIDITY],r[l.BufferType.OFFSET]||[],r[l.BufferType.DATA]||[]);case l.Type.Utf8:return a.Utf8(e,t,n,i||0,r[l.BufferType.VALIDITY],r[l.BufferType.OFFSET]||[],r[l.BufferType.DATA]||[]);case l.Type.List:return a.List(e,t,n,i||0,r[l.BufferType.VALIDITY],r[l.BufferType.OFFSET]||[],(c||[])[0]);case l.Type.FixedSizeList:return a.FixedSizeList(e,t,n,i||0,r[l.BufferType.VALIDITY],(c||[])[0]);case l.Type.Struct:return a.Struct(e,t,n,i||0,r[l.BufferType.VALIDITY],c||[]);case l.Type.Map:return a.Map(e,t,n,i||0,r[l.BufferType.VALIDITY],r[l.BufferType.OFFSET]||[],(c||[])[0]);case l.Type.Union:return a.Union(e,t,n,i||0,r[l.BufferType.VALIDITY],r[l.BufferType.TYPE]||[],r[l.BufferType.OFFSET]||c,c)}throw new Error("Unrecognized typeId "+e.typeId)},a.Null=function(e,t,n){return new a(e,t,n,0)},a.Int=function(e,t,n,l,i,c){return new a(e,t,n,l,[void 0,r.toArrayBufferView(e.ArrayType,c),r.toUint8Array(i)])},a.Dictionary=function(e,t,n,l,i,c,u){return new a(e,t,n,l,[void 0,r.toArrayBufferView(e.indices.ArrayType,c),r.toUint8Array(i)],[],u)},a.Float=function(e,t,n,l,i,c){return new a(e,t,n,l,[void 0,r.toArrayBufferView(e.ArrayType,c),r.toUint8Array(i)])},a.Bool=function(e,t,n,l,i,c){return new a(e,t,n,l,[void 0,r.toArrayBufferView(e.ArrayType,c),r.toUint8Array(i)])},a.Decimal=function(e,t,n,l,i,c){return new a(e,t,n,l,[void 0,r.toArrayBufferView(e.ArrayType,c),r.toUint8Array(i)])},a.Date=function(e,t,n,l,i,c){return new a(e,t,n,l,[void 0,r.toArrayBufferView(e.ArrayType,c),r.toUint8Array(i)])},a.Time=function(e,t,n,l,i,c){return new a(e,t,n,l,[void 0,r.toArrayBufferView(e.ArrayType,c),r.toUint8Array(i)])},a.Timestamp=function(e,t,n,l,i,c){return new a(e,t,n,l,[void 0,r.toArrayBufferView(e.ArrayType,c),r.toUint8Array(i)])},a.Interval=function(e,t,n,l,i,c){return new a(e,t,n,l,[void 0,r.toArrayBufferView(e.ArrayType,c),r.toUint8Array(i)])},a.FixedSizeBinary=function(e,t,n,l,i,c){return new a(e,t,n,l,[void 0,r.toArrayBufferView(e.ArrayType,c),r.toUint8Array(i)])},a.Binary=function(e,t,n,l,i,c,u){return new a(e,t,n,l,[r.toInt32Array(c),r.toUint8Array(u),r.toUint8Array(i)])},a.Utf8=function(e,t,n,l,i,c,u){return new a(e,t,n,l,[r.toInt32Array(c),r.toUint8Array(u),r.toUint8Array(i)])},a.List=function(e,t,n,l,i,c,u){return new a(e,t,n,l,[r.toInt32Array(c),void 0,r.toUint8Array(i)],u?[u]:[])},a.FixedSizeList=function(e,t,n,l,i,c){return new a(e,t,n,l,[void 0,void 0,r.toUint8Array(i)],c?[c]:[])},a.Struct=function(e,t,n,l,i,c){return new a(e,t,n,l,[void 0,void 0,r.toUint8Array(i)],c)},a.Map=function(e,t,n,l,i,c,u){return new a(e,t,n,l,[r.toInt32Array(c),void 0,r.toUint8Array(i)],u?[u]:[])},a.Union=function(e,t,n,i,c,u,o,d){var s=[void 0,void 0,r.toUint8Array(c),r.toArrayBufferView(e.ArrayType,u)];return e.mode===l.UnionMode.Sparse?new a(e,t,n,i,s,o):(s[l.BufferType.OFFSET]=r.toInt32Array(o),new a(e,t,n,i,s,d))},a}();e.Data=a,a.prototype.childData=Object.freeze([])}(ju);var Eo={},Oo={};Object.defineProperty(Oo,"__esModule",{value:!0}),Oo.valueToString=void 0;Oo.valueToString=function(e){if(null===e)return"null";if(undefined===e)return"undefined";switch(typeof e){case"number":case"bigint":return""+e;case"string":return'"'+e+'"'}return"function"==typeof e[Symbol.toPrimitive]?e[Symbol.toPrimitive]("string"):ArrayBuffer.isView(e)?"["+e+"]":JSON.stringify(e)},Object.defineProperty(Eo,"__esModule",{value:!0}),Eo.createIsValidFunction=void 0;var Do=Oo,Ao=fu;Eo.createIsValidFunction=function(e){if(!e||e.length<=0)return function(e){return!0};var t="",n=e.filter((function(e){return e==e}));return n.length>0&&(t="\n    switch (x) {"+n.map((function(e){return"\n        case "+function(e){if("bigint"!=typeof e)return Do.valueToString(e);if(Ao.BigIntAvailable)return Do.valueToString(e)+"n";return'"'+Do.valueToString(e)+'"'}(e)+":"})).join("")+"\n            return false;\n    }"),e.length!==n.length&&(t="if (x !== x) return false;\n"+t),new Function("x",t+"\nreturn true;")};var qo={};Object.defineProperty(qo,"__esModule",{value:!0}),qo.WideBufferBuilder=qo.OffsetsBufferBuilder=qo.BitmapBufferBuilder=qo.DataBufferBuilder=qo.BufferBuilder=void 0;var $o=su.exports,ed=mu,td=fu,nd=function(e,t){return(e*t+63&-64||64)/t},ld=function(){function e(e,t){void 0===t&&(t=1),this.buffer=e,this.stride=t,this.BYTES_PER_ELEMENT=e.BYTES_PER_ELEMENT,this.ArrayType=e.constructor,this._resize(this.length=e.length/t|0)}return Object.defineProperty(e.prototype,"byteLength",{get:function(){return this.length*this.stride*this.BYTES_PER_ELEMENT|0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"reservedLength",{get:function(){return this.buffer.length/this.stride},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"reservedByteLength",{get:function(){return this.buffer.byteLength},enumerable:!1,configurable:!0}),e.prototype.set=function(e,t){return this},e.prototype.append=function(e){return this.set(this.length,e)},e.prototype.reserve=function(e){if(e>0){this.length+=e;var t=this.stride,n=this.length*t,l=this.buffer.length;n>=l&&this._resize(nd(0===l?1*n:2*n,this.BYTES_PER_ELEMENT))}return this},e.prototype.flush=function(e){void 0===e&&(e=this.length),e=nd(e*this.stride,this.BYTES_PER_ELEMENT);var t,n,l=(t=this.buffer,void 0===(n=e)&&(n=0),t.length>=n?t.subarray(0,n):ed.memcpy(new t.constructor(n),t,0));return this.clear(),l},e.prototype.clear=function(){return this.length=0,this._resize(0),this},e.prototype._resize=function(e){return this.buffer=ed.memcpy(new this.ArrayType(e),this.buffer)},e}();qo.BufferBuilder=ld,ld.prototype.offset=0;var id=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $o.__extends(t,e),t.prototype.last=function(){return this.get(this.length-1)},t.prototype.get=function(e){return this.buffer[e]},t.prototype.set=function(e,t){return this.reserve(e-this.length+1),this.buffer[e*this.stride]=t,this},t}(ld);qo.DataBufferBuilder=id;var rd=function(e){function t(t){void 0===t&&(t=new Uint8Array(0));var n=e.call(this,t,1/8)||this;return n.numValid=0,n}return $o.__extends(t,e),Object.defineProperty(t.prototype,"numInvalid",{get:function(){return this.length-this.numValid},enumerable:!1,configurable:!0}),t.prototype.get=function(e){return this.buffer[e>>3]>>e%8&1},t.prototype.set=function(e,t){var n=this.reserve(e-this.length+1).buffer,l=e>>3,i=e%8,r=n[l]>>i&1;return t?0===r&&(n[l]|=1<<i,++this.numValid):1===r&&(n[l]&=~(1<<i),--this.numValid),this},t.prototype.clear=function(){return this.numValid=0,e.prototype.clear.call(this)},t}(id);qo.BitmapBufferBuilder=rd;var ad=function(e){function t(t){return void 0===t&&(t=new Int32Array(1)),e.call(this,t,1)||this}return $o.__extends(t,e),t.prototype.append=function(e){return this.set(this.length-1,e)},t.prototype.set=function(e,t){var n=this.length-1,l=this.reserve(e-n+1).buffer;return n<e++&&l.fill(l[n],n,e),l[e]=l[e-1]+t,this},t.prototype.flush=function(t){return void 0===t&&(t=this.length-1),t>this.length&&this.set(t-1,0),e.prototype.flush.call(this,t+1)},t}(id);qo.OffsetsBufferBuilder=ad;var cd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $o.__extends(t,e),Object.defineProperty(t.prototype,"ArrayType64",{get:function(){return this._ArrayType64||(this._ArrayType64=this.buffer instanceof Int32Array?td.BigInt64Array:td.BigUint64Array)},enumerable:!1,configurable:!0}),t.prototype.set=function(e,t){switch(this.reserve(e-this.length+1),typeof t){case"bigint":this.buffer64[e]=t;break;case"number":this.buffer[e*this.stride]=t;break;default:this.buffer.set(t,e*this.stride)}return this},t.prototype._resize=function(t){var n=e.prototype._resize.call(this,t),l=n.byteLength/(this.BYTES_PER_ELEMENT*this.stride);return td.BigIntAvailable&&(this.buffer64=new this.ArrayType64(n.buffer,n.byteOffset,l)),n},t}(ld);qo.WideBufferBuilder=cd,Object.defineProperty(Bu,"__esModule",{value:!0}),Bu.VariableWidthBuilder=Bu.FixedWidthBuilder=Bu.Builder=void 0;var ud=su.exports,od=Fu,dd=_u,sd=ju,md=Eo,bd=qo,Zd=qu,pd=function(){function e(e){var t=e.type,n=e.nullValues;this.length=0,this.finished=!1,this.type=t,this.children=[],this.nullValues=n,this.stride=Zd.strideForType(t),this._nulls=new bd.BitmapBufferBuilder,n&&n.length>0&&(this._isValid=md.createIsValidFunction(n))}return e.new=function(e){},e.throughNode=function(e){throw new Error('"throughNode" not available in this environment')},e.throughDOM=function(e){throw new Error('"throughDOM" not available in this environment')},e.throughIterable=function(e){return function(e){var t=e.queueingStrategy,n=void 0===t?"count":t,l=e.highWaterMark,i=void 0===l?"bytes"!==n?1e3:Math.pow(2,14):l,r="bytes"!==n?"length":"byteLength";return function(t){var n,l,a,c,u,o,d,s;return ud.__generator(this,(function(m){switch(m.label){case 0:n=0,l=pd.new(e),m.label=1;case 1:m.trys.push([1,7,8,9]),a=ud.__values(t),c=a.next(),m.label=2;case 2:return c.done?[3,6]:(u=c.value,l.append(u)[r]>=i?++n?[4,l.toVector()]:[3,4]:[3,5]);case 3:m.sent(),m.label=4;case 4:m.label=5;case 5:return c=a.next(),[3,2];case 6:return[3,9];case 7:return o=m.sent(),d={error:o},[3,9];case 8:try{c&&!c.done&&(s=a.return)&&s.call(a)}finally{if(d)throw d.error}return[7];case 9:return l.finish().length>0||0===n?[4,l.toVector()]:[3,11];case 10:m.sent(),m.label=11;case 11:return[2]}}))}}(e)},e.throughAsyncIterable=function(e){return function(e){var t=e.queueingStrategy,n=void 0===t?"count":t,l=e.highWaterMark,i=void 0===l?"bytes"!==n?1e3:Math.pow(2,14):l,r="bytes"!==n?"length":"byteLength";return function(t){return ud.__asyncGenerator(this,arguments,(function(){var n,l,a,c,u,o,d,s;return ud.__generator(this,(function(m){switch(m.label){case 0:n=0,l=pd.new(e),m.label=1;case 1:m.trys.push([1,9,10,15]),a=ud.__asyncValues(t),m.label=2;case 2:return[4,ud.__await(a.next())];case 3:return(c=m.sent()).done?[3,8]:(u=c.value,l.append(u)[r]>=i?++n?[4,ud.__await(l.toVector())]:[3,6]:[3,7]);case 4:return[4,m.sent()];case 5:m.sent(),m.label=6;case 6:m.label=7;case 7:return[3,2];case 8:return[3,15];case 9:return o=m.sent(),d={error:o},[3,15];case 10:return m.trys.push([10,,13,14]),c&&!c.done&&(s=a.return)?[4,ud.__await(s.call(a))]:[3,12];case 11:m.sent(),m.label=12;case 12:return[3,14];case 13:if(d)throw d.error;return[7];case 14:return[7];case 15:return l.finish().length>0||0===n?[4,ud.__await(l.toVector())]:[3,18];case 16:return[4,m.sent()];case 17:m.sent(),m.label=18;case 18:return[2]}}))}))}}(e)},e.prototype.toVector=function(){return od.Vector.new(this.flush())},Object.defineProperty(e.prototype,"ArrayType",{get:function(){return this.type.ArrayType},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nullCount",{get:function(){return this._nulls.numInvalid},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"numChildren",{get:function(){return this.children.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"byteLength",{get:function(){var e=0;return this._offsets&&(e+=this._offsets.byteLength),this._values&&(e+=this._values.byteLength),this._nulls&&(e+=this._nulls.byteLength),this._typeIds&&(e+=this._typeIds.byteLength),this.children.reduce((function(e,t){return e+t.byteLength}),e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"reservedLength",{get:function(){return this._nulls.reservedLength},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"reservedByteLength",{get:function(){var e=0;return this._offsets&&(e+=this._offsets.reservedByteLength),this._values&&(e+=this._values.reservedByteLength),this._nulls&&(e+=this._nulls.reservedByteLength),this._typeIds&&(e+=this._typeIds.reservedByteLength),this.children.reduce((function(e,t){return e+t.reservedByteLength}),e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"valueOffsets",{get:function(){return this._offsets?this._offsets.buffer:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"values",{get:function(){return this._values?this._values.buffer:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nullBitmap",{get:function(){return this._nulls?this._nulls.buffer:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"typeIds",{get:function(){return this._typeIds?this._typeIds.buffer:null},enumerable:!1,configurable:!0}),e.prototype.append=function(e){return this.set(this.length,e)},e.prototype.isValid=function(e){return this._isValid(e)},e.prototype.set=function(e,t){return this.setValid(e,this.isValid(t))&&this.setValue(e,t),this},e.prototype.setValue=function(e,t){this._setValue(this,e,t)},e.prototype.setValid=function(e,t){return this.length=this._nulls.set(e,+t).length,t},e.prototype.addChild=function(e,t){throw void 0===t&&(t=""+this.numChildren),new Error('Cannot append children to non-nested type "'+this.type+'"')},e.prototype.getChildAt=function(e){return this.children[e]||null},e.prototype.flush=function(){var e=[],t=this._values,n=this._offsets,l=this._typeIds,i=this.length,r=this.nullCount;l?(e[dd.BufferType.TYPE]=l.flush(i),n&&(e[dd.BufferType.OFFSET]=n.flush(i))):n?(t&&(e[dd.BufferType.DATA]=t.flush(n.last())),e[dd.BufferType.OFFSET]=n.flush(i)):t&&(e[dd.BufferType.DATA]=t.flush(i)),r>0&&(e[dd.BufferType.VALIDITY]=this._nulls.flush(i));var a=sd.Data.new(this.type,0,i,r,e,this.children.map((function(e){return e.flush()})));return this.clear(),a},e.prototype.finish=function(){return this.finished=!0,this.children.forEach((function(e){return e.finish()})),this},e.prototype.clear=function(){return this.length=0,this._offsets&&this._offsets.clear(),this._values&&this._values.clear(),this._nulls&&this._nulls.clear(),this._typeIds&&this._typeIds.clear(),this.children.forEach((function(e){return e.clear()})),this},e}();Bu.Builder=pd,pd.prototype.length=1,pd.prototype.stride=1,pd.prototype.children=null,pd.prototype.finished=!1,pd.prototype.nullValues=null,pd.prototype._isValid=function(){return!0};var hd=function(e){function t(t){var n=e.call(this,t)||this;return n._values=new bd.DataBufferBuilder(new n.ArrayType(0),n.stride),n}return ud.__extends(t,e),t.prototype.setValue=function(t,n){var l=this._values;return l.reserve(t-l.length+1),e.prototype.setValue.call(this,t,n)},t}(pd);Bu.FixedWidthBuilder=hd;var yd=function(e){function t(t){var n=e.call(this,t)||this;return n._pendingLength=0,n._offsets=new bd.OffsetsBufferBuilder,n}return ud.__extends(t,e),t.prototype.setValue=function(e,t){var n=this._pending||(this._pending=new Map),l=n.get(e);l&&(this._pendingLength-=l.length),this._pendingLength+=t.length,n.set(e,t)},t.prototype.setValid=function(t,n){return!!e.prototype.setValid.call(this,t,n)||((this._pending||(this._pending=new Map)).set(t,void 0),!1)},t.prototype.clear=function(){return this._pendingLength=0,this._pending=void 0,e.prototype.clear.call(this)},t.prototype.flush=function(){return this._flush(),e.prototype.flush.call(this)},t.prototype.finish=function(){return this._flush(),e.prototype.finish.call(this)},t.prototype._flush=function(){var e=this._pending,t=this._pendingLength;return this._pendingLength=0,this._pending=void 0,e&&e.size>0&&this._flushPending(e,t),this},t}(pd);Bu.VariableWidthBuilder=yd;var fd={};Object.defineProperty(fd,"__esModule",{value:!0}),fd.BoolBuilder=void 0;var Vd=su.exports,Xd=qo,Wd=function(e){function t(t){var n=e.call(this,t)||this;return n._values=new Xd.BitmapBufferBuilder,n}return Vd.__extends(t,e),t.prototype.setValue=function(e,t){this._values.set(e,+t)},t}(Bu.Builder);fd.BoolBuilder=Wd;var Gd={};Object.defineProperty(Gd,"__esModule",{value:!0}),Gd.NullBuilder=void 0;var Rd=su.exports,Sd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Rd.__extends(t,e),t.prototype.setValue=function(e,t){},t.prototype.setValid=function(e,t){return this.length=Math.max(e+1,this.length),t},t}(Bu.Builder);Gd.NullBuilder=Sd;var vd={};Object.defineProperty(vd,"__esModule",{value:!0}),vd.DateMillisecondBuilder=vd.DateDayBuilder=vd.DateBuilder=void 0;var Ld=su.exports,Yd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ld.__extends(t,e),t}(Bu.FixedWidthBuilder);vd.DateBuilder=Yd;var Jd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ld.__extends(t,e),t}(Yd);vd.DateDayBuilder=Jd;var xd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ld.__extends(t,e),t}(Yd);vd.DateMillisecondBuilder=xd;var gd={};Object.defineProperty(gd,"__esModule",{value:!0}),gd.DecimalBuilder=void 0;var Hd=su.exports,Ud=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Hd.__extends(t,e),t}(Bu.FixedWidthBuilder);gd.DecimalBuilder=Ud;var Id={};Object.defineProperty(Id,"__esModule",{value:!0}),Id.DictionaryBuilder=void 0;var Kd=su.exports,Nd=qu,kd=Bu,Bd=function(e){function t(t){var n=t.type,l=t.nullValues,i=t.dictionaryHashFunction,r=e.call(this,{type:new Nd.Dictionary(n.dictionary,n.indices,n.id,n.isOrdered)})||this;return r._nulls=null,r._dictionaryOffset=0,r._keysToIndices=Object.create(null),r.indices=kd.Builder.new({type:r.type.indices,nullValues:l}),r.dictionary=kd.Builder.new({type:r.type.dictionary,nullValues:null}),"function"==typeof i&&(r.valueToKey=i),r}return Kd.__extends(t,e),Object.defineProperty(t.prototype,"values",{get:function(){return this.indices.values},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nullCount",{get:function(){return this.indices.nullCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nullBitmap",{get:function(){return this.indices.nullBitmap},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"byteLength",{get:function(){return this.indices.byteLength+this.dictionary.byteLength},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"reservedLength",{get:function(){return this.indices.reservedLength+this.dictionary.reservedLength},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"reservedByteLength",{get:function(){return this.indices.reservedByteLength+this.dictionary.reservedByteLength},enumerable:!1,configurable:!0}),t.prototype.isValid=function(e){return this.indices.isValid(e)},t.prototype.setValid=function(e,t){var n=this.indices;return t=n.setValid(e,t),this.length=n.length,t},t.prototype.setValue=function(e,t){var n=this._keysToIndices,l=this.valueToKey(t),i=n[l];return void 0===i&&(n[l]=i=this._dictionaryOffset+this.dictionary.append(t).length-1),this.indices.setValue(e,i)},t.prototype.flush=function(){var e=this.type,t=this._dictionary,n=this.dictionary.toVector(),l=this.indices.flush().clone(e);return l.dictionary=t?t.concat(n):n,this.finished||(this._dictionaryOffset+=n.length),this._dictionary=l.dictionary,this.clear(),l},t.prototype.finish=function(){return this.indices.finish(),this.dictionary.finish(),this._dictionaryOffset=0,this._keysToIndices=Object.create(null),e.prototype.finish.call(this)},t.prototype.clear=function(){return this.indices.clear(),this.dictionary.clear(),e.prototype.clear.call(this)},t.prototype.valueToKey=function(e){return"string"==typeof e?e:""+e},t}(kd.Builder);Id.DictionaryBuilder=Bd;var Fd={};Object.defineProperty(Fd,"__esModule",{value:!0}),Fd.FixedSizeBinaryBuilder=void 0;var Td=su.exports,_d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Td.__extends(t,e),t}(Bu.FixedWidthBuilder);Fd.FixedSizeBinaryBuilder=_d;var wd={},Cd={};Object.defineProperty(Cd,"__esModule",{value:!0}),Cd.float64ToUint16=Cd.uint16ToFloat64=void 0;var jd=new Float64Array(1),zd=new Uint32Array(jd.buffer);Cd.uint16ToFloat64=function(e){var t=(31744&e)>>10,n=(1023&e)/1024,l=Math.pow(-1,(32768&e)>>15);switch(t){case 31:return l*(n?NaN:1/0);case 0:return l*(n?6103515625e-14*n:0)}return l*Math.pow(2,t-15)*(1+n)},Cd.float64ToUint16=function(e){if(e!=e)return 32256;jd[0]=e;var t=(2147483648&zd[1])>>16&65535,n=2146435072&zd[1],l=0;return n>=1089470464?zd[0]>0?n=31744:(n=(2080374784&n)>>16,l=(1048575&zd[1])>>10):n<=1056964608?(l=1048576+((l=1048576+(1048575&zd[1]))<<(n>>20)-998)>>21,n=0):(n=n-1056964608>>10,l=512+(1048575&zd[1])>>10),t|n|65535&l},Object.defineProperty(wd,"__esModule",{value:!0}),wd.Float64Builder=wd.Float32Builder=wd.Float16Builder=wd.FloatBuilder=void 0;var Qd=su.exports,Md=Cd,Pd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Qd.__extends(t,e),t}(Bu.FixedWidthBuilder);wd.FloatBuilder=Pd;var Ed=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Qd.__extends(t,e),t.prototype.setValue=function(e,t){this._values.set(e,Md.float64ToUint16(t))},t}(Pd);wd.Float16Builder=Ed;var Od=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Qd.__extends(t,e),t.prototype.setValue=function(e,t){this._values.set(e,t)},t}(Pd);wd.Float32Builder=Od;var Dd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Qd.__extends(t,e),t.prototype.setValue=function(e,t){this._values.set(e,t)},t}(Pd);wd.Float64Builder=Dd;var Ad={},qd={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.BN=e.bignumToBigInt=e.bignumToString=e.isArrowBigNumSymbol=void 0;var t=su.exports,n=mu,l=fu;function i(e){for(var l,i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];return 0===i.length?Object.setPrototypeOf(n.toArrayBufferView(this.TypedArray,e),this.constructor.prototype):Object.setPrototypeOf(new((l=this.TypedArray).bind.apply(l,t.__spread([void 0,e],i))),this.constructor.prototype)}function r(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.apply(this,e)}function a(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.apply(this,e)}function c(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.apply(this,e)}function u(e){for(var t,n,l=e.buffer,i=e.byteOffset,r=e.length,a=e.signed,c=new Int32Array(l,i,r),u=0,o=0,d=c.length;o<d;)n=c[o++],t=c[o++],a||(t>>>=0),u+=(n>>>0)+t*Math.pow(o,32);return u}function o(e){var t="",n=new Uint32Array(2),l=new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2),i=new Uint32Array((l=new Uint16Array(l).reverse()).buffer),r=-1,a=l.length-1;do{for(n[0]=l[r=0];r<a;)l[r++]=n[1]=n[0]/10,n[0]=(n[0]-10*n[1]<<16)+l[r];l[r]=n[1]=n[0]/10,n[0]=n[0]-10*n[1],t=""+n[0]+t}while(i[0]||i[1]||i[2]||i[3]);return t||"0"}e.isArrowBigNumSymbol=Symbol.for("isArrowBigNum"),i.prototype[e.isArrowBigNumSymbol]=!0,i.prototype.toJSON=function(){return'"'+e.bignumToString(this)+'"'},i.prototype.valueOf=function(){return u(this)},i.prototype.toString=function(){return e.bignumToString(this)},i.prototype[Symbol.toPrimitive]=function(t){switch(void 0===t&&(t="default"),t){case"number":return u(this);case"string":return e.bignumToString(this);case"default":return e.bignumToBigInt(this)}return e.bignumToString(this)},Object.setPrototypeOf(r.prototype,Object.create(Int32Array.prototype)),Object.setPrototypeOf(a.prototype,Object.create(Uint32Array.prototype)),Object.setPrototypeOf(c.prototype,Object.create(Uint32Array.prototype)),Object.assign(r.prototype,i.prototype,{constructor:r,signed:!0,TypedArray:Int32Array,BigIntArray:l.BigInt64Array}),Object.assign(a.prototype,i.prototype,{constructor:a,signed:!1,TypedArray:Uint32Array,BigIntArray:l.BigUint64Array}),Object.assign(c.prototype,i.prototype,{constructor:c,signed:!0,TypedArray:Uint32Array,BigIntArray:l.BigUint64Array}),l.BigIntAvailable?(e.bignumToBigInt=function(e){return 8===e.byteLength?new e.BigIntArray(e.buffer,e.byteOffset,1)[0]:o(e)},e.bignumToString=function(e){return 8===e.byteLength?""+new e.BigIntArray(e.buffer,e.byteOffset,1)[0]:o(e)}):(e.bignumToString=o,e.bignumToBigInt=e.bignumToString);var d=function(){function e(t,n){return e.new(t,n)}return e.new=function(e,t){switch(t){case!0:return new r(e);case!1:return new a(e)}switch(e.constructor){case Int8Array:case Int16Array:case Int32Array:case l.BigInt64Array:return new r(e)}return 16===e.byteLength?new c(e):new a(e)},e.signed=function(e){return new r(e)},e.unsigned=function(e){return new a(e)},e.decimal=function(e){return new c(e)},e}();e.BN=d}(qd),Object.defineProperty(Ad,"__esModule",{value:!0}),Ad.Uint64Builder=Ad.Uint32Builder=Ad.Uint16Builder=Ad.Uint8Builder=Ad.Int64Builder=Ad.Int32Builder=Ad.Int16Builder=Ad.Int8Builder=Ad.IntBuilder=void 0;var $d=su.exports,es=qd,ts=qo,ns=fu,ls=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $d.__extends(t,e),t.prototype.setValue=function(e,t){this._values.set(e,t)},t}(Bu.FixedWidthBuilder);Ad.IntBuilder=ls;var is=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $d.__extends(t,e),t}(ls);Ad.Int8Builder=is;var rs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $d.__extends(t,e),t}(ls);Ad.Int16Builder=rs;var as=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $d.__extends(t,e),t}(ls);Ad.Int32Builder=as;var cs=function(e){function t(t){var n=this;return t.nullValues&&(t.nullValues=t.nullValues.map(bs)),(n=e.call(this,t)||this)._values=new ts.WideBufferBuilder(new Int32Array(0),2),n}return $d.__extends(t,e),Object.defineProperty(t.prototype,"values64",{get:function(){return this._values.buffer64},enumerable:!1,configurable:!0}),t.prototype.isValid=function(t){return e.prototype.isValid.call(this,bs(t))},t}(ls);Ad.Int64Builder=cs;var us=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $d.__extends(t,e),t}(ls);Ad.Uint8Builder=us;var os=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $d.__extends(t,e),t}(ls);Ad.Uint16Builder=os;var ds=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $d.__extends(t,e),t}(ls);Ad.Uint32Builder=ds;var ss=function(e){function t(t){var n=this;return t.nullValues&&(t.nullValues=t.nullValues.map(bs)),(n=e.call(this,t)||this)._values=new ts.WideBufferBuilder(new Uint32Array(0),2),n}return $d.__extends(t,e),Object.defineProperty(t.prototype,"values64",{get:function(){return this._values.buffer64},enumerable:!1,configurable:!0}),t.prototype.isValid=function(t){return e.prototype.isValid.call(this,bs(t))},t}(ls);Ad.Uint64Builder=ss;var ms,bs=(ms={BigIntArray:ns.BigInt64Array},function(e){return ArrayBuffer.isView(e)&&(ms.buffer=e.buffer,ms.byteOffset=e.byteOffset,ms.byteLength=e.byteLength,e=es.bignumToBigInt(ms),ms.buffer=null),e}),Zs={};Object.defineProperty(Zs,"__esModule",{value:!0}),Zs.TimeNanosecondBuilder=Zs.TimeMicrosecondBuilder=Zs.TimeMillisecondBuilder=Zs.TimeSecondBuilder=Zs.TimeBuilder=void 0;var ps=su.exports,hs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ps.__extends(t,e),t}(Bu.FixedWidthBuilder);Zs.TimeBuilder=hs;var ys=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ps.__extends(t,e),t}(hs);Zs.TimeSecondBuilder=ys;var fs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ps.__extends(t,e),t}(hs);Zs.TimeMillisecondBuilder=fs;var Vs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ps.__extends(t,e),t}(hs);Zs.TimeMicrosecondBuilder=Vs;var Xs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ps.__extends(t,e),t}(hs);Zs.TimeNanosecondBuilder=Xs;var Ws={};Object.defineProperty(Ws,"__esModule",{value:!0}),Ws.TimestampNanosecondBuilder=Ws.TimestampMicrosecondBuilder=Ws.TimestampMillisecondBuilder=Ws.TimestampSecondBuilder=Ws.TimestampBuilder=void 0;var Gs=su.exports,Rs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Gs.__extends(t,e),t}(Bu.FixedWidthBuilder);Ws.TimestampBuilder=Rs;var Ss=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Gs.__extends(t,e),t}(Rs);Ws.TimestampSecondBuilder=Ss;var vs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Gs.__extends(t,e),t}(Rs);Ws.TimestampMillisecondBuilder=vs;var Ls=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Gs.__extends(t,e),t}(Rs);Ws.TimestampMicrosecondBuilder=Ls;var Ys=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Gs.__extends(t,e),t}(Rs);Ws.TimestampNanosecondBuilder=Ys;var Js={};Object.defineProperty(Js,"__esModule",{value:!0}),Js.IntervalYearMonthBuilder=Js.IntervalDayTimeBuilder=Js.IntervalBuilder=void 0;var xs=su.exports,gs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xs.__extends(t,e),t}(Bu.FixedWidthBuilder);Js.IntervalBuilder=gs;var Hs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xs.__extends(t,e),t}(gs);Js.IntervalDayTimeBuilder=Hs;var Us=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xs.__extends(t,e),t}(gs);Js.IntervalYearMonthBuilder=Us;var Is={},Ks={};Object.defineProperty(Ks,"__esModule",{value:!0}),Ks.BinaryBuilder=void 0;var Ns=su.exports,ks=mu,Bs=qo,Fs=function(e){function t(t){var n=e.call(this,t)||this;return n._values=new Bs.BufferBuilder(new Uint8Array(0)),n}return Ns.__extends(t,e),Object.defineProperty(t.prototype,"byteLength",{get:function(){var e=this._pendingLength+4*this.length;return this._offsets&&(e+=this._offsets.byteLength),this._values&&(e+=this._values.byteLength),this._nulls&&(e+=this._nulls.byteLength),e},enumerable:!1,configurable:!0}),t.prototype.setValue=function(t,n){return e.prototype.setValue.call(this,t,ks.toUint8Array(n))},t.prototype._flushPending=function(e,t){var n,l,i,r,a=this._offsets,c=this._values.reserve(t).buffer,u=0,o=0,d=0;try{for(var s=Ns.__values(e),m=s.next();!m.done;m=s.next())u=(i=Ns.__read(m.value,2))[0],void 0===(r=i[1])?a.set(u,0):(o=r.length,c.set(r,d),a.set(u,o),d+=o)}catch(b){n={error:b}}finally{try{m&&!m.done&&(l=s.return)&&l.call(s)}finally{if(n)throw n.error}}},t}(Bu.VariableWidthBuilder);Ks.BinaryBuilder=Fs,Object.defineProperty(Is,"__esModule",{value:!0}),Is.Utf8Builder=void 0;var Ts=su.exports,_s=pu,ws=Ks,Cs=qo,js=function(e){function t(t){var n=e.call(this,t)||this;return n._values=new Cs.BufferBuilder(new Uint8Array(0)),n}return Ts.__extends(t,e),Object.defineProperty(t.prototype,"byteLength",{get:function(){var e=this._pendingLength+4*this.length;return this._offsets&&(e+=this._offsets.byteLength),this._values&&(e+=this._values.byteLength),this._nulls&&(e+=this._nulls.byteLength),e},enumerable:!1,configurable:!0}),t.prototype.setValue=function(t,n){return e.prototype.setValue.call(this,t,_s.encodeUtf8(n))},t.prototype._flushPending=function(e,t){},t}(Bu.VariableWidthBuilder);Is.Utf8Builder=js,js.prototype._flushPending=ws.BinaryBuilder.prototype._flushPending;var zs={},Qs={};Object.defineProperty(Qs,"__esModule",{value:!0}),Qs.Run=void 0;var Ms=Fu,Ps=function(){function e(){}return Object.defineProperty(e.prototype,"length",{get:function(){return this._values.length},enumerable:!1,configurable:!0}),e.prototype.get=function(e){return this._values[e]},e.prototype.clear=function(){return this._values=null,this},e.prototype.bind=function(e){return e instanceof Ms.Vector?e:(this._values=e,this)},e}();Qs.Run=Ps;var Es={};Object.defineProperty(Es,"__esModule",{value:!0}),Es.Field=Es.Schema=void 0;var Os=su.exports,Ds=qu,As=function(){function e(e,t,n){void 0===e&&(e=[]),this.fields=e||[],this.metadata=t||new Map,n||(n=em(e)),this.dictionaries=n}return Object.defineProperty(e.prototype,Symbol.toStringTag,{get:function(){return"Schema"},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return"Schema<{ "+this.fields.map((function(e,t){return t+": "+e})).join(", ")+" }>"},e.prototype.select=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var l=t.reduce((function(e,t){return(e[t]=!0)&&e}),Object.create(null));return new e(this.fields.filter((function(e){return l[e.name]})),this.metadata)},e.prototype.selectAt=function(){for(var t=this,n=[],l=0;l<arguments.length;l++)n[l]=arguments[l];return new e(n.map((function(e){return t.fields[e]})).filter(Boolean),this.metadata)},e.prototype.assign=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var l=t[0]instanceof e?t[0]:Array.isArray(t[0])?new e(t[0]):new e(t),i=Os.__spread(this.fields),r=$s($s(new Map,this.metadata),l.metadata),a=l.fields.filter((function(e){var t=i.findIndex((function(t){return t.name===e.name}));return!~t||(i[t]=e.clone({metadata:$s($s(new Map,i[t].metadata),e.metadata)}))&&!1})),c=em(a,new Map);return new e(Os.__spread(i,a),r,new Map(Os.__spread(this.dictionaries,c)))},e}();Es.Schema=As;var qs=function(){function e(e,t,n,l){void 0===n&&(n=!1),this.name=e,this.type=t,this.nullable=n,this.metadata=l||new Map}return e.new=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var l=Os.__read(t,4),i=l[0],r=l[1],a=l[2],c=l[3];return t[0]&&"object"==typeof t[0]&&(i=t[0].name,void 0===r&&(r=t[0].type),void 0===a&&(a=t[0].nullable),void 0===c&&(c=t[0].metadata)),new e(""+i,r,a,c)},Object.defineProperty(e.prototype,"typeId",{get:function(){return this.type.typeId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,Symbol.toStringTag,{get:function(){return"Field"},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this.name+": "+this.type},e.prototype.clone=function(){for(var t,n,l,i,r,a,c,u,o,d,s=[],m=0;m<arguments.length;m++)s[m]=arguments[m];var b=Os.__read(s,4),Z=b[0],p=b[1],h=b[2],y=b[3];return s[0]&&"object"==typeof s[0]?(Z=void 0===(c=(a=s[0]).name)?this.name:c,p=void 0===(u=a.type)?this.type:u,h=void 0===(o=a.nullable)?this.nullable:o,y=void 0===(d=a.metadata)?this.metadata:d):(Z=void 0===(n=(t=Os.__read(s,4))[0])?this.name:n,p=void 0===(l=t[1])?this.type:l,h=void 0===(i=t[2])?this.nullable:i,y=void 0===(r=t[3])?this.metadata:r),e.new(Z,p,h,y)},e}();function $s(e,t){return new Map(Os.__spread(e||new Map,t||new Map))}function em(e,t){void 0===t&&(t=new Map);for(var n=-1,l=e.length;++n<l;){var i=e[n].type;if(Ds.DataType.isDictionary(i))if(t.has(i.id)){if(t.get(i.id)!==i.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}else t.set(i.id,i.dictionary);i.children&&i.children.length>0&&em(i.children,t)}return t}Es.Field=qs,As.prototype.fields=null,As.prototype.metadata=null,As.prototype.dictionaries=null,qs.prototype.type=null,qs.prototype.name=null,qs.prototype.nullable=null,qs.prototype.metadata=null,Object.defineProperty(zs,"__esModule",{value:!0}),zs.ListBuilder=void 0;var tm=su.exports,nm=Qs,lm=Es,im=qu,rm=qo,am=function(e){function t(t){var n=e.call(this,t)||this;return n._run=new nm.Run,n._offsets=new rm.OffsetsBufferBuilder,n}return tm.__extends(t,e),t.prototype.addChild=function(e,t){if(void 0===t&&(t="0"),this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=e,this.type=new im.List(new lm.Field(t,e.type,!0)),this.numChildren-1},t.prototype.clear=function(){return this._run.clear(),e.prototype.clear.call(this)},t.prototype._flushPending=function(e){var t,n,l,i,r=this._run,a=this._offsets,c=this._setValue,u=0;try{for(var o=tm.__values(e),d=o.next();!d.done;d=o.next())u=(l=tm.__read(d.value,2))[0],void 0===(i=l[1])?a.set(u,0):(a.set(u,i.length),c(this,u,r.bind(i)))}catch(s){t={error:s}}finally{try{d&&!d.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}},t}(Bu.VariableWidthBuilder);zs.ListBuilder=am;var cm={};Object.defineProperty(cm,"__esModule",{value:!0}),cm.FixedSizeListBuilder=void 0;var um=su.exports,om=Qs,dm=Es,sm=qu,mm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._run=new om.Run,t}return um.__extends(t,e),t.prototype.setValue=function(t,n){e.prototype.setValue.call(this,t,this._run.bind(n))},t.prototype.addChild=function(e,t){if(void 0===t&&(t="0"),this.numChildren>0)throw new Error("FixedSizeListBuilder can only have one child.");var n=this.children.push(e);return this.type=new sm.FixedSizeList(this.type.listSize,new dm.Field(t,e.type,!0)),n},t.prototype.clear=function(){return this._run.clear(),e.prototype.clear.call(this)},t}(Bu.Builder);cm.FixedSizeListBuilder=mm;var bm={};Object.defineProperty(bm,"__esModule",{value:!0}),bm.MapBuilder=void 0;var Zm=su.exports,pm=Es,hm=qu,ym=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Zm.__extends(t,e),t.prototype.set=function(t,n){return e.prototype.set.call(this,t,n)},t.prototype.setValue=function(e,t){t=t instanceof Map?t:new Map(Object.entries(t));var n=this._pending||(this._pending=new Map),l=n.get(e);l&&(this._pendingLength-=l.size),this._pendingLength+=t.size,n.set(e,t)},t.prototype.addChild=function(e,t){if(void 0===t&&(t=""+this.numChildren),this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=e,this.type=new hm.Map_(new pm.Field(t,e.type,!0),this.type.keysSorted),this.numChildren-1},t.prototype._flushPending=function(e){var t=this,n=this._offsets,l=this._setValue;e.forEach((function(e,i){void 0===e?n.set(i,0):(n.set(i,e.size),l(t,i,e))}))},t}(Bu.VariableWidthBuilder);bm.MapBuilder=ym;var fm={};Object.defineProperty(fm,"__esModule",{value:!0}),fm.StructBuilder=void 0;var Vm=su.exports,Xm=Es,Wm=qu,Gm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Vm.__extends(t,e),t.prototype.addChild=function(e,t){void 0===t&&(t=""+this.numChildren);var n=this.children.push(e);return this.type=new Wm.Struct(Vm.__spread(this.type.children,[new Xm.Field(t,e.type,!0)])),n},t}(Bu.Builder);fm.StructBuilder=Gm;var Rm={};Object.defineProperty(Rm,"__esModule",{value:!0}),Rm.DenseUnionBuilder=Rm.SparseUnionBuilder=Rm.UnionBuilder=void 0;var Sm=su.exports,vm=Es,Lm=qo,Ym=qu,Jm=function(e){function t(t){var n=e.call(this,t)||this;return n._typeIds=new Lm.DataBufferBuilder(new Int8Array(0),1),"function"==typeof t.valueToChildTypeId&&(n._valueToChildTypeId=t.valueToChildTypeId),n}return Sm.__extends(t,e),Object.defineProperty(t.prototype,"typeIdToChildIndex",{get:function(){return this.type.typeIdToChildIndex},enumerable:!1,configurable:!0}),t.prototype.append=function(e,t){return this.set(this.length,e,t)},t.prototype.set=function(e,t,n){return void 0===n&&(n=this._valueToChildTypeId(this,t,e)),this.setValid(e,this.isValid(t))&&this.setValue(e,t,n),this},t.prototype.setValue=function(t,n,l){this._typeIds.set(t,l),e.prototype.setValue.call(this,t,n)},t.prototype.addChild=function(e,t){void 0===t&&(t=""+this.children.length);var n=this.children.push(e),l=this.type,i=l.children,r=l.mode,a=l.typeIds,c=Sm.__spread(i,[new vm.Field(t,e.type)]);return this.type=new Ym.Union(r,Sm.__spread(a,[n]),c),n},t.prototype._valueToChildTypeId=function(e,t,n){throw new Error("Cannot map UnionBuilder value to child typeId. Pass the `childTypeId` as the second argument to unionBuilder.append(), or supply a `valueToChildTypeId` function as part of the UnionBuilder constructor options.")},t}(Bu.Builder);Rm.UnionBuilder=Jm;var xm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Sm.__extends(t,e),t}(Jm);Rm.SparseUnionBuilder=xm;var gm=function(e){function t(t){var n=e.call(this,t)||this;return n._offsets=new Lm.DataBufferBuilder(new Int32Array(0)),n}return Sm.__extends(t,e),t.prototype.setValue=function(t,n,l){var i=this.type.typeIdToChildIndex[l];return this._offsets.set(t,this.getChildAt(i).length),e.prototype.setValue.call(this,t,n,l)},t}(Jm);Rm.DenseUnionBuilder=gm;var Hm={},Um={};Object.defineProperty(Um,"__esModule",{value:!0}),Um.Visitor=void 0;var Im=su.exports,Km=ju,Nm=Fu,km=_u,Bm=qu,Fm=function(){function e(){}return e.prototype.visitMany=function(e){for(var t=this,n=[],l=1;l<arguments.length;l++)n[l-1]=arguments[l];return e.map((function(e,l){return t.visit.apply(t,Im.__spread([e],n.map((function(e){return e[l]}))))}))},e.prototype.visit=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.getVisitFn(e[0],!1).apply(this,e)},e.prototype.getVisitFn=function(e,t){return void 0===t&&(t=!0),function(e,t,n){void 0===n&&(n=!0);var l=null,i=km.Type.NONE;t instanceof Km.Data||t instanceof Nm.Vector?i=Tm(t.type):t instanceof Bm.DataType?i=Tm(t):"number"!=typeof(i=t)&&(i=km.Type[t]);switch(i){case km.Type.Null:l=e.visitNull;break;case km.Type.Bool:l=e.visitBool;break;case km.Type.Int:l=e.visitInt;break;case km.Type.Int8:l=e.visitInt8||e.visitInt;break;case km.Type.Int16:l=e.visitInt16||e.visitInt;break;case km.Type.Int32:l=e.visitInt32||e.visitInt;break;case km.Type.Int64:l=e.visitInt64||e.visitInt;break;case km.Type.Uint8:l=e.visitUint8||e.visitInt;break;case km.Type.Uint16:l=e.visitUint16||e.visitInt;break;case km.Type.Uint32:l=e.visitUint32||e.visitInt;break;case km.Type.Uint64:l=e.visitUint64||e.visitInt;break;case km.Type.Float:l=e.visitFloat;break;case km.Type.Float16:l=e.visitFloat16||e.visitFloat;break;case km.Type.Float32:l=e.visitFloat32||e.visitFloat;break;case km.Type.Float64:l=e.visitFloat64||e.visitFloat;break;case km.Type.Utf8:l=e.visitUtf8;break;case km.Type.Binary:l=e.visitBinary;break;case km.Type.FixedSizeBinary:l=e.visitFixedSizeBinary;break;case km.Type.Date:l=e.visitDate;break;case km.Type.DateDay:l=e.visitDateDay||e.visitDate;break;case km.Type.DateMillisecond:l=e.visitDateMillisecond||e.visitDate;break;case km.Type.Timestamp:l=e.visitTimestamp;break;case km.Type.TimestampSecond:l=e.visitTimestampSecond||e.visitTimestamp;break;case km.Type.TimestampMillisecond:l=e.visitTimestampMillisecond||e.visitTimestamp;break;case km.Type.TimestampMicrosecond:l=e.visitTimestampMicrosecond||e.visitTimestamp;break;case km.Type.TimestampNanosecond:l=e.visitTimestampNanosecond||e.visitTimestamp;break;case km.Type.Time:l=e.visitTime;break;case km.Type.TimeSecond:l=e.visitTimeSecond||e.visitTime;break;case km.Type.TimeMillisecond:l=e.visitTimeMillisecond||e.visitTime;break;case km.Type.TimeMicrosecond:l=e.visitTimeMicrosecond||e.visitTime;break;case km.Type.TimeNanosecond:l=e.visitTimeNanosecond||e.visitTime;break;case km.Type.Decimal:l=e.visitDecimal;break;case km.Type.List:l=e.visitList;break;case km.Type.Struct:l=e.visitStruct;break;case km.Type.Union:l=e.visitUnion;break;case km.Type.DenseUnion:l=e.visitDenseUnion||e.visitUnion;break;case km.Type.SparseUnion:l=e.visitSparseUnion||e.visitUnion;break;case km.Type.Dictionary:l=e.visitDictionary;break;case km.Type.Interval:l=e.visitInterval;break;case km.Type.IntervalDayTime:l=e.visitIntervalDayTime||e.visitInterval;break;case km.Type.IntervalYearMonth:l=e.visitIntervalYearMonth||e.visitInterval;break;case km.Type.FixedSizeList:l=e.visitFixedSizeList;break;case km.Type.Map:l=e.visitMap}if("function"==typeof l)return l;if(!n)return function(){return null};throw new Error("Unrecognized type '"+km.Type[i]+"'")}(this,e,t)},e.prototype.visitNull=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return null},e.prototype.visitBool=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return null},e.prototype.visitInt=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return null},e.prototype.visitFloat=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return null},e.prototype.visitUtf8=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return null},e.prototype.visitBinary=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return null},e.prototype.visitFixedSizeBinary=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return null},e.prototype.visitDate=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return null},e.prototype.visitTimestamp=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return null},e.prototype.visitTime=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return null},e.prototype.visitDecimal=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return null},e.prototype.visitList=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return null},e.prototype.visitStruct=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return null},e.prototype.visitUnion=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return null},e.prototype.visitDictionary=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return null},e.prototype.visitInterval=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return null},e.prototype.visitFixedSizeList=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return null},e.prototype.visitMap=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return null},e}();function Tm(e){switch(e.typeId){case km.Type.Null:return km.Type.Null;case km.Type.Int:var t=e,n=t.bitWidth,l=t.isSigned;switch(n){case 8:return l?km.Type.Int8:km.Type.Uint8;case 16:return l?km.Type.Int16:km.Type.Uint16;case 32:return l?km.Type.Int32:km.Type.Uint32;case 64:return l?km.Type.Int64:km.Type.Uint64}return km.Type.Int;case km.Type.Float:switch(e.precision){case km.Precision.HALF:return km.Type.Float16;case km.Precision.SINGLE:return km.Type.Float32;case km.Precision.DOUBLE:return km.Type.Float64}return km.Type.Float;case km.Type.Binary:return km.Type.Binary;case km.Type.Utf8:return km.Type.Utf8;case km.Type.Bool:return km.Type.Bool;case km.Type.Decimal:return km.Type.Decimal;case km.Type.Time:switch(e.unit){case km.TimeUnit.SECOND:return km.Type.TimeSecond;case km.TimeUnit.MILLISECOND:return km.Type.TimeMillisecond;case km.TimeUnit.MICROSECOND:return km.Type.TimeMicrosecond;case km.TimeUnit.NANOSECOND:return km.Type.TimeNanosecond}return km.Type.Time;case km.Type.Timestamp:switch(e.unit){case km.TimeUnit.SECOND:return km.Type.TimestampSecond;case km.TimeUnit.MILLISECOND:return km.Type.TimestampMillisecond;case km.TimeUnit.MICROSECOND:return km.Type.TimestampMicrosecond;case km.TimeUnit.NANOSECOND:return km.Type.TimestampNanosecond}return km.Type.Timestamp;case km.Type.Date:switch(e.unit){case km.DateUnit.DAY:return km.Type.DateDay;case km.DateUnit.MILLISECOND:return km.Type.DateMillisecond}return km.Type.Date;case km.Type.Interval:switch(e.unit){case km.IntervalUnit.DAY_TIME:return km.Type.IntervalDayTime;case km.IntervalUnit.YEAR_MONTH:return km.Type.IntervalYearMonth}return km.Type.Interval;case km.Type.Map:return km.Type.Map;case km.Type.List:return km.Type.List;case km.Type.Struct:return km.Type.Struct;case km.Type.Union:switch(e.mode){case km.UnionMode.Dense:return km.Type.DenseUnion;case km.UnionMode.Sparse:return km.Type.SparseUnion}return km.Type.Union;case km.Type.FixedSizeBinary:return km.Type.FixedSizeBinary;case km.Type.FixedSizeList:return km.Type.FixedSizeList;case km.Type.Dictionary:return km.Type.Dictionary}throw new Error("Unrecognized type '"+km.Type[e.typeId]+"'")}Um.Visitor=Fm,Fm.prototype.visitInt8=null,Fm.prototype.visitInt16=null,Fm.prototype.visitInt32=null,Fm.prototype.visitInt64=null,Fm.prototype.visitUint8=null,Fm.prototype.visitUint16=null,Fm.prototype.visitUint32=null,Fm.prototype.visitUint64=null,Fm.prototype.visitFloat16=null,Fm.prototype.visitFloat32=null,Fm.prototype.visitFloat64=null,Fm.prototype.visitDateDay=null,Fm.prototype.visitDateMillisecond=null,Fm.prototype.visitTimestampSecond=null,Fm.prototype.visitTimestampMillisecond=null,Fm.prototype.visitTimestampMicrosecond=null,Fm.prototype.visitTimestampNanosecond=null,Fm.prototype.visitTimeSecond=null,Fm.prototype.visitTimeMillisecond=null,Fm.prototype.visitTimeMicrosecond=null,Fm.prototype.visitTimeNanosecond=null,Fm.prototype.visitDenseUnion=null,Fm.prototype.visitSparseUnion=null,Fm.prototype.visitIntervalDayTime=null,Fm.prototype.visitIntervalYearMonth=null,Object.defineProperty(Hm,"__esModule",{value:!0}),Hm.instance=Hm.SetVisitor=void 0;var _m=su.exports,wm=Fu,Cm=pu,jm=Cd,zm=mu,Qm=_u,Mm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return _m.__extends(t,e),t}(Um.Visitor);Hm.SetVisitor=Mm;var Pm=function(e,t,n){e[t]=n%4294967296|0,e[t+1]=n/4294967296|0},Em=function(e,t,n,l){var i=t,r=i[n],a=i[n+1];null!=r&&null!=a&&e.set(l.subarray(0,a-r),r)},Om=function(e,t,n){!function(e,t,n){e[t]=n/864e5|0}(e.values,t,n.valueOf())},Dm=function(e,t,n){var l=e.values;Pm(l,2*t,n.valueOf())},Am=function(e,t,n){var l=e.stride;e.values[l*t]=n},qm=function(e,t,n){var l=e.stride;e.values[l*t]=jm.float64ToUint16(n)},$m=function(e,t,n){switch(typeof n){case"bigint":e.values64[t]=n;break;case"number":e.values[t*e.stride]=n;break;default:var l=n,i=e.stride,r=e.ArrayType,a=zm.toArrayBufferView(r,l);e.values.set(a.subarray(0,i),i*t)}},eb=function(e,t,n){var l=e.values;return Pm(l,2*t,n/1e3)},tb=function(e,t,n){var l=e.values;return Pm(l,2*t,n)},nb=function(e,t,n){return function(e,t,n){e[t]=1e3*n%4294967296|0,e[t+1]=1e3*n/4294967296|0}(e.values,2*t,n)},lb=function(e,t,n){return function(e,t,n){e[t]=1e6*n%4294967296|0,e[t+1]=1e6*n/4294967296|0}(e.values,2*t,n)},ib=function(e,t,n){e.values[e.stride*t]=n},rb=function(e,t,n){e.values[e.stride*t]=n},ab=function(e,t,n){e.values.set(n.subarray(0,2),2*t)},cb=function(e,t,n){e.values.set(n.subarray(0,2),2*t)},ub=function(e,t,n){var l=e.typeIdToChildIndex[e.typeIds[t]],i=e.getChildAt(l);i&&i.set(e.valueOffsets[t],n)},ob=function(e,t,n){var l=e.typeIdToChildIndex[e.typeIds[t]],i=e.getChildAt(l);i&&i.set(t,n)},db=function(e,t,n){e.values.set(n.subarray(0,2),2*t)},sb=function(e,t,n){e.values[t]=12*n[0]+n[1]%12};Mm.prototype.visitBool=function(e,t,n){var l=e.offset,i=e.values,r=l+t;n?i[r>>3]|=1<<r%8:i[r>>3]&=~(1<<r%8)},Mm.prototype.visitInt=function(e,t,n){e.type.bitWidth<64?Am(e,t,n):$m(e,t,n)},Mm.prototype.visitInt8=Am,Mm.prototype.visitInt16=Am,Mm.prototype.visitInt32=Am,Mm.prototype.visitInt64=$m,Mm.prototype.visitUint8=Am,Mm.prototype.visitUint16=Am,Mm.prototype.visitUint32=Am,Mm.prototype.visitUint64=$m,Mm.prototype.visitFloat=function(e,t,n){e.type.precision!==Qm.Precision.HALF?Am(e,t,n):qm(e,t,n)},Mm.prototype.visitFloat16=qm,Mm.prototype.visitFloat32=Am,Mm.prototype.visitFloat64=Am,Mm.prototype.visitUtf8=function(e,t,n){var l=e.values,i=e.valueOffsets;Em(l,i,t,Cm.encodeUtf8(n))},Mm.prototype.visitBinary=function(e,t,n){var l=e.values,i=e.valueOffsets;return Em(l,i,t,n)},Mm.prototype.visitFixedSizeBinary=function(e,t,n){var l=e.stride;e.values.set(n.subarray(0,l),l*t)},Mm.prototype.visitDate=function(e,t,n){e.type.unit===Qm.DateUnit.DAY?Om(e,t,n):Dm(e,t,n)},Mm.prototype.visitDateDay=Om,Mm.prototype.visitDateMillisecond=Dm,Mm.prototype.visitTimestamp=function(e,t,n){switch(e.type.unit){case Qm.TimeUnit.SECOND:return eb(e,t,n);case Qm.TimeUnit.MILLISECOND:return tb(e,t,n);case Qm.TimeUnit.MICROSECOND:return nb(e,t,n);case Qm.TimeUnit.NANOSECOND:return lb(e,t,n)}},Mm.prototype.visitTimestampSecond=eb,Mm.prototype.visitTimestampMillisecond=tb,Mm.prototype.visitTimestampMicrosecond=nb,Mm.prototype.visitTimestampNanosecond=lb,Mm.prototype.visitTime=function(e,t,n){switch(e.type.unit){case Qm.TimeUnit.SECOND:return ib(e,t,n);case Qm.TimeUnit.MILLISECOND:return rb(e,t,n);case Qm.TimeUnit.MICROSECOND:return ab(e,t,n);case Qm.TimeUnit.NANOSECOND:return cb(e,t,n)}},Mm.prototype.visitTimeSecond=ib,Mm.prototype.visitTimeMillisecond=rb,Mm.prototype.visitTimeMicrosecond=ab,Mm.prototype.visitTimeNanosecond=cb,Mm.prototype.visitDecimal=function(e,t,n){e.values.set(n.subarray(0,4),4*t)},Mm.prototype.visitList=function(e,t,n){for(var l=e.getChildAt(0),i=e.valueOffsets,r=-1,a=i[t],c=i[t+1];a<c;)l.set(a++,n.get(++r))},Mm.prototype.visitStruct=function(e,t,n){var l,i,r=n instanceof Map?(l=t,i=n,function(e,t,n){return null==e?void 0:e.set(l,i.get(t.name))}):n instanceof wm.Vector?function(e,t){return function(n,l,i){return null==n?void 0:n.set(e,t.get(i))}}(t,n):Array.isArray(n)?function(e,t){return function(n,l,i){return null==n?void 0:n.set(e,t[i])}}(t,n):function(e,t){return function(n,l,i){return null==n?void 0:n.set(e,t[l.name])}}(t,n);e.type.children.forEach((function(t,n){return r(e.getChildAt(n),t,n)}))},Mm.prototype.visitUnion=function(e,t,n){e.type.mode===Qm.UnionMode.Dense?ub(e,t,n):ob(e,t,n)},Mm.prototype.visitDenseUnion=ub,Mm.prototype.visitSparseUnion=ob,Mm.prototype.visitDictionary=function(e,t,n){var l=e.getKey(t);null!==l&&e.setValue(l,n)},Mm.prototype.visitInterval=function(e,t,n){e.type.unit===Qm.IntervalUnit.DAY_TIME?db(e,t,n):sb(e,t,n)},Mm.prototype.visitIntervalDayTime=db,Mm.prototype.visitIntervalYearMonth=sb,Mm.prototype.visitFixedSizeList=function(e,t,n){for(var l=e.getChildAt(0),i=e.stride,r=-1,a=t*i;++r<i;)l.set(a+r,n.get(r))},Mm.prototype.visitMap=function(e,t,n){for(var l=e.getChildAt(0),i=e.valueOffsets,r=n instanceof Map?_m.__spread(n):Object.entries(n),a=-1,c=i[t],u=i[t+1];c<u;)l.set(c++,r[++a])},Hm.instance=new Mm;var mb={};Object.defineProperty(mb,"__esModule",{value:!0}),mb.instance=mb.GetBuilderCtor=void 0;var bb=su.exports,Zb=Ks,pb=fd,hb=vd,yb=gd,fb=Id,Vb=Fd,Xb=cm,Wb=wd,Gb=Js,Rb=Ad,Sb=zs,vb=bm,Lb=Gd,Yb=fm,Jb=Ws,xb=Zs,gb=Rm,Hb=Is,Ub=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return bb.__extends(t,e),t.prototype.visitNull=function(){return Lb.NullBuilder},t.prototype.visitBool=function(){return pb.BoolBuilder},t.prototype.visitInt=function(){return Rb.IntBuilder},t.prototype.visitInt8=function(){return Rb.Int8Builder},t.prototype.visitInt16=function(){return Rb.Int16Builder},t.prototype.visitInt32=function(){return Rb.Int32Builder},t.prototype.visitInt64=function(){return Rb.Int64Builder},t.prototype.visitUint8=function(){return Rb.Uint8Builder},t.prototype.visitUint16=function(){return Rb.Uint16Builder},t.prototype.visitUint32=function(){return Rb.Uint32Builder},t.prototype.visitUint64=function(){return Rb.Uint64Builder},t.prototype.visitFloat=function(){return Wb.FloatBuilder},t.prototype.visitFloat16=function(){return Wb.Float16Builder},t.prototype.visitFloat32=function(){return Wb.Float32Builder},t.prototype.visitFloat64=function(){return Wb.Float64Builder},t.prototype.visitUtf8=function(){return Hb.Utf8Builder},t.prototype.visitBinary=function(){return Zb.BinaryBuilder},t.prototype.visitFixedSizeBinary=function(){return Vb.FixedSizeBinaryBuilder},t.prototype.visitDate=function(){return hb.DateBuilder},t.prototype.visitDateDay=function(){return hb.DateDayBuilder},t.prototype.visitDateMillisecond=function(){return hb.DateMillisecondBuilder},t.prototype.visitTimestamp=function(){return Jb.TimestampBuilder},t.prototype.visitTimestampSecond=function(){return Jb.TimestampSecondBuilder},t.prototype.visitTimestampMillisecond=function(){return Jb.TimestampMillisecondBuilder},t.prototype.visitTimestampMicrosecond=function(){return Jb.TimestampMicrosecondBuilder},t.prototype.visitTimestampNanosecond=function(){return Jb.TimestampNanosecondBuilder},t.prototype.visitTime=function(){return xb.TimeBuilder},t.prototype.visitTimeSecond=function(){return xb.TimeSecondBuilder},t.prototype.visitTimeMillisecond=function(){return xb.TimeMillisecondBuilder},t.prototype.visitTimeMicrosecond=function(){return xb.TimeMicrosecondBuilder},t.prototype.visitTimeNanosecond=function(){return xb.TimeNanosecondBuilder},t.prototype.visitDecimal=function(){return yb.DecimalBuilder},t.prototype.visitList=function(){return Sb.ListBuilder},t.prototype.visitStruct=function(){return Yb.StructBuilder},t.prototype.visitUnion=function(){return gb.UnionBuilder},t.prototype.visitDenseUnion=function(){return gb.DenseUnionBuilder},t.prototype.visitSparseUnion=function(){return gb.SparseUnionBuilder},t.prototype.visitDictionary=function(){return fb.DictionaryBuilder},t.prototype.visitInterval=function(){return Gb.IntervalBuilder},t.prototype.visitIntervalDayTime=function(){return Gb.IntervalDayTimeBuilder},t.prototype.visitIntervalYearMonth=function(){return Gb.IntervalYearMonthBuilder},t.prototype.visitFixedSizeList=function(){return Xb.FixedSizeListBuilder},t.prototype.visitMap=function(){return vb.MapBuilder},t}(Um.Visitor);mb.GetBuilderCtor=Ub,mb.instance=new Ub,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DenseUnionBuilder=e.SparseUnionBuilder=e.UnionBuilder=e.StructBuilder=e.MapBuilder=e.FixedSizeListBuilder=e.ListBuilder=e.BinaryBuilder=e.Utf8Builder=e.IntervalYearMonthBuilder=e.IntervalDayTimeBuilder=e.IntervalBuilder=e.TimestampNanosecondBuilder=e.TimestampMicrosecondBuilder=e.TimestampMillisecondBuilder=e.TimestampSecondBuilder=e.TimestampBuilder=e.TimeNanosecondBuilder=e.TimeMicrosecondBuilder=e.TimeMillisecondBuilder=e.TimeSecondBuilder=e.TimeBuilder=e.Uint64Builder=e.Uint32Builder=e.Uint16Builder=e.Uint8Builder=e.Int64Builder=e.Int32Builder=e.Int16Builder=e.Int8Builder=e.IntBuilder=e.Float64Builder=e.Float32Builder=e.Float16Builder=e.FloatBuilder=e.FixedSizeBinaryBuilder=e.DictionaryBuilder=e.DecimalBuilder=e.DateMillisecondBuilder=e.DateDayBuilder=e.DateBuilder=e.NullBuilder=e.BoolBuilder=e.Builder=void 0;var t=su.exports,n=Bu;Object.defineProperty(e,"Builder",{enumerable:!0,get:function(){return n.Builder}});var l=fd;Object.defineProperty(e,"BoolBuilder",{enumerable:!0,get:function(){return l.BoolBuilder}});var i=Gd;Object.defineProperty(e,"NullBuilder",{enumerable:!0,get:function(){return i.NullBuilder}});var r=vd;Object.defineProperty(e,"DateBuilder",{enumerable:!0,get:function(){return r.DateBuilder}}),Object.defineProperty(e,"DateDayBuilder",{enumerable:!0,get:function(){return r.DateDayBuilder}}),Object.defineProperty(e,"DateMillisecondBuilder",{enumerable:!0,get:function(){return r.DateMillisecondBuilder}});var a=gd;Object.defineProperty(e,"DecimalBuilder",{enumerable:!0,get:function(){return a.DecimalBuilder}});var c=Id;Object.defineProperty(e,"DictionaryBuilder",{enumerable:!0,get:function(){return c.DictionaryBuilder}});var u=Fd;Object.defineProperty(e,"FixedSizeBinaryBuilder",{enumerable:!0,get:function(){return u.FixedSizeBinaryBuilder}});var o=wd;Object.defineProperty(e,"FloatBuilder",{enumerable:!0,get:function(){return o.FloatBuilder}}),Object.defineProperty(e,"Float16Builder",{enumerable:!0,get:function(){return o.Float16Builder}}),Object.defineProperty(e,"Float32Builder",{enumerable:!0,get:function(){return o.Float32Builder}}),Object.defineProperty(e,"Float64Builder",{enumerable:!0,get:function(){return o.Float64Builder}});var d=Ad;Object.defineProperty(e,"IntBuilder",{enumerable:!0,get:function(){return d.IntBuilder}}),Object.defineProperty(e,"Int8Builder",{enumerable:!0,get:function(){return d.Int8Builder}}),Object.defineProperty(e,"Int16Builder",{enumerable:!0,get:function(){return d.Int16Builder}}),Object.defineProperty(e,"Int32Builder",{enumerable:!0,get:function(){return d.Int32Builder}}),Object.defineProperty(e,"Int64Builder",{enumerable:!0,get:function(){return d.Int64Builder}}),Object.defineProperty(e,"Uint8Builder",{enumerable:!0,get:function(){return d.Uint8Builder}}),Object.defineProperty(e,"Uint16Builder",{enumerable:!0,get:function(){return d.Uint16Builder}}),Object.defineProperty(e,"Uint32Builder",{enumerable:!0,get:function(){return d.Uint32Builder}}),Object.defineProperty(e,"Uint64Builder",{enumerable:!0,get:function(){return d.Uint64Builder}});var s=Zs;Object.defineProperty(e,"TimeBuilder",{enumerable:!0,get:function(){return s.TimeBuilder}}),Object.defineProperty(e,"TimeSecondBuilder",{enumerable:!0,get:function(){return s.TimeSecondBuilder}}),Object.defineProperty(e,"TimeMillisecondBuilder",{enumerable:!0,get:function(){return s.TimeMillisecondBuilder}}),Object.defineProperty(e,"TimeMicrosecondBuilder",{enumerable:!0,get:function(){return s.TimeMicrosecondBuilder}}),Object.defineProperty(e,"TimeNanosecondBuilder",{enumerable:!0,get:function(){return s.TimeNanosecondBuilder}});var m=Ws;Object.defineProperty(e,"TimestampBuilder",{enumerable:!0,get:function(){return m.TimestampBuilder}}),Object.defineProperty(e,"TimestampSecondBuilder",{enumerable:!0,get:function(){return m.TimestampSecondBuilder}}),Object.defineProperty(e,"TimestampMillisecondBuilder",{enumerable:!0,get:function(){return m.TimestampMillisecondBuilder}}),Object.defineProperty(e,"TimestampMicrosecondBuilder",{enumerable:!0,get:function(){return m.TimestampMicrosecondBuilder}}),Object.defineProperty(e,"TimestampNanosecondBuilder",{enumerable:!0,get:function(){return m.TimestampNanosecondBuilder}});var b=Js;Object.defineProperty(e,"IntervalBuilder",{enumerable:!0,get:function(){return b.IntervalBuilder}}),Object.defineProperty(e,"IntervalDayTimeBuilder",{enumerable:!0,get:function(){return b.IntervalDayTimeBuilder}}),Object.defineProperty(e,"IntervalYearMonthBuilder",{enumerable:!0,get:function(){return b.IntervalYearMonthBuilder}});var Z=Is;Object.defineProperty(e,"Utf8Builder",{enumerable:!0,get:function(){return Z.Utf8Builder}});var p=Ks;Object.defineProperty(e,"BinaryBuilder",{enumerable:!0,get:function(){return p.BinaryBuilder}});var h=zs;Object.defineProperty(e,"ListBuilder",{enumerable:!0,get:function(){return h.ListBuilder}});var y=cm;Object.defineProperty(e,"FixedSizeListBuilder",{enumerable:!0,get:function(){return y.FixedSizeListBuilder}});var f=bm;Object.defineProperty(e,"MapBuilder",{enumerable:!0,get:function(){return f.MapBuilder}});var V=fm;Object.defineProperty(e,"StructBuilder",{enumerable:!0,get:function(){return V.StructBuilder}});var X=Rm;Object.defineProperty(e,"UnionBuilder",{enumerable:!0,get:function(){return X.UnionBuilder}}),Object.defineProperty(e,"SparseUnionBuilder",{enumerable:!0,get:function(){return X.SparseUnionBuilder}}),Object.defineProperty(e,"DenseUnionBuilder",{enumerable:!0,get:function(){return X.DenseUnionBuilder}});var W=_u,G=Is,R=Hm,S=mb;Bu.Builder.new=function e(n){var l=n.type,i=new(S.instance.getVisitFn(l)())(n);if(l.children&&l.children.length>0){var r=n.children||[],a={nullValues:n.nullValues},c=Array.isArray(r)?function(e,t){return r[t]||a}:function(e){var t=e.name;return r[t]||a};l.children.forEach((function(n,l){var r=n.type,a=c(n,l);i.children.push(e(t.__assign(t.__assign({},a),{type:r})))}))}return i},Object.keys(W.Type).map((function(e){return W.Type[e]})).filter((function(e){return"number"==typeof e&&e!==W.Type.NONE})).forEach((function(e){S.instance.visit(e).prototype._setValue=R.instance.getVisitFn(e)})),G.Utf8Builder.prototype._setValue=R.instance.visitBinary}(ku);var Ib={},Kb={},Nb={};Object.defineProperty(Nb,"__esModule",{value:!0}),Nb.Block=Nb.Footer=void 0;var kb=Zu,Bb=wu,Fb=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.getRootAsFooter=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsFooter=function(t,n){return t.setPosition(t.position()+kb.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.version=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Bb.MetadataVersion.V1},e.prototype.schema=function(e){var t=this.bb.__offset(this.bb_pos,6);return t?(e||new Bb.Schema).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null},e.prototype.dictionaries=function(e,t){var n=this.bb.__offset(this.bb_pos,8);return n?(t||new Tb).__init(this.bb.__vector(this.bb_pos+n)+24*e,this.bb):null},e.prototype.dictionariesLength=function(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0},e.prototype.recordBatches=function(e,t){var n=this.bb.__offset(this.bb_pos,10);return n?(t||new Tb).__init(this.bb.__vector(this.bb_pos+n)+24*e,this.bb):null},e.prototype.recordBatchesLength=function(){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0},e.prototype.customMetadata=function(e,t){var n=this.bb.__offset(this.bb_pos,12);return n?(t||new Bb.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*e),this.bb):null},e.prototype.customMetadataLength=function(){var e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0},e.startFooter=function(e){e.startObject(5)},e.addVersion=function(e,t){e.addFieldInt16(0,t,Bb.MetadataVersion.V1)},e.addSchema=function(e,t){e.addFieldOffset(1,t,0)},e.addDictionaries=function(e,t){e.addFieldOffset(2,t,0)},e.startDictionariesVector=function(e,t){e.startVector(24,t,8)},e.addRecordBatches=function(e,t){e.addFieldOffset(3,t,0)},e.startRecordBatchesVector=function(e,t){e.startVector(24,t,8)},e.addCustomMetadata=function(e,t){e.addFieldOffset(4,t,0)},e.createCustomMetadataVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()},e.startCustomMetadataVector=function(e,t){e.startVector(4,t,4)},e.endFooter=function(e){return e.endObject()},e.finishFooterBuffer=function(e,t){e.finish(t)},e.finishSizePrefixedFooterBuffer=function(e,t){e.finish(t,void 0,!0)},e.createFooter=function(t,n,l,i,r,a){return e.startFooter(t),e.addVersion(t,n),e.addSchema(t,l),e.addDictionaries(t,i),e.addRecordBatches(t,r),e.addCustomMetadata(t,a),e.endFooter(t)},e}();Nb.Footer=Fb;var Tb=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.prototype.offset=function(){return this.bb.readInt64(this.bb_pos)},e.prototype.metaDataLength=function(){return this.bb.readInt32(this.bb_pos+8)},e.prototype.bodyLength=function(){return this.bb.readInt64(this.bb_pos+16)},e.createBlock=function(e,t,n,l){return e.prep(8,24),e.writeInt64(l),e.pad(4),e.writeInt32(n),e.writeInt64(t),e.offset()},e}();Nb.Block=Tb,Object.defineProperty(Kb,"__esModule",{value:!0}),Kb.FileBlock=Kb.Footer=void 0;var _b=su.exports,wb=Nb,Cb=Zu,jb=Cb.flatbuffers.Long,zb=Cb.flatbuffers.Builder,Qb=Cb.flatbuffers.ByteBuffer,Mb=Es,Pb=_u,Eb=mu,Ob=function(){function e(e,t,n,l){void 0===t&&(t=Pb.MetadataVersion.V4),this.schema=e,this.version=t,n&&(this._recordBatches=n),l&&(this._dictionaryBatches=l)}return e.decode=function(e){e=new Qb(Eb.toUint8Array(e));var t=wb.Footer.getRootAsFooter(e),n=Mb.Schema.decode(t.schema());return new Db(n,t)},e.encode=function(e){var t=new zb,n=Mb.Schema.encode(t,e.schema);wb.Footer.startRecordBatchesVector(t,e.numRecordBatches),_b.__spread(e.recordBatches()).slice().reverse().forEach((function(e){return Ab.encode(t,e)}));var l=t.endVector();wb.Footer.startDictionariesVector(t,e.numDictionaries),_b.__spread(e.dictionaryBatches()).slice().reverse().forEach((function(e){return Ab.encode(t,e)}));var i=t.endVector();return wb.Footer.startFooter(t),wb.Footer.addSchema(t,n),wb.Footer.addVersion(t,Pb.MetadataVersion.V4),wb.Footer.addRecordBatches(t,l),wb.Footer.addDictionaries(t,i),wb.Footer.finishFooterBuffer(t,wb.Footer.endFooter(t)),t.asUint8Array()},Object.defineProperty(e.prototype,"numRecordBatches",{get:function(){return this._recordBatches.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"numDictionaries",{get:function(){return this._dictionaryBatches.length},enumerable:!1,configurable:!0}),e.prototype.recordBatches=function(){var e,t,n;return _b.__generator(this,(function(l){switch(l.label){case 0:e=void 0,t=-1,n=this.numRecordBatches,l.label=1;case 1:return++t<n?(e=this.getRecordBatch(t))?[4,e]:[3,3]:[3,4];case 2:l.sent(),l.label=3;case 3:return[3,1];case 4:return[2]}}))},e.prototype.dictionaryBatches=function(){var e,t,n;return _b.__generator(this,(function(l){switch(l.label){case 0:e=void 0,t=-1,n=this.numDictionaries,l.label=1;case 1:return++t<n?(e=this.getDictionaryBatch(t))?[4,e]:[3,3]:[3,4];case 2:l.sent(),l.label=3;case 3:return[3,1];case 4:return[2]}}))},e.prototype.getRecordBatch=function(e){return e>=0&&e<this.numRecordBatches&&this._recordBatches[e]||null},e.prototype.getDictionaryBatch=function(e){return e>=0&&e<this.numDictionaries&&this._dictionaryBatches[e]||null},e}();Kb.Footer=Ob;var Db=function(e){function t(t,n){var l=e.call(this,t,n.version())||this;return l._footer=n,l}return _b.__extends(t,e),Object.defineProperty(t.prototype,"numRecordBatches",{get:function(){return this._footer.recordBatchesLength()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"numDictionaries",{get:function(){return this._footer.dictionariesLength()},enumerable:!1,configurable:!0}),t.prototype.getRecordBatch=function(e){if(e>=0&&e<this.numRecordBatches){var t=this._footer.recordBatches(e);if(t)return Ab.decode(t)}return null},t.prototype.getDictionaryBatch=function(e){if(e>=0&&e<this.numDictionaries){var t=this._footer.dictionaries(e);if(t)return Ab.decode(t)}return null},t}(Ob),Ab=function(){function e(e,t,n){this.metaDataLength=e,this.offset="number"==typeof n?n:n.low,this.bodyLength="number"==typeof t?t:t.low}return e.decode=function(t){return new e(t.metaDataLength(),t.bodyLength(),t.offset())},e.encode=function(e,t){var n=t.metaDataLength,l=new jb(t.offset,0),i=new jb(t.bodyLength,0);return wb.Block.createBlock(e,l,n,i)},e}();Kb.FileBlock=Ab;var qb={};Object.defineProperty(qb,"__esModule",{value:!0}),qb.AsyncByteStream=qb.ByteStream=qb.AsyncByteQueue=void 0;var $b=su.exports,eZ=du,tZ=pu,nZ=Vu,lZ=mu,iZ=fu,rZ=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $b.__extends(t,e),t.prototype.write=function(t){if((t=lZ.toUint8Array(t)).byteLength>0)return e.prototype.write.call(this,t)},t.prototype.toString=function(e){return void 0===e&&(e=!1),e?tZ.decodeUtf8(this.toUint8Array(!0)):this.toUint8Array(!1).then(tZ.decodeUtf8)},t.prototype.toUint8Array=function(e){var t=this;return void 0===e&&(e=!1),e?lZ.joinUint8Arrays(this._values)[0]:$b.__awaiter(t,void 0,void 0,(function(){var e,t,n,l,i,r,a,c;return $b.__generator(this,(function(u){switch(u.label){case 0:e=[],t=0,u.label=1;case 1:u.trys.push([1,6,7,12]),n=$b.__asyncValues(this),u.label=2;case 2:return[4,n.next()];case 3:if((l=u.sent()).done)return[3,5];i=l.value,e.push(i),t+=i.byteLength,u.label=4;case 4:return[3,2];case 5:return[3,12];case 6:return r=u.sent(),a={error:r},[3,12];case 7:return u.trys.push([7,,10,11]),l&&!l.done&&(c=n.return)?[4,c.call(n)]:[3,9];case 8:u.sent(),u.label=9;case 9:return[3,11];case 10:if(a)throw a.error;return[7];case 11:return[7];case 12:return[2,lZ.joinUint8Arrays(e,t)[0]]}}))}))},t}(nZ.AsyncQueue);qb.AsyncByteQueue=rZ;var aZ=function(){function e(e){e&&(this.source=new uZ(eZ.default.fromIterable(e)))}return e.prototype[Symbol.iterator]=function(){return this},e.prototype.next=function(e){return this.source.next(e)},e.prototype.throw=function(e){return this.source.throw(e)},e.prototype.return=function(e){return this.source.return(e)},e.prototype.peek=function(e){return this.source.peek(e)},e.prototype.read=function(e){return this.source.read(e)},e}();qb.ByteStream=aZ;var cZ=function(){function e(t){t instanceof e?this.source=t.source:t instanceof rZ?this.source=new oZ(eZ.default.fromAsyncIterable(t)):iZ.isReadableNodeStream(t)?this.source=new oZ(eZ.default.fromNodeStream(t)):iZ.isReadableDOMStream(t)?this.source=new oZ(eZ.default.fromDOMStream(t)):iZ.isFetchResponse(t)?this.source=new oZ(eZ.default.fromDOMStream(t.body)):iZ.isIterable(t)?this.source=new oZ(eZ.default.fromIterable(t)):(iZ.isPromise(t)||iZ.isAsyncIterable(t))&&(this.source=new oZ(eZ.default.fromAsyncIterable(t)))}return e.prototype[Symbol.asyncIterator]=function(){return this},e.prototype.next=function(e){return this.source.next(e)},e.prototype.throw=function(e){return this.source.throw(e)},e.prototype.return=function(e){return this.source.return(e)},Object.defineProperty(e.prototype,"closed",{get:function(){return this.source.closed},enumerable:!1,configurable:!0}),e.prototype.cancel=function(e){return this.source.cancel(e)},e.prototype.peek=function(e){return this.source.peek(e)},e.prototype.read=function(e){return this.source.read(e)},e}();qb.AsyncByteStream=cZ;var uZ=function(){function e(e){this.source=e}return e.prototype.cancel=function(e){this.return(e)},e.prototype.peek=function(e){return this.next(e,"peek").value},e.prototype.read=function(e){return this.next(e,"read").value},e.prototype.next=function(e,t){return void 0===t&&(t="read"),this.source.next({cmd:t,size:e})},e.prototype.throw=function(e){return Object.create(this.source.throw&&this.source.throw(e)||nZ.ITERATOR_DONE)},e.prototype.return=function(e){return Object.create(this.source.return&&this.source.return(e)||nZ.ITERATOR_DONE)},e}(),oZ=function(){function e(e){var t=this;this.source=e,this._closedPromise=new Promise((function(e){return t._closedPromiseResolve=e}))}return e.prototype.cancel=function(e){return $b.__awaiter(this,void 0,void 0,(function(){return $b.__generator(this,(function(t){switch(t.label){case 0:return[4,this.return(e)];case 1:return t.sent(),[2]}}))}))},Object.defineProperty(e.prototype,"closed",{get:function(){return this._closedPromise},enumerable:!1,configurable:!0}),e.prototype.read=function(e){return $b.__awaiter(this,void 0,void 0,(function(){return $b.__generator(this,(function(t){switch(t.label){case 0:return[4,this.next(e,"read")];case 1:return[2,t.sent().value]}}))}))},e.prototype.peek=function(e){return $b.__awaiter(this,void 0,void 0,(function(){return $b.__generator(this,(function(t){switch(t.label){case 0:return[4,this.next(e,"peek")];case 1:return[2,t.sent().value]}}))}))},e.prototype.next=function(e,t){return void 0===t&&(t="read"),$b.__awaiter(this,void 0,void 0,(function(){return $b.__generator(this,(function(n){switch(n.label){case 0:return[4,this.source.next({cmd:t,size:e})];case 1:return[2,n.sent()]}}))}))},e.prototype.throw=function(e){return $b.__awaiter(this,void 0,void 0,(function(){var t,n;return $b.__generator(this,(function(l){switch(l.label){case 0:return(n=this.source.throw)?[4,this.source.throw(e)]:[3,2];case 1:n=l.sent(),l.label=2;case 2:return t=n||nZ.ITERATOR_DONE,this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,[2,Object.create(t)]}}))}))},e.prototype.return=function(e){return $b.__awaiter(this,void 0,void 0,(function(){var t,n;return $b.__generator(this,(function(l){switch(l.label){case 0:return(n=this.source.return)?[4,this.source.return(e)]:[3,2];case 1:n=l.sent(),l.label=2;case 2:return t=n||nZ.ITERATOR_DONE,this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,[2,Object.create(t)]}}))}))},e}(),dZ={};Object.defineProperty(dZ,"__esModule",{value:!0}),dZ.AsyncRandomAccessFile=dZ.RandomAccessFile=void 0;var sZ=su.exports,mZ=qb,bZ=mu,ZZ=function(e){function t(t,n){var l=e.call(this)||this;return l.position=0,l.buffer=bZ.toUint8Array(t),l.size=void 0===n?l.buffer.byteLength:n,l}return sZ.__extends(t,e),t.prototype.readInt32=function(e){var t=this.readAt(e,4),n=t.buffer,l=t.byteOffset;return new DataView(n,l).getInt32(0,!0)},t.prototype.seek=function(e){return this.position=Math.min(e,this.size),e<this.size},t.prototype.read=function(e){var t=this,n=t.buffer,l=t.size,i=t.position;return n&&i<l?("number"!=typeof e&&(e=1/0),this.position=Math.min(l,i+Math.min(l-i,e)),n.subarray(i,this.position)):null},t.prototype.readAt=function(e,t){var n=this.buffer,l=Math.min(this.size,e+t);return n?n.subarray(e,l):new Uint8Array(t)},t.prototype.close=function(){this.buffer&&(this.buffer=null)},t.prototype.throw=function(e){return this.close(),{done:!0,value:e}},t.prototype.return=function(e){return this.close(),{done:!0,value:e}},t}(mZ.ByteStream);dZ.RandomAccessFile=ZZ;var pZ=function(e){function t(t,n){var l=e.call(this)||this;return l.position=0,l._handle=t,"number"==typeof n?l.size=n:l._pending=sZ.__awaiter(l,void 0,void 0,(function(){var e;return sZ.__generator(this,(function(n){switch(n.label){case 0:return e=this,[4,t.stat()];case 1:return e.size=n.sent().size,delete this._pending,[2]}}))})),l}return sZ.__extends(t,e),t.prototype.readInt32=function(e){return sZ.__awaiter(this,void 0,void 0,(function(){var t,n,l;return sZ.__generator(this,(function(i){switch(i.label){case 0:return[4,this.readAt(e,4)];case 1:return t=i.sent(),n=t.buffer,l=t.byteOffset,[2,new DataView(n,l).getInt32(0,!0)]}}))}))},t.prototype.seek=function(e){return sZ.__awaiter(this,void 0,void 0,(function(){return sZ.__generator(this,(function(t){switch(t.label){case 0:return this._pending?[4,this._pending]:[3,2];case 1:t.sent(),t.label=2;case 2:return this.position=Math.min(e,this.size),[2,e<this.size]}}))}))},t.prototype.read=function(e){return sZ.__awaiter(this,void 0,void 0,(function(){var t,n,l,i,r,a,c,u,o;return sZ.__generator(this,(function(d){switch(d.label){case 0:return this._pending?[4,this._pending]:[3,2];case 1:d.sent(),d.label=2;case 2:if(n=(t=this)._handle,l=t.size,i=t.position,!(n&&i<l))return[3,6];"number"!=typeof e&&(e=1/0),r=i,a=0,c=0,u=Math.min(l,r+Math.min(l-r,e)),o=new Uint8Array(Math.max(0,(this.position=u)-r)),d.label=3;case 3:return(r+=c)<u&&(a+=c)<o.byteLength?[4,n.read(o,a,o.byteLength-a,r)]:[3,5];case 4:return c=d.sent().bytesRead,[3,3];case 5:return[2,o];case 6:return[2,null]}}))}))},t.prototype.readAt=function(e,t){return sZ.__awaiter(this,void 0,void 0,(function(){var n,l,i,r,a;return sZ.__generator(this,(function(c){switch(c.label){case 0:return this._pending?[4,this._pending]:[3,2];case 1:c.sent(),c.label=2;case 2:return l=(n=this)._handle,i=n.size,l&&e+t<i?(r=Math.min(i,e+t),a=new Uint8Array(r-e),[4,l.read(a,0,t,e)]):[3,4];case 3:return[2,c.sent().buffer];case 4:return[2,new Uint8Array(t)]}}))}))},t.prototype.close=function(){return sZ.__awaiter(this,void 0,void 0,(function(){var e;return sZ.__generator(this,(function(t){switch(t.label){case 0:return e=this._handle,this._handle=null,e?[4,e.close()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.throw=function(e){return sZ.__awaiter(this,void 0,void 0,(function(){return sZ.__generator(this,(function(t){switch(t.label){case 0:return[4,this.close()];case 1:return t.sent(),[2,{done:!0,value:e}]}}))}))},t.prototype.return=function(e){return sZ.__awaiter(this,void 0,void 0,(function(){return sZ.__generator(this,(function(t){switch(t.label){case 0:return[4,this.close()];case 1:return t.sent(),[2,{done:!0,value:e}]}}))}))},t}(mZ.AsyncByteStream);dZ.AsyncRandomAccessFile=pZ;var hZ={},yZ={};Object.defineProperty(yZ,"__esModule",{value:!0}),yZ.Int128=yZ.Int64=yZ.Uint64=yZ.BaseInt64=void 0;var fZ=su.exports;function VZ(e){return e<0&&(e=4294967295+e+1),"0x"+e.toString(16)}var XZ=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8],WZ=function(){function e(e){this.buffer=e}return e.prototype.high=function(){return this.buffer[1]},e.prototype.low=function(){return this.buffer[0]},e.prototype._times=function(e){var t=new Uint32Array([this.buffer[1]>>>16,65535&this.buffer[1],this.buffer[0]>>>16,65535&this.buffer[0]]),n=new Uint32Array([e.buffer[1]>>>16,65535&e.buffer[1],e.buffer[0]>>>16,65535&e.buffer[0]]),l=t[3]*n[3];this.buffer[0]=65535&l;var i=l>>>16;return i+=l=t[2]*n[3],i+=l=t[3]*n[2]>>>0,this.buffer[0]+=i<<16,this.buffer[1]=i>>>0<l?65536:0,this.buffer[1]+=i>>>16,this.buffer[1]+=t[1]*n[3]+t[2]*n[2]+t[3]*n[1],this.buffer[1]+=t[0]*n[3]+t[1]*n[2]+t[2]*n[1]+t[3]*n[0]<<16,this},e.prototype._plus=function(e){var t=this.buffer[0]+e.buffer[0]>>>0;this.buffer[1]+=e.buffer[1],t<this.buffer[0]>>>0&&++this.buffer[1],this.buffer[0]=t},e.prototype.lessThan=function(e){return this.buffer[1]<e.buffer[1]||this.buffer[1]===e.buffer[1]&&this.buffer[0]<e.buffer[0]},e.prototype.equals=function(e){return this.buffer[1]===e.buffer[1]&&this.buffer[0]==e.buffer[0]},e.prototype.greaterThan=function(e){return e.lessThan(this)},e.prototype.hex=function(){return VZ(this.buffer[1])+" "+VZ(this.buffer[0])},e}();yZ.BaseInt64=WZ;var GZ=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return fZ.__extends(t,e),t.prototype.times=function(e){return this._times(e),this},t.prototype.plus=function(e){return this._plus(e),this},t.from=function(e,n){return void 0===n&&(n=new Uint32Array(2)),t.fromString("string"==typeof e?e:e.toString(),n)},t.fromNumber=function(e,n){return void 0===n&&(n=new Uint32Array(2)),t.fromString(e.toString(),n)},t.fromString=function(e,n){void 0===n&&(n=new Uint32Array(2));for(var l=e.length,i=new t(n),r=0;r<l;){var a=8<l-r?8:l-r,c=new t(new Uint32Array([parseInt(e.substr(r,a),10),0])),u=new t(new Uint32Array([XZ[a],0]));i.times(u),i.plus(c),r+=a}return i},t.convertArray=function(e){for(var n=new Uint32Array(2*e.length),l=-1,i=e.length;++l<i;)t.from(e[l],new Uint32Array(n.buffer,n.byteOffset+2*l*4,2));return n},t.multiply=function(e,n){return new t(new Uint32Array(e.buffer)).times(n)},t.add=function(e,n){return new t(new Uint32Array(e.buffer)).plus(n)},t}(WZ);yZ.Uint64=GZ;var RZ=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return fZ.__extends(t,e),t.prototype.negate=function(){return this.buffer[0]=1+~this.buffer[0],this.buffer[1]=~this.buffer[1],0==this.buffer[0]&&++this.buffer[1],this},t.prototype.times=function(e){return this._times(e),this},t.prototype.plus=function(e){return this._plus(e),this},t.prototype.lessThan=function(e){var t=this.buffer[1]<<0,n=e.buffer[1]<<0;return t<n||t===n&&this.buffer[0]<e.buffer[0]},t.from=function(e,n){return void 0===n&&(n=new Uint32Array(2)),t.fromString("string"==typeof e?e:e.toString(),n)},t.fromNumber=function(e,n){return void 0===n&&(n=new Uint32Array(2)),t.fromString(e.toString(),n)},t.fromString=function(e,n){void 0===n&&(n=new Uint32Array(2));for(var l=e.startsWith("-"),i=e.length,r=new t(n),a=l?1:0;a<i;){var c=8<i-a?8:i-a,u=new t(new Uint32Array([parseInt(e.substr(a,c),10),0])),o=new t(new Uint32Array([XZ[c],0]));r.times(o),r.plus(u),a+=c}return l?r.negate():r},t.convertArray=function(e){for(var n=new Uint32Array(2*e.length),l=-1,i=e.length;++l<i;)t.from(e[l],new Uint32Array(n.buffer,n.byteOffset+2*l*4,2));return n},t.multiply=function(e,n){return new t(new Uint32Array(e.buffer)).times(n)},t.add=function(e,n){return new t(new Uint32Array(e.buffer)).plus(n)},t}(WZ);yZ.Int64=RZ;var SZ=function(){function e(e){this.buffer=e}return e.prototype.high=function(){return new RZ(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2))},e.prototype.low=function(){return new RZ(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset,2))},e.prototype.negate=function(){return this.buffer[0]=1+~this.buffer[0],this.buffer[1]=~this.buffer[1],this.buffer[2]=~this.buffer[2],this.buffer[3]=~this.buffer[3],0==this.buffer[0]&&++this.buffer[1],0==this.buffer[1]&&++this.buffer[2],0==this.buffer[2]&&++this.buffer[3],this},e.prototype.times=function(e){var t=new GZ(new Uint32Array([this.buffer[3],0])),n=new GZ(new Uint32Array([this.buffer[2],0])),l=new GZ(new Uint32Array([this.buffer[1],0])),i=new GZ(new Uint32Array([this.buffer[0],0])),r=new GZ(new Uint32Array([e.buffer[3],0])),a=new GZ(new Uint32Array([e.buffer[2],0])),c=new GZ(new Uint32Array([e.buffer[1],0])),u=new GZ(new Uint32Array([e.buffer[0],0])),o=GZ.multiply(i,u);this.buffer[0]=o.low();var d=new GZ(new Uint32Array([o.high(),0]));return o=GZ.multiply(l,u),d.plus(o),o=GZ.multiply(i,c),d.plus(o),this.buffer[1]=d.low(),this.buffer[3]=d.lessThan(o)?1:0,this.buffer[2]=d.high(),new GZ(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2)).plus(GZ.multiply(n,u)).plus(GZ.multiply(l,c)).plus(GZ.multiply(i,a)),this.buffer[3]+=GZ.multiply(t,u).plus(GZ.multiply(n,c)).plus(GZ.multiply(l,a)).plus(GZ.multiply(i,r)).low(),this},e.prototype.plus=function(e){var t=new Uint32Array(4);return t[3]=this.buffer[3]+e.buffer[3]>>>0,t[2]=this.buffer[2]+e.buffer[2]>>>0,t[1]=this.buffer[1]+e.buffer[1]>>>0,t[0]=this.buffer[0]+e.buffer[0]>>>0,t[0]<this.buffer[0]>>>0&&++t[1],t[1]<this.buffer[1]>>>0&&++t[2],t[2]<this.buffer[2]>>>0&&++t[3],this.buffer[3]=t[3],this.buffer[2]=t[2],this.buffer[1]=t[1],this.buffer[0]=t[0],this},e.prototype.hex=function(){return VZ(this.buffer[3])+" "+VZ(this.buffer[2])+" "+VZ(this.buffer[1])+" "+VZ(this.buffer[0])},e.multiply=function(t,n){return new e(new Uint32Array(t.buffer)).times(n)},e.add=function(t,n){return new e(new Uint32Array(t.buffer)).plus(n)},e.from=function(t,n){return void 0===n&&(n=new Uint32Array(4)),e.fromString("string"==typeof t?t:t.toString(),n)},e.fromNumber=function(t,n){return void 0===n&&(n=new Uint32Array(4)),e.fromString(t.toString(),n)},e.fromString=function(t,n){void 0===n&&(n=new Uint32Array(4));for(var l=t.startsWith("-"),i=t.length,r=new e(n),a=l?1:0;a<i;){var c=8<i-a?8:i-a,u=new e(new Uint32Array([parseInt(t.substr(a,c),10),0,0,0])),o=new e(new Uint32Array([XZ[c],0,0,0]));r.times(o),r.plus(u),a+=c}return l?r.negate():r},e.convertArray=function(t){for(var n=new Uint32Array(4*t.length),l=-1,i=t.length;++l<i;)e.from(t[l],new Uint32Array(n.buffer,n.byteOffset+16*l,4));return n},e}();yZ.Int128=SZ,Object.defineProperty(hZ,"__esModule",{value:!0}),hZ.JSONVectorLoader=hZ.VectorLoader=void 0;var vZ=su.exports,LZ=ju,YZ=Es,JZ=qu,xZ=zu,gZ=pu,HZ=yZ,UZ=_u,IZ=mu,KZ=function(e){function t(t,n,l,i){var r=e.call(this)||this;return r.nodesIndex=-1,r.buffersIndex=-1,r.bytes=t,r.nodes=n,r.buffers=l,r.dictionaries=i,r}return vZ.__extends(t,e),t.prototype.visit=function(t){return e.prototype.visit.call(this,t instanceof YZ.Field?t.type:t)},t.prototype.visitNull=function(e,t){var n=(void 0===t?this.nextFieldNode():t).length;return LZ.Data.Null(e,0,n)},t.prototype.visitBool=function(e,t){var n=void 0===t?this.nextFieldNode():t,l=n.length,i=n.nullCount;return LZ.Data.Bool(e,0,l,i,this.readNullBitmap(e,i),this.readData(e))},t.prototype.visitInt=function(e,t){var n=void 0===t?this.nextFieldNode():t,l=n.length,i=n.nullCount;return LZ.Data.Int(e,0,l,i,this.readNullBitmap(e,i),this.readData(e))},t.prototype.visitFloat=function(e,t){var n=void 0===t?this.nextFieldNode():t,l=n.length,i=n.nullCount;return LZ.Data.Float(e,0,l,i,this.readNullBitmap(e,i),this.readData(e))},t.prototype.visitUtf8=function(e,t){var n=void 0===t?this.nextFieldNode():t,l=n.length,i=n.nullCount;return LZ.Data.Utf8(e,0,l,i,this.readNullBitmap(e,i),this.readOffsets(e),this.readData(e))},t.prototype.visitBinary=function(e,t){var n=void 0===t?this.nextFieldNode():t,l=n.length,i=n.nullCount;return LZ.Data.Binary(e,0,l,i,this.readNullBitmap(e,i),this.readOffsets(e),this.readData(e))},t.prototype.visitFixedSizeBinary=function(e,t){var n=void 0===t?this.nextFieldNode():t,l=n.length,i=n.nullCount;return LZ.Data.FixedSizeBinary(e,0,l,i,this.readNullBitmap(e,i),this.readData(e))},t.prototype.visitDate=function(e,t){var n=void 0===t?this.nextFieldNode():t,l=n.length,i=n.nullCount;return LZ.Data.Date(e,0,l,i,this.readNullBitmap(e,i),this.readData(e))},t.prototype.visitTimestamp=function(e,t){var n=void 0===t?this.nextFieldNode():t,l=n.length,i=n.nullCount;return LZ.Data.Timestamp(e,0,l,i,this.readNullBitmap(e,i),this.readData(e))},t.prototype.visitTime=function(e,t){var n=void 0===t?this.nextFieldNode():t,l=n.length,i=n.nullCount;return LZ.Data.Time(e,0,l,i,this.readNullBitmap(e,i),this.readData(e))},t.prototype.visitDecimal=function(e,t){var n=void 0===t?this.nextFieldNode():t,l=n.length,i=n.nullCount;return LZ.Data.Decimal(e,0,l,i,this.readNullBitmap(e,i),this.readData(e))},t.prototype.visitList=function(e,t){var n=void 0===t?this.nextFieldNode():t,l=n.length,i=n.nullCount;return LZ.Data.List(e,0,l,i,this.readNullBitmap(e,i),this.readOffsets(e),this.visit(e.children[0]))},t.prototype.visitStruct=function(e,t){var n=void 0===t?this.nextFieldNode():t,l=n.length,i=n.nullCount;return LZ.Data.Struct(e,0,l,i,this.readNullBitmap(e,i),this.visitMany(e.children))},t.prototype.visitUnion=function(e){return e.mode===UZ.UnionMode.Sparse?this.visitSparseUnion(e):this.visitDenseUnion(e)},t.prototype.visitDenseUnion=function(e,t){var n=void 0===t?this.nextFieldNode():t,l=n.length,i=n.nullCount;return LZ.Data.Union(e,0,l,i,this.readNullBitmap(e,i),this.readTypeIds(e),this.readOffsets(e),this.visitMany(e.children))},t.prototype.visitSparseUnion=function(e,t){var n=void 0===t?this.nextFieldNode():t,l=n.length,i=n.nullCount;return LZ.Data.Union(e,0,l,i,this.readNullBitmap(e,i),this.readTypeIds(e),this.visitMany(e.children))},t.prototype.visitDictionary=function(e,t){var n=void 0===t?this.nextFieldNode():t,l=n.length,i=n.nullCount;return LZ.Data.Dictionary(e,0,l,i,this.readNullBitmap(e,i),this.readData(e.indices),this.readDictionary(e))},t.prototype.visitInterval=function(e,t){var n=void 0===t?this.nextFieldNode():t,l=n.length,i=n.nullCount;return LZ.Data.Interval(e,0,l,i,this.readNullBitmap(e,i),this.readData(e))},t.prototype.visitFixedSizeList=function(e,t){var n=void 0===t?this.nextFieldNode():t,l=n.length,i=n.nullCount;return LZ.Data.FixedSizeList(e,0,l,i,this.readNullBitmap(e,i),this.visit(e.children[0]))},t.prototype.visitMap=function(e,t){var n=void 0===t?this.nextFieldNode():t,l=n.length,i=n.nullCount;return LZ.Data.Map(e,0,l,i,this.readNullBitmap(e,i),this.readOffsets(e),this.visit(e.children[0]))},t.prototype.nextFieldNode=function(){return this.nodes[++this.nodesIndex]},t.prototype.nextBufferRange=function(){return this.buffers[++this.buffersIndex]},t.prototype.readNullBitmap=function(e,t,n){return void 0===n&&(n=this.nextBufferRange()),t>0&&this.readData(e,n)||new Uint8Array(0)},t.prototype.readOffsets=function(e,t){return this.readData(e,t)},t.prototype.readTypeIds=function(e,t){return this.readData(e,t)},t.prototype.readData=function(e,t){var n=void 0===t?this.nextBufferRange():t,l=n.length,i=n.offset;return this.bytes.subarray(i,i+l)},t.prototype.readDictionary=function(e){return this.dictionaries.get(e.id)},t}(Um.Visitor);hZ.VectorLoader=KZ;var NZ=function(e){function t(t,n,l,i){var r=e.call(this,new Uint8Array(0),n,l,i)||this;return r.sources=t,r}return vZ.__extends(t,e),t.prototype.readNullBitmap=function(e,t,n){var l=(void 0===n?this.nextBufferRange():n).offset;return t<=0?new Uint8Array(0):xZ.packBools(this.sources[l])},t.prototype.readOffsets=function(e,t){var n=(void 0===t?this.nextBufferRange():t).offset;return IZ.toArrayBufferView(Uint8Array,IZ.toArrayBufferView(Int32Array,this.sources[n]))},t.prototype.readTypeIds=function(e,t){var n=(void 0===t?this.nextBufferRange():t).offset;return IZ.toArrayBufferView(Uint8Array,IZ.toArrayBufferView(e.ArrayType,this.sources[n]))},t.prototype.readData=function(e,t){var n=(void 0===t?this.nextBufferRange():t).offset,l=this.sources;return JZ.DataType.isTimestamp(e)||(JZ.DataType.isInt(e)||JZ.DataType.isTime(e))&&64===e.bitWidth||JZ.DataType.isDate(e)&&e.unit===UZ.DateUnit.MILLISECOND?IZ.toArrayBufferView(Uint8Array,HZ.Int64.convertArray(l[n])):JZ.DataType.isDecimal(e)?IZ.toArrayBufferView(Uint8Array,HZ.Int128.convertArray(l[n])):JZ.DataType.isBinary(e)||JZ.DataType.isFixedSizeBinary(e)?function(e){for(var t=e.join(""),n=new Uint8Array(t.length/2),l=0;l<t.length;l+=2)n[l>>1]=parseInt(t.substr(l,2),16);return n}(l[n]):JZ.DataType.isBool(e)?xZ.packBools(l[n]):JZ.DataType.isUtf8(e)?gZ.encodeUtf8(l[n].join("")):IZ.toArrayBufferView(Uint8Array,IZ.toArrayBufferView(e.ArrayType,l[n].map((function(e){return+e}))))},t}(KZ);hZ.JSONVectorLoader=NZ;var kZ={},BZ={},FZ={},TZ={},_Z={},wZ={};Object.defineProperty(wZ,"__esModule",{value:!0}),wZ.StructRow=wZ.MapRow=void 0;var CZ=su.exports,jZ=Oo,zZ=Symbol.for("parent"),QZ=Symbol.for("rowIndex"),MZ=Symbol.for("keyToIdx"),PZ=Symbol.for("idxToVal"),EZ=Symbol.for("nodejs.util.inspect.custom"),OZ=function(){function e(e,t){this[zZ]=e,this.size=t}var t,n;return e.prototype.entries=function(){return this[Symbol.iterator]()},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.get=function(e){var t=void 0;if(null!=e){var n=this[MZ]||(this[MZ]=new Map),l=n.get(e);if(void 0!==l)void 0!==(t=(i=this[PZ]||(this[PZ]=new Array(this.size)))[l])||(i[l]=t=this.getValue(l));else if((l=this.getIndex(e))>-1){var i;n.set(e,l),void 0!==(t=(i=this[PZ]||(this[PZ]=new Array(this.size)))[l])||(i[l]=t=this.getValue(l))}}return t},e.prototype.set=function(e,t){if(null!=e){var n=this[MZ]||(this[MZ]=new Map),l=n.get(e);if(void 0===l&&n.set(e,l=this.getIndex(e)),l>-1)(this[PZ]||(this[PZ]=new Array(this.size)))[l]=this.setValue(l,t)}return this},e.prototype.clear=function(){throw new Error("Clearing "+this[Symbol.toStringTag]+" not supported.")},e.prototype.delete=function(e){throw new Error("Deleting "+this[Symbol.toStringTag]+" values not supported.")},e.prototype[Symbol.iterator]=function(){var e,t,n,l,i,r,a,c,u;return CZ.__generator(this,(function(o){switch(o.label){case 0:e=this.keys(),t=this.values(),n=this[MZ]||(this[MZ]=new Map),l=this[PZ]||(this[PZ]=new Array(this.size)),i=void 0,r=void 0,a=0,c=void 0,u=void 0,o.label=1;case 1:return(c=e.next()).done||(u=t.next()).done?[3,4]:(i=c.value,r=u.value,l[a]=r,n.has(i)||n.set(i,a),[4,[i,r]]);case 2:o.sent(),o.label=3;case 3:return++a,[3,1];case 4:return[2]}}))},e.prototype.forEach=function(e,t){for(var n=this.keys(),l=this.values(),i=void 0===t?e:function(n,l,i){return e.call(t,n,l,i)},r=this[MZ]||(this[MZ]=new Map),a=this[PZ]||(this[PZ]=new Array(this.size)),c=void 0,u=void 0,o=0,d=void 0,s=void 0;!(d=n.next()).done&&!(s=l.next()).done;++o)c=d.value,u=s.value,a[o]=u,r.has(c)||r.set(c,o),i(u,c,this)},e.prototype.toArray=function(){return CZ.__spread(this.values())},e.prototype.toJSON=function(){var e={};return this.forEach((function(t,n){return e[n]=t})),e},e.prototype.inspect=function(){return this.toString()},e.prototype[EZ]=function(){return this.toString()},e.prototype.toString=function(){var e=[];return this.forEach((function(t,n){n=jZ.valueToString(n),t=jZ.valueToString(t),e.push(n+": "+t)})),"{ "+e.join(", ")+" }"},e[Symbol.toStringTag]=(t=e.prototype,Object.defineProperties(t,((n={size:{writable:!0,enumerable:!1,configurable:!1,value:0}})[zZ]={writable:!0,enumerable:!1,configurable:!1,value:null},n[QZ]={writable:!0,enumerable:!1,configurable:!1,value:-1},n)),t[Symbol.toStringTag]="Row"),e}(),DZ=function(e){function t(t){var n=e.call(this,t,t.length)||this;return ep(n)}return CZ.__extends(t,e),t.prototype.keys=function(){return this[zZ].getChildAt(0)[Symbol.iterator]()},t.prototype.values=function(){return this[zZ].getChildAt(1)[Symbol.iterator]()},t.prototype.getKey=function(e){return this[zZ].getChildAt(0).get(e)},t.prototype.getIndex=function(e){return this[zZ].getChildAt(0).indexOf(e)},t.prototype.getValue=function(e){return this[zZ].getChildAt(1).get(e)},t.prototype.setValue=function(e,t){this[zZ].getChildAt(1).set(e,t)},t}(OZ);wZ.MapRow=DZ;var AZ=function(e){function t(t){var n=e.call(this,t,t.type.children.length)||this;return $Z(n)}return CZ.__extends(t,e),t.prototype.keys=function(){var e,t,n,l,i;return CZ.__generator(this,(function(r){switch(r.label){case 0:r.trys.push([0,5,6,7]),e=CZ.__values(this[zZ].type.children),t=e.next(),r.label=1;case 1:return t.done?[3,4]:[4,t.value.name];case 2:r.sent(),r.label=3;case 3:return t=e.next(),[3,1];case 4:return[3,7];case 5:return n=r.sent(),l={error:n},[3,7];case 6:try{t&&!t.done&&(i=e.return)&&i.call(e)}finally{if(l)throw l.error}return[7];case 7:return[2]}}))},t.prototype.values=function(){var e,t,n,l,i;return CZ.__generator(this,(function(r){switch(r.label){case 0:r.trys.push([0,5,6,7]),e=CZ.__values(this[zZ].type.children),t=e.next(),r.label=1;case 1:return t.done?[3,4]:[4,this[t.value.name]];case 2:r.sent(),r.label=3;case 3:return t=e.next(),[3,1];case 4:return[3,7];case 5:return n=r.sent(),l={error:n},[3,7];case 6:try{t&&!t.done&&(i=e.return)&&i.call(e)}finally{if(l)throw l.error}return[7];case 7:return[2]}}))},t.prototype.getKey=function(e){return this[zZ].type.children[e].name},t.prototype.getIndex=function(e){return this[zZ].type.children.findIndex((function(t){return t.name===e}))},t.prototype.getValue=function(e){return this[zZ].getChildAt(e).get(this[QZ])},t.prototype.setValue=function(e,t){return this[zZ].getChildAt(e).set(this[QZ],t)},t}(OZ);wZ.StructRow=AZ,Object.setPrototypeOf(OZ.prototype,Map.prototype);var qZ,$Z=(qZ={enumerable:!0,configurable:!1,get:null,set:null},function(e){var t,n,l=-1,i=e[MZ]||(e[MZ]=new Map),r=function(e){return function(){return this.get(e)}},a=function(e){return function(t){return this.set(e,t)}};try{for(var c=CZ.__values(e.keys()),u=c.next();!u.done;u=c.next()){var o=u.value;i.set(o,++l),qZ.get=r(o),qZ.set=a(o),Object.prototype.hasOwnProperty.call(e,o)||(qZ.enumerable=!0,Object.defineProperty(e,o,qZ)),Object.prototype.hasOwnProperty.call(e,l)||(qZ.enumerable=!1,Object.defineProperty(e,l,qZ))}}catch(d){t={error:d}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return qZ.get=qZ.set=null,e}),ep=function(){if("undefined"==typeof Proxy)return $Z;var e=OZ.prototype.has,t=OZ.prototype.get,n=OZ.prototype.set,l=OZ.prototype.getKey,i={isExtensible:function(){return!1},deleteProperty:function(){return!1},preventExtensions:function(){return!0},ownKeys:function(e){return CZ.__spread(e.keys()).map((function(e){return""+e}))},has:function(e,t){switch(t){case"getKey":case"getIndex":case"getValue":case"setValue":case"toArray":case"toJSON":case"inspect":case"constructor":case"isPrototypeOf":case"propertyIsEnumerable":case"toString":case"toLocaleString":case"valueOf":case"size":case"has":case"get":case"set":case"clear":case"delete":case"keys":case"values":case"entries":case"forEach":case"__proto__":case"__defineGetter__":case"__defineSetter__":case"hasOwnProperty":case"__lookupGetter__":case"__lookupSetter__":case Symbol.iterator:case Symbol.toStringTag:case zZ:case QZ:case PZ:case MZ:case EZ:return!0}return"number"!=typeof t||e.has(t)||(t=e.getKey(t)),e.has(t)},get:function(n,i,r){switch(i){case"getKey":case"getIndex":case"getValue":case"setValue":case"toArray":case"toJSON":case"inspect":case"constructor":case"isPrototypeOf":case"propertyIsEnumerable":case"toString":case"toLocaleString":case"valueOf":case"size":case"has":case"get":case"set":case"clear":case"delete":case"keys":case"values":case"entries":case"forEach":case"__proto__":case"__defineGetter__":case"__defineSetter__":case"hasOwnProperty":case"__lookupGetter__":case"__lookupSetter__":case Symbol.iterator:case Symbol.toStringTag:case zZ:case QZ:case PZ:case MZ:case EZ:return Reflect.get(n,i,r)}return"number"!=typeof i||e.call(r,i)||(i=l.call(r,i)),t.call(r,i)},set:function(t,i,r,a){switch(i){case zZ:case QZ:case PZ:case MZ:return Reflect.set(t,i,r,a);case"getKey":case"getIndex":case"getValue":case"setValue":case"toArray":case"toJSON":case"inspect":case"constructor":case"isPrototypeOf":case"propertyIsEnumerable":case"toString":case"toLocaleString":case"valueOf":case"size":case"has":case"get":case"set":case"clear":case"delete":case"keys":case"values":case"entries":case"forEach":case"__proto__":case"__defineGetter__":case"__defineSetter__":case"hasOwnProperty":case"__lookupGetter__":case"__lookupSetter__":case Symbol.iterator:case Symbol.toStringTag:return!1}return"number"!=typeof i||e.call(a,i)||(i=l.call(a,i)),!!e.call(a,i)&&!!n.call(a,i,r)}};return function(e){return new Proxy(e,i)}}();Object.defineProperty(_Z,"__esModule",{value:!0}),_Z.createElementComparator=_Z.clampRange=_Z.clampIndex=void 0;var tp,np=Fu,lp=wZ,ip=mu,rp=fu;_Z.clampIndex=function(e,t,n){var l=e.length,i=t>-1?t:l+t%l;return n?n(e,i):i},_Z.clampRange=function(e,t,n,l){var i=e.length,r=void 0===i?0:i,a="number"!=typeof t?0:t,c="number"!=typeof n?r:n;return a<0&&(a=(a%r+r)%r),c<0&&(c=(c%r+r)%r),c<a&&(tp=a,a=c,c=tp),c>r&&(c=r),l?l(e,a,c):[a,c]};var ap=rp.BigIntAvailable?rp.BigInt(0):0,cp=function(e){return e!=e};function up(e){var t,n,l=typeof e;if("object"!==l||null===e)return cp(e)?cp:"bigint"!==l?function(t){return t===e}:function(t){return ap+t===e};if(e instanceof Date){var i=e.valueOf();return function(e){return e instanceof Date&&e.valueOf()===i}}return ArrayBuffer.isView(e)?function(t){return!!t&&ip.compareArrayLike(e,t)}:e instanceof Map?(t=-1,n=[],e.forEach((function(e){return n[++t]=up(e)})),op(n)):Array.isArray(e)?function(e){for(var t=[],n=-1,l=e.length;++n<l;)t[n]=up(e[n]);return op(t)}(e):e instanceof np.Vector?function(e){for(var t=[],n=-1,l=e.length;++n<l;)t[n]=up(e.get(n));return op(t)}(e):function(e){var t=Object.keys(e);if(0===t.length)return function(){return!1};for(var n=[],l=-1,i=t.length;++l<i;)n[l]=up(e[t[l]]);return op(n,t)}(e)}function op(e,t){return function(n){if(!n||"object"!=typeof n)return!1;switch(n.constructor){case Array:return function(e,t){var n=e.length;if(t.length!==n)return!1;for(var l=-1;++l<n;)if(!e[l](t[l]))return!1;return!0}(e,n);case Map:case lp.MapRow:case lp.StructRow:return dp(e,n,n.keys());case Object:case void 0:return dp(e,n,t||Object.keys(n))}return n instanceof np.Vector&&function(e,t){var n=e.length;if(t.length!==n)return!1;for(var l=-1;++l<n;)if(!e[l](t.get(l)))return!1;return!0}(e,n)}}function dp(e,t,n){for(var l=n[Symbol.iterator](),i=t instanceof Map?t.keys():Object.keys(t)[Symbol.iterator](),r=t instanceof Map?t.values():Object.values(t)[Symbol.iterator](),a=0,c=e.length,u=r.next(),o=l.next(),d=i.next();a<c&&!o.done&&!d.done&&!u.done&&(o.value===d.value&&e[a](u.value));++a,o=l.next(),d=i.next(),u=r.next());return!!(a===c&&o.done&&d.done&&u.done)||(l.return&&l.return(),i.return&&i.return(),r.return&&r.return(),!1)}_Z.createElementComparator=up;var sp={};Object.defineProperty(sp,"__esModule",{value:!0}),sp.selectColumnChildrenArgs=sp.selectVectorChildrenArgs=sp.selectChunkArgs=sp.selectFieldArgs=sp.selectColumnArgs=sp.selectArgs=sp.arrayTypeToDataType=sp.isTypedArray=void 0;var mp=su.exports,bp=ju,Zp=Es,pp=FZ,hp=Fu,yp=qu,fp=TZ,Vp=Array.isArray;function Xp(e){return ArrayBuffer.isView(e)&&"BYTES_PER_ELEMENT"in e}function Wp(e){switch(e){case Int8Array:return yp.Int8;case Int16Array:return yp.Int16;case Int32Array:return yp.Int32;case BigInt64Array:return yp.Int64;case Uint8Array:return yp.Uint8;case Uint16Array:return yp.Uint16;case Uint32Array:return yp.Uint32;case BigUint64Array:return yp.Uint64;case Float32Array:return yp.Float32;case Float64Array:return yp.Float64;default:return null}}function Gp(e,t,n,l){for(var i,r=l,a=-1,c=t.length;++a<c;)Vp(i=t[a])?r=Gp(e,i,n,r).length:i instanceof e&&(n[r++]=i);return n}function Rp(e,t,n,l){for(var i,r=l,a=-1,c=t.length;++a<c;)Vp(i=t[a])?r=Rp(e,i,n,r).length:i instanceof fp.Chunked?r=Rp(e,i.chunks,n,r).length:i instanceof e&&(n[r++]=i);return n}function Sp(e,t,n,l){for(var i,r=l,a=-1,c=t.length;++a<c;)Vp(i=t[a])?r=Sp(e,i,n,r).length:i instanceof e?r=Gp(hp.Vector,i.schema.fields.map((function(e,t){return i.getChildAt(t)})),n,r).length:i instanceof hp.Vector&&(n[r++]=i);return n}function vp(e,t,n,l){for(var i,r=l,a=-1,c=t.length;++a<c;)Vp(i=t[a])?r=vp(e,i,n,r).length:i instanceof e?r=Gp(pp.Column,i.schema.fields.map((function(e,t){return pp.Column.new(e,i.getChildAt(t))})),n,r).length:i instanceof pp.Column&&(n[r++]=i);return n}sp.isTypedArray=Xp,sp.arrayTypeToDataType=Wp,sp.selectArgs=function(e,t){return Gp(e,t,[],0)},sp.selectColumnArgs=function(e){var t=mp.__read(Yp(e,[[],[]]),2),n=t[0];return t[1].map((function(e,t){return e instanceof pp.Column?pp.Column.new(e.field.clone(n[t]),e):e instanceof hp.Vector?pp.Column.new(n[t],e):Xp(e)?pp.Column.new(n[t],function(e){var t=Wp(e.constructor);if(!t)throw new TypeError("Unrecognized Array input");var n=new t,l=bp.Data.new(n,0,e.length,0,[void 0,e]);return hp.Vector.new(l)}(e)):pp.Column.new(n[t],[])}))},sp.selectFieldArgs=function(e){return Yp(e,[[],[]])},sp.selectChunkArgs=function(e,t){return Rp(e,t,[],0)},sp.selectVectorChildrenArgs=function(e,t){return Sp(e,t,[],0)},sp.selectColumnChildrenArgs=function(e,t){return vp(e,t,[],0)};var Lp=function(e,t,n){var l=mp.__read(t,2),i=l[0],r=l[1];return e[0][n]=i,e[1][n]=r,e};function Yp(e,t){var n,l,i,r;switch(r=e.length){case 0:return t;case 1:if(i=t[0],!e[0])return t;if(Vp(e[0]))return Yp(e[0],t);e[0]instanceof bp.Data||e[0]instanceof hp.Vector||Xp(e[0])||e[0]instanceof yp.DataType||(i=(n=mp.__read(Object.entries(e[0]).reduce(Lp,t),2))[0],e=n[1]);break;default:Vp(i=e[r-1])?e=Vp(e[0])?e[0]:e.slice(0,r-1):(e=Vp(e[0])?e[0]:e,i=[])}for(var a,c,u=-1,o=-1,d=-1,s=e.length,m=mp.__read(t,2),b=m[0],Z=m[1];++d<s;)(c=e[d])instanceof pp.Column&&(Z[++o]=c)?b[++u]=c.field.clone(i[d],c.type,!0):(a=void 0===(l=i[d])?d:l,c instanceof yp.DataType&&(Z[++o]=c)?b[++u]=Zp.Field.new(a,c,!0):(null==c?void 0:c.type)&&(Z[++o]=c)&&(c instanceof bp.Data&&(Z[o]=c=hp.Vector.new(c)),b[++u]=Zp.Field.new(a,c.type,!0)));return t}Object.defineProperty(TZ,"__esModule",{value:!0}),TZ.Chunked=void 0;var Jp=su.exports,xp=_Z,gp=qu,Hp=sp,Up=Fu,Ip=function(){function e(e){this.chunks=e,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator()}return e.prototype.next=function(){for(;this.chunkIndex<this.chunks.length;){var e=this.chunkIterator.next();if(!e.done)return e;++this.chunkIndex<this.chunks.length&&(this.chunkIterator=this.getChunkIterator())}return{done:!0,value:null}},e.prototype.getChunkIterator=function(){return this.chunks[this.chunkIndex][Symbol.iterator]()},e.prototype[Symbol.iterator]=function(){return this},e}(),Kp=function(e){function t(t,n,l){void 0===n&&(n=[]),void 0===l&&(l=function(e){for(var t=new Uint32Array((e||[]).length+1),n=t[0]=0,l=t.length,i=0;++i<l;)t[i]=n+=e[i-1].length;return t}(n));var i=e.call(this)||this;return i._nullCount=-1,i._type=t,i._chunks=n,i._chunkOffsets=l,i._length=l[l.length-1],i._numChildren=(i._type.children||[]).length,i}return Jp.__extends(t,e),t.flatten=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Hp.selectChunkArgs(Up.Vector,e)},t.concat=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var l=t.flatten.apply(t,Jp.__spread(e));return new t(l[0].type,l)},Object.defineProperty(t.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this._length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"chunks",{get:function(){return this._chunks},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"typeId",{get:function(){return this._type.typeId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"VectorName",{get:function(){return"Chunked<"+this._type+">"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._chunks[0]?this._chunks[0].data:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ArrayType",{get:function(){return this._type.ArrayType},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"numChildren",{get:function(){return this._numChildren},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stride",{get:function(){return this._chunks[0]?this._chunks[0].stride:1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"byteLength",{get:function(){return this._chunks.reduce((function(e,t){return e+t.byteLength}),0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nullCount",{get:function(){var e=this._nullCount;return e<0&&(this._nullCount=e=this._chunks.reduce((function(e,t){return e+t.nullCount}),0)),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"indices",{get:function(){if(gp.DataType.isDictionary(this._type)){if(!this._indices){var e=this._chunks;this._indices=1===e.length?e[0].indices:t.concat.apply(t,Jp.__spread(e.map((function(e){return e.indices}))))}return this._indices}return null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dictionary",{get:function(){return gp.DataType.isDictionary(this._type)?this._chunks[this._chunks.length-1].data.dictionary:null},enumerable:!1,configurable:!0}),t.prototype[Symbol.iterator]=function(){return new Ip(this._chunks)},t.prototype.clone=function(e){return void 0===e&&(e=this._chunks),new t(this._type,e)},t.prototype.concat=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this.clone(t.flatten.apply(t,Jp.__spread([this],e)))},t.prototype.slice=function(e,t){return xp.clampRange(this,e,t,this._sliceInternal)},t.prototype.getChildAt=function(e){if(e<0||e>=this._numChildren)return null;var n,l,i,r=this._children||(this._children=[]);return(n=r[e])?n:(l=(this._type.children||[])[e])&&(i=this._chunks.map((function(t){return t.getChildAt(e)})).filter((function(e){return null!=e}))).length>0?r[e]=new t(l.type,i):null},t.prototype.search=function(e,t){var n=e,l=this._chunkOffsets,i=l.length-1;if(n<0)return null;if(n>=l[i])return null;if(i<=1)return t?t(this,0,n):[0,n];var r=0,a=0,c=0;do{if(r+1===i)return t?t(this,r,n-a):[r,n-a];n>=l[c=r+(i-r)/2|0]?r=c:i=c}while(n<l[i]&&n>=(a=l[r]));return null},t.prototype.isValid=function(e){return!!this.search(e,this.isValidInternal)},t.prototype.get=function(e){return this.search(e,this.getInternal)},t.prototype.set=function(e,t){this.search(e,(function(e,n,l){return e.chunks[n].set(l,t)}))},t.prototype.indexOf=function(e,t){var n=this;return t&&"number"==typeof t?this.search(t,(function(t,l,i){return n.indexOfInternal(t,l,i,e)})):this.indexOfInternal(this,0,Math.max(0,t||0),e)},t.prototype.toArray=function(){var e=this.chunks,t=e.length,n=this._type.ArrayType;if(t<=0)return new n(0);if(t<=1)return e[0].toArray();for(var l=0,i=new Array(t),r=-1;++r<t;)l+=(i[r]=e[r].toArray()).length;n!==i[0].constructor&&(n=i[0].constructor);for(var a=new n(l),c=n===Array?kp:Np,u=(r=-1,0);++r<t;)u=c(i[r],a,u);return a},t.prototype.getInternal=function(e,t,n){return e._chunks[t].get(n)},t.prototype.isValidInternal=function(e,t,n){return e._chunks[t].isValid(n)},t.prototype.indexOfInternal=function(e,t,n,l){for(var i=e._chunks,r=t-1,a=i.length,c=n,u=0,o=-1;++r<a;){if(~(o=i[r].indexOf(l,c)))return u+o;c=0,u+=i[r].length}return-1},t.prototype._sliceInternal=function(e,t,n){for(var l=[],i=e.chunks,r=e._chunkOffsets,a=-1,c=i.length;++a<c;){var u=i[a],o=u.length,d=r[a];if(d>=n)break;if(!(t>=d+o))if(d>=t&&d+o<=n)l.push(u);else{var s=Math.max(0,t-d),m=Math.min(n-d,o);l.push(u.slice(s,m))}}return e.clone(l)},t}(Up.AbstractVector);TZ.Chunked=Kp;var Np=function(e,t,n){return t.set(e,n),n+e.length},kp=function(e,t,n){for(var l=n,i=-1,r=e.length;++i<r;)t[l++]=e[i];return l};Object.defineProperty(FZ,"__esModule",{value:!0}),FZ.Column=void 0;var Bp=su.exports,Fp=Es,Tp=Fu,_p=TZ,wp=function(e){function t(t,n,l){void 0===n&&(n=[]);var i=this;return n=_p.Chunked.flatten.apply(_p.Chunked,Bp.__spread(n)),(i=e.call(this,t.type,n,l)||this)._field=t,1!==n.length||i instanceof Cp?i:new Cp(t,n[0],i._chunkOffsets)}return Bp.__extends(t,e),t.new=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var l=Bp.__read(e),i=l[0],r=l[1],a=l.slice(2);"string"==typeof i||i instanceof Fp.Field||(r=i,i="");var c=_p.Chunked.flatten(Array.isArray(r)?Bp.__spread(r,a):r instanceof Tp.Vector?Bp.__spread([r],a):[Tp.Vector.new.apply(Tp.Vector,Bp.__spread([r],a))]);if("string"==typeof i){var u=c[0].data.type;i=new Fp.Field(i,u,!0)}else!i.nullable&&c.some((function(e){return e.nullCount>0}))&&(i=i.clone({nullable:!0}));return new t(i,c)},Object.defineProperty(t.prototype,"field",{get:function(){return this._field},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._field.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nullable",{get:function(){return this._field.nullable},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._field.metadata},enumerable:!1,configurable:!0}),t.prototype.clone=function(e){return void 0===e&&(e=this._chunks),new t(this._field,e)},t.prototype.getChildAt=function(e){if(e<0||e>=this.numChildren)return null;var n,l,i,r=this._children||(this._children=[]);return(n=r[e])?n:(l=(this.type.children||[])[e])&&(i=this._chunks.map((function(t){return t.getChildAt(e)})).filter((function(e){return null!=e}))).length>0?r[e]=new t(l,i):null},t}(_p.Chunked);FZ.Column=wp;var Cp=function(e){function t(t,n,l){var i=e.call(this,t,[n],l)||this;return i._chunk=n,i}return Bp.__extends(t,e),t.prototype.search=function(e,t){return t?t(this,0,e):[0,e]},t.prototype.isValid=function(e){return this._chunk.isValid(e)},t.prototype.get=function(e){return this._chunk.get(e)},t.prototype.set=function(e,t){this._chunk.set(e,t)},t.prototype.indexOf=function(e,t){return this._chunk.indexOf(e,t)},t}(wp),jp={},zp={},Qp={},Mp={};Object.defineProperty(Mp,"__esModule",{value:!0}),Mp.instance=Mp.TypeAssembler=void 0;var Pp=su.exports,Ep=Zu.flatbuffers.Long,Op=wu,Dp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Pp.__extends(t,e),t.prototype.visit=function(t,n){return null==t||null==n?void 0:e.prototype.visit.call(this,t,n)},t.prototype.visitNull=function(e,t){return Op.Null.startNull(t),Op.Null.endNull(t)},t.prototype.visitInt=function(e,t){return Op.Int.startInt(t),Op.Int.addBitWidth(t,e.bitWidth),Op.Int.addIsSigned(t,e.isSigned),Op.Int.endInt(t)},t.prototype.visitFloat=function(e,t){return Op.FloatingPoint.startFloatingPoint(t),Op.FloatingPoint.addPrecision(t,e.precision),Op.FloatingPoint.endFloatingPoint(t)},t.prototype.visitBinary=function(e,t){return Op.Binary.startBinary(t),Op.Binary.endBinary(t)},t.prototype.visitBool=function(e,t){return Op.Bool.startBool(t),Op.Bool.endBool(t)},t.prototype.visitUtf8=function(e,t){return Op.Utf8.startUtf8(t),Op.Utf8.endUtf8(t)},t.prototype.visitDecimal=function(e,t){return Op.Decimal.startDecimal(t),Op.Decimal.addScale(t,e.scale),Op.Decimal.addPrecision(t,e.precision),Op.Decimal.endDecimal(t)},t.prototype.visitDate=function(e,t){return Op.Date.startDate(t),Op.Date.addUnit(t,e.unit),Op.Date.endDate(t)},t.prototype.visitTime=function(e,t){return Op.Time.startTime(t),Op.Time.addUnit(t,e.unit),Op.Time.addBitWidth(t,e.bitWidth),Op.Time.endTime(t)},t.prototype.visitTimestamp=function(e,t){var n=e.timezone&&t.createString(e.timezone)||void 0;return Op.Timestamp.startTimestamp(t),Op.Timestamp.addUnit(t,e.unit),void 0!==n&&Op.Timestamp.addTimezone(t,n),Op.Timestamp.endTimestamp(t)},t.prototype.visitInterval=function(e,t){return Op.Interval.startInterval(t),Op.Interval.addUnit(t,e.unit),Op.Interval.endInterval(t)},t.prototype.visitList=function(e,t){return Op.List.startList(t),Op.List.endList(t)},t.prototype.visitStruct=function(e,t){return Op.Struct_.startStruct_(t),Op.Struct_.endStruct_(t)},t.prototype.visitUnion=function(e,t){Op.Union.startTypeIdsVector(t,e.typeIds.length);var n=Op.Union.createTypeIdsVector(t,e.typeIds);return Op.Union.startUnion(t),Op.Union.addMode(t,e.mode),Op.Union.addTypeIds(t,n),Op.Union.endUnion(t)},t.prototype.visitDictionary=function(e,t){var n=this.visit(e.indices,t);return Op.DictionaryEncoding.startDictionaryEncoding(t),Op.DictionaryEncoding.addId(t,new Ep(e.id,0)),Op.DictionaryEncoding.addIsOrdered(t,e.isOrdered),void 0!==n&&Op.DictionaryEncoding.addIndexType(t,n),Op.DictionaryEncoding.endDictionaryEncoding(t)},t.prototype.visitFixedSizeBinary=function(e,t){return Op.FixedSizeBinary.startFixedSizeBinary(t),Op.FixedSizeBinary.addByteWidth(t,e.byteWidth),Op.FixedSizeBinary.endFixedSizeBinary(t)},t.prototype.visitFixedSizeList=function(e,t){return Op.FixedSizeList.startFixedSizeList(t),Op.FixedSizeList.addListSize(t,e.listSize),Op.FixedSizeList.endFixedSizeList(t)},t.prototype.visitMap=function(e,t){return Op.Map.startMap(t),Op.Map.addKeysSorted(t,e.keysSorted),Op.Map.endMap(t)},t}(Um.Visitor);Mp.TypeAssembler=Dp,Mp.instance=new Dp;var Ap={};Object.defineProperty(Ap,"__esModule",{value:!0}),Ap.fieldFromJSON=Ap.dictionaryBatchFromJSON=Ap.recordBatchFromJSON=Ap.schemaFromJSON=void 0;var qp=su.exports,$p=Es,eh=qu,th=Qp,nh=_u;function lh(e){return new th.RecordBatch(e.count,rh(e.columns),ah(e.columns))}function ih(e,t){return(e.children||[]).filter(Boolean).map((function(e){return $p.Field.fromJSON(e,t)}))}function rh(e){return(e||[]).reduce((function(e,t){return qp.__spread(e,[new th.FieldNode(t.count,(n=t.VALIDITY,(n||[]).reduce((function(e,t){return e+ +(0===t)}),0)))],rh(t.children));var n}),[])}function ah(e,t){void 0===t&&(t=[]);for(var n=-1,l=(e||[]).length;++n<l;){var i=e[n];i.VALIDITY&&t.push(new th.BufferRegion(t.length,i.VALIDITY.length)),i.TYPE&&t.push(new th.BufferRegion(t.length,i.TYPE.length)),i.OFFSET&&t.push(new th.BufferRegion(t.length,i.OFFSET.length)),i.DATA&&t.push(new th.BufferRegion(t.length,i.DATA.length)),t=ah(i.children,t)}return t}function ch(e){return new Map(Object.entries(e||{}))}function uh(e){return new eh.Int(e.isSigned,e.bitWidth)}function oh(e,t){var n=e.type.name;switch(n){case"NONE":case"null":return new eh.Null;case"binary":return new eh.Binary;case"utf8":return new eh.Utf8;case"bool":return new eh.Bool;case"list":return new eh.List((t||[])[0]);case"struct":case"struct_":return new eh.Struct(t||[])}switch(n){case"int":var l=e.type;return new eh.Int(l.isSigned,l.bitWidth);case"floatingpoint":l=e.type;return new eh.Float(nh.Precision[l.precision]);case"decimal":l=e.type;return new eh.Decimal(l.scale,l.precision);case"date":l=e.type;return new eh.Date_(nh.DateUnit[l.unit]);case"time":l=e.type;return new eh.Time(nh.TimeUnit[l.unit],l.bitWidth);case"timestamp":l=e.type;return new eh.Timestamp(nh.TimeUnit[l.unit],l.timezone);case"interval":l=e.type;return new eh.Interval(nh.IntervalUnit[l.unit]);case"union":l=e.type;return new eh.Union(nh.UnionMode[l.mode],l.typeIds||[],t||[]);case"fixedsizebinary":l=e.type;return new eh.FixedSizeBinary(l.byteWidth);case"fixedsizelist":l=e.type;return new eh.FixedSizeList(l.listSize,(t||[])[0]);case"map":l=e.type;return new eh.Map_((t||[])[0],l.keysSorted)}throw new Error('Unrecognized type: "'+n+'"')}Ap.schemaFromJSON=function(e,t){return void 0===t&&(t=new Map),new $p.Schema(function(e,t){return(e.fields||[]).filter(Boolean).map((function(e){return $p.Field.fromJSON(e,t)}))}(e,t),ch(e.customMetadata),t)},Ap.recordBatchFromJSON=lh,Ap.dictionaryBatchFromJSON=function(e){return new th.DictionaryBatch(lh(e.data),e.id,e.isDelta)},Ap.fieldFromJSON=function(e,t){var n,l,i,r,a,c;return t&&(r=e.dictionary)?t.has(n=r.id)?(l=(l=r.indexType)?uh(l):new eh.Int32,c=new eh.Dictionary(t.get(n),l,n,r.isOrdered),i=new $p.Field(e.name,c,e.nullable,ch(e.customMetadata))):(l=(l=r.indexType)?uh(l):new eh.Int32,t.set(n,a=oh(e,ih(e,t))),c=new eh.Dictionary(a,l,n,r.isOrdered),i=new $p.Field(e.name,c,e.nullable,ch(e.customMetadata))):(a=oh(e,ih(e,t)),i=new $p.Field(e.name,a,e.nullable,ch(e.customMetadata))),i||null},Object.defineProperty(Qp,"__esModule",{value:!0}),Qp.FieldNode=Qp.BufferRegion=Qp.DictionaryBatch=Qp.RecordBatch=Qp.Message=void 0;var dh=su.exports,sh=Zu,mh=wu,bh=Cu,Zh=Es,ph=mu,hh=_u,yh=Mp,fh=Ap,Vh=sh.flatbuffers.Long,Xh=sh.flatbuffers.Builder,Wh=sh.flatbuffers.ByteBuffer,Gh=qu,Rh=function(){function e(e,t,n,l){this._version=t,this._headerType=n,this.body=new Uint8Array(0),l&&(this._createHeader=function(){return l}),this._bodyLength="number"==typeof e?e:e.low}return e.fromJSON=function(t,n){var l=new e(0,hh.MetadataVersion.V4,n);return l._createHeader=function(e,t){return function(){switch(t){case hh.MessageHeader.Schema:return Zh.Schema.fromJSON(e);case hh.MessageHeader.RecordBatch:return Sh.fromJSON(e);case hh.MessageHeader.DictionaryBatch:return vh.fromJSON(e)}throw new Error("Unrecognized Message type: { name: "+hh.MessageHeader[t]+", type: "+t+" }")}}(t,n),l},e.decode=function(t){t=new Wh(ph.toUint8Array(t));var n=bh.Message.getRootAsMessage(t),l=n.bodyLength(),i=n.version(),r=n.headerType(),a=new e(l,i,r);return a._createHeader=function(e,t){return function(){switch(t){case hh.MessageHeader.Schema:return Zh.Schema.decode(e.header(new mh.Schema));case hh.MessageHeader.RecordBatch:return Sh.decode(e.header(new bh.RecordBatch),e.version());case hh.MessageHeader.DictionaryBatch:return vh.decode(e.header(new bh.DictionaryBatch),e.version())}throw new Error("Unrecognized Message type: { name: "+hh.MessageHeader[t]+", type: "+t+" }")}}(n,r),a},e.encode=function(e){var t=new Xh,n=-1;return e.isSchema()?n=Zh.Schema.encode(t,e.header()):e.isRecordBatch()?n=Sh.encode(t,e.header()):e.isDictionaryBatch()&&(n=vh.encode(t,e.header())),bh.Message.startMessage(t),bh.Message.addVersion(t,hh.MetadataVersion.V4),bh.Message.addHeader(t,n),bh.Message.addHeaderType(t,e.headerType),bh.Message.addBodyLength(t,new Vh(e.bodyLength,0)),bh.Message.finishMessageBuffer(t,bh.Message.endMessage(t)),t.asUint8Array()},e.from=function(t,n){if(void 0===n&&(n=0),t instanceof Zh.Schema)return new e(0,hh.MetadataVersion.V4,hh.MessageHeader.Schema,t);if(t instanceof Sh)return new e(n,hh.MetadataVersion.V4,hh.MessageHeader.RecordBatch,t);if(t instanceof vh)return new e(n,hh.MetadataVersion.V4,hh.MessageHeader.DictionaryBatch,t);throw new Error("Unrecognized Message header: "+t)},Object.defineProperty(e.prototype,"type",{get:function(){return this.headerType},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"headerType",{get:function(){return this._headerType},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bodyLength",{get:function(){return this._bodyLength},enumerable:!1,configurable:!0}),e.prototype.header=function(){return this._createHeader()},e.prototype.isSchema=function(){return this.headerType===hh.MessageHeader.Schema},e.prototype.isRecordBatch=function(){return this.headerType===hh.MessageHeader.RecordBatch},e.prototype.isDictionaryBatch=function(){return this.headerType===hh.MessageHeader.DictionaryBatch},e}();Qp.Message=Rh;var Sh=function(){function e(e,t,n){this._nodes=t,this._buffers=n,this._length="number"==typeof e?e:e.low}return Object.defineProperty(e.prototype,"nodes",{get:function(){return this._nodes},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"buffers",{get:function(){return this._buffers},enumerable:!1,configurable:!0}),e}();Qp.RecordBatch=Sh;var vh=function(){function e(e,t,n){void 0===n&&(n=!1),this._data=e,this._isDelta=n,this._id="number"==typeof t?t:t.low}return Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDelta",{get:function(){return this._isDelta},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this.data.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nodes",{get:function(){return this.data.nodes},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"buffers",{get:function(){return this.data.buffers},enumerable:!1,configurable:!0}),e}();Qp.DictionaryBatch=vh;var Lh=function(e,t){this.offset="number"==typeof e?e:e.low,this.length="number"==typeof t?t:t.low};Qp.BufferRegion=Lh;var Yh=function(e,t){this.length="number"==typeof e?e:e.low,this.nullCount="number"==typeof t?t:t.low};function Jh(e,t){for(var n=[],l=void 0,i=-1,r=-1,a=e.childrenLength();++i<a;)(l=e.children(i))&&(n[++r]=Zh.Field.decode(l,t));return n}function xh(e){var t=new Map;if(e)for(var n=void 0,l=void 0,i=-1,r=0|e.customMetadataLength();++i<r;)(n=e.customMetadata(i))&&null!=(l=n.key())&&t.set(l,n.value());return t}function gh(e){return new Gh.Int(e.isSigned(),e.bitWidth())}function Hh(e,t){var n=e.typeType();switch(n){case mh.Type.NONE:case mh.Type.Null:return new Gh.Null;case mh.Type.Binary:return new Gh.Binary;case mh.Type.Utf8:return new Gh.Utf8;case mh.Type.Bool:return new Gh.Bool;case mh.Type.List:return new Gh.List((t||[])[0]);case mh.Type.Struct_:return new Gh.Struct(t||[])}switch(n){case mh.Type.Int:var l=e.type(new mh.Int);return new Gh.Int(l.isSigned(),l.bitWidth());case mh.Type.FloatingPoint:l=e.type(new mh.FloatingPoint);return new Gh.Float(l.precision());case mh.Type.Decimal:l=e.type(new mh.Decimal);return new Gh.Decimal(l.scale(),l.precision());case mh.Type.Date:l=e.type(new mh.Date);return new Gh.Date_(l.unit());case mh.Type.Time:l=e.type(new mh.Time);return new Gh.Time(l.unit(),l.bitWidth());case mh.Type.Timestamp:l=e.type(new mh.Timestamp);return new Gh.Timestamp(l.unit(),l.timezone());case mh.Type.Interval:l=e.type(new mh.Interval);return new Gh.Interval(l.unit());case mh.Type.Union:l=e.type(new mh.Union);return new Gh.Union(l.mode(),l.typeIdsArray()||[],t||[]);case mh.Type.FixedSizeBinary:l=e.type(new mh.FixedSizeBinary);return new Gh.FixedSizeBinary(l.byteWidth());case mh.Type.FixedSizeList:l=e.type(new mh.FixedSizeList);return new Gh.FixedSizeList(l.listSize(),(t||[])[0]);case mh.Type.Map:l=e.type(new mh.Map);return new Gh.Map_((t||[])[0],l.keysSorted())}throw new Error('Unrecognized type: "'+mh.Type[n]+'" ('+n+")")}Qp.FieldNode=Yh,Zh.Field.encode=function(e,t){var n=-1,l=-1,i=-1,r=t.type,a=t.typeId;Gh.DataType.isDictionary(r)?(a=r.dictionary.typeId,i=yh.instance.visit(r,e),l=yh.instance.visit(r.dictionary,e)):l=yh.instance.visit(r,e);var c=(r.children||[]).map((function(t){return Zh.Field.encode(e,t)})),u=mh.Field.createChildrenVector(e,c),o=t.metadata&&t.metadata.size>0?mh.Field.createCustomMetadataVector(e,dh.__spread(t.metadata).map((function(t){var n=dh.__read(t,2),l=n[0],i=n[1],r=e.createString(""+l),a=e.createString(""+i);return mh.KeyValue.startKeyValue(e),mh.KeyValue.addKey(e,r),mh.KeyValue.addValue(e,a),mh.KeyValue.endKeyValue(e)}))):-1;t.name&&(n=e.createString(t.name));mh.Field.startField(e),mh.Field.addType(e,l),mh.Field.addTypeType(e,a),mh.Field.addChildren(e,u),mh.Field.addNullable(e,!!t.nullable),-1!==n&&mh.Field.addName(e,n);-1!==i&&mh.Field.addDictionary(e,i);-1!==o&&mh.Field.addCustomMetadata(e,o);return mh.Field.endField(e)},Zh.Field.decode=function(e,t){var n,l,i,r,a,c;t&&(c=e.dictionary())?t.has(n=c.id().low)?(r=(r=c.indexType())?gh(r):new Gh.Int32,a=new Gh.Dictionary(t.get(n),r,n,c.isOrdered()),l=new Zh.Field(e.name(),a,e.nullable(),xh(e))):(r=(r=c.indexType())?gh(r):new Gh.Int32,t.set(n,i=Hh(e,Jh(e,t))),a=new Gh.Dictionary(i,r,n,c.isOrdered()),l=new Zh.Field(e.name(),a,e.nullable(),xh(e))):(i=Hh(e,Jh(e,t)),l=new Zh.Field(e.name(),i,e.nullable(),xh(e)));return l||null},Zh.Field.fromJSON=fh.fieldFromJSON,Zh.Schema.encode=function(e,t){var n=t.fields.map((function(t){return Zh.Field.encode(e,t)}));mh.Schema.startFieldsVector(e,n.length);var l=mh.Schema.createFieldsVector(e,n),i=t.metadata&&t.metadata.size>0?mh.Schema.createCustomMetadataVector(e,dh.__spread(t.metadata).map((function(t){var n=dh.__read(t,2),l=n[0],i=n[1],r=e.createString(""+l),a=e.createString(""+i);return mh.KeyValue.startKeyValue(e),mh.KeyValue.addKey(e,r),mh.KeyValue.addValue(e,a),mh.KeyValue.endKeyValue(e)}))):-1;mh.Schema.startSchema(e),mh.Schema.addFields(e,l),mh.Schema.addEndianness(e,Ih?mh.Endianness.Little:mh.Endianness.Big),-1!==i&&mh.Schema.addCustomMetadata(e,i);return mh.Schema.endSchema(e)},Zh.Schema.decode=function(e,t){void 0===t&&(t=new Map);var n=function(e,t){for(var n=[],l=void 0,i=-1,r=-1,a=e.fieldsLength();++i<a;)(l=e.fields(i))&&(n[++r]=Zh.Field.decode(l,t));return n}(e,t);return new Zh.Schema(n,xh(e),t)},Zh.Schema.fromJSON=fh.schemaFromJSON,Sh.encode=function(e,t){var n=t.nodes||[],l=t.buffers||[];bh.RecordBatch.startNodesVector(e,n.length),n.slice().reverse().forEach((function(t){return Yh.encode(e,t)}));var i=e.endVector();bh.RecordBatch.startBuffersVector(e,l.length),l.slice().reverse().forEach((function(t){return Lh.encode(e,t)}));var r=e.endVector();return bh.RecordBatch.startRecordBatch(e),bh.RecordBatch.addLength(e,new Vh(t.length,0)),bh.RecordBatch.addNodes(e,i),bh.RecordBatch.addBuffers(e,r),bh.RecordBatch.endRecordBatch(e)},Sh.decode=function(e,t){void 0===t&&(t=hh.MetadataVersion.V4);return new Sh(e.length(),function(e){for(var t=[],n=void 0,l=-1,i=-1,r=e.nodesLength();++l<r;)(n=e.nodes(l))&&(t[++i]=Yh.decode(n));return t}(e),function(e,t){for(var n=[],l=void 0,i=-1,r=-1,a=e.buffersLength();++i<a;)(l=e.buffers(i))&&(t<hh.MetadataVersion.V4&&(l.bb_pos+=8*(i+1)),n[++r]=Lh.decode(l));return n}(e,t))},Sh.fromJSON=fh.recordBatchFromJSON,vh.encode=function(e,t){var n=Sh.encode(e,t.data);return bh.DictionaryBatch.startDictionaryBatch(e),bh.DictionaryBatch.addId(e,new Vh(t.id,0)),bh.DictionaryBatch.addIsDelta(e,t.isDelta),bh.DictionaryBatch.addData(e,n),bh.DictionaryBatch.endDictionaryBatch(e)},vh.decode=function(e,t){void 0===t&&(t=hh.MetadataVersion.V4);return new vh(Sh.decode(e.data(),t),e.id(),e.isDelta())},vh.fromJSON=fh.dictionaryBatchFromJSON,Yh.encode=function(e,t){return bh.FieldNode.createFieldNode(e,new Vh(t.length,0),new Vh(t.nullCount,0))},Yh.decode=function(e){return new Yh(e.length(),e.nullCount())},Lh.encode=function(e,t){return mh.Buffer.createBuffer(e,new Vh(t.offset,0),new Vh(t.length,0))},Lh.decode=function(e){return new Lh(e.offset(),e.length())};var Uh,Ih=(Uh=new ArrayBuffer(2),new DataView(Uh).setInt16(0,256,!0),256===new Int16Array(Uh)[0]);!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.magicX2AndPadding=e.magicAndPadding=e.magicLength=e.checkForMagicArrowString=e.MAGIC=e.MAGIC_STR=e.PADDING=e.JSONMessageReader=e.AsyncMessageReader=e.MessageReader=void 0;var t=su.exports,n=_u,l=Zu.flatbuffers.ByteBuffer,i=Qp,r=fu,a=dZ,c=mu,u=qb,o=Vu,d=function(e){return"Expected "+n.MessageHeader[e]+" Message in stream, but was null or length 0."},s=function(e){return"Header pointer of flatbuffer-encoded "+n.MessageHeader[e]+" Message is null or length 0."},m=function(e,t){return"Expected to read "+e+" metadata bytes, but only read "+t+"."},b=function(e,t){return"Expected to read "+e+" bytes for message body, but only read "+t+"."},Z=function(){function t(e){this.source=e instanceof u.ByteStream?e:new u.ByteStream(e)}return t.prototype[Symbol.iterator]=function(){return this},t.prototype.next=function(){var e;return(e=this.readMetadataLength()).done||-1===e.value&&(e=this.readMetadataLength()).done||(e=this.readMetadata(e.value)).done?o.ITERATOR_DONE:e},t.prototype.throw=function(e){return this.source.throw(e)},t.prototype.return=function(e){return this.source.return(e)},t.prototype.readMessage=function(e){var t;if((t=this.next()).done)return null;if(null!=e&&t.value.headerType!==e)throw new Error(d(e));return t.value},t.prototype.readMessageBody=function(e){if(e<=0)return new Uint8Array(0);var t=c.toUint8Array(this.source.read(e));if(t.byteLength<e)throw new Error(b(e,t.byteLength));return t.byteOffset%8==0&&t.byteOffset+t.byteLength<=t.buffer.byteLength?t:t.slice()},t.prototype.readSchema=function(e){void 0===e&&(e=!1);var t=n.MessageHeader.Schema,l=this.readMessage(t),i=null==l?void 0:l.header();if(e&&!i)throw new Error(s(t));return i},t.prototype.readMetadataLength=function(){var t=this.source.read(e.PADDING),n=t&&new l(t),i=(null==n?void 0:n.readInt32(0))||0;return{done:0===i,value:i}},t.prototype.readMetadata=function(e){var t=this.source.read(e);if(!t)return o.ITERATOR_DONE;if(t.byteLength<e)throw new Error(m(e,t.byteLength));return{done:!1,value:i.Message.decode(t)}},t}();e.MessageReader=Z;var p=function(){function Z(e,t){this.source=e instanceof u.AsyncByteStream?e:r.isFileHandle(e)?new a.AsyncRandomAccessFile(e,t):new u.AsyncByteStream(e)}return Z.prototype[Symbol.asyncIterator]=function(){return this},Z.prototype.next=function(){return t.__awaiter(this,void 0,void 0,(function(){var e,n;return t.__generator(this,(function(t){switch(t.label){case 0:return[4,this.readMetadataLength()];case 1:return(e=t.sent()).done?[2,o.ITERATOR_DONE]:(n=-1===e.value)?[4,this.readMetadataLength()]:[3,3];case 2:n=(e=t.sent()).done,t.label=3;case 3:return n?[2,o.ITERATOR_DONE]:[4,this.readMetadata(e.value)];case 4:return(e=t.sent()).done?[2,o.ITERATOR_DONE]:[2,e]}}))}))},Z.prototype.throw=function(e){return t.__awaiter(this,void 0,void 0,(function(){return t.__generator(this,(function(t){switch(t.label){case 0:return[4,this.source.throw(e)];case 1:return[2,t.sent()]}}))}))},Z.prototype.return=function(e){return t.__awaiter(this,void 0,void 0,(function(){return t.__generator(this,(function(t){switch(t.label){case 0:return[4,this.source.return(e)];case 1:return[2,t.sent()]}}))}))},Z.prototype.readMessage=function(e){return t.__awaiter(this,void 0,void 0,(function(){var n;return t.__generator(this,(function(t){switch(t.label){case 0:return[4,this.next()];case 1:if((n=t.sent()).done)return[2,null];if(null!=e&&n.value.headerType!==e)throw new Error(d(e));return[2,n.value]}}))}))},Z.prototype.readMessageBody=function(e){return t.__awaiter(this,void 0,void 0,(function(){var n,l;return t.__generator(this,(function(t){switch(t.label){case 0:return e<=0?[2,new Uint8Array(0)]:(l=c.toUint8Array,[4,this.source.read(e)]);case 1:if((n=l.apply(void 0,[t.sent()])).byteLength<e)throw new Error(b(e,n.byteLength));return[2,n.byteOffset%8==0&&n.byteOffset+n.byteLength<=n.buffer.byteLength?n:n.slice()]}}))}))},Z.prototype.readSchema=function(e){return void 0===e&&(e=!1),t.__awaiter(this,void 0,void 0,(function(){var l,i,r;return t.__generator(this,(function(t){switch(t.label){case 0:return l=n.MessageHeader.Schema,[4,this.readMessage(l)];case 1:if(i=t.sent(),r=null==i?void 0:i.header(),e&&!r)throw new Error(s(l));return[2,r]}}))}))},Z.prototype.readMetadataLength=function(){return t.__awaiter(this,void 0,void 0,(function(){var n,i,r;return t.__generator(this,(function(t){switch(t.label){case 0:return[4,this.source.read(e.PADDING)];case 1:return n=t.sent(),i=n&&new l(n),[2,{done:0===(r=(null==i?void 0:i.readInt32(0))||0),value:r}]}}))}))},Z.prototype.readMetadata=function(e){return t.__awaiter(this,void 0,void 0,(function(){var n;return t.__generator(this,(function(t){switch(t.label){case 0:return[4,this.source.read(e)];case 1:if(!(n=t.sent()))return[2,o.ITERATOR_DONE];if(n.byteLength<e)throw new Error(m(e,n.byteLength));return[2,{done:!1,value:i.Message.decode(n)}]}}))}))},Z}();e.AsyncMessageReader=p;var h=function(e){function l(t){var n=e.call(this,new Uint8Array(0))||this;return n._schema=!1,n._body=[],n._batchIndex=0,n._dictionaryIndex=0,n._json=t instanceof o.ArrowJSON?t:new o.ArrowJSON(t),n}return t.__extends(l,e),l.prototype.next=function(){var e=this._json;if(!this._schema)return this._schema=!0,{done:!1,value:i.Message.fromJSON(e.schema,n.MessageHeader.Schema)};if(this._dictionaryIndex<e.dictionaries.length){var t=e.dictionaries[this._dictionaryIndex++];return this._body=t.data.columns,{done:!1,value:i.Message.fromJSON(t,n.MessageHeader.DictionaryBatch)}}if(this._batchIndex<e.batches.length){t=e.batches[this._batchIndex++];return this._body=t.columns,{done:!1,value:i.Message.fromJSON(t,n.MessageHeader.RecordBatch)}}return this._body=[],o.ITERATOR_DONE},l.prototype.readMessageBody=function(e){return function e(n){return(n||[]).reduce((function(n,l){return t.__spread(n,l.VALIDITY&&[l.VALIDITY]||[],l.TYPE&&[l.TYPE]||[],l.OFFSET&&[l.OFFSET]||[],l.DATA&&[l.DATA]||[],e(l.children))}),[])}(this._body)},l.prototype.readMessage=function(e){var t;if((t=this.next()).done)return null;if(null!=e&&t.value.headerType!==e)throw new Error(d(e));return t.value},l.prototype.readSchema=function(){var e=n.MessageHeader.Schema,t=this.readMessage(e),l=null==t?void 0:t.header();if(!t||!l)throw new Error(s(e));return l},l}(Z);e.JSONMessageReader=h,e.PADDING=4,e.MAGIC_STR="ARROW1",e.MAGIC=new Uint8Array(e.MAGIC_STR.length);for(var y=0;y<e.MAGIC_STR.length;y+=1)e.MAGIC[y]=e.MAGIC_STR.charCodeAt(y);e.checkForMagicArrowString=function(t,n){void 0===n&&(n=0);for(var l=-1,i=e.MAGIC.length;++l<i;)if(e.MAGIC[l]!==t[n+l])return!1;return!0},e.magicLength=e.MAGIC.length,e.magicAndPadding=e.magicLength+e.PADDING,e.magicX2AndPadding=2*e.magicLength+e.PADDING}(zp);var Kh={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.compareTypes=e.compareFields=e.compareSchemas=e.instance=e.TypeComparator=void 0;var t=su.exports,n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return t.__extends(n,e),n.prototype.compareSchemas=function(e,t){return e===t||t instanceof e.constructor&&this.compareManyFields(e.fields,t.fields)},n.prototype.compareManyFields=function(e,t){var n=this;return e===t||Array.isArray(e)&&Array.isArray(t)&&e.length===t.length&&e.every((function(e,l){return n.compareFields(e,t[l])}))},n.prototype.compareFields=function(e,t){return e===t||t instanceof e.constructor&&e.name===t.name&&e.nullable===t.nullable&&this.visit(e.type,t.type)},n}(Um.Visitor);function l(e,t){return t instanceof e.constructor}function i(e,t){return e===t||l(e,t)}function r(e,t){return e===t||l(e,t)&&e.bitWidth===t.bitWidth&&e.isSigned===t.isSigned}function a(e,t){return e===t||l(e,t)&&e.precision===t.precision}function c(e,t){return e===t||l(e,t)&&e.unit===t.unit}function u(e,t){return e===t||l(e,t)&&e.unit===t.unit&&e.timezone===t.timezone}function o(e,t){return e===t||l(e,t)&&e.unit===t.unit&&e.bitWidth===t.bitWidth}function d(t,n){return t===n||l(t,n)&&t.mode===n.mode&&t.typeIds.every((function(e,t){return e===n.typeIds[t]}))&&e.instance.compareManyFields(t.children,n.children)}function s(e,t){return e===t||l(e,t)&&e.unit===t.unit}e.TypeComparator=n,n.prototype.visitNull=i,n.prototype.visitBool=i,n.prototype.visitInt=r,n.prototype.visitInt8=r,n.prototype.visitInt16=r,n.prototype.visitInt32=r,n.prototype.visitInt64=r,n.prototype.visitUint8=r,n.prototype.visitUint16=r,n.prototype.visitUint32=r,n.prototype.visitUint64=r,n.prototype.visitFloat=a,n.prototype.visitFloat16=a,n.prototype.visitFloat32=a,n.prototype.visitFloat64=a,n.prototype.visitUtf8=i,n.prototype.visitBinary=i,n.prototype.visitFixedSizeBinary=function(e,t){return e===t||l(e,t)&&e.byteWidth===t.byteWidth},n.prototype.visitDate=c,n.prototype.visitDateDay=c,n.prototype.visitDateMillisecond=c,n.prototype.visitTimestamp=u,n.prototype.visitTimestampSecond=u,n.prototype.visitTimestampMillisecond=u,n.prototype.visitTimestampMicrosecond=u,n.prototype.visitTimestampNanosecond=u,n.prototype.visitTime=o,n.prototype.visitTimeSecond=o,n.prototype.visitTimeMillisecond=o,n.prototype.visitTimeMicrosecond=o,n.prototype.visitTimeNanosecond=o,n.prototype.visitDecimal=i,n.prototype.visitList=function(t,n){return t===n||l(t,n)&&t.children.length===n.children.length&&e.instance.compareManyFields(t.children,n.children)},n.prototype.visitStruct=function(t,n){return t===n||l(t,n)&&t.children.length===n.children.length&&e.instance.compareManyFields(t.children,n.children)},n.prototype.visitUnion=d,n.prototype.visitDenseUnion=d,n.prototype.visitSparseUnion=d,n.prototype.visitDictionary=function(t,n){return t===n||l(t,n)&&t.id===n.id&&t.isOrdered===n.isOrdered&&e.instance.visit(t.indices,n.indices)&&e.instance.visit(t.dictionary,n.dictionary)},n.prototype.visitInterval=s,n.prototype.visitIntervalDayTime=s,n.prototype.visitIntervalYearMonth=s,n.prototype.visitFixedSizeList=function(t,n){return t===n||l(t,n)&&t.listSize===n.listSize&&t.children.length===n.children.length&&e.instance.compareManyFields(t.children,n.children)},n.prototype.visitMap=function(t,n){return t===n||l(t,n)&&t.keysSorted===n.keysSorted&&t.children.length===n.children.length&&e.instance.compareManyFields(t.children,n.children)},e.instance=new n,e.compareSchemas=function(t,n){return e.instance.compareSchemas(t,n)},e.compareFields=function(t,n){return e.instance.compareFields(t,n)},e.compareTypes=function(t,n){return e.instance.visit(t,n)}}(Kh);var Nh={};Object.defineProperty(Nh,"__esModule",{value:!0}),Nh.VectorAssembler=void 0;var kh=su.exports,Bh=_u,Fh=kZ,Th=mu,_h=zu,wh=sp,Ch=Qp,jh=qu,zh=function(e){function t(){var t=e.call(this)||this;return t._byteLength=0,t._nodes=[],t._buffers=[],t._bufferRegions=[],t}return kh.__extends(t,e),t.assemble=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var l=new t,i=wh.selectVectorChildrenArgs(Fh.RecordBatch,e),r=kh.__read(l.visitMany(i),1),a=r[0],c=void 0===a?l:a;return c},t.prototype.visit=function(t){if(!jh.DataType.isDictionary(t.type)){var n=t.data,l=t.length,i=t.nullCount;if(l>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");jh.DataType.isNull(t.type)||Qh.call(this,i<=0?new Uint8Array(0):_h.truncateBitmap(n.offset,l,n.nullBitmap)),this.nodes.push(new Ch.FieldNode(l,i))}return e.prototype.visit.call(this,t)},t.prototype.visitNull=function(e){return this},t.prototype.visitDictionary=function(e){return this.visit(e.indices)},Object.defineProperty(t.prototype,"nodes",{get:function(){return this._nodes},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"buffers",{get:function(){return this._buffers},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"byteLength",{get:function(){return this._byteLength},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bufferRegions",{get:function(){return this._bufferRegions},enumerable:!1,configurable:!0}),t}(Um.Visitor);function Qh(e){var t=e.byteLength+7&-8;return this.buffers.push(e),this.bufferRegions.push(new Ch.BufferRegion(this._byteLength,t)),this._byteLength+=t,this}function Mh(e){return Qh.call(this,e.values.subarray(0,e.length*e.stride))}function Ph(e){var t=e.length,n=e.values,l=e.valueOffsets,i=l[0],r=l[t],a=Math.min(r-i,n.byteLength-i);return Qh.call(this,Th.rebaseValueOffsets(-l[0],t,l)),Qh.call(this,n.subarray(i,i+a)),this}function Eh(e){var t=e.length,n=e.valueOffsets;return n&&Qh.call(this,Th.rebaseValueOffsets(n[0],t,n)),this.visit(e.getChildAt(0))}function Oh(e){return this.visitMany(e.type.children.map((function(t,n){return e.getChildAt(n)})).filter(Boolean))[0]}Nh.VectorAssembler=zh,zh.prototype.visitBool=function(e){var t;return e.nullCount>=e.length?Qh.call(this,new Uint8Array(0)):(t=e.values)instanceof Uint8Array?Qh.call(this,_h.truncateBitmap(e.offset,e.length,t)):Qh.call(this,_h.packBools(e))},zh.prototype.visitInt=Mh,zh.prototype.visitFloat=Mh,zh.prototype.visitUtf8=Ph,zh.prototype.visitBinary=Ph,zh.prototype.visitFixedSizeBinary=Mh,zh.prototype.visitDate=Mh,zh.prototype.visitTimestamp=Mh,zh.prototype.visitTime=Mh,zh.prototype.visitDecimal=Mh,zh.prototype.visitList=Eh,zh.prototype.visitStruct=Oh,zh.prototype.visitUnion=function(e){var t=e.type,n=e.length,l=e.typeIds,i=e.valueOffsets;if(Qh.call(this,l),t.mode===Bh.UnionMode.Sparse)return Oh.call(this,e);if(t.mode===Bh.UnionMode.Dense){if(e.offset<=0)return Qh.call(this,i),Oh.call(this,e);for(var r=l.reduce((function(e,t){return Math.max(e,t)}),l[0]),a=new Int32Array(r+1),c=new Int32Array(r+1).fill(-1),u=new Int32Array(n),o=Th.rebaseValueOffsets(-i[0],n,i),d=void 0,s=void 0,m=-1;++m<n;)-1===(s=c[d=l[m]])&&(s=c[d]=o[d]),u[m]=o[m]-s,++a[d];Qh.call(this,u);for(var b=void 0,Z=-1,p=t.children.length;++Z<p;)if(b=e.getChildAt(Z)){d=t.typeIds[Z];var h=Math.min(n,a[d]);this.visit(b.slice(c[d],h))}}return this},zh.prototype.visitInterval=Mh,zh.prototype.visitFixedSizeList=Eh,zh.prototype.visitMap=Eh;var Dh={};Object.defineProperty(Dh,"__esModule",{value:!0}),Dh.JSONTypeAssembler=void 0;var Ah=su.exports,qh=wu,$h=_u,ey=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ah.__extends(t,e),t.prototype.visit=function(t){return null==t?void 0:e.prototype.visit.call(this,t)},t.prototype.visitNull=function(e){var t=e.typeId;return{name:qh.Type[t].toLowerCase()}},t.prototype.visitInt=function(e){var t=e.typeId,n=e.bitWidth,l=e.isSigned;return{name:qh.Type[t].toLowerCase(),bitWidth:n,isSigned:l}},t.prototype.visitFloat=function(e){var t=e.typeId,n=e.precision;return{name:qh.Type[t].toLowerCase(),precision:$h.Precision[n]}},t.prototype.visitBinary=function(e){var t=e.typeId;return{name:qh.Type[t].toLowerCase()}},t.prototype.visitBool=function(e){var t=e.typeId;return{name:qh.Type[t].toLowerCase()}},t.prototype.visitUtf8=function(e){var t=e.typeId;return{name:qh.Type[t].toLowerCase()}},t.prototype.visitDecimal=function(e){var t=e.typeId,n=e.scale,l=e.precision;return{name:qh.Type[t].toLowerCase(),scale:n,precision:l}},t.prototype.visitDate=function(e){var t=e.typeId,n=e.unit;return{name:qh.Type[t].toLowerCase(),unit:$h.DateUnit[n]}},t.prototype.visitTime=function(e){var t=e.typeId,n=e.unit,l=e.bitWidth;return{name:qh.Type[t].toLowerCase(),unit:$h.TimeUnit[n],bitWidth:l}},t.prototype.visitTimestamp=function(e){var t=e.typeId,n=e.timezone,l=e.unit;return{name:qh.Type[t].toLowerCase(),unit:$h.TimeUnit[l],timezone:n}},t.prototype.visitInterval=function(e){var t=e.typeId,n=e.unit;return{name:qh.Type[t].toLowerCase(),unit:$h.IntervalUnit[n]}},t.prototype.visitList=function(e){var t=e.typeId;return{name:qh.Type[t].toLowerCase()}},t.prototype.visitStruct=function(e){var t=e.typeId;return{name:qh.Type[t].toLowerCase()}},t.prototype.visitUnion=function(e){var t=e.typeId,n=e.mode,l=e.typeIds;return{name:qh.Type[t].toLowerCase(),mode:$h.UnionMode[n],typeIds:Ah.__spread(l)}},t.prototype.visitDictionary=function(e){return this.visit(e.dictionary)},t.prototype.visitFixedSizeBinary=function(e){var t=e.typeId,n=e.byteWidth;return{name:qh.Type[t].toLowerCase(),byteWidth:n}},t.prototype.visitFixedSizeList=function(e){var t=e.typeId,n=e.listSize;return{name:qh.Type[t].toLowerCase(),listSize:n}},t.prototype.visitMap=function(e){var t=e.typeId,n=e.keysSorted;return{name:qh.Type[t].toLowerCase(),keysSorted:n}},t}(Um.Visitor);Dh.JSONTypeAssembler=ey;var ty={};Object.defineProperty(ty,"__esModule",{value:!0}),ty.JSONVectorAssembler=void 0;var ny=su.exports,ly=qd,iy=FZ,ry=Fu,ay=_u,cy=kZ,uy=_u,oy=zu,dy=sp,sy=qu,my=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ny.__extends(t,e),t.assemble=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(new t).visitMany(dy.selectColumnChildrenArgs(cy.RecordBatch,e))},t.prototype.visit=function(t){var n,l=t.data,i=t.name,r=t.length,a=l.offset,c=l.nullCount,u=l.nullBitmap,o=sy.DataType.isDictionary(t.type)?t.type.indices:t.type,d=Object.assign([],l.buffers,((n={})[ay.BufferType.VALIDITY]=void 0,n));return ny.__assign({name:i,count:r,VALIDITY:sy.DataType.isNull(o)?void 0:c<=0?Array.from({length:r},(function(){return 1})):ny.__spread(new oy.BitIterator(u,a,r,null,oy.getBit))},e.prototype.visit.call(this,ry.Vector.new(l.clone(o,a,r,0,d))))},t.prototype.visitNull=function(){return{}},t.prototype.visitBool=function(e){var t=e.values,n=e.offset,l=e.length;return{DATA:ny.__spread(new oy.BitIterator(t,n,l,null,oy.getBool))}},t.prototype.visitInt=function(e){return{DATA:e.type.bitWidth<64?ny.__spread(e.values):ny.__spread(Zy(e.values,2))}},t.prototype.visitFloat=function(e){return{DATA:ny.__spread(e.values)}},t.prototype.visitUtf8=function(e){return{DATA:ny.__spread(e),OFFSET:ny.__spread(e.valueOffsets)}},t.prototype.visitBinary=function(e){return{DATA:ny.__spread(by(e)),OFFSET:ny.__spread(e.valueOffsets)}},t.prototype.visitFixedSizeBinary=function(e){return{DATA:ny.__spread(by(e))}},t.prototype.visitDate=function(e){return{DATA:e.type.unit===uy.DateUnit.DAY?ny.__spread(e.values):ny.__spread(Zy(e.values,2))}},t.prototype.visitTimestamp=function(e){return{DATA:ny.__spread(Zy(e.values,2))}},t.prototype.visitTime=function(e){return{DATA:e.type.unit<uy.TimeUnit.MICROSECOND?ny.__spread(e.values):ny.__spread(Zy(e.values,2))}},t.prototype.visitDecimal=function(e){return{DATA:ny.__spread(Zy(e.values,4))}},t.prototype.visitList=function(e){var t=this;return{OFFSET:ny.__spread(e.valueOffsets),children:e.type.children.map((function(n,l){return t.visit(new iy.Column(n,[e.getChildAt(l)]))}))}},t.prototype.visitStruct=function(e){var t=this;return{children:e.type.children.map((function(n,l){return t.visit(new iy.Column(n,[e.getChildAt(l)]))}))}},t.prototype.visitUnion=function(e){var t=this;return{TYPE:ny.__spread(e.typeIds),OFFSET:e.type.mode===uy.UnionMode.Dense?ny.__spread(e.valueOffsets):void 0,children:e.type.children.map((function(n,l){return t.visit(new iy.Column(n,[e.getChildAt(l)]))}))}},t.prototype.visitInterval=function(e){return{DATA:ny.__spread(e.values)}},t.prototype.visitFixedSizeList=function(e){var t=this;return{children:e.type.children.map((function(n,l){return t.visit(new iy.Column(n,[e.getChildAt(l)]))}))}},t.prototype.visitMap=function(e){var t=this;return{OFFSET:ny.__spread(e.valueOffsets),children:e.type.children.map((function(n,l){return t.visit(new iy.Column(n,[e.getChildAt(l)]))}))}},t}(Um.Visitor);function by(e){var t,n,l,i,r;return ny.__generator(this,(function(a){switch(a.label){case 0:a.trys.push([0,5,6,7]),t=ny.__values(e),n=t.next(),a.label=1;case 1:return n.done?[3,4]:[4,n.value.reduce((function(e,t){return""+e+("0"+(255&t).toString(16)).slice(-2)}),"").toUpperCase()];case 2:a.sent(),a.label=3;case 3:return n=t.next(),[3,1];case 4:return[3,7];case 5:return l=a.sent(),i={error:l},[3,7];case 6:try{n&&!n.done&&(r=t.return)&&r.call(t)}finally{if(i)throw i.error}return[7];case 7:return[2]}}))}function Zy(e,t){var n,l;return ny.__generator(this,(function(i){switch(i.label){case 0:n=-1,l=e.length/t,i.label=1;case 1:return++n<l?[4,""+ly.BN.new(e.subarray((n+0)*t,(n+1)*t),!1)]:[3,4];case 2:i.sent(),i.label=3;case 3:return[3,1];case 4:return[2]}}))}ty.JSONVectorAssembler=my,Object.defineProperty(jp,"__esModule",{value:!0}),jp.RecordBatchJSONWriter=jp.RecordBatchFileWriter=jp.RecordBatchStreamWriter=jp.RecordBatchWriter=void 0;var py=su.exports,hy=BZ,yy=zp,fy=FZ,Vy=qu,Xy=Es,Wy=Qp,Gy=Qp,Ry=Kb,Sy=_u,vy=Kh,Ly=qb,Yy=Nh,Jy=Dh,xy=ty,gy=mu,Hy=kZ,Uy=fu,Iy=function(e){function t(t){var n=e.call(this)||this;return n._position=0,n._started=!1,n._sink=new Ly.AsyncByteQueue,n._schema=null,n._dictionaryBlocks=[],n._recordBatchBlocks=[],n._dictionaryDeltaOffsets=new Map,Uy.isObject(t)||(t={autoDestroy:!0,writeLegacyIpcFormat:!1}),n._autoDestroy="boolean"!=typeof t.autoDestroy||t.autoDestroy,n._writeLegacyIpcFormat="boolean"==typeof t.writeLegacyIpcFormat&&t.writeLegacyIpcFormat,n}return py.__extends(t,e),t.throughNode=function(e){throw new Error('"throughNode" not available in this environment')},t.throughDOM=function(e,t){throw new Error('"throughDOM" not available in this environment')},t.prototype.toString=function(e){return void 0===e&&(e=!1),this._sink.toString(e)},t.prototype.toUint8Array=function(e){return void 0===e&&(e=!1),this._sink.toUint8Array(e)},t.prototype.writeAll=function(e){var t=this;return Uy.isPromise(e)?e.then((function(e){return t.writeAll(e)})):Uy.isAsyncIterable(e)?Fy(this,e):By(this,e)},Object.defineProperty(t.prototype,"closed",{get:function(){return this._sink.closed},enumerable:!1,configurable:!0}),t.prototype[Symbol.asyncIterator]=function(){return this._sink[Symbol.asyncIterator]()},t.prototype.toDOMStream=function(e){return this._sink.toDOMStream(e)},t.prototype.toNodeStream=function(e){return this._sink.toNodeStream(e)},t.prototype.close=function(){return this.reset()._sink.close()},t.prototype.abort=function(e){return this.reset()._sink.abort(e)},t.prototype.finish=function(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this},t.prototype.reset=function(e,t){return void 0===e&&(e=this._sink),void 0===t&&(t=null),e===this._sink||e instanceof Ly.AsyncByteQueue?this._sink=e:(this._sink=new Ly.AsyncByteQueue,e&&Uy.isWritableDOMStream(e)?this.toDOMStream({type:"bytes"}).pipeTo(e):e&&Uy.isWritableNodeStream(e)&&this.toNodeStream({objectMode:!1}).pipe(e)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,t&&vy.compareSchemas(t,this._schema)||(null===t?(this._position=0,this._schema=null):(this._started=!0,this._schema=t,this._writeSchema(t))),this},t.prototype.write=function(e){var t=null;if(!this._sink)throw new Error("RecordBatchWriter is closed");if(null==e)return this.finish()&&void 0;if(e instanceof hy.Table&&!(t=e.schema))return this.finish()&&void 0;if(e instanceof Hy.RecordBatch&&!(t=e.schema))return this.finish()&&void 0;if(t&&!vy.compareSchemas(t,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,t)}e instanceof Hy.RecordBatch?e instanceof Hy._InternalEmptyPlaceholderRecordBatch||this._writeRecordBatch(e):e instanceof hy.Table?this.writeAll(e.chunks):Uy.isIterable(e)&&this.writeAll(e)},t.prototype._writeMessage=function(e,t){void 0===t&&(t=8);var n=t-1,l=Wy.Message.encode(e),i=l.byteLength,r=this._writeLegacyIpcFormat?4:8,a=i+r+n&~n,c=a-i-r;return e.headerType===Sy.MessageHeader.RecordBatch?this._recordBatchBlocks.push(new Ry.FileBlock(a,e.bodyLength,this._position)):e.headerType===Sy.MessageHeader.DictionaryBatch&&this._dictionaryBlocks.push(new Ry.FileBlock(a,e.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(a-r)),i>0&&this._write(l),this._writePadding(c)},t.prototype._write=function(e){if(this._started){var t=gy.toUint8Array(e);t&&t.byteLength>0&&(this._sink.write(t),this._position+=t.byteLength)}return this},t.prototype._writeSchema=function(e){return this._writeMessage(Wy.Message.from(e))},t.prototype._writeFooter=function(e){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))},t.prototype._writeMagic=function(){return this._write(yy.MAGIC)},t.prototype._writePadding=function(e){return e>0?this._write(new Uint8Array(e)):this},t.prototype._writeRecordBatch=function(e){var t=Yy.VectorAssembler.assemble(e),n=t.byteLength,l=t.nodes,i=t.bufferRegions,r=t.buffers,a=new Gy.RecordBatch(e.length,l,i),c=Wy.Message.from(a,n);return this._writeDictionaries(e)._writeMessage(c)._writeBodyBuffers(r)},t.prototype._writeDictionaryBatch=function(e,t,n){void 0===n&&(n=!1),this._dictionaryDeltaOffsets.set(t,e.length+(this._dictionaryDeltaOffsets.get(t)||0));var l=Yy.VectorAssembler.assemble(e),i=l.byteLength,r=l.nodes,a=l.bufferRegions,c=l.buffers,u=new Gy.RecordBatch(e.length,r,a),o=new Gy.DictionaryBatch(u,t,n),d=Wy.Message.from(o,i);return this._writeMessage(d)._writeBodyBuffers(c)},t.prototype._writeBodyBuffers=function(e){for(var t,n,l,i=-1,r=e.length;++i<r;)(t=e[i])&&(n=t.byteLength)>0&&(this._write(t),(l=(n+7&-8)-n)>0&&this._writePadding(l));return this},t.prototype._writeDictionaries=function(e){var t,n,l,i;try{for(var r=py.__values(e.dictionaries),a=r.next();!a.done;a=r.next()){var c=py.__read(a.value,2),u=c[0],o=c[1],d=this._dictionaryDeltaOffsets.get(u)||0;if(0===d||(o=o.slice(d)).length>0){var s="chunks"in o?o.chunks:[o];try{for(var m=(l=void 0,py.__values(s)),b=m.next();!b.done;b=m.next()){var Z=b.value;this._writeDictionaryBatch(Z,u,d>0),d+=Z.length}}catch(p){l={error:p}}finally{try{b&&!b.done&&(i=m.return)&&i.call(m)}finally{if(l)throw l.error}}}}}catch(h){t={error:h}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return this},t}(Vu.ReadableInterop);jp.RecordBatchWriter=Iy;var Ky=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return py.__extends(t,e),t.writeAll=function(e,n){var l=new t(n);return Uy.isPromise(e)?e.then((function(e){return l.writeAll(e)})):Uy.isAsyncIterable(e)?Fy(l,e):By(l,e)},t}(Iy);jp.RecordBatchStreamWriter=Ky;var Ny=function(e){function t(){var t=e.call(this)||this;return t._autoDestroy=!0,t}return py.__extends(t,e),t.writeAll=function(e){var n=new t;return Uy.isPromise(e)?e.then((function(e){return n.writeAll(e)})):Uy.isAsyncIterable(e)?Fy(n,e):By(n,e)},t.prototype._writeSchema=function(e){return this._writeMagic()._writePadding(2)},t.prototype._writeFooter=function(t){var n=Ry.Footer.encode(new Ry.Footer(t,Sy.MetadataVersion.V4,this._recordBatchBlocks,this._dictionaryBlocks));return e.prototype._writeFooter.call(this,t)._write(n)._write(Int32Array.of(n.byteLength))._writeMagic()},t}(Iy);jp.RecordBatchFileWriter=Ny;var ky=function(e){function t(){var t=e.call(this)||this;return t._autoDestroy=!0,t._recordBatches=[],t._dictionaries=[],t}return py.__extends(t,e),t.writeAll=function(e){return(new t).writeAll(e)},t.prototype._writeMessage=function(){return this},t.prototype._writeFooter=function(e){return this},t.prototype._writeSchema=function(e){return this._write('{\n  "schema": '+JSON.stringify({fields:e.fields.map(Ty)},null,2))},t.prototype._writeDictionaries=function(e){return e.dictionaries.size>0&&this._dictionaries.push(e),this},t.prototype._writeDictionaryBatch=function(e,t,n){return void 0===n&&(n=!1),this._dictionaryDeltaOffsets.set(t,e.length+(this._dictionaryDeltaOffsets.get(t)||0)),this._write(0===this._dictionaryBlocks.length?"    ":",\n    "),this._write(""+function(e,t,n){void 0===n&&(n=!1);var l=new Xy.Field(""+t,e.type,e.nullCount>0),i=xy.JSONVectorAssembler.assemble(new fy.Column(l,[e]));return JSON.stringify({id:t,isDelta:n,data:{count:e.length,columns:i}},null,2)}(e,t,n)),this._dictionaryBlocks.push(new Ry.FileBlock(0,0,0)),this},t.prototype._writeRecordBatch=function(e){return this._writeDictionaries(e),this._recordBatches.push(e),this},t.prototype.close=function(){var t,n,l;if(this._dictionaries.length>0){this._write(',\n  "dictionaries": [\n');try{for(var i=py.__values(this._dictionaries),r=i.next();!r.done;r=i.next()){var a=r.value;e.prototype._writeDictionaries.call(this,a)}}catch(o){t={error:o}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}this._write("\n  ]")}if(this._recordBatches.length>0){for(var c=-1,u=this._recordBatches.length;++c<u;)this._write(0===c?',\n  "batches": [\n    ':",\n    "),this._write(""+(l=this._recordBatches[c],JSON.stringify({count:l.length,columns:xy.JSONVectorAssembler.assemble(l)},null,2))),this._recordBatchBlocks.push(new Ry.FileBlock(0,0,0));this._write("\n  ]")}return this._schema&&this._write("\n}"),this._dictionaries=[],this._recordBatches=[],e.prototype.close.call(this)},t}(Iy);function By(e,t){var n,l,i=t;t instanceof hy.Table&&(i=t.chunks,e.reset(void 0,t.schema));try{for(var r=py.__values(i),a=r.next();!a.done;a=r.next()){var c=a.value;e.write(c)}}catch(u){n={error:u}}finally{try{a&&!a.done&&(l=r.return)&&l.call(r)}finally{if(n)throw n.error}}return e.finish()}function Fy(e,t){var n,l,i,r;return py.__awaiter(this,void 0,void 0,(function(){var a,c;return py.__generator(this,(function(u){switch(u.label){case 0:u.trys.push([0,5,6,11]),n=py.__asyncValues(t),u.label=1;case 1:return[4,n.next()];case 2:if((l=u.sent()).done)return[3,4];a=l.value,e.write(a),u.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return c=u.sent(),i={error:c},[3,11];case 6:return u.trys.push([6,,9,10]),l&&!l.done&&(r=n.return)?[4,r.call(n)]:[3,8];case 7:u.sent(),u.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return[2,e.finish()]}}))}))}function Ty(e){var t=e.name,n=e.type,l=e.nullable,i=new Jy.JSONTypeAssembler;return{name:t,nullable:l,type:i.visit(n),children:(n.children||[]).map(Ty),dictionary:Vy.DataType.isDictionary(n)?{id:n.id,isOrdered:n.isOrdered,indexType:i.visit(n.indices)}:void 0}}jp.RecordBatchJSONWriter=ky;var _y={};Object.defineProperty(_y,"__esModule",{value:!0}),_y.distributeVectorsIntoRecordBatches=_y.distributeColumnsIntoRecordBatches=_y.ensureSameLengthData=void 0;var wy=su.exports,Cy=ju,jy=Es,zy=TZ,Qy=kZ,My=new Uint8Array(0),Py=function(e){return[My,My,new Uint8Array(e),My]};function Ey(e,t){return function(e,t){var n,l=wy.__spread(e.fields),i=[],r={numBatches:t.reduce((function(e,t){return Math.max(e,t.length)}),0)},a=0,c=0,u=-1,o=t.length,d=[];for(;r.numBatches-- >0;){for(c=Number.POSITIVE_INFINITY,u=-1;++u<o;)d[u]=n=t[u].shift(),c=Math.min(c,n?n.length:c);isFinite(c)&&(d=Oy(l,c,d,t,r),c>0&&(i[a++]=[c,d.slice()]))}return[e=new jy.Schema(l,e.metadata),i.map((function(t){return new(Qy.RecordBatch.bind.apply(Qy.RecordBatch,wy.__spread([void 0,e],t)))}))]}(e,t.map((function(e){return e instanceof zy.Chunked?e.chunks.map((function(e){return e.data})):[e.data]})))}function Oy(e,t,n,l,i){for(var r,a,c=0,u=-1,o=l.length,d=(t+63&-64)>>3;++u<o;)(r=n[u])&&(c=r.length)>=t?c===t?n[u]=r:(n[u]=r.slice(0,t),r=r.slice(t,c-t),i.numBatches=Math.max(i.numBatches,l[u].unshift(r))):((a=e[u]).nullable||(e[u]=a.clone({nullable:!0})),n[u]=r?r._changeLengthAndBackfillNullBitmap(t):Cy.Data.new(a.type,0,t,t,Py(d)));return n}_y.ensureSameLengthData=function(e,t,n){var l,i;void 0===n&&(n=t.reduce((function(e,t){return Math.max(e,t.length)}),0));for(var r=-1,a=t.length,c=wy.__spread(e.fields),u=[],o=(n+63&-64)>>3;++r<a;)(l=t[r])&&l.length===n?u[r]=l:((i=c[r]).nullable||(c[r]=c[r].clone({nullable:!0})),u[r]=l?l._changeLengthAndBackfillNullBitmap(n):Cy.Data.new(i.type,0,n,n,Py(o)));return[new jy.Schema(c),n,u]},_y.distributeColumnsIntoRecordBatches=function(e){return Ey(new jy.Schema(e.map((function(e){return e.field}))),e)},_y.distributeVectorsIntoRecordBatches=Ey;var Dy={},Ay={};Object.defineProperty(Ay,"__esModule",{value:!0}),Ay.BaseVector=void 0;var qy=su.exports,$y=_u,ef=TZ,tf=_Z,nf=Fu,lf=function(e){function t(t,n){var l=e.call(this)||this;return l._children=n,l.numChildren=t.childData.length,l._bindDataAccessors(l.data=t),l}return qy.__extends(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return this.data.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"typeId",{get:function(){return this.data.typeId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this.data.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offset",{get:function(){return this.data.offset},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stride",{get:function(){return this.data.stride},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nullCount",{get:function(){return this.data.nullCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"byteLength",{get:function(){return this.data.byteLength},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"VectorName",{get:function(){return $y.Type[this.typeId]+"Vector"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ArrayType",{get:function(){return this.type.ArrayType},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"values",{get:function(){return this.data.values},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"typeIds",{get:function(){return this.data.typeIds},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nullBitmap",{get:function(){return this.data.nullBitmap},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"valueOffsets",{get:function(){return this.data.valueOffsets},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,Symbol.toStringTag,{get:function(){return this.VectorName+"<"+this.type[Symbol.toStringTag]+">"},enumerable:!1,configurable:!0}),t.prototype.clone=function(e,t){return void 0===t&&(t=this._children),nf.Vector.new(e,t)},t.prototype.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ef.Chunked.concat.apply(ef.Chunked,qy.__spread([this],e))},t.prototype.slice=function(e,t){return tf.clampRange(this,e,t,this._sliceInternal)},t.prototype.isValid=function(e){if(this.nullCount>0){var t=this.offset+e;return 0!==(this.nullBitmap[t>>3]&1<<t%8)}return!0},t.prototype.getChildAt=function(e){return e<0||e>=this.numChildren?null:(this._children||(this._children=[]))[e]||(this._children[e]=nf.Vector.new(this.data.childData[e]))},t.prototype.toJSON=function(){return qy.__spread(this)},t.prototype._sliceInternal=function(e,t,n){return e.clone(e.data.slice(t,n-t),null)},t.prototype._bindDataAccessors=function(e){},t}(nf.AbstractVector);Ay.BaseVector=lf,lf.prototype[Symbol.isConcatSpreadable]=!0;var rf={};Object.defineProperty(rf,"__esModule",{value:!0}),rf.BinaryVector=void 0;var af=su.exports,cf=Fu,uf=qu,of=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return af.__extends(t,e),t.prototype.asUtf8=function(){return cf.Vector.new(this.data.clone(new uf.Utf8))},t}(Ay.BaseVector);rf.BinaryVector=of;var df={};Object.defineProperty(df,"__esModule",{value:!0}),df.BoolVector=void 0;var sf=su.exports,mf=qu,bf=Dy,Zf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return sf.__extends(t,e),t.from=function(e){return bf.vectorFromValuesWithType((function(){return new mf.Bool}),e)},t}(Ay.BaseVector);df.BoolVector=Zf;var pf={};Object.defineProperty(pf,"__esModule",{value:!0}),pf.DateMillisecondVector=pf.DateDayVector=pf.DateVector=void 0;var hf=su.exports,yf=_u,ff=Dy,Vf=qu,Xf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return hf.__extends(t,e),t.from=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 2===e.length?ff.vectorFromValuesWithType((function(){return e[1]===yf.DateUnit.DAY?new Vf.DateDay:new Vf.DateMillisecond}),e[0]):ff.vectorFromValuesWithType((function(){return new Vf.DateMillisecond}),e[0])},t}(Ay.BaseVector);pf.DateVector=Xf;var Wf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return hf.__extends(t,e),t}(Xf);pf.DateDayVector=Wf;var Gf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return hf.__extends(t,e),t}(Xf);pf.DateMillisecondVector=Gf;var Rf={};Object.defineProperty(Rf,"__esModule",{value:!0}),Rf.DecimalVector=void 0;var Sf=su.exports,vf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Sf.__extends(t,e),t}(Ay.BaseVector);Rf.DecimalVector=vf;var Lf={};Object.defineProperty(Lf,"__esModule",{value:!0}),Lf.DictionaryVector=void 0;var Yf=su.exports,Jf=ju,xf=Fu,gf=Dy,Hf=qu,Uf=function(e){function t(t){var n=e.call(this,t)||this;return n.indices=xf.Vector.new(t.clone(n.type.indices)),n}return Yf.__extends(t,e),t.from=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(3===e.length){var n=Yf.__read(e,3),l=n[0],i=n[1],r=n[2],a=new Hf.Dictionary(l.type,i,null,null);return xf.Vector.new(Jf.Data.Dictionary(a,0,r.length,0,null,r,l))}return gf.vectorFromValuesWithType((function(){return e[0].type}),e[0])},Object.defineProperty(t.prototype,"dictionary",{get:function(){return this.data.dictionary},enumerable:!1,configurable:!0}),t.prototype.reverseLookup=function(e){return this.dictionary.indexOf(e)},t.prototype.getKey=function(e){return this.indices.get(e)},t.prototype.getValue=function(e){return this.dictionary.get(e)},t.prototype.setKey=function(e,t){return this.indices.set(e,t)},t.prototype.setValue=function(e,t){return this.dictionary.set(e,t)},t}(Ay.BaseVector);Lf.DictionaryVector=Uf,Uf.prototype.indices=null;var If={};Object.defineProperty(If,"__esModule",{value:!0}),If.FixedSizeBinaryVector=void 0;var Kf=su.exports,Nf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Kf.__extends(t,e),t}(Ay.BaseVector);If.FixedSizeBinaryVector=Nf;var kf={};Object.defineProperty(kf,"__esModule",{value:!0}),kf.FixedSizeListVector=void 0;var Bf=su.exports,Ff=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Bf.__extends(t,e),t}(Ay.BaseVector);kf.FixedSizeListVector=Ff;var Tf={};Object.defineProperty(Tf,"__esModule",{value:!0}),Tf.Float64Vector=Tf.Float32Vector=Tf.Float16Vector=Tf.FloatVector=void 0;var _f=su.exports,wf=ju,Cf=Fu,jf=Dy,zf=qu,Qf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return _f.__extends(t,e),t.from=function(e){var t=Af(this);if(e instanceof ArrayBuffer||ArrayBuffer.isView(e)){var n=Df(e.constructor)||t;if(null===t&&(t=n),t&&t===n){var l=new t,i=e.byteLength/l.ArrayType.BYTES_PER_ELEMENT;if(!Of(t,e.constructor))return Cf.Vector.new(wf.Data.Float(l,0,i,0,null,e))}}if(t)return jf.vectorFromValuesWithType((function(){return new t}),e);if(e instanceof DataView||e instanceof ArrayBuffer)throw new TypeError("Cannot infer float type from instance of "+e.constructor.name);throw new TypeError("Unrecognized FloatVector input")},t}(Ay.BaseVector);Tf.FloatVector=Qf;var Mf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return _f.__extends(t,e),t.prototype.toFloat32Array=function(){return new Float32Array(this)},t.prototype.toFloat64Array=function(){return new Float64Array(this)},t}(Qf);Tf.Float16Vector=Mf;var Pf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return _f.__extends(t,e),t}(Qf);Tf.Float32Vector=Pf;var Ef=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return _f.__extends(t,e),t}(Qf);Tf.Float64Vector=Ef;var Of=function(e,t){return e===zf.Float16&&t!==Uint16Array},Df=function(e){switch(e){case Uint16Array:return zf.Float16;case Float32Array:return zf.Float32;case Float64Array:return zf.Float64;default:return null}},Af=function(e){switch(e){case Mf:return zf.Float16;case Pf:return zf.Float32;case Ef:return zf.Float64;default:return null}},qf={};Object.defineProperty(qf,"__esModule",{value:!0}),qf.IntervalYearMonthVector=qf.IntervalDayTimeVector=qf.IntervalVector=void 0;var $f=su.exports,eV=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $f.__extends(t,e),t}(Ay.BaseVector);qf.IntervalVector=eV;var tV=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $f.__extends(t,e),t}(eV);qf.IntervalDayTimeVector=tV;var nV=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $f.__extends(t,e),t}(eV);qf.IntervalYearMonthVector=nV;var lV={};Object.defineProperty(lV,"__esModule",{value:!0}),lV.Uint64Vector=lV.Uint32Vector=lV.Uint16Vector=lV.Uint8Vector=lV.Int64Vector=lV.Int32Vector=lV.Int16Vector=lV.Int8Vector=lV.IntVector=void 0;var iV=su.exports,rV=ju,aV=Fu,cV=Dy,uV=fu,oV=mu,dV=qu,sV=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return iV.__extends(t,e),t.from=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=iV.__read(e,2),l=n[0],i=n[1],r=void 0!==i&&i,a=GV(this,r);if(l instanceof ArrayBuffer||ArrayBuffer.isView(l)){var c=WV(l.constructor,r)||a;if(null===a&&(a=c),a&&a===c){var u=new a,o=l.byteLength/u.ArrayType.BYTES_PER_ELEMENT;return XV(a,l.constructor)&&(o*=.5),aV.Vector.new(rV.Data.Int(u,0,o,0,null,l))}}if(a)return cV.vectorFromValuesWithType((function(){return new a}),l);if(l instanceof DataView||l instanceof ArrayBuffer)throw new TypeError("Cannot infer integer type from instance of "+l.constructor.name);throw new TypeError("Unrecognized IntVector input")},t}(Ay.BaseVector);lV.IntVector=sV;var mV=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return iV.__extends(t,e),t}(sV);lV.Int8Vector=mV;var bV=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return iV.__extends(t,e),t}(sV);lV.Int16Vector=bV;var ZV=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return iV.__extends(t,e),t}(sV);lV.Int32Vector=ZV;var pV=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return iV.__extends(t,e),t.prototype.toBigInt64Array=function(){return oV.toBigInt64Array(this.values)},Object.defineProperty(t.prototype,"values64",{get:function(){return this._values64||(this._values64=this.toBigInt64Array())},enumerable:!1,configurable:!0}),t}(sV);lV.Int64Vector=pV;var hV=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return iV.__extends(t,e),t}(sV);lV.Uint8Vector=hV;var yV=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return iV.__extends(t,e),t}(sV);lV.Uint16Vector=yV;var fV=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return iV.__extends(t,e),t}(sV);lV.Uint32Vector=fV;var VV=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return iV.__extends(t,e),t.prototype.toBigUint64Array=function(){return oV.toBigUint64Array(this.values)},Object.defineProperty(t.prototype,"values64",{get:function(){return this._values64||(this._values64=this.toBigUint64Array())},enumerable:!1,configurable:!0}),t}(sV);lV.Uint64Vector=VV;var XV=function(e,t){return!(e!==dV.Int64&&e!==dV.Uint64||t!==Int32Array&&t!==Uint32Array)},WV=function(e,t){switch(e){case Int8Array:return dV.Int8;case Int16Array:return dV.Int16;case Int32Array:return t?dV.Int64:dV.Int32;case uV.BigInt64Array:return dV.Int64;case Uint8Array:return dV.Uint8;case Uint16Array:return dV.Uint16;case Uint32Array:return t?dV.Uint64:dV.Uint32;case uV.BigUint64Array:return dV.Uint64;default:return null}},GV=function(e,t){switch(e){case mV:return dV.Int8;case bV:return dV.Int16;case ZV:return t?dV.Int64:dV.Int32;case pV:return dV.Int64;case hV:return dV.Uint8;case yV:return dV.Uint16;case fV:return t?dV.Uint64:dV.Uint32;case VV:return dV.Uint64;default:return null}},RV={};Object.defineProperty(RV,"__esModule",{value:!0}),RV.ListVector=void 0;var SV=su.exports,vV=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return SV.__extends(t,e),t}(Ay.BaseVector);RV.ListVector=vV;var LV={};Object.defineProperty(LV,"__esModule",{value:!0}),LV.MapVector=void 0;var YV=su.exports,JV=wZ,xV=Fu,gV=qu,HV=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return YV.__extends(t,e),t.prototype.asList=function(){var e=this.type.children[0];return xV.Vector.new(this.data.clone(new gV.List(e)))},t.prototype.bind=function(e){var t=this.getChildAt(0),n=this.valueOffsets,l=n[e],i=n[e+1];return new JV.MapRow(t.slice(l,i))},t}(Ay.BaseVector);LV.MapVector=HV;var UV={};Object.defineProperty(UV,"__esModule",{value:!0}),UV.NullVector=void 0;var IV=su.exports,KV=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return IV.__extends(t,e),t}(Ay.BaseVector);UV.NullVector=KV;var NV={};Object.defineProperty(NV,"__esModule",{value:!0}),NV.StructVector=void 0;var kV=su.exports,BV=wZ,FV=Ay,TV=Symbol.for("rowIndex"),_V=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return kV.__extends(t,e),t.prototype.bind=function(e){var t=this._row||(this._row=new BV.StructRow(this)),n=Object.create(t);return n[TV]=e,n},t}(FV.BaseVector);NV.StructVector=_V;var wV={};Object.defineProperty(wV,"__esModule",{value:!0}),wV.TimestampNanosecondVector=wV.TimestampMicrosecondVector=wV.TimestampMillisecondVector=wV.TimestampSecondVector=wV.TimestampVector=void 0;var CV=su.exports,jV=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return CV.__extends(t,e),t}(Ay.BaseVector);wV.TimestampVector=jV;var zV=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return CV.__extends(t,e),t}(jV);wV.TimestampSecondVector=zV;var QV=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return CV.__extends(t,e),t}(jV);wV.TimestampMillisecondVector=QV;var MV=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return CV.__extends(t,e),t}(jV);wV.TimestampMicrosecondVector=MV;var PV=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return CV.__extends(t,e),t}(jV);wV.TimestampNanosecondVector=PV;var EV={};Object.defineProperty(EV,"__esModule",{value:!0}),EV.TimeNanosecondVector=EV.TimeMicrosecondVector=EV.TimeMillisecondVector=EV.TimeSecondVector=EV.TimeVector=void 0;var OV=su.exports,DV=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return OV.__extends(t,e),t}(Ay.BaseVector);EV.TimeVector=DV;var AV=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return OV.__extends(t,e),t}(DV);EV.TimeSecondVector=AV;var qV=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return OV.__extends(t,e),t}(DV);EV.TimeMillisecondVector=qV;var $V=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return OV.__extends(t,e),t}(DV);EV.TimeMicrosecondVector=$V;var eX=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return OV.__extends(t,e),t}(DV);EV.TimeNanosecondVector=eX;var tX={};Object.defineProperty(tX,"__esModule",{value:!0}),tX.SparseUnionVector=tX.DenseUnionVector=tX.UnionVector=void 0;var nX=su.exports,lX=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nX.__extends(t,e),Object.defineProperty(t.prototype,"typeIdToChildIndex",{get:function(){return this.data.type.typeIdToChildIndex},enumerable:!1,configurable:!0}),t}(Ay.BaseVector);tX.UnionVector=lX;var iX=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nX.__extends(t,e),Object.defineProperty(t.prototype,"valueOffsets",{get:function(){return this.data.valueOffsets},enumerable:!1,configurable:!0}),t}(lX);tX.DenseUnionVector=iX;var rX=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nX.__extends(t,e),t}(lX);tX.SparseUnionVector=rX;var aX={};Object.defineProperty(aX,"__esModule",{value:!0}),aX.Utf8Vector=void 0;var cX=su.exports,uX=Fu,oX=qu,dX=Dy,sX=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return cX.__extends(t,e),t.from=function(e){return dX.vectorFromValuesWithType((function(){return new oX.Utf8}),e)},t.prototype.asBinary=function(){return uX.Vector.new(this.data.clone(new oX.Binary))},t}(Ay.BaseVector);aX.Utf8Vector=sX;var mX={};Object.defineProperty(mX,"__esModule",{value:!0}),mX.partial2=mX.partial1=mX.partial0=void 0,mX.partial0=function(e){return function(){return e(this)}},mX.partial1=function(e){return function(t){return e(this,t)}},mX.partial2=function(e){return function(t,n){return e(this,t,n)}};var bX={};Object.defineProperty(bX,"__esModule",{value:!0}),bX.instance=bX.GetVisitor=void 0;var ZX=su.exports,pX=qd,hX=pu,yX=Cd,fX=_u,VX=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ZX.__extends(t,e),t}(Um.Visitor);bX.GetVisitor=VX;var XX=function(e,t){return 4294967296*e[t+1]+(e[t]>>>0)},WX=function(e){return new Date(e)},GX=function(e,t,n){var l=t,i=l[n],r=l[n+1];return null!=i&&null!=r?e.subarray(i,r):null},RX=function(e,t){return function(e,t){return WX(function(e,t){return 864e5*e[t]}(e,t))}(e.values,t)},SX=function(e,t){return function(e,t){return WX(XX(e,t))}(e.values,2*t)},vX=function(e,t){var n=e.stride;return e.values[n*t]},LX=function(e,t){var n=e.stride,l=e.values;return yX.uint16ToFloat64(l[n*t])},YX=function(e,t){var n=e.stride,l=e.values,i=e.type;return pX.BN.new(l.subarray(n*t,n*(t+1)),i.isSigned)},JX=function(e,t){var n=e.values;return 1e3*XX(n,2*t)},xX=function(e,t){var n=e.values;return XX(n,2*t)},gX=function(e,t){return function(e,t){return e[t+1]/1e3*4294967296+(e[t]>>>0)/1e3}(e.values,2*t)},HX=function(e,t){return function(e,t){return e[t+1]/1e6*4294967296+(e[t]>>>0)/1e6}(e.values,2*t)},UX=function(e,t){return e.values[e.stride*t]},IX=function(e,t){return e.values[e.stride*t]},KX=function(e,t){var n=e.values;return pX.BN.signed(n.subarray(2*t,2*(t+1)))},NX=function(e,t){var n=e.values;return pX.BN.signed(n.subarray(2*t,2*(t+1)))},kX=function(e,t){var n=e.typeIdToChildIndex[e.typeIds[t]],l=e.getChildAt(n);return l?l.get(e.valueOffsets[t]):null},BX=function(e,t){var n=e.typeIdToChildIndex[e.typeIds[t]],l=e.getChildAt(n);return l?l.get(t):null},FX=function(e,t){return e.values.subarray(2*t,2*(t+1))},TX=function(e,t){var n=e.values[t],l=new Int32Array(2);return l[0]=n/12|0,l[1]=n%12|0,l};VX.prototype.visitNull=function(e,t){return null},VX.prototype.visitBool=function(e,t){var n=e.offset+t;return 0!=(e.values[n>>3]&1<<n%8)},VX.prototype.visitInt=function(e,t){return e.type.bitWidth<64?vX(e,t):YX(e,t)},VX.prototype.visitInt8=vX,VX.prototype.visitInt16=vX,VX.prototype.visitInt32=vX,VX.prototype.visitInt64=YX,VX.prototype.visitUint8=vX,VX.prototype.visitUint16=vX,VX.prototype.visitUint32=vX,VX.prototype.visitUint64=YX,VX.prototype.visitFloat=function(e,t){return e.type.precision!==fX.Precision.HALF?vX(e,t):LX(e,t)},VX.prototype.visitFloat16=LX,VX.prototype.visitFloat32=vX,VX.prototype.visitFloat64=vX,VX.prototype.visitUtf8=function(e,t){var n=e.values,l=e.valueOffsets,i=GX(n,l,t);return null!==i?hX.decodeUtf8(i):null},VX.prototype.visitBinary=function(e,t){var n=e.values,l=e.valueOffsets;return GX(n,l,t)},VX.prototype.visitFixedSizeBinary=function(e,t){var n=e.stride;return e.values.subarray(n*t,n*(t+1))},VX.prototype.visitDate=function(e,t){return e.type.unit===fX.DateUnit.DAY?RX(e,t):SX(e,t)},VX.prototype.visitDateDay=RX,VX.prototype.visitDateMillisecond=SX,VX.prototype.visitTimestamp=function(e,t){switch(e.type.unit){case fX.TimeUnit.SECOND:return JX(e,t);case fX.TimeUnit.MILLISECOND:return xX(e,t);case fX.TimeUnit.MICROSECOND:return gX(e,t);case fX.TimeUnit.NANOSECOND:return HX(e,t)}},VX.prototype.visitTimestampSecond=JX,VX.prototype.visitTimestampMillisecond=xX,VX.prototype.visitTimestampMicrosecond=gX,VX.prototype.visitTimestampNanosecond=HX,VX.prototype.visitTime=function(e,t){switch(e.type.unit){case fX.TimeUnit.SECOND:return UX(e,t);case fX.TimeUnit.MILLISECOND:return IX(e,t);case fX.TimeUnit.MICROSECOND:return KX(e,t);case fX.TimeUnit.NANOSECOND:return NX(e,t)}},VX.prototype.visitTimeSecond=UX,VX.prototype.visitTimeMillisecond=IX,VX.prototype.visitTimeMicrosecond=KX,VX.prototype.visitTimeNanosecond=NX,VX.prototype.visitDecimal=function(e,t){var n=e.values;return pX.BN.decimal(n.subarray(4*t,4*(t+1)))},VX.prototype.visitList=function(e,t){var n=e.getChildAt(0),l=e.valueOffsets,i=e.stride;return n.slice(l[t*i],l[t*i+1])},VX.prototype.visitStruct=function(e,t){return e.bind(t)},VX.prototype.visitUnion=function(e,t){return e.type.mode===fX.UnionMode.Dense?kX(e,t):BX(e,t)},VX.prototype.visitDenseUnion=kX,VX.prototype.visitSparseUnion=BX,VX.prototype.visitDictionary=function(e,t){return e.getValue(e.getKey(t))},VX.prototype.visitInterval=function(e,t){return e.type.unit===fX.IntervalUnit.DAY_TIME?FX(e,t):TX(e,t)},VX.prototype.visitIntervalDayTime=FX,VX.prototype.visitIntervalYearMonth=TX,VX.prototype.visitFixedSizeList=function(e,t){var n=e.getChildAt(0),l=e.stride;return n.slice(t*l,(t+1)*l)},VX.prototype.visitMap=function(e,t){return e.bind(t)},bX.instance=new VX;var _X={};Object.defineProperty(_X,"__esModule",{value:!0}),_X.instance=_X.IndexOfVisitor=void 0;var wX=su.exports,CX=zu,jX=_Z,zX=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return wX.__extends(t,e),t}(Um.Visitor);function QX(e,t,n){if(void 0===t)return-1;if(null===t)return function(e,t){var n,l,i=e.data.nullBitmap;if(!i||e.nullCount<=0)return-1;var r=0;try{for(var a=wX.__values(new CX.BitIterator(i,e.data.offset+(t||0),e.length,i,CX.getBool)),c=a.next();!c.done;c=a.next()){if(!c.value)return r;++r}}catch(u){n={error:u}}finally{try{c&&!c.done&&(l=a.return)&&l.call(a)}finally{if(n)throw n.error}}return-1}(e,n);for(var l=jX.createElementComparator(t),i=(n||0)-1,r=e.length;++i<r;)if(l(e.get(i)))return i;return-1}function MX(e,t,n){for(var l=jX.createElementComparator(t),i=(n||0)-1,r=e.length;++i<r;)if(l(e.get(i)))return i;return-1}_X.IndexOfVisitor=zX,zX.prototype.visitNull=function(e,t){return null===t&&e.length>0?0:-1},zX.prototype.visitBool=QX,zX.prototype.visitInt=QX,zX.prototype.visitInt8=QX,zX.prototype.visitInt16=QX,zX.prototype.visitInt32=QX,zX.prototype.visitInt64=QX,zX.prototype.visitUint8=QX,zX.prototype.visitUint16=QX,zX.prototype.visitUint32=QX,zX.prototype.visitUint64=QX,zX.prototype.visitFloat=QX,zX.prototype.visitFloat16=QX,zX.prototype.visitFloat32=QX,zX.prototype.visitFloat64=QX,zX.prototype.visitUtf8=QX,zX.prototype.visitBinary=QX,zX.prototype.visitFixedSizeBinary=QX,zX.prototype.visitDate=QX,zX.prototype.visitDateDay=QX,zX.prototype.visitDateMillisecond=QX,zX.prototype.visitTimestamp=QX,zX.prototype.visitTimestampSecond=QX,zX.prototype.visitTimestampMillisecond=QX,zX.prototype.visitTimestampMicrosecond=QX,zX.prototype.visitTimestampNanosecond=QX,zX.prototype.visitTime=QX,zX.prototype.visitTimeSecond=QX,zX.prototype.visitTimeMillisecond=QX,zX.prototype.visitTimeMicrosecond=QX,zX.prototype.visitTimeNanosecond=QX,zX.prototype.visitDecimal=QX,zX.prototype.visitList=QX,zX.prototype.visitStruct=QX,zX.prototype.visitUnion=QX,zX.prototype.visitDenseUnion=MX,zX.prototype.visitSparseUnion=MX,zX.prototype.visitDictionary=QX,zX.prototype.visitInterval=QX,zX.prototype.visitIntervalDayTime=QX,zX.prototype.visitIntervalYearMonth=QX,zX.prototype.visitFixedSizeList=QX,zX.prototype.visitMap=QX,_X.instance=new zX;var PX={},EX={};Object.defineProperty(EX,"__esModule",{value:!0}),EX.instance=EX.IteratorVisitor=void 0;var OX=su.exports,DX=_u,AX=zu,qX=bX,$X=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return OX.__extends(t,e),t}(Um.Visitor);EX.IteratorVisitor=$X;var eW=function(){function e(e,t){this.vector=e,this.getFn=t,this.index=0}return e.prototype.next=function(){return this.index<this.vector.length?{value:this.getFn(this.vector,this.index++)}:{done:!0,value:null}},e.prototype[Symbol.iterator]=function(){return this},e}();function tW(e){if(e.nullCount>0)return function(e){var t=qX.instance.getVisitFn(e);return new AX.BitIterator(e.data.nullBitmap,e.data.offset,e.length,e,(function(e,n,l,i){return 0!=(l&1<<i)?t(e,n):null}))}(e);var t=e.type,n=e.typeId,l=e.length;return 1===e.stride&&(n===DX.Type.Timestamp||n===DX.Type.Int&&64!==t.bitWidth||n===DX.Type.Time&&64!==t.bitWidth||n===DX.Type.Float&&t.precision>0)?e.data.values.subarray(0,l)[Symbol.iterator]():new eW(e,qX.instance.getVisitFn(e))}$X.prototype.visitNull=tW,$X.prototype.visitBool=tW,$X.prototype.visitInt=tW,$X.prototype.visitInt8=tW,$X.prototype.visitInt16=tW,$X.prototype.visitInt32=tW,$X.prototype.visitInt64=tW,$X.prototype.visitUint8=tW,$X.prototype.visitUint16=tW,$X.prototype.visitUint32=tW,$X.prototype.visitUint64=tW,$X.prototype.visitFloat=tW,$X.prototype.visitFloat16=tW,$X.prototype.visitFloat32=tW,$X.prototype.visitFloat64=tW,$X.prototype.visitUtf8=tW,$X.prototype.visitBinary=tW,$X.prototype.visitFixedSizeBinary=tW,$X.prototype.visitDate=tW,$X.prototype.visitDateDay=tW,$X.prototype.visitDateMillisecond=tW,$X.prototype.visitTimestamp=tW,$X.prototype.visitTimestampSecond=tW,$X.prototype.visitTimestampMillisecond=tW,$X.prototype.visitTimestampMicrosecond=tW,$X.prototype.visitTimestampNanosecond=tW,$X.prototype.visitTime=tW,$X.prototype.visitTimeSecond=tW,$X.prototype.visitTimeMillisecond=tW,$X.prototype.visitTimeMicrosecond=tW,$X.prototype.visitTimeNanosecond=tW,$X.prototype.visitDecimal=tW,$X.prototype.visitList=tW,$X.prototype.visitStruct=tW,$X.prototype.visitUnion=tW,$X.prototype.visitDenseUnion=tW,$X.prototype.visitSparseUnion=tW,$X.prototype.visitDictionary=tW,$X.prototype.visitInterval=tW,$X.prototype.visitIntervalDayTime=tW,$X.prototype.visitIntervalYearMonth=tW,$X.prototype.visitFixedSizeList=tW,$X.prototype.visitMap=tW,EX.instance=new $X,Object.defineProperty(PX,"__esModule",{value:!0}),PX.instance=PX.ToArrayVisitor=void 0;var nW=su.exports,lW=_u,iW=EX,rW=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nW.__extends(t,e),t}(Um.Visitor);function aW(e){var t=e.type,n=e.length,l=e.stride;switch(t.typeId){case lW.Type.Int:case lW.Type.Float:case lW.Type.Decimal:case lW.Type.Time:case lW.Type.Timestamp:return e.data.values.subarray(0,n*l)}return nW.__spread(iW.instance.visit(e))}PX.ToArrayVisitor=rW,rW.prototype.visitNull=aW,rW.prototype.visitBool=aW,rW.prototype.visitInt=aW,rW.prototype.visitInt8=aW,rW.prototype.visitInt16=aW,rW.prototype.visitInt32=aW,rW.prototype.visitInt64=aW,rW.prototype.visitUint8=aW,rW.prototype.visitUint16=aW,rW.prototype.visitUint32=aW,rW.prototype.visitUint64=aW,rW.prototype.visitFloat=aW,rW.prototype.visitFloat16=aW,rW.prototype.visitFloat32=aW,rW.prototype.visitFloat64=aW,rW.prototype.visitUtf8=aW,rW.prototype.visitBinary=aW,rW.prototype.visitFixedSizeBinary=aW,rW.prototype.visitDate=aW,rW.prototype.visitDateDay=aW,rW.prototype.visitDateMillisecond=aW,rW.prototype.visitTimestamp=aW,rW.prototype.visitTimestampSecond=aW,rW.prototype.visitTimestampMillisecond=aW,rW.prototype.visitTimestampMicrosecond=aW,rW.prototype.visitTimestampNanosecond=aW,rW.prototype.visitTime=aW,rW.prototype.visitTimeSecond=aW,rW.prototype.visitTimeMillisecond=aW,rW.prototype.visitTimeMicrosecond=aW,rW.prototype.visitTimeNanosecond=aW,rW.prototype.visitDecimal=aW,rW.prototype.visitList=aW,rW.prototype.visitStruct=aW,rW.prototype.visitUnion=aW,rW.prototype.visitDenseUnion=aW,rW.prototype.visitSparseUnion=aW,rW.prototype.visitDictionary=aW,rW.prototype.visitInterval=aW,rW.prototype.visitIntervalDayTime=aW,rW.prototype.visitIntervalYearMonth=aW,rW.prototype.visitFixedSizeList=aW,rW.prototype.visitMap=aW,PX.instance=new rW;var cW={};Object.defineProperty(cW,"__esModule",{value:!0}),cW.instance=cW.ByteWidthVisitor=void 0;var uW=su.exports,oW=_u,dW=function(e,t){return e+t},sW=function(e){return"Cannot compute the byte width of variable-width column "+e},mW=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return uW.__extends(t,e),t.prototype.visitNull=function(e){return 0},t.prototype.visitInt=function(e){return e.bitWidth/8},t.prototype.visitFloat=function(e){return e.ArrayType.BYTES_PER_ELEMENT},t.prototype.visitBinary=function(e){throw new Error(sW(e))},t.prototype.visitUtf8=function(e){throw new Error(sW(e))},t.prototype.visitBool=function(e){return 1/8},t.prototype.visitDecimal=function(e){return 16},t.prototype.visitDate=function(e){return 4*(e.unit+1)},t.prototype.visitTime=function(e){return e.bitWidth/8},t.prototype.visitTimestamp=function(e){return e.unit===oW.TimeUnit.SECOND?4:8},t.prototype.visitInterval=function(e){return 4*(e.unit+1)},t.prototype.visitList=function(e){throw new Error(sW(e))},t.prototype.visitStruct=function(e){return this.visitFields(e.children).reduce(dW,0)},t.prototype.visitUnion=function(e){return this.visitFields(e.children).reduce(dW,0)},t.prototype.visitFixedSizeBinary=function(e){return e.byteWidth},t.prototype.visitFixedSizeList=function(e){return e.listSize*this.visitFields(e.children).reduce(dW,0)},t.prototype.visitMap=function(e){return this.visitFields(e.children).reduce(dW,0)},t.prototype.visitDictionary=function(e){return this.visit(e.indices)},t.prototype.visitFields=function(e){var t=this;return(e||[]).map((function(e){return t.visit(e.type)}))},t.prototype.visitSchema=function(e){return this.visitFields(e.fields).reduce(dW,0)},t}(Um.Visitor);cW.ByteWidthVisitor=mW,cW.instance=new mW;var bW={};Object.defineProperty(bW,"__esModule",{value:!0}),bW.instance=bW.GetVectorConstructor=void 0;var ZW=su.exports,pW=rf,hW=df,yW=pf,fW=Rf,VW=Lf,XW=If,WW=kf,GW=Tf,RW=qf,SW=lV,vW=RV,LW=LV,YW=UV,JW=NV,xW=wV,gW=EV,HW=tX,UW=aX,IW=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ZW.__extends(t,e),t.prototype.visitNull=function(){return YW.NullVector},t.prototype.visitBool=function(){return hW.BoolVector},t.prototype.visitInt=function(){return SW.IntVector},t.prototype.visitInt8=function(){return SW.Int8Vector},t.prototype.visitInt16=function(){return SW.Int16Vector},t.prototype.visitInt32=function(){return SW.Int32Vector},t.prototype.visitInt64=function(){return SW.Int64Vector},t.prototype.visitUint8=function(){return SW.Uint8Vector},t.prototype.visitUint16=function(){return SW.Uint16Vector},t.prototype.visitUint32=function(){return SW.Uint32Vector},t.prototype.visitUint64=function(){return SW.Uint64Vector},t.prototype.visitFloat=function(){return GW.FloatVector},t.prototype.visitFloat16=function(){return GW.Float16Vector},t.prototype.visitFloat32=function(){return GW.Float32Vector},t.prototype.visitFloat64=function(){return GW.Float64Vector},t.prototype.visitUtf8=function(){return UW.Utf8Vector},t.prototype.visitBinary=function(){return pW.BinaryVector},t.prototype.visitFixedSizeBinary=function(){return XW.FixedSizeBinaryVector},t.prototype.visitDate=function(){return yW.DateVector},t.prototype.visitDateDay=function(){return yW.DateDayVector},t.prototype.visitDateMillisecond=function(){return yW.DateMillisecondVector},t.prototype.visitTimestamp=function(){return xW.TimestampVector},t.prototype.visitTimestampSecond=function(){return xW.TimestampSecondVector},t.prototype.visitTimestampMillisecond=function(){return xW.TimestampMillisecondVector},t.prototype.visitTimestampMicrosecond=function(){return xW.TimestampMicrosecondVector},t.prototype.visitTimestampNanosecond=function(){return xW.TimestampNanosecondVector},t.prototype.visitTime=function(){return gW.TimeVector},t.prototype.visitTimeSecond=function(){return gW.TimeSecondVector},t.prototype.visitTimeMillisecond=function(){return gW.TimeMillisecondVector},t.prototype.visitTimeMicrosecond=function(){return gW.TimeMicrosecondVector},t.prototype.visitTimeNanosecond=function(){return gW.TimeNanosecondVector},t.prototype.visitDecimal=function(){return fW.DecimalVector},t.prototype.visitList=function(){return vW.ListVector},t.prototype.visitStruct=function(){return JW.StructVector},t.prototype.visitUnion=function(){return HW.UnionVector},t.prototype.visitDenseUnion=function(){return HW.DenseUnionVector},t.prototype.visitSparseUnion=function(){return HW.SparseUnionVector},t.prototype.visitDictionary=function(){return VW.DictionaryVector},t.prototype.visitInterval=function(){return RW.IntervalVector},t.prototype.visitIntervalDayTime=function(){return RW.IntervalDayTimeVector},t.prototype.visitIntervalYearMonth=function(){return RW.IntervalYearMonthVector},t.prototype.visitFixedSizeList=function(){return WW.FixedSizeListVector},t.prototype.visitMap=function(){return LW.MapVector},t}(Um.Visitor);bW.GetVectorConstructor=IW,bW.instance=new IW,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.vectorFromValuesWithType=e.StructRow=e.MapRow=e.Utf8Vector=e.SparseUnionVector=e.DenseUnionVector=e.UnionVector=e.TimeNanosecondVector=e.TimeMicrosecondVector=e.TimeMillisecondVector=e.TimeSecondVector=e.TimeVector=e.TimestampNanosecondVector=e.TimestampMicrosecondVector=e.TimestampMillisecondVector=e.TimestampSecondVector=e.TimestampVector=e.StructVector=e.NullVector=e.MapVector=e.ListVector=e.Uint64Vector=e.Uint32Vector=e.Uint16Vector=e.Uint8Vector=e.Int64Vector=e.Int32Vector=e.Int16Vector=e.Int8Vector=e.IntVector=e.IntervalYearMonthVector=e.IntervalDayTimeVector=e.IntervalVector=e.Float64Vector=e.Float32Vector=e.Float16Vector=e.FloatVector=e.FixedSizeListVector=e.FixedSizeBinaryVector=e.DictionaryVector=e.DecimalVector=e.DateMillisecondVector=e.DateDayVector=e.DateVector=e.Chunked=e.BoolVector=e.BinaryVector=e.BaseVector=e.Vector=void 0;var t=su.exports,n=Fu;Object.defineProperty(e,"Vector",{enumerable:!0,get:function(){return n.Vector}});var l=Ay;Object.defineProperty(e,"BaseVector",{enumerable:!0,get:function(){return l.BaseVector}});var i=rf;Object.defineProperty(e,"BinaryVector",{enumerable:!0,get:function(){return i.BinaryVector}});var r=df;Object.defineProperty(e,"BoolVector",{enumerable:!0,get:function(){return r.BoolVector}});var a=TZ;Object.defineProperty(e,"Chunked",{enumerable:!0,get:function(){return a.Chunked}});var c=pf;Object.defineProperty(e,"DateVector",{enumerable:!0,get:function(){return c.DateVector}}),Object.defineProperty(e,"DateDayVector",{enumerable:!0,get:function(){return c.DateDayVector}}),Object.defineProperty(e,"DateMillisecondVector",{enumerable:!0,get:function(){return c.DateMillisecondVector}});var u=Rf;Object.defineProperty(e,"DecimalVector",{enumerable:!0,get:function(){return u.DecimalVector}});var o=Lf;Object.defineProperty(e,"DictionaryVector",{enumerable:!0,get:function(){return o.DictionaryVector}});var d=If;Object.defineProperty(e,"FixedSizeBinaryVector",{enumerable:!0,get:function(){return d.FixedSizeBinaryVector}});var s=kf;Object.defineProperty(e,"FixedSizeListVector",{enumerable:!0,get:function(){return s.FixedSizeListVector}});var m=Tf;Object.defineProperty(e,"FloatVector",{enumerable:!0,get:function(){return m.FloatVector}}),Object.defineProperty(e,"Float16Vector",{enumerable:!0,get:function(){return m.Float16Vector}}),Object.defineProperty(e,"Float32Vector",{enumerable:!0,get:function(){return m.Float32Vector}}),Object.defineProperty(e,"Float64Vector",{enumerable:!0,get:function(){return m.Float64Vector}});var b=qf;Object.defineProperty(e,"IntervalVector",{enumerable:!0,get:function(){return b.IntervalVector}}),Object.defineProperty(e,"IntervalDayTimeVector",{enumerable:!0,get:function(){return b.IntervalDayTimeVector}}),Object.defineProperty(e,"IntervalYearMonthVector",{enumerable:!0,get:function(){return b.IntervalYearMonthVector}});var Z=lV;Object.defineProperty(e,"IntVector",{enumerable:!0,get:function(){return Z.IntVector}}),Object.defineProperty(e,"Int8Vector",{enumerable:!0,get:function(){return Z.Int8Vector}}),Object.defineProperty(e,"Int16Vector",{enumerable:!0,get:function(){return Z.Int16Vector}}),Object.defineProperty(e,"Int32Vector",{enumerable:!0,get:function(){return Z.Int32Vector}}),Object.defineProperty(e,"Int64Vector",{enumerable:!0,get:function(){return Z.Int64Vector}}),Object.defineProperty(e,"Uint8Vector",{enumerable:!0,get:function(){return Z.Uint8Vector}}),Object.defineProperty(e,"Uint16Vector",{enumerable:!0,get:function(){return Z.Uint16Vector}}),Object.defineProperty(e,"Uint32Vector",{enumerable:!0,get:function(){return Z.Uint32Vector}}),Object.defineProperty(e,"Uint64Vector",{enumerable:!0,get:function(){return Z.Uint64Vector}});var p=RV;Object.defineProperty(e,"ListVector",{enumerable:!0,get:function(){return p.ListVector}});var h=LV;Object.defineProperty(e,"MapVector",{enumerable:!0,get:function(){return h.MapVector}});var y=UV;Object.defineProperty(e,"NullVector",{enumerable:!0,get:function(){return y.NullVector}});var f=NV;Object.defineProperty(e,"StructVector",{enumerable:!0,get:function(){return f.StructVector}});var V=wV;Object.defineProperty(e,"TimestampVector",{enumerable:!0,get:function(){return V.TimestampVector}}),Object.defineProperty(e,"TimestampSecondVector",{enumerable:!0,get:function(){return V.TimestampSecondVector}}),Object.defineProperty(e,"TimestampMillisecondVector",{enumerable:!0,get:function(){return V.TimestampMillisecondVector}}),Object.defineProperty(e,"TimestampMicrosecondVector",{enumerable:!0,get:function(){return V.TimestampMicrosecondVector}}),Object.defineProperty(e,"TimestampNanosecondVector",{enumerable:!0,get:function(){return V.TimestampNanosecondVector}});var X=EV;Object.defineProperty(e,"TimeVector",{enumerable:!0,get:function(){return X.TimeVector}}),Object.defineProperty(e,"TimeSecondVector",{enumerable:!0,get:function(){return X.TimeSecondVector}}),Object.defineProperty(e,"TimeMillisecondVector",{enumerable:!0,get:function(){return X.TimeMillisecondVector}}),Object.defineProperty(e,"TimeMicrosecondVector",{enumerable:!0,get:function(){return X.TimeMicrosecondVector}}),Object.defineProperty(e,"TimeNanosecondVector",{enumerable:!0,get:function(){return X.TimeNanosecondVector}});var W=tX;Object.defineProperty(e,"UnionVector",{enumerable:!0,get:function(){return W.UnionVector}}),Object.defineProperty(e,"DenseUnionVector",{enumerable:!0,get:function(){return W.DenseUnionVector}}),Object.defineProperty(e,"SparseUnionVector",{enumerable:!0,get:function(){return W.SparseUnionVector}});var G=aX;Object.defineProperty(e,"Utf8Vector",{enumerable:!0,get:function(){return G.Utf8Vector}});var R=wZ;Object.defineProperty(e,"MapRow",{enumerable:!0,get:function(){return R.MapRow}}),Object.defineProperty(e,"StructRow",{enumerable:!0,get:function(){return R.StructRow}});var S=mX,v=_u,L=Fu,Y=TZ,J=Ay,x=zu,g=fu,H=Bu,U=bX,I=Hm,K=_X,N=PX,k=EX,B=cW,F=bW;L.Vector.new=function(e){for(var n,l=[],i=1;i<arguments.length;i++)l[i-1]=arguments[i];return new((n=F.instance.getVisitFn(e)()).bind.apply(n,t.__spread([void 0,e],l)))},L.Vector.from=function(e){var n=this,l=t.__assign({nullValues:[null,void 0]},e),i=l.values,r=void 0===i?[]:i,a=t.__rest(l,["values"]);if(g.isIterable(r)){var c=t.__spread(H.Builder.throughIterable(a)(r));return 1===c.length?c[0]:Y.Chunked.concat(c)}return u=[],t.__awaiter(n,void 0,void 0,(function(){var e,n,l,i,c,o,d;return t.__generator(this,(function(s){switch(s.label){case 0:e=H.Builder.throughAsyncIterable(a),s.label=1;case 1:s.trys.push([1,6,7,12]),n=t.__asyncValues(e(r)),s.label=2;case 2:return[4,n.next()];case 3:if((l=s.sent()).done)return[3,5];i=l.value,u.push(i),s.label=4;case 4:return[3,2];case 5:return[3,12];case 6:return c=s.sent(),o={error:c},[3,12];case 7:return s.trys.push([7,,10,11]),l&&!l.done&&(d=n.return)?[4,d.call(n)]:[3,9];case 8:s.sent(),s.label=9;case 9:return[3,11];case 10:if(o)throw o.error;return[7];case 11:return[7];case 12:return[2,1===u.length?u[0]:Y.Chunked.concat(u)]}}))}));var u},e.vectorFromValuesWithType=function(e,n){if(g.isIterable(n))return L.Vector.from({nullValues:[null,void 0],type:e(),values:n});if(g.isAsyncIterable(n))return L.Vector.from({nullValues:[null,void 0],type:e(),values:n});var l=t.__assign({},n),i=l.values,r=void 0===i?[]:i,a=l.type,c=void 0===a?e():a,u=l.nullValues,o=void 0===u?[null,void 0]:u;return g.isIterable(r),L.Vector.from(t.__assign(t.__assign({nullValues:o},n),{type:c}))},J.BaseVector.prototype.get=function(e){return U.instance.visit(this,e)},J.BaseVector.prototype.set=function(e,t){return I.instance.visit(this,e,t)},J.BaseVector.prototype.indexOf=function(e,t){return K.instance.visit(this,e,t)},J.BaseVector.prototype.toArray=function(){return N.instance.visit(this)},J.BaseVector.prototype.getByteWidth=function(){return B.instance.visit(this.type)},J.BaseVector.prototype[Symbol.iterator]=function(){return k.instance.visit(this)},J.BaseVector.prototype._bindDataAccessors=function(){var e=this.nullBitmap;e&&e.byteLength>0&&(this.get=(t=this.get,function(e){return this.isValid(e)?t.call(this,e):null}),this.set=function(e){return function(t,n){x.setBool(this.nullBitmap,this.offset+t,!(null==n))&&e.call(this,t,n)}}(this.set));var t},Object.keys(v.Type).map((function(e){return v.Type[e]})).filter((function(e){return"number"==typeof e})).filter((function(e){return e!==v.Type.NONE})).forEach((function(e){var t,n=F.instance.visit(e);n.prototype.get=S.partial1(U.instance.getVisitFn(e)),n.prototype.set=S.partial2(I.instance.getVisitFn(e)),n.prototype.indexOf=S.partial2(K.instance.getVisitFn(e)),n.prototype.toArray=S.partial0(N.instance.getVisitFn(e)),n.prototype.getByteWidth=(t=B.instance.getVisitFn(e),function(){return t(this.type)}),n.prototype[Symbol.iterator]=S.partial0(k.instance.getVisitFn(e))}))}(Dy),Object.defineProperty(BZ,"__esModule",{value:!0}),BZ.Table=void 0;var KW=su.exports,NW=FZ,kW=Ib,BW=jp,FW=kZ,TW=Es,_W=qu,wW=sp,CW=fu,jW=_y,zW=Dy,QW=function(e){function t(){for(var n,l=[],i=0;i<arguments.length;i++)l[i]=arguments[i];var r=this,a=null;l[0]instanceof TW.Schema&&(a=l[0]);var c=l[0]instanceof t?l[0].chunks:wW.selectArgs(FW.RecordBatch,l);if(!a&&!(a=null===(n=c[0])||void 0===n?void 0:n.schema))throw new TypeError("Table must be initialized with a Schema or at least one RecordBatch");return c[0]||(c[0]=new FW._InternalEmptyPlaceholderRecordBatch(a)),(r=e.call(this,new _W.Struct(a.fields),c)||this)._schema=a,r._chunks=c,r}return KW.__extends(t,e),t.empty=function(e){return void 0===e&&(e=new TW.Schema([])),new t(e,[])},t.from=function(e){var n=this;if(!e)return t.empty();if("object"==typeof e){var l=CW.isIterable(e.values)?function(e){if(e.type instanceof _W.Struct)return QW.fromStruct(zW.StructVector.from(e));return null}(e):CW.isAsyncIterable(e.values)?function(e){if(e.type instanceof _W.Struct)return zW.StructVector.from(e).then((function(e){return QW.fromStruct(e)}));return null}(e):null;if(null!==l)return l}var i,r=kW.RecordBatchReader.from(e);return CW.isPromise(r)?KW.__awaiter(n,void 0,void 0,(function(){var e,n;return KW.__generator(this,(function(l){switch(l.label){case 0:return n=(e=t).from,[4,r];case 1:return[4,n.apply(e,[l.sent()])];case 2:return[2,l.sent()]}}))})):r.isSync()&&(r=r.open())?r.schema?new t(r.schema,KW.__spread(r)):t.empty():(i=r.open(),KW.__awaiter(n,void 0,void 0,(function(){var e,n,l,r,a,c,u,o,d;return KW.__generator(this,(function(s){switch(s.label){case 0:return[4,i];case 1:if(e=s.sent(),n=e.schema,l=[],!n)return[3,14];s.label=2;case 2:s.trys.push([2,7,8,13]),r=KW.__asyncValues(e),s.label=3;case 3:return[4,r.next()];case 4:if((a=s.sent()).done)return[3,6];c=a.value,l.push(c),s.label=5;case 5:return[3,3];case 6:return[3,13];case 7:return u=s.sent(),o={error:u},[3,13];case 8:return s.trys.push([8,,11,12]),a&&!a.done&&(d=r.return)?[4,d.call(r)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,12];case 11:if(o)throw o.error;return[7];case 12:return[7];case 13:return[2,new t(n,l)];case 14:return[2,t.empty()]}}))})))},t.fromAsync=function(e){return KW.__awaiter(this,void 0,void 0,(function(){return KW.__generator(this,(function(n){switch(n.label){case 0:return[4,t.from(e)];case 1:return[2,n.sent()]}}))}))},t.fromStruct=function(e){return t.new(e.data.childData,e.type.children)},t.new=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new(t.bind.apply(t,KW.__spread([void 0],jW.distributeColumnsIntoRecordBatches(wW.selectColumnArgs(e)))))},Object.defineProperty(t.prototype,"schema",{get:function(){return this._schema},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this._length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"chunks",{get:function(){return this._chunks},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"numCols",{get:function(){return this._numChildren},enumerable:!1,configurable:!0}),t.prototype.clone=function(e){return void 0===e&&(e=this._chunks),new t(this._schema,e)},t.prototype.getColumn=function(e){return this.getColumnAt(this.getColumnIndex(e))},t.prototype.getColumnAt=function(e){return this.getChildAt(e)},t.prototype.getColumnIndex=function(e){return this._schema.fields.findIndex((function(t){return t.name===e}))},t.prototype.getChildAt=function(e){if(e<0||e>=this.numChildren)return null;var t,n,l=this._schema.fields,i=this._children||(this._children=[]);if(n=i[e])return n;if(t=l[e]){var r=this._chunks.map((function(t){return t.getChildAt(e)})).filter((function(e){return null!=e}));if(r.length>0)return i[e]=new NW.Column(t,r)}return null},t.prototype.serialize=function(e,t){return void 0===t&&(t=!0),(t?BW.RecordBatchStreamWriter:BW.RecordBatchFileWriter).writeAll(this).toUint8Array(!0)},t.prototype.count=function(){return this._length},t.prototype.select=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this._schema.fields.reduce((function(e,t,n){return e.set(t.name,n)}),new Map);return this.selectAt.apply(this,KW.__spread(e.map((function(e){return n.get(e)})).filter((function(e){return e>-1}))))},t.prototype.selectAt=function(){for(var e,n=[],l=0;l<arguments.length;l++)n[l]=arguments[l];var i=(e=this._schema).selectAt.apply(e,KW.__spread(n));return new t(i,this._chunks.map((function(e){var t=e.length,l=e.data.childData;return new FW.RecordBatch(i,t,n.map((function(e){return l[e]})).filter(Boolean))})))},t.prototype.assign=function(e){var n=this,l=this._schema.fields,i=KW.__read(e.schema.fields.reduce((function(e,t,n){var i=KW.__read(e,2),r=i[0],a=i[1],c=l.findIndex((function(e){return e.name===t.name}));return~c?a[c]=n:r.push(n),e}),[[],[]]),2),r=i[0],a=i[1],c=this._schema.assign(e.schema),u=KW.__spread(l.map((function(t,l,i,r){return void 0===r&&(r=a[l]),void 0===r?n.getColumnAt(l):e.getColumnAt(r)})),r.map((function(t){return e.getColumnAt(t)}))).filter(Boolean);return new(t.bind.apply(t,KW.__spread([void 0],jW.distributeVectorsIntoRecordBatches(c,u))))},t}(zW.Chunked);BZ.Table=QW,Object.defineProperty(kZ,"__esModule",{value:!0}),kZ._InternalEmptyPlaceholderRecordBatch=kZ.RecordBatch=void 0;var MW=su.exports,PW=ju,EW=BZ,OW=Fu,DW=Um,AW=Es,qW=fu,$W=TZ,eG=sp,tG=qu,nG=_y,lG=function(e){function t(){for(var t,n=[],l=0;l<arguments.length;l++)n[l]=arguments[l];var i,r,a=this,c=n[0];if(n[1]instanceof PW.Data)i=(t=MW.__read(n,3))[1],r=t[2];else{var u=c.fields,o=MW.__read(n,3),d=o[1],s=o[2];i=PW.Data.Struct(new tG.Struct(u),0,d,0,null,s)}return(a=e.call(this,i,r)||this)._schema=c,a}return MW.__extends(t,e),t.from=function(e){return qW.isIterable(e.values),EW.Table.from(e)},t.new=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var l=MW.__read(eG.selectFieldArgs(e),2),i=l[0],r=l[1],a=r.filter((function(e){return e instanceof OW.Vector}));return new(t.bind.apply(t,MW.__spread([void 0],nG.ensureSameLengthData(new AW.Schema(i),a.map((function(e){return e.data}))))))},t.prototype.clone=function(e,n){return void 0===n&&(n=this._children),new t(this._schema,e,n)},t.prototype.concat=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var l=this._schema,i=$W.Chunked.flatten.apply($W.Chunked,MW.__spread([this],e));return new EW.Table(l,i.map((function(e){var n=e.data;return new t(l,n)})))},Object.defineProperty(t.prototype,"schema",{get:function(){return this._schema},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"numCols",{get:function(){return this._schema.fields.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dictionaries",{get:function(){return this._dictionaries||(this._dictionaries=rG.collect(this))},enumerable:!1,configurable:!0}),t.prototype.select=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this._schema.fields.reduce((function(e,t,n){return e.set(t.name,n)}),new Map);return this.selectAt.apply(this,MW.__spread(e.map((function(e){return n.get(e)})).filter((function(e){return e>-1}))))},t.prototype.selectAt=function(){for(var e,n=this,l=[],i=0;i<arguments.length;i++)l[i]=arguments[i];var r=(e=this._schema).selectAt.apply(e,MW.__spread(l)),a=l.map((function(e){return n.data.childData[e]})).filter(Boolean);return new t(r,this.length,a)},t}(Dy.StructVector);kZ.RecordBatch=lG;var iG=function(e){function t(t){return e.call(this,t,0,t.fields.map((function(e){return PW.Data.new(e.type,0,0,0)})))||this}return MW.__extends(t,e),t}(lG);kZ._InternalEmptyPlaceholderRecordBatch=iG;var rG=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dictionaries=new Map,t}return MW.__extends(t,e),t.collect=function(e){return(new t).visit(e.data,new tG.Struct(e.schema.fields)).dictionaries},t.prototype.visit=function(e,t){var n=this;return tG.DataType.isDictionary(t)?this.visitDictionary(e,t):(e.childData.forEach((function(e,l){return n.visit(e,t.children[l].type)})),this)},t.prototype.visitDictionary=function(e,t){var n=e.dictionary;return n&&n.length>0&&this.dictionaries.set(t.id,n),this},t}(DW.Visitor);Object.defineProperty(Ib,"__esModule",{value:!0}),Ib.AsyncRecordBatchFileReader=Ib.RecordBatchFileReader=Ib.AsyncRecordBatchStreamReader=Ib.RecordBatchStreamReader=Ib.RecordBatchReader=void 0;var aG=su.exports,cG=Fu,uG=_u,oG=Kb,dG=du,sG=qb,mG=dZ,bG=hZ,ZG=kZ,pG=Vu,hG=zp,yG=fu,fG=function(e){function t(t){var n=e.call(this)||this;return n._impl=t,n}return aG.__extends(t,e),Object.defineProperty(t.prototype,"closed",{get:function(){return this._impl.closed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return this._impl.schema},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"autoDestroy",{get:function(){return this._impl.autoDestroy},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dictionaries",{get:function(){return this._impl.dictionaries},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"numDictionaries",{get:function(){return this._impl.numDictionaries},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"numRecordBatches",{get:function(){return this._impl.numRecordBatches},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"footer",{get:function(){return this._impl.isFile()?this._impl.footer:null},enumerable:!1,configurable:!0}),t.prototype.isSync=function(){return this._impl.isSync()},t.prototype.isAsync=function(){return this._impl.isAsync()},t.prototype.isFile=function(){return this._impl.isFile()},t.prototype.isStream=function(){return this._impl.isStream()},t.prototype.next=function(){return this._impl.next()},t.prototype.throw=function(e){return this._impl.throw(e)},t.prototype.return=function(e){return this._impl.return(e)},t.prototype.cancel=function(){return this._impl.cancel()},t.prototype.reset=function(e){return this._impl.reset(e),this._DOMStream=void 0,this._nodeStream=void 0,this},t.prototype.open=function(e){var t=this,n=this._impl.open(e);return yG.isPromise(n)?n.then((function(){return t})):this},t.prototype.readRecordBatch=function(e){return this._impl.isFile()?this._impl.readRecordBatch(e):null},t.prototype[Symbol.iterator]=function(){return this._impl[Symbol.iterator]()},t.prototype[Symbol.asyncIterator]=function(){return this._impl[Symbol.asyncIterator]()},t.prototype.toDOMStream=function(){var e,t,n=this;return dG.default.toDOMStream(this.isSync()?((e={})[Symbol.iterator]=function(){return n},e):((t={})[Symbol.asyncIterator]=function(){return n},t))},t.prototype.toNodeStream=function(){var e,t,n=this;return dG.default.toNodeStream(this.isSync()?((e={})[Symbol.iterator]=function(){return n},e):((t={})[Symbol.asyncIterator]=function(){return n},t),{objectMode:!0})},t.throughNode=function(e){throw new Error('"throughNode" not available in this environment')},t.throughDOM=function(e,t){throw new Error('"throughDOM" not available in this environment')},t.from=function(e){var n=this;return e instanceof t?e:yG.isArrowJSON(e)?function(e){return new VG(new JG(e))}(e):yG.isFileHandle(e)?function(e){return aG.__awaiter(this,void 0,void 0,(function(){var t,n,l;return aG.__generator(this,(function(i){switch(i.label){case 0:return[4,e.stat()];case 1:return t=i.sent().size,n=new mG.AsyncRandomAccessFile(e,t),t>=hG.magicX2AndPadding?(l=hG.checkForMagicArrowString,[4,n.readAt(0,hG.magicLength+7&-8)]):[3,3];case 2:if(l.apply(void 0,[i.sent()]))return[2,new GG(new YG(n))];i.label=3;case 3:return[2,new XG(new vG(n))]}}))}))}(e):yG.isPromise(e)?aG.__awaiter(n,void 0,void 0,(function(){var n,l;return aG.__generator(this,(function(i){switch(i.label){case 0:return l=(n=t).from,[4,e];case 1:return[4,l.apply(n,[i.sent()])];case 2:return[2,i.sent()]}}))})):yG.isFetchResponse(e)||yG.isReadableDOMStream(e)||yG.isReadableNodeStream(e)||yG.isAsyncIterable(e)?function(e){return aG.__awaiter(this,void 0,void 0,(function(){var t,n,l,i,r;return aG.__generator(this,(function(a){switch(a.label){case 0:return[4,e.peek(hG.magicLength+7&-8)];case 1:return(t=a.sent())&&t.byteLength>=4?hG.checkForMagicArrowString(t)?[3,2]:(l=new XG(new vG(e)),[3,4]):[3,5];case 2:return i=WG.bind,r=LG.bind,[4,e.read()];case 3:l=new(i.apply(WG,[void 0,new(r.apply(LG,[void 0,a.sent()]))])),a.label=4;case 4:return n=l,[3,6];case 5:n=new XG(new vG(function(){return aG.__asyncGenerator(this,arguments,(function(){return aG.__generator(this,(function(e){return[2]}))}))}())),a.label=6;case 6:return[2,n]}}))}))}(new sG.AsyncByteStream(e)):function(e){var t=e.peek(hG.magicLength+7&-8);return t&&t.byteLength>=4?hG.checkForMagicArrowString(t)?new WG(new LG(e.read())):new VG(new SG(e)):new VG(new SG(function(){return aG.__generator(this,(function(e){return[2]}))}()))}(new sG.ByteStream(e))},t.readAll=function(e){return e instanceof t?e.isSync()?gG(e):HG(e):yG.isArrowJSON(e)||ArrayBuffer.isView(e)||yG.isIterable(e)||yG.isIteratorResult(e)?gG(e):HG(e)},t}(pG.ReadableInterop);Ib.RecordBatchReader=fG;var VG=function(e){function t(t){var n=e.call(this,t)||this;return n._impl=t,n}return aG.__extends(t,e),t.prototype[Symbol.iterator]=function(){return this._impl[Symbol.iterator]()},t.prototype[Symbol.asyncIterator]=function(){return aG.__asyncGenerator(this,arguments,(function(){return aG.__generator(this,(function(e){switch(e.label){case 0:return[5,aG.__values(aG.__asyncDelegator(aG.__asyncValues(this[Symbol.iterator]())))];case 1:return[4,aG.__await.apply(void 0,[e.sent()])];case 2:return e.sent(),[2]}}))}))},t}(fG);Ib.RecordBatchStreamReader=VG;var XG=function(e){function t(t){var n=e.call(this,t)||this;return n._impl=t,n}return aG.__extends(t,e),t.prototype[Symbol.iterator]=function(){throw new Error("AsyncRecordBatchStreamReader is not Iterable")},t.prototype[Symbol.asyncIterator]=function(){return this._impl[Symbol.asyncIterator]()},t}(fG);Ib.AsyncRecordBatchStreamReader=XG;var WG=function(e){function t(t){var n=e.call(this,t)||this;return n._impl=t,n}return aG.__extends(t,e),t}(VG);Ib.RecordBatchFileReader=WG;var GG=function(e){function t(t){var n=e.call(this,t)||this;return n._impl=t,n}return aG.__extends(t,e),t}(XG);Ib.AsyncRecordBatchFileReader=GG;var RG=function(){function e(e){void 0===e&&(e=new Map),this.closed=!1,this.autoDestroy=!0,this._dictionaryIndex=0,this._recordBatchIndex=0,this.dictionaries=e}return Object.defineProperty(e.prototype,"numDictionaries",{get:function(){return this._dictionaryIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"numRecordBatches",{get:function(){return this._recordBatchIndex},enumerable:!1,configurable:!0}),e.prototype.isSync=function(){return!1},e.prototype.isAsync=function(){return!1},e.prototype.isFile=function(){return!1},e.prototype.isStream=function(){return!1},e.prototype.reset=function(e){return this._dictionaryIndex=0,this._recordBatchIndex=0,this.schema=e,this.dictionaries=new Map,this},e.prototype._loadRecordBatch=function(e,t){return new ZG.RecordBatch(this.schema,e.length,this._loadVectors(e,t,this.schema.fields))},e.prototype._loadDictionaryBatch=function(e,t){var n=e.id,l=e.isDelta,i=e.data,r=this.dictionaries,a=this.schema,c=r.get(n);if(l||!c){var u=a.dictionaries.get(n);return c&&l?c.concat(cG.Vector.new(this._loadVectors(i,t,[u])[0])):cG.Vector.new(this._loadVectors(i,t,[u])[0])}return c},e.prototype._loadVectors=function(e,t,n){return new bG.VectorLoader(t,e.nodes,e.buffers,this.dictionaries).visitMany(n)},e}(),SG=function(e){function t(t,n){var l=e.call(this,n)||this;return l._reader=yG.isArrowJSON(t)?new hG.JSONMessageReader(l._handle=t):new hG.MessageReader(l._handle=t),l}return aG.__extends(t,e),t.prototype.isSync=function(){return!0},t.prototype.isStream=function(){return!0},t.prototype[Symbol.iterator]=function(){return this},t.prototype.cancel=function(){!this.closed&&(this.closed=!0)&&(this.reset()._reader.return(),this._reader=null,this.dictionaries=null)},t.prototype.open=function(e){return this.closed||(this.autoDestroy=xG(this,e),this.schema||(this.schema=this._reader.readSchema())||this.cancel()),this},t.prototype.throw=function(e){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.throw(e):pG.ITERATOR_DONE},t.prototype.return=function(e){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.return(e):pG.ITERATOR_DONE},t.prototype.next=function(){if(this.closed)return pG.ITERATOR_DONE;for(var e,t=this._reader;e=this._readNextMessageAndValidate();)if(e.isSchema())this.reset(e.header());else{if(e.isRecordBatch()){this._recordBatchIndex++;var n=e.header(),l=t.readMessageBody(e.bodyLength);return{done:!1,value:this._loadRecordBatch(n,l)}}if(e.isDictionaryBatch()){this._dictionaryIndex++;n=e.header(),l=t.readMessageBody(e.bodyLength);var i=this._loadDictionaryBatch(n,l);this.dictionaries.set(n.id,i)}}return this.schema&&0===this._recordBatchIndex?(this._recordBatchIndex++,{done:!1,value:new ZG._InternalEmptyPlaceholderRecordBatch(this.schema)}):this.return()},t.prototype._readNextMessageAndValidate=function(e){return this._reader.readMessage(e)},t}(RG),vG=function(e){function t(t,n){var l=e.call(this,n)||this;return l._reader=new hG.AsyncMessageReader(l._handle=t),l}return aG.__extends(t,e),t.prototype.isAsync=function(){return!0},t.prototype.isStream=function(){return!0},t.prototype[Symbol.asyncIterator]=function(){return this},t.prototype.cancel=function(){return aG.__awaiter(this,void 0,void 0,(function(){return aG.__generator(this,(function(e){switch(e.label){case 0:return this.closed||!(this.closed=!0)?[3,2]:[4,this.reset()._reader.return()];case 1:e.sent(),this._reader=null,this.dictionaries=null,e.label=2;case 2:return[2]}}))}))},t.prototype.open=function(e){return aG.__awaiter(this,void 0,void 0,(function(){var t,n;return aG.__generator(this,(function(l){switch(l.label){case 0:return this.closed?[3,4]:(this.autoDestroy=xG(this,e),(t=this.schema)?[3,2]:(n=this,[4,this._reader.readSchema()]));case 1:t=n.schema=l.sent(),l.label=2;case 2:return t?[3,4]:[4,this.cancel()];case 3:l.sent(),l.label=4;case 4:return[2,this]}}))}))},t.prototype.throw=function(e){return aG.__awaiter(this,void 0,void 0,(function(){return aG.__generator(this,(function(t){switch(t.label){case 0:return!this.closed&&this.autoDestroy&&(this.closed=!0)?[4,this.reset()._reader.throw(e)]:[3,2];case 1:return[2,t.sent()];case 2:return[2,pG.ITERATOR_DONE]}}))}))},t.prototype.return=function(e){return aG.__awaiter(this,void 0,void 0,(function(){return aG.__generator(this,(function(t){switch(t.label){case 0:return!this.closed&&this.autoDestroy&&(this.closed=!0)?[4,this.reset()._reader.return(e)]:[3,2];case 1:return[2,t.sent()];case 2:return[2,pG.ITERATOR_DONE]}}))}))},t.prototype.next=function(){return aG.__awaiter(this,void 0,void 0,(function(){var e,t,n,l,i;return aG.__generator(this,(function(r){switch(r.label){case 0:if(this.closed)return[2,pG.ITERATOR_DONE];t=this._reader,r.label=1;case 1:return[4,this._readNextMessageAndValidate()];case 2:return(e=r.sent())?e.isSchema()?[4,this.reset(e.header())]:[3,4]:[3,9];case 3:return r.sent(),[3,8];case 4:return e.isRecordBatch()?(this._recordBatchIndex++,n=e.header(),[4,t.readMessageBody(e.bodyLength)]):[3,6];case 5:return l=r.sent(),[2,{done:!1,value:this._loadRecordBatch(n,l)}];case 6:return e.isDictionaryBatch()?(this._dictionaryIndex++,n=e.header(),[4,t.readMessageBody(e.bodyLength)]):[3,8];case 7:l=r.sent(),i=this._loadDictionaryBatch(n,l),this.dictionaries.set(n.id,i),r.label=8;case 8:return[3,1];case 9:return this.schema&&0===this._recordBatchIndex?(this._recordBatchIndex++,[2,{done:!1,value:new ZG._InternalEmptyPlaceholderRecordBatch(this.schema)}]):[4,this.return()];case 10:return[2,r.sent()]}}))}))},t.prototype._readNextMessageAndValidate=function(e){return aG.__awaiter(this,void 0,void 0,(function(){return aG.__generator(this,(function(t){switch(t.label){case 0:return[4,this._reader.readMessage(e)];case 1:return[2,t.sent()]}}))}))},t}(RG),LG=function(e){function t(t,n){return e.call(this,t instanceof mG.RandomAccessFile?t:new mG.RandomAccessFile(t),n)||this}return aG.__extends(t,e),Object.defineProperty(t.prototype,"footer",{get:function(){return this._footer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"numDictionaries",{get:function(){return this._footer?this._footer.numDictionaries:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"numRecordBatches",{get:function(){return this._footer?this._footer.numRecordBatches:0},enumerable:!1,configurable:!0}),t.prototype.isSync=function(){return!0},t.prototype.isFile=function(){return!0},t.prototype.open=function(t){var n,l;if(!this.closed&&!this._footer){this.schema=(this._footer=this._readFooter()).schema;try{for(var i=aG.__values(this._footer.dictionaryBatches()),r=i.next();!r.done;r=i.next()){r.value&&this._readDictionaryBatch(this._dictionaryIndex++)}}catch(a){n={error:a}}finally{try{r&&!r.done&&(l=i.return)&&l.call(i)}finally{if(n)throw n.error}}}return e.prototype.open.call(this,t)},t.prototype.readRecordBatch=function(e){if(this.closed)return null;this._footer||this.open();var t=this._footer&&this._footer.getRecordBatch(e);if(t&&this._handle.seek(t.offset)){var n=this._reader.readMessage(uG.MessageHeader.RecordBatch);if(null==n?void 0:n.isRecordBatch()){var l=n.header(),i=this._reader.readMessageBody(n.bodyLength);return this._loadRecordBatch(l,i)}}return null},t.prototype._readDictionaryBatch=function(e){var t=this._footer&&this._footer.getDictionaryBatch(e);if(t&&this._handle.seek(t.offset)){var n=this._reader.readMessage(uG.MessageHeader.DictionaryBatch);if(null==n?void 0:n.isDictionaryBatch()){var l=n.header(),i=this._reader.readMessageBody(n.bodyLength),r=this._loadDictionaryBatch(l,i);this.dictionaries.set(l.id,r)}}},t.prototype._readFooter=function(){var e=this._handle,t=e.size-hG.magicAndPadding,n=e.readInt32(t),l=e.readAt(t-n,n);return oG.Footer.decode(l)},t.prototype._readNextMessageAndValidate=function(e){if(this._footer||this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){var t=this._footer&&this._footer.getRecordBatch(this._recordBatchIndex);if(t&&this._handle.seek(t.offset))return this._reader.readMessage(e)}return null},t}(SG),YG=function(e){function t(t){for(var n=[],l=1;l<arguments.length;l++)n[l-1]=arguments[l];var i="number"!=typeof n[0]?n.shift():void 0,r=n[0]instanceof Map?n.shift():void 0;return e.call(this,t instanceof mG.AsyncRandomAccessFile?t:new mG.AsyncRandomAccessFile(t,i),r)||this}return aG.__extends(t,e),Object.defineProperty(t.prototype,"footer",{get:function(){return this._footer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"numDictionaries",{get:function(){return this._footer?this._footer.numDictionaries:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"numRecordBatches",{get:function(){return this._footer?this._footer.numRecordBatches:0},enumerable:!1,configurable:!0}),t.prototype.isFile=function(){return!0},t.prototype.isAsync=function(){return!0},t.prototype.open=function(t){return aG.__awaiter(this,void 0,void 0,(function(){var n,l,i,r,a,c,u,o;return aG.__generator(this,(function(d){switch(d.label){case 0:return this.closed||this._footer?[3,10]:(n=this,l=this,[4,this._readFooter()]);case 1:n.schema=(l._footer=d.sent()).schema,d.label=2;case 2:d.trys.push([2,8,9,10]),i=aG.__values(this._footer.dictionaryBatches()),r=i.next(),d.label=3;case 3:return r.done?[3,7]:(a=r.value,a?[4,this._readDictionaryBatch(this._dictionaryIndex++)]:[3,5]);case 4:d.sent(),d.label=5;case 5:d.label=6;case 6:return r=i.next(),[3,3];case 7:return[3,10];case 8:return c=d.sent(),u={error:c},[3,10];case 9:try{r&&!r.done&&(o=i.return)&&o.call(i)}finally{if(u)throw u.error}return[7];case 10:return[4,e.prototype.open.call(this,t)];case 11:return[2,d.sent()]}}))}))},t.prototype.readRecordBatch=function(e){return aG.__awaiter(this,void 0,void 0,(function(){var t,n,l,i,r;return aG.__generator(this,(function(a){switch(a.label){case 0:return this.closed?[2,null]:this._footer?[3,2]:[4,this.open()];case 1:a.sent(),a.label=2;case 2:return t=this._footer&&this._footer.getRecordBatch(e),(n=t)?[4,this._handle.seek(t.offset)]:[3,4];case 3:n=a.sent(),a.label=4;case 4:return n?[4,this._reader.readMessage(uG.MessageHeader.RecordBatch)]:[3,7];case 5:return(null==(l=a.sent())?void 0:l.isRecordBatch())?(i=l.header(),[4,this._reader.readMessageBody(l.bodyLength)]):[3,7];case 6:return r=a.sent(),[2,this._loadRecordBatch(i,r)];case 7:return[2,null]}}))}))},t.prototype._readDictionaryBatch=function(e){return aG.__awaiter(this,void 0,void 0,(function(){var t,n,l,i,r,a;return aG.__generator(this,(function(c){switch(c.label){case 0:return t=this._footer&&this._footer.getDictionaryBatch(e),(n=t)?[4,this._handle.seek(t.offset)]:[3,2];case 1:n=c.sent(),c.label=2;case 2:return n?[4,this._reader.readMessage(uG.MessageHeader.DictionaryBatch)]:[3,5];case 3:return(null==(l=c.sent())?void 0:l.isDictionaryBatch())?(i=l.header(),[4,this._reader.readMessageBody(l.bodyLength)]):[3,5];case 4:r=c.sent(),a=this._loadDictionaryBatch(i,r),this.dictionaries.set(i.id,a),c.label=5;case 5:return[2]}}))}))},t.prototype._readFooter=function(){return aG.__awaiter(this,void 0,void 0,(function(){var e,t,n,l;return aG.__generator(this,(function(i){switch(i.label){case 0:return e=this._handle,e._pending?[4,e._pending]:[3,2];case 1:i.sent(),i.label=2;case 2:return t=e.size-hG.magicAndPadding,[4,e.readInt32(t)];case 3:return n=i.sent(),[4,e.readAt(t-n,n)];case 4:return l=i.sent(),[2,oG.Footer.decode(l)]}}))}))},t.prototype._readNextMessageAndValidate=function(e){return aG.__awaiter(this,void 0,void 0,(function(){var t,n;return aG.__generator(this,(function(l){switch(l.label){case 0:return this._footer?[3,2]:[4,this.open()];case 1:l.sent(),l.label=2;case 2:return this._footer&&this._recordBatchIndex<this.numRecordBatches?(t=this._footer.getRecordBatch(this._recordBatchIndex),(n=t)?[4,this._handle.seek(t.offset)]:[3,4]):[3,6];case 3:n=l.sent(),l.label=4;case 4:return n?[4,this._reader.readMessage(e)]:[3,6];case 5:return[2,l.sent()];case 6:return[2,null]}}))}))},t}(vG),JG=function(e){function t(t,n){return e.call(this,t,n)||this}return aG.__extends(t,e),t.prototype._loadVectors=function(e,t,n){return new bG.JSONVectorLoader(t,e.nodes,e.buffers,this.dictionaries).visitMany(n)},t}(SG);function xG(e,t){return t&&"boolean"==typeof t.autoDestroy?t.autoDestroy:e.autoDestroy}function gG(e){var t;return aG.__generator(this,(function(n){switch(n.label){case 0:t=fG.from(e),n.label=1;case 1:if(n.trys.push([1,,6,7]),t.open({autoDestroy:!1}).closed)return[3,5];n.label=2;case 2:return[4,t];case 3:n.sent(),n.label=4;case 4:if(!t.reset().open().closed)return[3,2];n.label=5;case 5:return[3,7];case 6:return t.cancel(),[7];case 7:return[2]}}))}function HG(e){return aG.__asyncGenerator(this,arguments,(function(){var t;return aG.__generator(this,(function(n){switch(n.label){case 0:return[4,aG.__await(fG.from(e))];case 1:t=n.sent(),n.label=2;case 2:return n.trys.push([2,,10,12]),[4,aG.__await(t.open({autoDestroy:!1}))];case 3:if(n.sent().closed)return[3,9];n.label=4;case 4:return[4,aG.__await(t)];case 5:return[4,n.sent()];case 6:n.sent(),n.label=7;case 7:return[4,aG.__await(t.reset().open())];case 8:if(!n.sent().closed)return[3,4];n.label=9;case 9:return[3,12];case 10:return[4,aG.__await(t.cancel())];case 11:return n.sent(),[7];case 12:return[2]}}))}))}var UG={};Object.defineProperty(UG,"__esModule",{value:!0}),UG.toDOMStream=void 0;var IG=su.exports,KG=mu,NG=fu;UG.toDOMStream=function(e,t){if(NG.isAsyncIterable(e))return function(e,t){var n=null,l="bytes"===(null==t?void 0:t.type)||!1,i=(null==t?void 0:t.highWaterMark)||Math.pow(2,24);return new ReadableStream(IG.__assign(IG.__assign({},t),{start:function(t){return IG.__awaiter(this,void 0,void 0,(function(){return IG.__generator(this,(function(l){switch(l.label){case 0:return[4,r(t,n||(n=e[Symbol.asyncIterator]()))];case 1:return l.sent(),[2]}}))}))},pull:function(e){return IG.__awaiter(this,void 0,void 0,(function(){return IG.__generator(this,(function(t){switch(t.label){case 0:return n?[4,r(e,n)]:[3,2];case 1:return t.sent(),[3,3];case 2:e.close(),t.label=3;case 3:return[2]}}))}))},cancel:function(){return IG.__awaiter(this,void 0,void 0,(function(){return IG.__generator(this,(function(e){switch(e.label){case 0:return(null==n?void 0:n.return)?[4,n.return()]:[3,2];case 1:e.sent(),e.label=2;case 2:return n=null,[2]}}))}))}}),IG.__assign({highWaterMark:l?i:void 0},t));function r(e,t){return IG.__awaiter(this,void 0,void 0,(function(){var n,i,r;return IG.__generator(this,(function(a){switch(a.label){case 0:i=null,r=e.desiredSize||null,a.label=1;case 1:return[4,t.next(l?r:null)];case 2:return(i=a.sent()).done?[3,3]:(ArrayBuffer.isView(i.value)&&(n=KG.toUint8Array(i.value))&&(null!=r&&l&&(r=r-n.byteLength+1),i.value=n),e.enqueue(i.value),null!=r&&--r<=0?[2]:[3,1]);case 3:return e.close(),[2]}}))}))}}(e,t);if(NG.isIterable(e))return function(e,t){var n=null,l="bytes"===(null==t?void 0:t.type)||!1,i=(null==t?void 0:t.highWaterMark)||Math.pow(2,24);return new ReadableStream(IG.__assign(IG.__assign({},t),{start:function(t){r(t,n||(n=e[Symbol.iterator]()))},pull:function(e){n?r(e,n):e.close()},cancel:function(){(null==n?void 0:n.return)&&n.return(),n=null}}),IG.__assign({highWaterMark:l?i:void 0},t));function r(e,t){for(var n,i=null,r=e.desiredSize||null;!(i=t.next(l?r:null)).done;)if(ArrayBuffer.isView(i.value)&&(n=KG.toUint8Array(i.value))&&(null!=r&&l&&(r=r-n.byteLength+1),i.value=n),e.enqueue(i.value),null!=r&&--r<=0)return;e.close()}}(e,t);throw new Error("toDOMStream() must be called with an Iterable or AsyncIterable")};var kG={};Object.defineProperty(kG,"__esModule",{value:!0}),kG.BuilderTransform=kG.builderThroughDOMStream=void 0;var BG=su.exports,FG=ku;kG.builderThroughDOMStream=function(e){return new TG(e)};var TG=function(){function e(e){var t,n,l=this;this._numChunks=0,this._finished=!1,this._bufferedSize=0;var i=e.readableStrategy,r=e.writableStrategy,a=e.queueingStrategy,c=void 0===a?"count":a,u=BG.__rest(e,["readableStrategy","writableStrategy","queueingStrategy"]);this._controller=null,this._builder=FG.Builder.new(u),this._getSize="bytes"!==c?_G:wG;var o=BG.__assign({},i).highWaterMark,d=void 0===o?"bytes"===c?Math.pow(2,14):1e3:o,s=BG.__assign({},r).highWaterMark,m=void 0===s?"bytes"===c?Math.pow(2,14):1e3:s;this.readable=new ReadableStream(((t={}).cancel=function(){l._builder.clear()},t.pull=function(e){l._maybeFlush(l._builder,l._controller=e)},t.start=function(e){l._maybeFlush(l._builder,l._controller=e)},t),{highWaterMark:d,size:"bytes"!==c?_G:wG}),this.writable=new WritableStream(((n={}).abort=function(){l._builder.clear()},n.write=function(){l._maybeFlush(l._builder,l._controller)},n.close=function(){l._maybeFlush(l._builder.finish(),l._controller)},n),{highWaterMark:m,size:function(e){return l._writeValueAndReturnChunkSize(e)}})}return e.prototype._writeValueAndReturnChunkSize=function(e){var t=this._bufferedSize;return this._bufferedSize=this._getSize(this._builder.append(e)),this._bufferedSize-t},e.prototype._maybeFlush=function(e,t){null!==t&&(this._bufferedSize>=t.desiredSize&&++this._numChunks&&this._enqueue(t,e.toVector()),e.finished&&((e.length>0||0===this._numChunks)&&++this._numChunks&&this._enqueue(t,e.toVector()),!this._finished&&(this._finished=!0)&&this._enqueue(t,null)))},e.prototype._enqueue=function(e,t){this._bufferedSize=0,this._controller=null,null===t?e.close():e.enqueue(t)},e}();kG.BuilderTransform=TG;var _G=function(e){return e.length},wG=function(e){return e.byteLength},CG={};Object.defineProperty(CG,"__esModule",{value:!0}),CG.recordBatchReaderThroughDOMStream=void 0;var jG=su.exports,zG=qb,QG=Ib;CG.recordBatchReaderThroughDOMStream=function(e,t){var n=new zG.AsyncByteQueue,l=null,i=new ReadableStream({cancel:function(){return jG.__awaiter(this,void 0,void 0,(function(){return jG.__generator(this,(function(e){switch(e.label){case 0:return[4,n.close()];case 1:return e.sent(),[2]}}))}))},start:function(e){return jG.__awaiter(this,void 0,void 0,(function(){var t,n,i;return jG.__generator(this,(function(c){switch(c.label){case 0:return t=a,n=[e],(i=l)?[3,2]:[4,r()];case 1:i=l=c.sent(),c.label=2;case 2:return[4,t.apply(void 0,n.concat([i]))];case 3:return c.sent(),[2]}}))}))},pull:function(e){return jG.__awaiter(this,void 0,void 0,(function(){return jG.__generator(this,(function(t){switch(t.label){case 0:return l?[4,a(e,l)]:[3,2];case 1:return t.sent(),[3,3];case 2:e.close(),t.label=3;case 3:return[2]}}))}))}});return{writable:new WritableStream(n,jG.__assign({highWaterMark:Math.pow(2,14)},e)),readable:i};function r(){return jG.__awaiter(this,void 0,void 0,(function(){return jG.__generator(this,(function(e){switch(e.label){case 0:return[4,QG.RecordBatchReader.from(n)];case 1:return[4,e.sent().open(t)];case 2:return[2,e.sent()]}}))}))}function a(e,t){return jG.__awaiter(this,void 0,void 0,(function(){var n,l;return jG.__generator(this,(function(i){switch(i.label){case 0:n=e.desiredSize,l=null,i.label=1;case 1:return[4,t.next()];case 2:return(l=i.sent()).done?[3,3]:(e.enqueue(l.value),null!=n&&--n<=0?[2]:[3,1]);case 3:return e.close(),[2]}}))}))}};var MG={};Object.defineProperty(MG,"__esModule",{value:!0}),MG.recordBatchWriterThroughDOMStream=void 0;var PG=su.exports,EG=qb;MG.recordBatchWriterThroughDOMStream=function(e,t){var n=new this(e),l=new EG.AsyncByteStream(n),i=new ReadableStream({type:"bytes",cancel:function(){return PG.__awaiter(this,void 0,void 0,(function(){return PG.__generator(this,(function(e){switch(e.label){case 0:return[4,l.cancel()];case 1:return e.sent(),[2]}}))}))},pull:function(e){return PG.__awaiter(this,void 0,void 0,(function(){return PG.__generator(this,(function(t){switch(t.label){case 0:return[4,r(e)];case 1:return t.sent(),[2]}}))}))},start:function(e){return PG.__awaiter(this,void 0,void 0,(function(){return PG.__generator(this,(function(t){switch(t.label){case 0:return[4,r(e)];case 1:return t.sent(),[2]}}))}))}},PG.__assign({highWaterMark:Math.pow(2,14)},t));return{writable:new WritableStream(n,e),readable:i};function r(e){return PG.__awaiter(this,void 0,void 0,(function(){var t,n;return PG.__generator(this,(function(i){switch(i.label){case 0:t=null,n=e.desiredSize,i.label=1;case 1:return[4,l.read(n||null)];case 2:return(t=i.sent())?(e.enqueue(t),null!=n&&(n-=t.byteLength)<=0?[2]:[3,1]):[3,3];case 3:return e.close(),[2]}}))}))}};var OG={},DG={},AG={};Object.defineProperty(AG,"__esModule",{value:!0}),AG.custom=AG.or=AG.and=AG.col=AG.lit=AG.CustomPredicate=AG.Not=AG.GTeq=AG.LTeq=AG.Equals=AG.Or=AG.And=AG.CombinationPredicate=AG.ComparisonPredicate=AG.Predicate=AG.Col=AG.Literal=AG.Value=void 0;var qG=su.exports,$G=Lf,eR=function(){function e(){}return e.prototype.eq=function(t){return t instanceof e||(t=new tR(t)),new uR(this,t)},e.prototype.le=function(t){return t instanceof e||(t=new tR(t)),new oR(this,t)},e.prototype.ge=function(t){return t instanceof e||(t=new tR(t)),new dR(this,t)},e.prototype.lt=function(e){return new sR(this.ge(e))},e.prototype.gt=function(e){return new sR(this.le(e))},e.prototype.ne=function(e){return new sR(this.eq(e))},e}();AG.Value=eR;var tR=function(e){function t(t){var n=e.call(this)||this;return n.v=t,n}return qG.__extends(t,e),t}(eR);AG.Literal=tR;var nR=function(e){function t(t){var n=e.call(this)||this;return n.name=t,n}return qG.__extends(t,e),t.prototype.bind=function(e){if(!this.colidx){this.colidx=-1;for(var t=e.schema.fields,n=-1;++n<t.length;)if(t[n].name===this.name){this.colidx=n;break}if(this.colidx<0)throw new Error('Failed to bind Col "'+this.name+'"')}var l=this.vector=e.getChildAt(this.colidx);return function(e){return l.get(e)}},t}(eR);AG.Col=nR;var lR=function(){function e(){}return e.prototype.and=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(aR.bind.apply(aR,qG.__spread([void 0,this],e)))},e.prototype.or=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(cR.bind.apply(cR,qG.__spread([void 0,this],e)))},e.prototype.not=function(){return new sR(this)},e}();AG.Predicate=lR;var iR=function(e){function t(t,n){var l=e.call(this)||this;return l.left=t,l.right=n,l}return qG.__extends(t,e),t.prototype.bind=function(e){return this.left instanceof tR?this.right instanceof tR?this._bindLitLit(e,this.left,this.right):this._bindLitCol(e,this.left,this.right):this.right instanceof tR?this._bindColLit(e,this.left,this.right):this._bindColCol(e,this.left,this.right)},t}(lR);AG.ComparisonPredicate=iR;var rR=function(e){function t(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var l=e.call(this)||this;return l.children=t,l}return qG.__extends(t,e),t}(lR);AG.CombinationPredicate=rR,rR.prototype.children=Object.freeze([]);var aR=function(e){function t(){for(var n=[],l=0;l<arguments.length;l++)n[l]=arguments[l];return n=n.reduce((function(e,n){return e.concat(n instanceof t?n.children:n)}),[]),e.apply(this,qG.__spread(n))||this}return qG.__extends(t,e),t.prototype.bind=function(e){var t=this.children.map((function(t){return t.bind(e)}));return function(e,n){return t.every((function(t){return t(e,n)}))}},t}(rR);AG.And=aR;var cR=function(e){function t(){for(var n=[],l=0;l<arguments.length;l++)n[l]=arguments[l];return n=n.reduce((function(e,n){return e.concat(n instanceof t?n.children:n)}),[]),e.apply(this,qG.__spread(n))||this}return qG.__extends(t,e),t.prototype.bind=function(e){var t=this.children.map((function(t){return t.bind(e)}));return function(e,n){return t.some((function(t){return t(e,n)}))}},t}(rR);AG.Or=cR;var uR=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return qG.__extends(t,e),t.prototype._bindLitLit=function(e,t,n){var l=t.v==n.v;return function(){return l}},t.prototype._bindColCol=function(e,t,n){var l=t.bind(e),i=n.bind(e);return function(e,t){return l(e,t)==i(e,t)}},t.prototype._bindColLit=function(e,t,n){var l=t.bind(e);if(t.vector instanceof $G.DictionaryVector){var i,r=t.vector;return r.dictionary!==this.lastDictionary?(i=r.reverseLookup(n.v),this.lastDictionary=r.dictionary,this.lastKey=i):i=this.lastKey,-1===i?function(){return!1}:function(e){return r.getKey(e)===i}}return function(e,t){return l(e,t)==n.v}},t.prototype._bindLitCol=function(e,t,n){return this._bindColLit(e,n,t)},t}(iR);AG.Equals=uR;var oR=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return qG.__extends(t,e),t.prototype._bindLitLit=function(e,t,n){var l=t.v<=n.v;return function(){return l}},t.prototype._bindColCol=function(e,t,n){var l=t.bind(e),i=n.bind(e);return function(e,t){return l(e,t)<=i(e,t)}},t.prototype._bindColLit=function(e,t,n){var l=t.bind(e);return function(e,t){return l(e,t)<=n.v}},t.prototype._bindLitCol=function(e,t,n){var l=n.bind(e);return function(e,n){return t.v<=l(e,n)}},t}(iR);AG.LTeq=oR;var dR=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return qG.__extends(t,e),t.prototype._bindLitLit=function(e,t,n){var l=t.v>=n.v;return function(){return l}},t.prototype._bindColCol=function(e,t,n){var l=t.bind(e),i=n.bind(e);return function(e,t){return l(e,t)>=i(e,t)}},t.prototype._bindColLit=function(e,t,n){var l=t.bind(e);return function(e,t){return l(e,t)>=n.v}},t.prototype._bindLitCol=function(e,t,n){var l=n.bind(e);return function(e,n){return t.v>=l(e,n)}},t}(iR);AG.GTeq=dR;var sR=function(e){function t(t){var n=e.call(this)||this;return n.child=t,n}return qG.__extends(t,e),t.prototype.bind=function(e){var t=this.child.bind(e);return function(e,n){return!t(e,n)}},t}(lR);AG.Not=sR;var mR=function(e){function t(t,n){var l=e.call(this)||this;return l.next=t,l.bind_=n,l}return qG.__extends(t,e),t.prototype.bind=function(e){return this.bind_(e),this.next},t}(lR);AG.CustomPredicate=mR,AG.lit=function(e){return new tR(e)},AG.col=function(e){return new nR(e)},AG.and=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(aR.bind.apply(aR,qG.__spread([void 0],e)))},AG.or=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(cR.bind.apply(cR,qG.__spread([void 0],e)))},AG.custom=function(e,t){return new mR(e,t)},Object.defineProperty(DG,"__esModule",{value:!0}),DG.FilteredDataFrame=DG.CountByResult=DG.DataFrame=void 0;var bR=su.exports,ZR=BZ,pR=lV,hR=Es,yR=AG,fR=kZ,VR=qu,XR=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return bR.__extends(t,e),t.prototype.filter=function(e){return new RR(this.chunks,e)},t.prototype.scan=function(e,t){for(var n=this.chunks,l=n.length,i=-1;++i<l;){var r=n[i];t&&t(r);for(var a=-1,c=r.length;++a<c;)e(a,r)}},t.prototype.scanReverse=function(e,t){for(var n=this.chunks,l=n.length;--l>=0;){var i=n[l];t&&t(i);for(var r=i.length;--r>=0;)e(r,i)}},t.prototype.countBy=function(e){var t=this.chunks,n=t.length,l="string"==typeof e?new yR.Col(e):e;l.bind(t[n-1]);var i=l.vector;if(!VR.DataType.isDictionary(i.type))throw new Error("countBy currently only supports dictionary-encoded columns");for(var r=Math.ceil(Math.log(i.length)/Math.log(256)),a=new(4==r?Uint32Array:r>=2?Uint16Array:Uint8Array)(i.dictionary.length),c=-1;++c<n;){var u=t[c];l.bind(u);for(var o=l.vector.indices,d=-1,s=u.length;++d<s;){var m=o.get(d);null!==m&&a[m]++}}return new WR(i.dictionary,pR.IntVector.from(a))},t}(ZR.Table);DG.DataFrame=XR;var WR=function(e){function t(t,n){var l=new hR.Schema([new hR.Field("values",t.type),new hR.Field("counts",n.type)]);return e.call(this,new fR.RecordBatch(l,n.length,[t,n]))||this}return bR.__extends(t,e),t.prototype.toJSON=function(){for(var e=this.getColumnAt(0),t=this.getColumnAt(1),n={},l=-1;++l<this.length;)n[e.get(l)]=t.get(l);return n},t}(ZR.Table);DG.CountByResult=WR;var GR=function(){function e(e,t){this.batches=e,this.predicate=t,this.batchIndex=0,this.index=0,this.batch=this.batches[this.batchIndex],this.predicateFunc=this.predicate.bind(this.batch)}return e.prototype.next=function(){for(;this.batchIndex<this.batches.length;){for(;this.index<this.batch.length;){if(this.predicateFunc(this.index,this.batch))return{value:this.batch.get(this.index++)};this.index++}++this.batchIndex<this.batches.length&&(this.index=0,this.batch=this.batches[this.batchIndex],this.predicateFunc=this.predicate.bind(this.batch))}return{done:!0,value:null}},e.prototype[Symbol.iterator]=function(){return this},e}(),RR=function(e){function t(t,n){var l=e.call(this,t)||this;return l._predicate=n,l}return bR.__extends(t,e),t.prototype.scan=function(e,t){for(var n=this._chunks,l=n.length,i=-1;++i<l;)for(var r=n[i],a=this._predicate.bind(r),c=!1,u=-1,o=r.length;++u<o;)a(u,r)&&(t&&!c&&(t(r),c=!0),e(u,r))},t.prototype.scanReverse=function(e,t){for(var n=this._chunks,l=n.length;--l>=0;)for(var i=n[l],r=this._predicate.bind(i),a=!1,c=i.length;--c>=0;)r(c,i)&&(t&&!a&&(t(i),a=!0),e(c,i))},t.prototype.count=function(){for(var e=0,t=this._chunks,n=t.length,l=-1;++l<n;)for(var i=t[l],r=this._predicate.bind(i),a=-1,c=i.length;++a<c;)r(a,i)&&++e;return e},t.prototype[Symbol.iterator]=function(){return new GR(this._chunks,this._predicate)},t.prototype.filter=function(e){return new t(this._chunks,this._predicate.and(e))},t.prototype.countBy=function(e){var t=this._chunks,n=t.length,l="string"==typeof e?new yR.Col(e):e;l.bind(t[n-1]);var i=l.vector;if(!VR.DataType.isDictionary(i.type))throw new Error("countBy currently only supports dictionary-encoded columns");for(var r=Math.ceil(Math.log(i.length)/Math.log(256)),a=new(4==r?Uint32Array:r>=2?Uint16Array:Uint8Array)(i.dictionary.length),c=-1;++c<n;){var u=t[c],o=this._predicate.bind(u);l.bind(u);for(var d=l.vector.indices,s=-1,m=u.length;++s<m;){var b=d.get(s);null!==b&&o(s,u)&&a[b]++}}return new WR(i.dictionary,pR.IntVector.from(a))},t}(XR);DG.FilteredDataFrame=RR,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isTypedArray=e.util=e.predicate=e.CountByResult=e.FilteredDataFrame=e.DataFrame=e.RecordBatch=e.Message=e.JSONMessageReader=e.AsyncMessageReader=e.MessageReader=e.RecordBatchJSONWriter=e.RecordBatchStreamWriter=e.RecordBatchFileWriter=e.RecordBatchWriter=e.AsyncRecordBatchStreamReader=e.AsyncRecordBatchFileReader=e.RecordBatchStreamReader=e.RecordBatchFileReader=e.RecordBatchReader=e.AsyncByteQueue=e.AsyncByteStream=e.ByteStream=e.Utf8Builder=e.SparseUnionBuilder=e.DenseUnionBuilder=e.UnionBuilder=e.TimeNanosecondBuilder=e.TimeMicrosecondBuilder=e.TimeMillisecondBuilder=e.TimeSecondBuilder=e.TimeBuilder=e.TimestampNanosecondBuilder=e.TimestampMicrosecondBuilder=e.TimestampMillisecondBuilder=e.TimestampSecondBuilder=e.TimestampBuilder=e.StructBuilder=e.NullBuilder=e.MapBuilder=e.ListBuilder=e.Uint64Builder=e.Uint32Builder=e.Uint16Builder=e.Uint8Builder=e.Int64Builder=e.Int32Builder=e.Int16Builder=e.Int8Builder=e.IntBuilder=e.IntervalYearMonthBuilder=e.IntervalDayTimeBuilder=e.IntervalBuilder=e.Float64Builder=e.Float32Builder=e.Float16Builder=e.FloatBuilder=e.FixedSizeListBuilder=e.FixedSizeBinaryBuilder=e.DictionaryBuilder=e.DecimalBuilder=e.DateMillisecondBuilder=e.DateDayBuilder=e.DateBuilder=e.BoolBuilder=e.BinaryBuilder=e.Builder=e.Utf8Vector=e.SparseUnionVector=e.DenseUnionVector=e.UnionVector=e.TimeNanosecondVector=e.TimeMicrosecondVector=e.TimeMillisecondVector=e.TimeSecondVector=e.TimeVector=e.TimestampNanosecondVector=e.TimestampMicrosecondVector=e.TimestampMillisecondVector=e.TimestampSecondVector=e.TimestampVector=e.StructVector=e.NullVector=e.MapVector=e.ListVector=e.Uint64Vector=e.Uint32Vector=e.Uint16Vector=e.Uint8Vector=e.Int64Vector=e.Int32Vector=e.Int16Vector=e.Int8Vector=e.IntVector=e.IntervalYearMonthVector=e.IntervalDayTimeVector=e.IntervalVector=e.Float64Vector=e.Float32Vector=e.Float16Vector=e.FloatVector=e.FixedSizeListVector=e.FixedSizeBinaryVector=e.DictionaryVector=e.DecimalVector=e.DateMillisecondVector=e.DateDayVector=e.DateVector=e.Chunked=e.BoolVector=e.BinaryVector=e.BaseVector=e.Vector=e.Field=e.Schema=e.Visitor=e.Column=e.Table=e.Map_=e.FixedSizeList=e.IntervalYearMonth=e.IntervalDayTime=e.Interval=e.Dictionary=e.SparseUnion=e.DenseUnion=e.Union=e.Struct=e.List=e.Decimal=e.TimeNanosecond=e.TimeMicrosecond=e.TimeMillisecond=e.TimeSecond=e.Time=e.TimestampNanosecond=e.TimestampMicrosecond=e.TimestampMillisecond=e.TimestampSecond=e.Timestamp=e.DateMillisecond=e.DateDay=e.Date_=e.FixedSizeBinary=e.Binary=e.Utf8=e.Float64=e.Float32=e.Float16=e.Float=e.Uint64=e.Uint32=e.Uint16=e.Uint8=e.Int64=e.Int32=e.Int16=e.Int8=e.Int=e.Bool=e.Null=e.DataType=e.Data=e.BufferType=e.Type=e.MessageHeader=e.MetadataVersion=e.IntervalUnit=e.UnionMode=e.Precision=e.TimeUnit=e.DateUnit=void 0;var t=su.exports,n=wu;Object.defineProperty(e,"DateUnit",{enumerable:!0,get:function(){return n.DateUnit}}),Object.defineProperty(e,"TimeUnit",{enumerable:!0,get:function(){return n.TimeUnit}}),Object.defineProperty(e,"Precision",{enumerable:!0,get:function(){return n.Precision}}),Object.defineProperty(e,"UnionMode",{enumerable:!0,get:function(){return n.UnionMode}}),Object.defineProperty(e,"IntervalUnit",{enumerable:!0,get:function(){return n.IntervalUnit}}),Object.defineProperty(e,"MetadataVersion",{enumerable:!0,get:function(){return n.MetadataVersion}});var l=Cu;Object.defineProperty(e,"MessageHeader",{enumerable:!0,get:function(){return l.MessageHeader}});var i=_u;Object.defineProperty(e,"Type",{enumerable:!0,get:function(){return i.Type}}),Object.defineProperty(e,"BufferType",{enumerable:!0,get:function(){return i.BufferType}});var r=ju;Object.defineProperty(e,"Data",{enumerable:!0,get:function(){return r.Data}});var a=qu;Object.defineProperty(e,"DataType",{enumerable:!0,get:function(){return a.DataType}}),Object.defineProperty(e,"Null",{enumerable:!0,get:function(){return a.Null}}),Object.defineProperty(e,"Bool",{enumerable:!0,get:function(){return a.Bool}}),Object.defineProperty(e,"Int",{enumerable:!0,get:function(){return a.Int}}),Object.defineProperty(e,"Int8",{enumerable:!0,get:function(){return a.Int8}}),Object.defineProperty(e,"Int16",{enumerable:!0,get:function(){return a.Int16}}),Object.defineProperty(e,"Int32",{enumerable:!0,get:function(){return a.Int32}}),Object.defineProperty(e,"Int64",{enumerable:!0,get:function(){return a.Int64}}),Object.defineProperty(e,"Uint8",{enumerable:!0,get:function(){return a.Uint8}}),Object.defineProperty(e,"Uint16",{enumerable:!0,get:function(){return a.Uint16}}),Object.defineProperty(e,"Uint32",{enumerable:!0,get:function(){return a.Uint32}}),Object.defineProperty(e,"Uint64",{enumerable:!0,get:function(){return a.Uint64}}),Object.defineProperty(e,"Float",{enumerable:!0,get:function(){return a.Float}}),Object.defineProperty(e,"Float16",{enumerable:!0,get:function(){return a.Float16}}),Object.defineProperty(e,"Float32",{enumerable:!0,get:function(){return a.Float32}}),Object.defineProperty(e,"Float64",{enumerable:!0,get:function(){return a.Float64}}),Object.defineProperty(e,"Utf8",{enumerable:!0,get:function(){return a.Utf8}}),Object.defineProperty(e,"Binary",{enumerable:!0,get:function(){return a.Binary}}),Object.defineProperty(e,"FixedSizeBinary",{enumerable:!0,get:function(){return a.FixedSizeBinary}}),Object.defineProperty(e,"Date_",{enumerable:!0,get:function(){return a.Date_}}),Object.defineProperty(e,"DateDay",{enumerable:!0,get:function(){return a.DateDay}}),Object.defineProperty(e,"DateMillisecond",{enumerable:!0,get:function(){return a.DateMillisecond}}),Object.defineProperty(e,"Timestamp",{enumerable:!0,get:function(){return a.Timestamp}}),Object.defineProperty(e,"TimestampSecond",{enumerable:!0,get:function(){return a.TimestampSecond}}),Object.defineProperty(e,"TimestampMillisecond",{enumerable:!0,get:function(){return a.TimestampMillisecond}}),Object.defineProperty(e,"TimestampMicrosecond",{enumerable:!0,get:function(){return a.TimestampMicrosecond}}),Object.defineProperty(e,"TimestampNanosecond",{enumerable:!0,get:function(){return a.TimestampNanosecond}}),Object.defineProperty(e,"Time",{enumerable:!0,get:function(){return a.Time}}),Object.defineProperty(e,"TimeSecond",{enumerable:!0,get:function(){return a.TimeSecond}}),Object.defineProperty(e,"TimeMillisecond",{enumerable:!0,get:function(){return a.TimeMillisecond}}),Object.defineProperty(e,"TimeMicrosecond",{enumerable:!0,get:function(){return a.TimeMicrosecond}}),Object.defineProperty(e,"TimeNanosecond",{enumerable:!0,get:function(){return a.TimeNanosecond}}),Object.defineProperty(e,"Decimal",{enumerable:!0,get:function(){return a.Decimal}}),Object.defineProperty(e,"List",{enumerable:!0,get:function(){return a.List}}),Object.defineProperty(e,"Struct",{enumerable:!0,get:function(){return a.Struct}}),Object.defineProperty(e,"Union",{enumerable:!0,get:function(){return a.Union}}),Object.defineProperty(e,"DenseUnion",{enumerable:!0,get:function(){return a.DenseUnion}}),Object.defineProperty(e,"SparseUnion",{enumerable:!0,get:function(){return a.SparseUnion}}),Object.defineProperty(e,"Dictionary",{enumerable:!0,get:function(){return a.Dictionary}}),Object.defineProperty(e,"Interval",{enumerable:!0,get:function(){return a.Interval}}),Object.defineProperty(e,"IntervalDayTime",{enumerable:!0,get:function(){return a.IntervalDayTime}}),Object.defineProperty(e,"IntervalYearMonth",{enumerable:!0,get:function(){return a.IntervalYearMonth}}),Object.defineProperty(e,"FixedSizeList",{enumerable:!0,get:function(){return a.FixedSizeList}}),Object.defineProperty(e,"Map_",{enumerable:!0,get:function(){return a.Map_}});var c=BZ;Object.defineProperty(e,"Table",{enumerable:!0,get:function(){return c.Table}});var u=FZ;Object.defineProperty(e,"Column",{enumerable:!0,get:function(){return u.Column}});var o=Um;Object.defineProperty(e,"Visitor",{enumerable:!0,get:function(){return o.Visitor}});var d=Es;Object.defineProperty(e,"Schema",{enumerable:!0,get:function(){return d.Schema}}),Object.defineProperty(e,"Field",{enumerable:!0,get:function(){return d.Field}});var s=Dy;Object.defineProperty(e,"Vector",{enumerable:!0,get:function(){return s.Vector}}),Object.defineProperty(e,"BaseVector",{enumerable:!0,get:function(){return s.BaseVector}}),Object.defineProperty(e,"BinaryVector",{enumerable:!0,get:function(){return s.BinaryVector}}),Object.defineProperty(e,"BoolVector",{enumerable:!0,get:function(){return s.BoolVector}}),Object.defineProperty(e,"Chunked",{enumerable:!0,get:function(){return s.Chunked}}),Object.defineProperty(e,"DateVector",{enumerable:!0,get:function(){return s.DateVector}}),Object.defineProperty(e,"DateDayVector",{enumerable:!0,get:function(){return s.DateDayVector}}),Object.defineProperty(e,"DateMillisecondVector",{enumerable:!0,get:function(){return s.DateMillisecondVector}}),Object.defineProperty(e,"DecimalVector",{enumerable:!0,get:function(){return s.DecimalVector}}),Object.defineProperty(e,"DictionaryVector",{enumerable:!0,get:function(){return s.DictionaryVector}}),Object.defineProperty(e,"FixedSizeBinaryVector",{enumerable:!0,get:function(){return s.FixedSizeBinaryVector}}),Object.defineProperty(e,"FixedSizeListVector",{enumerable:!0,get:function(){return s.FixedSizeListVector}}),Object.defineProperty(e,"FloatVector",{enumerable:!0,get:function(){return s.FloatVector}}),Object.defineProperty(e,"Float16Vector",{enumerable:!0,get:function(){return s.Float16Vector}}),Object.defineProperty(e,"Float32Vector",{enumerable:!0,get:function(){return s.Float32Vector}}),Object.defineProperty(e,"Float64Vector",{enumerable:!0,get:function(){return s.Float64Vector}}),Object.defineProperty(e,"IntervalVector",{enumerable:!0,get:function(){return s.IntervalVector}}),Object.defineProperty(e,"IntervalDayTimeVector",{enumerable:!0,get:function(){return s.IntervalDayTimeVector}}),Object.defineProperty(e,"IntervalYearMonthVector",{enumerable:!0,get:function(){return s.IntervalYearMonthVector}}),Object.defineProperty(e,"IntVector",{enumerable:!0,get:function(){return s.IntVector}}),Object.defineProperty(e,"Int8Vector",{enumerable:!0,get:function(){return s.Int8Vector}}),Object.defineProperty(e,"Int16Vector",{enumerable:!0,get:function(){return s.Int16Vector}}),Object.defineProperty(e,"Int32Vector",{enumerable:!0,get:function(){return s.Int32Vector}}),Object.defineProperty(e,"Int64Vector",{enumerable:!0,get:function(){return s.Int64Vector}}),Object.defineProperty(e,"Uint8Vector",{enumerable:!0,get:function(){return s.Uint8Vector}}),Object.defineProperty(e,"Uint16Vector",{enumerable:!0,get:function(){return s.Uint16Vector}}),Object.defineProperty(e,"Uint32Vector",{enumerable:!0,get:function(){return s.Uint32Vector}}),Object.defineProperty(e,"Uint64Vector",{enumerable:!0,get:function(){return s.Uint64Vector}}),Object.defineProperty(e,"ListVector",{enumerable:!0,get:function(){return s.ListVector}}),Object.defineProperty(e,"MapVector",{enumerable:!0,get:function(){return s.MapVector}}),Object.defineProperty(e,"NullVector",{enumerable:!0,get:function(){return s.NullVector}}),Object.defineProperty(e,"StructVector",{enumerable:!0,get:function(){return s.StructVector}}),Object.defineProperty(e,"TimestampVector",{enumerable:!0,get:function(){return s.TimestampVector}}),Object.defineProperty(e,"TimestampSecondVector",{enumerable:!0,get:function(){return s.TimestampSecondVector}}),Object.defineProperty(e,"TimestampMillisecondVector",{enumerable:!0,get:function(){return s.TimestampMillisecondVector}}),Object.defineProperty(e,"TimestampMicrosecondVector",{enumerable:!0,get:function(){return s.TimestampMicrosecondVector}}),Object.defineProperty(e,"TimestampNanosecondVector",{enumerable:!0,get:function(){return s.TimestampNanosecondVector}}),Object.defineProperty(e,"TimeVector",{enumerable:!0,get:function(){return s.TimeVector}}),Object.defineProperty(e,"TimeSecondVector",{enumerable:!0,get:function(){return s.TimeSecondVector}}),Object.defineProperty(e,"TimeMillisecondVector",{enumerable:!0,get:function(){return s.TimeMillisecondVector}}),Object.defineProperty(e,"TimeMicrosecondVector",{enumerable:!0,get:function(){return s.TimeMicrosecondVector}}),Object.defineProperty(e,"TimeNanosecondVector",{enumerable:!0,get:function(){return s.TimeNanosecondVector}}),Object.defineProperty(e,"UnionVector",{enumerable:!0,get:function(){return s.UnionVector}}),Object.defineProperty(e,"DenseUnionVector",{enumerable:!0,get:function(){return s.DenseUnionVector}}),Object.defineProperty(e,"SparseUnionVector",{enumerable:!0,get:function(){return s.SparseUnionVector}}),Object.defineProperty(e,"Utf8Vector",{enumerable:!0,get:function(){return s.Utf8Vector}});var m=ku;Object.defineProperty(e,"Builder",{enumerable:!0,get:function(){return m.Builder}}),Object.defineProperty(e,"BinaryBuilder",{enumerable:!0,get:function(){return m.BinaryBuilder}}),Object.defineProperty(e,"BoolBuilder",{enumerable:!0,get:function(){return m.BoolBuilder}}),Object.defineProperty(e,"DateBuilder",{enumerable:!0,get:function(){return m.DateBuilder}}),Object.defineProperty(e,"DateDayBuilder",{enumerable:!0,get:function(){return m.DateDayBuilder}}),Object.defineProperty(e,"DateMillisecondBuilder",{enumerable:!0,get:function(){return m.DateMillisecondBuilder}}),Object.defineProperty(e,"DecimalBuilder",{enumerable:!0,get:function(){return m.DecimalBuilder}}),Object.defineProperty(e,"DictionaryBuilder",{enumerable:!0,get:function(){return m.DictionaryBuilder}}),Object.defineProperty(e,"FixedSizeBinaryBuilder",{enumerable:!0,get:function(){return m.FixedSizeBinaryBuilder}}),Object.defineProperty(e,"FixedSizeListBuilder",{enumerable:!0,get:function(){return m.FixedSizeListBuilder}}),Object.defineProperty(e,"FloatBuilder",{enumerable:!0,get:function(){return m.FloatBuilder}}),Object.defineProperty(e,"Float16Builder",{enumerable:!0,get:function(){return m.Float16Builder}}),Object.defineProperty(e,"Float32Builder",{enumerable:!0,get:function(){return m.Float32Builder}}),Object.defineProperty(e,"Float64Builder",{enumerable:!0,get:function(){return m.Float64Builder}}),Object.defineProperty(e,"IntervalBuilder",{enumerable:!0,get:function(){return m.IntervalBuilder}}),Object.defineProperty(e,"IntervalDayTimeBuilder",{enumerable:!0,get:function(){return m.IntervalDayTimeBuilder}}),Object.defineProperty(e,"IntervalYearMonthBuilder",{enumerable:!0,get:function(){return m.IntervalYearMonthBuilder}}),Object.defineProperty(e,"IntBuilder",{enumerable:!0,get:function(){return m.IntBuilder}}),Object.defineProperty(e,"Int8Builder",{enumerable:!0,get:function(){return m.Int8Builder}}),Object.defineProperty(e,"Int16Builder",{enumerable:!0,get:function(){return m.Int16Builder}}),Object.defineProperty(e,"Int32Builder",{enumerable:!0,get:function(){return m.Int32Builder}}),Object.defineProperty(e,"Int64Builder",{enumerable:!0,get:function(){return m.Int64Builder}}),Object.defineProperty(e,"Uint8Builder",{enumerable:!0,get:function(){return m.Uint8Builder}}),Object.defineProperty(e,"Uint16Builder",{enumerable:!0,get:function(){return m.Uint16Builder}}),Object.defineProperty(e,"Uint32Builder",{enumerable:!0,get:function(){return m.Uint32Builder}}),Object.defineProperty(e,"Uint64Builder",{enumerable:!0,get:function(){return m.Uint64Builder}}),Object.defineProperty(e,"ListBuilder",{enumerable:!0,get:function(){return m.ListBuilder}}),Object.defineProperty(e,"MapBuilder",{enumerable:!0,get:function(){return m.MapBuilder}}),Object.defineProperty(e,"NullBuilder",{enumerable:!0,get:function(){return m.NullBuilder}}),Object.defineProperty(e,"StructBuilder",{enumerable:!0,get:function(){return m.StructBuilder}}),Object.defineProperty(e,"TimestampBuilder",{enumerable:!0,get:function(){return m.TimestampBuilder}}),Object.defineProperty(e,"TimestampSecondBuilder",{enumerable:!0,get:function(){return m.TimestampSecondBuilder}}),Object.defineProperty(e,"TimestampMillisecondBuilder",{enumerable:!0,get:function(){return m.TimestampMillisecondBuilder}}),Object.defineProperty(e,"TimestampMicrosecondBuilder",{enumerable:!0,get:function(){return m.TimestampMicrosecondBuilder}}),Object.defineProperty(e,"TimestampNanosecondBuilder",{enumerable:!0,get:function(){return m.TimestampNanosecondBuilder}}),Object.defineProperty(e,"TimeBuilder",{enumerable:!0,get:function(){return m.TimeBuilder}}),Object.defineProperty(e,"TimeSecondBuilder",{enumerable:!0,get:function(){return m.TimeSecondBuilder}}),Object.defineProperty(e,"TimeMillisecondBuilder",{enumerable:!0,get:function(){return m.TimeMillisecondBuilder}}),Object.defineProperty(e,"TimeMicrosecondBuilder",{enumerable:!0,get:function(){return m.TimeMicrosecondBuilder}}),Object.defineProperty(e,"TimeNanosecondBuilder",{enumerable:!0,get:function(){return m.TimeNanosecondBuilder}}),Object.defineProperty(e,"UnionBuilder",{enumerable:!0,get:function(){return m.UnionBuilder}}),Object.defineProperty(e,"DenseUnionBuilder",{enumerable:!0,get:function(){return m.DenseUnionBuilder}}),Object.defineProperty(e,"SparseUnionBuilder",{enumerable:!0,get:function(){return m.SparseUnionBuilder}}),Object.defineProperty(e,"Utf8Builder",{enumerable:!0,get:function(){return m.Utf8Builder}});var b=qb;Object.defineProperty(e,"ByteStream",{enumerable:!0,get:function(){return b.ByteStream}}),Object.defineProperty(e,"AsyncByteStream",{enumerable:!0,get:function(){return b.AsyncByteStream}}),Object.defineProperty(e,"AsyncByteQueue",{enumerable:!0,get:function(){return b.AsyncByteQueue}});var Z=Ib;Object.defineProperty(e,"RecordBatchReader",{enumerable:!0,get:function(){return Z.RecordBatchReader}}),Object.defineProperty(e,"RecordBatchFileReader",{enumerable:!0,get:function(){return Z.RecordBatchFileReader}}),Object.defineProperty(e,"RecordBatchStreamReader",{enumerable:!0,get:function(){return Z.RecordBatchStreamReader}}),Object.defineProperty(e,"AsyncRecordBatchFileReader",{enumerable:!0,get:function(){return Z.AsyncRecordBatchFileReader}}),Object.defineProperty(e,"AsyncRecordBatchStreamReader",{enumerable:!0,get:function(){return Z.AsyncRecordBatchStreamReader}});var p=jp;Object.defineProperty(e,"RecordBatchWriter",{enumerable:!0,get:function(){return p.RecordBatchWriter}}),Object.defineProperty(e,"RecordBatchFileWriter",{enumerable:!0,get:function(){return p.RecordBatchFileWriter}}),Object.defineProperty(e,"RecordBatchStreamWriter",{enumerable:!0,get:function(){return p.RecordBatchStreamWriter}}),Object.defineProperty(e,"RecordBatchJSONWriter",{enumerable:!0,get:function(){return p.RecordBatchJSONWriter}});var h=zp;Object.defineProperty(e,"MessageReader",{enumerable:!0,get:function(){return h.MessageReader}}),Object.defineProperty(e,"AsyncMessageReader",{enumerable:!0,get:function(){return h.AsyncMessageReader}}),Object.defineProperty(e,"JSONMessageReader",{enumerable:!0,get:function(){return h.JSONMessageReader}});var y=Qp;Object.defineProperty(e,"Message",{enumerable:!0,get:function(){return y.Message}});var f=kZ;Object.defineProperty(e,"RecordBatch",{enumerable:!0,get:function(){return f.RecordBatch}});var V=DG;Object.defineProperty(e,"DataFrame",{enumerable:!0,get:function(){return V.DataFrame}}),Object.defineProperty(e,"FilteredDataFrame",{enumerable:!0,get:function(){return V.FilteredDataFrame}}),Object.defineProperty(e,"CountByResult",{enumerable:!0,get:function(){return V.CountByResult}});var X=qd,W=yZ,G=zu,R=Cd,S=mu,v=_Z,L=AG;e.predicate=L;var Y=Kh;e.util=t.__assign(t.__assign(t.__assign(t.__assign(t.__assign(t.__assign(t.__assign({},X),W),G),R),S),v),{compareSchemas:Y.compareSchemas,compareFields:Y.compareFields,compareTypes:Y.compareTypes});var J=sp;Object.defineProperty(e,"isTypedArray",{enumerable:!0,get:function(){return J.isTypedArray}})}(OG),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isTypedArray=e.Utf8Builder=e.SparseUnionBuilder=e.DenseUnionBuilder=e.UnionBuilder=e.TimeNanosecondBuilder=e.TimeMicrosecondBuilder=e.TimeMillisecondBuilder=e.TimeSecondBuilder=e.TimeBuilder=e.TimestampNanosecondBuilder=e.TimestampMicrosecondBuilder=e.TimestampMillisecondBuilder=e.TimestampSecondBuilder=e.TimestampBuilder=e.StructBuilder=e.NullBuilder=e.MapBuilder=e.ListBuilder=e.Uint64Builder=e.Uint32Builder=e.Uint16Builder=e.Uint8Builder=e.Int64Builder=e.Int32Builder=e.Int16Builder=e.Int8Builder=e.IntBuilder=e.IntervalYearMonthBuilder=e.IntervalDayTimeBuilder=e.IntervalBuilder=e.Float64Builder=e.Float32Builder=e.Float16Builder=e.FloatBuilder=e.FixedSizeListBuilder=e.FixedSizeBinaryBuilder=e.DictionaryBuilder=e.DecimalBuilder=e.DateMillisecondBuilder=e.DateDayBuilder=e.DateBuilder=e.BoolBuilder=e.BinaryBuilder=e.Builder=e.util=e.predicate=e.CountByResult=e.FilteredDataFrame=e.DataFrame=e.RecordBatch=e.Message=e.JSONMessageReader=e.AsyncMessageReader=e.MessageReader=e.RecordBatchJSONWriter=e.RecordBatchStreamWriter=e.RecordBatchFileWriter=e.RecordBatchWriter=e.AsyncRecordBatchStreamReader=e.AsyncRecordBatchFileReader=e.RecordBatchStreamReader=e.RecordBatchFileReader=e.RecordBatchReader=e.AsyncByteQueue=e.AsyncByteStream=e.ByteStream=e.Utf8Vector=e.SparseUnionVector=e.DenseUnionVector=e.UnionVector=e.TimeNanosecondVector=e.TimeMicrosecondVector=e.TimeMillisecondVector=e.TimeSecondVector=e.TimeVector=e.TimestampNanosecondVector=e.TimestampMicrosecondVector=e.TimestampMillisecondVector=e.TimestampSecondVector=e.TimestampVector=e.StructVector=e.NullVector=e.MapVector=e.ListVector=e.Uint64Vector=e.Uint32Vector=e.Uint16Vector=e.Uint8Vector=e.Int64Vector=e.Int32Vector=e.Int16Vector=e.Int8Vector=e.IntVector=e.IntervalYearMonthVector=e.IntervalDayTimeVector=e.IntervalVector=e.Float64Vector=e.Float32Vector=e.Float16Vector=e.FloatVector=e.FixedSizeListVector=e.FixedSizeBinaryVector=e.DictionaryVector=e.DecimalVector=e.DateMillisecondVector=e.DateDayVector=e.DateVector=e.Chunked=e.BoolVector=e.BinaryVector=e.BaseVector=e.Vector=e.Visitor=e.Field=e.Schema=e.Column=e.Table=e.Map_=e.FixedSizeList=e.IntervalYearMonth=e.IntervalDayTime=e.Interval=e.Dictionary=e.SparseUnion=e.DenseUnion=e.Union=e.Struct=e.List=e.Decimal=e.TimeNanosecond=e.TimeMicrosecond=e.TimeMillisecond=e.TimeSecond=e.Time=e.TimestampNanosecond=e.TimestampMicrosecond=e.TimestampMillisecond=e.TimestampSecond=e.Timestamp=e.DateMillisecond=e.DateDay=e.Date_=e.FixedSizeBinary=e.Binary=e.Utf8=e.Float64=e.Float32=e.Float16=e.Float=e.Uint64=e.Uint32=e.Uint16=e.Uint8=e.Int64=e.Int32=e.Int16=e.Int8=e.Int=e.Bool=e.Null=e.DataType=e.Data=e.BufferType=e.UnionMode=e.Type=e.TimeUnit=e.Precision=e.MetadataVersion=e.MessageHeader=e.IntervalUnit=e.DateUnit=void 0;var t=ku,n=Ib,l=jp,i=UG,r=kG,a=CG,c=MG;du.default.toDOMStream=i.toDOMStream,t.Builder.throughDOM=r.builderThroughDOMStream,n.RecordBatchReader.throughDOM=a.recordBatchReaderThroughDOMStream,n.RecordBatchFileReader.throughDOM=a.recordBatchReaderThroughDOMStream,n.RecordBatchStreamReader.throughDOM=a.recordBatchReaderThroughDOMStream,l.RecordBatchWriter.throughDOM=c.recordBatchWriterThroughDOMStream,l.RecordBatchFileWriter.throughDOM=c.recordBatchWriterThroughDOMStream,l.RecordBatchStreamWriter.throughDOM=c.recordBatchWriterThroughDOMStream;var u=OG;Object.defineProperty(e,"DateUnit",{enumerable:!0,get:function(){return u.DateUnit}}),Object.defineProperty(e,"IntervalUnit",{enumerable:!0,get:function(){return u.IntervalUnit}}),Object.defineProperty(e,"MessageHeader",{enumerable:!0,get:function(){return u.MessageHeader}}),Object.defineProperty(e,"MetadataVersion",{enumerable:!0,get:function(){return u.MetadataVersion}}),Object.defineProperty(e,"Precision",{enumerable:!0,get:function(){return u.Precision}}),Object.defineProperty(e,"TimeUnit",{enumerable:!0,get:function(){return u.TimeUnit}}),Object.defineProperty(e,"Type",{enumerable:!0,get:function(){return u.Type}}),Object.defineProperty(e,"UnionMode",{enumerable:!0,get:function(){return u.UnionMode}}),Object.defineProperty(e,"BufferType",{enumerable:!0,get:function(){return u.BufferType}}),Object.defineProperty(e,"Data",{enumerable:!0,get:function(){return u.Data}}),Object.defineProperty(e,"DataType",{enumerable:!0,get:function(){return u.DataType}}),Object.defineProperty(e,"Null",{enumerable:!0,get:function(){return u.Null}}),Object.defineProperty(e,"Bool",{enumerable:!0,get:function(){return u.Bool}}),Object.defineProperty(e,"Int",{enumerable:!0,get:function(){return u.Int}}),Object.defineProperty(e,"Int8",{enumerable:!0,get:function(){return u.Int8}}),Object.defineProperty(e,"Int16",{enumerable:!0,get:function(){return u.Int16}}),Object.defineProperty(e,"Int32",{enumerable:!0,get:function(){return u.Int32}}),Object.defineProperty(e,"Int64",{enumerable:!0,get:function(){return u.Int64}}),Object.defineProperty(e,"Uint8",{enumerable:!0,get:function(){return u.Uint8}}),Object.defineProperty(e,"Uint16",{enumerable:!0,get:function(){return u.Uint16}}),Object.defineProperty(e,"Uint32",{enumerable:!0,get:function(){return u.Uint32}}),Object.defineProperty(e,"Uint64",{enumerable:!0,get:function(){return u.Uint64}}),Object.defineProperty(e,"Float",{enumerable:!0,get:function(){return u.Float}}),Object.defineProperty(e,"Float16",{enumerable:!0,get:function(){return u.Float16}}),Object.defineProperty(e,"Float32",{enumerable:!0,get:function(){return u.Float32}}),Object.defineProperty(e,"Float64",{enumerable:!0,get:function(){return u.Float64}}),Object.defineProperty(e,"Utf8",{enumerable:!0,get:function(){return u.Utf8}}),Object.defineProperty(e,"Binary",{enumerable:!0,get:function(){return u.Binary}}),Object.defineProperty(e,"FixedSizeBinary",{enumerable:!0,get:function(){return u.FixedSizeBinary}}),Object.defineProperty(e,"Date_",{enumerable:!0,get:function(){return u.Date_}}),Object.defineProperty(e,"DateDay",{enumerable:!0,get:function(){return u.DateDay}}),Object.defineProperty(e,"DateMillisecond",{enumerable:!0,get:function(){return u.DateMillisecond}}),Object.defineProperty(e,"Timestamp",{enumerable:!0,get:function(){return u.Timestamp}}),Object.defineProperty(e,"TimestampSecond",{enumerable:!0,get:function(){return u.TimestampSecond}}),Object.defineProperty(e,"TimestampMillisecond",{enumerable:!0,get:function(){return u.TimestampMillisecond}}),Object.defineProperty(e,"TimestampMicrosecond",{enumerable:!0,get:function(){return u.TimestampMicrosecond}}),Object.defineProperty(e,"TimestampNanosecond",{enumerable:!0,get:function(){return u.TimestampNanosecond}}),Object.defineProperty(e,"Time",{enumerable:!0,get:function(){return u.Time}}),Object.defineProperty(e,"TimeSecond",{enumerable:!0,get:function(){return u.TimeSecond}}),Object.defineProperty(e,"TimeMillisecond",{enumerable:!0,get:function(){return u.TimeMillisecond}}),Object.defineProperty(e,"TimeMicrosecond",{enumerable:!0,get:function(){return u.TimeMicrosecond}}),Object.defineProperty(e,"TimeNanosecond",{enumerable:!0,get:function(){return u.TimeNanosecond}}),Object.defineProperty(e,"Decimal",{enumerable:!0,get:function(){return u.Decimal}}),Object.defineProperty(e,"List",{enumerable:!0,get:function(){return u.List}}),Object.defineProperty(e,"Struct",{enumerable:!0,get:function(){return u.Struct}}),Object.defineProperty(e,"Union",{enumerable:!0,get:function(){return u.Union}}),Object.defineProperty(e,"DenseUnion",{enumerable:!0,get:function(){return u.DenseUnion}}),Object.defineProperty(e,"SparseUnion",{enumerable:!0,get:function(){return u.SparseUnion}}),Object.defineProperty(e,"Dictionary",{enumerable:!0,get:function(){return u.Dictionary}}),Object.defineProperty(e,"Interval",{enumerable:!0,get:function(){return u.Interval}}),Object.defineProperty(e,"IntervalDayTime",{enumerable:!0,get:function(){return u.IntervalDayTime}}),Object.defineProperty(e,"IntervalYearMonth",{enumerable:!0,get:function(){return u.IntervalYearMonth}}),Object.defineProperty(e,"FixedSizeList",{enumerable:!0,get:function(){return u.FixedSizeList}}),Object.defineProperty(e,"Map_",{enumerable:!0,get:function(){return u.Map_}}),Object.defineProperty(e,"Table",{enumerable:!0,get:function(){return u.Table}}),Object.defineProperty(e,"Column",{enumerable:!0,get:function(){return u.Column}}),Object.defineProperty(e,"Schema",{enumerable:!0,get:function(){return u.Schema}}),Object.defineProperty(e,"Field",{enumerable:!0,get:function(){return u.Field}}),Object.defineProperty(e,"Visitor",{enumerable:!0,get:function(){return u.Visitor}}),Object.defineProperty(e,"Vector",{enumerable:!0,get:function(){return u.Vector}}),Object.defineProperty(e,"BaseVector",{enumerable:!0,get:function(){return u.BaseVector}}),Object.defineProperty(e,"BinaryVector",{enumerable:!0,get:function(){return u.BinaryVector}}),Object.defineProperty(e,"BoolVector",{enumerable:!0,get:function(){return u.BoolVector}}),Object.defineProperty(e,"Chunked",{enumerable:!0,get:function(){return u.Chunked}}),Object.defineProperty(e,"DateVector",{enumerable:!0,get:function(){return u.DateVector}}),Object.defineProperty(e,"DateDayVector",{enumerable:!0,get:function(){return u.DateDayVector}}),Object.defineProperty(e,"DateMillisecondVector",{enumerable:!0,get:function(){return u.DateMillisecondVector}}),Object.defineProperty(e,"DecimalVector",{enumerable:!0,get:function(){return u.DecimalVector}}),Object.defineProperty(e,"DictionaryVector",{enumerable:!0,get:function(){return u.DictionaryVector}}),Object.defineProperty(e,"FixedSizeBinaryVector",{enumerable:!0,get:function(){return u.FixedSizeBinaryVector}}),Object.defineProperty(e,"FixedSizeListVector",{enumerable:!0,get:function(){return u.FixedSizeListVector}}),Object.defineProperty(e,"FloatVector",{enumerable:!0,get:function(){return u.FloatVector}}),Object.defineProperty(e,"Float16Vector",{enumerable:!0,get:function(){return u.Float16Vector}}),Object.defineProperty(e,"Float32Vector",{enumerable:!0,get:function(){return u.Float32Vector}}),Object.defineProperty(e,"Float64Vector",{enumerable:!0,get:function(){return u.Float64Vector}}),Object.defineProperty(e,"IntervalVector",{enumerable:!0,get:function(){return u.IntervalVector}}),Object.defineProperty(e,"IntervalDayTimeVector",{enumerable:!0,get:function(){return u.IntervalDayTimeVector}}),Object.defineProperty(e,"IntervalYearMonthVector",{enumerable:!0,get:function(){return u.IntervalYearMonthVector}}),Object.defineProperty(e,"IntVector",{enumerable:!0,get:function(){return u.IntVector}}),Object.defineProperty(e,"Int8Vector",{enumerable:!0,get:function(){return u.Int8Vector}}),Object.defineProperty(e,"Int16Vector",{enumerable:!0,get:function(){return u.Int16Vector}}),Object.defineProperty(e,"Int32Vector",{enumerable:!0,get:function(){return u.Int32Vector}}),Object.defineProperty(e,"Int64Vector",{enumerable:!0,get:function(){return u.Int64Vector}}),Object.defineProperty(e,"Uint8Vector",{enumerable:!0,get:function(){return u.Uint8Vector}}),Object.defineProperty(e,"Uint16Vector",{enumerable:!0,get:function(){return u.Uint16Vector}}),Object.defineProperty(e,"Uint32Vector",{enumerable:!0,get:function(){return u.Uint32Vector}}),Object.defineProperty(e,"Uint64Vector",{enumerable:!0,get:function(){return u.Uint64Vector}}),Object.defineProperty(e,"ListVector",{enumerable:!0,get:function(){return u.ListVector}}),Object.defineProperty(e,"MapVector",{enumerable:!0,get:function(){return u.MapVector}}),Object.defineProperty(e,"NullVector",{enumerable:!0,get:function(){return u.NullVector}}),Object.defineProperty(e,"StructVector",{enumerable:!0,get:function(){return u.StructVector}}),Object.defineProperty(e,"TimestampVector",{enumerable:!0,get:function(){return u.TimestampVector}}),Object.defineProperty(e,"TimestampSecondVector",{enumerable:!0,get:function(){return u.TimestampSecondVector}}),Object.defineProperty(e,"TimestampMillisecondVector",{enumerable:!0,get:function(){return u.TimestampMillisecondVector}}),Object.defineProperty(e,"TimestampMicrosecondVector",{enumerable:!0,get:function(){return u.TimestampMicrosecondVector}}),Object.defineProperty(e,"TimestampNanosecondVector",{enumerable:!0,get:function(){return u.TimestampNanosecondVector}}),Object.defineProperty(e,"TimeVector",{enumerable:!0,get:function(){return u.TimeVector}}),Object.defineProperty(e,"TimeSecondVector",{enumerable:!0,get:function(){return u.TimeSecondVector}}),Object.defineProperty(e,"TimeMillisecondVector",{enumerable:!0,get:function(){return u.TimeMillisecondVector}}),Object.defineProperty(e,"TimeMicrosecondVector",{enumerable:!0,get:function(){return u.TimeMicrosecondVector}}),Object.defineProperty(e,"TimeNanosecondVector",{enumerable:!0,get:function(){return u.TimeNanosecondVector}}),Object.defineProperty(e,"UnionVector",{enumerable:!0,get:function(){return u.UnionVector}}),Object.defineProperty(e,"DenseUnionVector",{enumerable:!0,get:function(){return u.DenseUnionVector}}),Object.defineProperty(e,"SparseUnionVector",{enumerable:!0,get:function(){return u.SparseUnionVector}}),Object.defineProperty(e,"Utf8Vector",{enumerable:!0,get:function(){return u.Utf8Vector}}),Object.defineProperty(e,"ByteStream",{enumerable:!0,get:function(){return u.ByteStream}}),Object.defineProperty(e,"AsyncByteStream",{enumerable:!0,get:function(){return u.AsyncByteStream}}),Object.defineProperty(e,"AsyncByteQueue",{enumerable:!0,get:function(){return u.AsyncByteQueue}}),Object.defineProperty(e,"RecordBatchReader",{enumerable:!0,get:function(){return u.RecordBatchReader}}),Object.defineProperty(e,"RecordBatchFileReader",{enumerable:!0,get:function(){return u.RecordBatchFileReader}}),Object.defineProperty(e,"RecordBatchStreamReader",{enumerable:!0,get:function(){return u.RecordBatchStreamReader}}),Object.defineProperty(e,"AsyncRecordBatchFileReader",{enumerable:!0,get:function(){return u.AsyncRecordBatchFileReader}}),Object.defineProperty(e,"AsyncRecordBatchStreamReader",{enumerable:!0,get:function(){return u.AsyncRecordBatchStreamReader}}),Object.defineProperty(e,"RecordBatchWriter",{enumerable:!0,get:function(){return u.RecordBatchWriter}}),Object.defineProperty(e,"RecordBatchFileWriter",{enumerable:!0,get:function(){return u.RecordBatchFileWriter}}),Object.defineProperty(e,"RecordBatchStreamWriter",{enumerable:!0,get:function(){return u.RecordBatchStreamWriter}}),Object.defineProperty(e,"RecordBatchJSONWriter",{enumerable:!0,get:function(){return u.RecordBatchJSONWriter}}),Object.defineProperty(e,"MessageReader",{enumerable:!0,get:function(){return u.MessageReader}}),Object.defineProperty(e,"AsyncMessageReader",{enumerable:!0,get:function(){return u.AsyncMessageReader}}),Object.defineProperty(e,"JSONMessageReader",{enumerable:!0,get:function(){return u.JSONMessageReader}}),Object.defineProperty(e,"Message",{enumerable:!0,get:function(){return u.Message}}),Object.defineProperty(e,"RecordBatch",{enumerable:!0,get:function(){return u.RecordBatch}}),Object.defineProperty(e,"DataFrame",{enumerable:!0,get:function(){return u.DataFrame}}),Object.defineProperty(e,"FilteredDataFrame",{enumerable:!0,get:function(){return u.FilteredDataFrame}}),Object.defineProperty(e,"CountByResult",{enumerable:!0,get:function(){return u.CountByResult}}),Object.defineProperty(e,"predicate",{enumerable:!0,get:function(){return u.predicate}}),Object.defineProperty(e,"util",{enumerable:!0,get:function(){return u.util}}),Object.defineProperty(e,"Builder",{enumerable:!0,get:function(){return u.Builder}}),Object.defineProperty(e,"BinaryBuilder",{enumerable:!0,get:function(){return u.BinaryBuilder}}),Object.defineProperty(e,"BoolBuilder",{enumerable:!0,get:function(){return u.BoolBuilder}}),Object.defineProperty(e,"DateBuilder",{enumerable:!0,get:function(){return u.DateBuilder}}),Object.defineProperty(e,"DateDayBuilder",{enumerable:!0,get:function(){return u.DateDayBuilder}}),Object.defineProperty(e,"DateMillisecondBuilder",{enumerable:!0,get:function(){return u.DateMillisecondBuilder}}),Object.defineProperty(e,"DecimalBuilder",{enumerable:!0,get:function(){return u.DecimalBuilder}}),Object.defineProperty(e,"DictionaryBuilder",{enumerable:!0,get:function(){return u.DictionaryBuilder}}),Object.defineProperty(e,"FixedSizeBinaryBuilder",{enumerable:!0,get:function(){return u.FixedSizeBinaryBuilder}}),Object.defineProperty(e,"FixedSizeListBuilder",{enumerable:!0,get:function(){return u.FixedSizeListBuilder}}),Object.defineProperty(e,"FloatBuilder",{enumerable:!0,get:function(){return u.FloatBuilder}}),Object.defineProperty(e,"Float16Builder",{enumerable:!0,get:function(){return u.Float16Builder}}),Object.defineProperty(e,"Float32Builder",{enumerable:!0,get:function(){return u.Float32Builder}}),Object.defineProperty(e,"Float64Builder",{enumerable:!0,get:function(){return u.Float64Builder}}),Object.defineProperty(e,"IntervalBuilder",{enumerable:!0,get:function(){return u.IntervalBuilder}}),Object.defineProperty(e,"IntervalDayTimeBuilder",{enumerable:!0,get:function(){return u.IntervalDayTimeBuilder}}),Object.defineProperty(e,"IntervalYearMonthBuilder",{enumerable:!0,get:function(){return u.IntervalYearMonthBuilder}}),Object.defineProperty(e,"IntBuilder",{enumerable:!0,get:function(){return u.IntBuilder}}),Object.defineProperty(e,"Int8Builder",{enumerable:!0,get:function(){return u.Int8Builder}}),Object.defineProperty(e,"Int16Builder",{enumerable:!0,get:function(){return u.Int16Builder}}),Object.defineProperty(e,"Int32Builder",{enumerable:!0,get:function(){return u.Int32Builder}}),Object.defineProperty(e,"Int64Builder",{enumerable:!0,get:function(){return u.Int64Builder}}),Object.defineProperty(e,"Uint8Builder",{enumerable:!0,get:function(){return u.Uint8Builder}}),Object.defineProperty(e,"Uint16Builder",{enumerable:!0,get:function(){return u.Uint16Builder}}),Object.defineProperty(e,"Uint32Builder",{enumerable:!0,get:function(){return u.Uint32Builder}}),Object.defineProperty(e,"Uint64Builder",{enumerable:!0,get:function(){return u.Uint64Builder}}),Object.defineProperty(e,"ListBuilder",{enumerable:!0,get:function(){return u.ListBuilder}}),Object.defineProperty(e,"MapBuilder",{enumerable:!0,get:function(){return u.MapBuilder}}),Object.defineProperty(e,"NullBuilder",{enumerable:!0,get:function(){return u.NullBuilder}}),Object.defineProperty(e,"StructBuilder",{enumerable:!0,get:function(){return u.StructBuilder}}),Object.defineProperty(e,"TimestampBuilder",{enumerable:!0,get:function(){return u.TimestampBuilder}}),Object.defineProperty(e,"TimestampSecondBuilder",{enumerable:!0,get:function(){return u.TimestampSecondBuilder}}),Object.defineProperty(e,"TimestampMillisecondBuilder",{enumerable:!0,get:function(){return u.TimestampMillisecondBuilder}}),Object.defineProperty(e,"TimestampMicrosecondBuilder",{enumerable:!0,get:function(){return u.TimestampMicrosecondBuilder}}),Object.defineProperty(e,"TimestampNanosecondBuilder",{enumerable:!0,get:function(){return u.TimestampNanosecondBuilder}}),Object.defineProperty(e,"TimeBuilder",{enumerable:!0,get:function(){return u.TimeBuilder}}),Object.defineProperty(e,"TimeSecondBuilder",{enumerable:!0,get:function(){return u.TimeSecondBuilder}}),Object.defineProperty(e,"TimeMillisecondBuilder",{enumerable:!0,get:function(){return u.TimeMillisecondBuilder}}),Object.defineProperty(e,"TimeMicrosecondBuilder",{enumerable:!0,get:function(){return u.TimeMicrosecondBuilder}}),Object.defineProperty(e,"TimeNanosecondBuilder",{enumerable:!0,get:function(){return u.TimeNanosecondBuilder}}),Object.defineProperty(e,"UnionBuilder",{enumerable:!0,get:function(){return u.UnionBuilder}}),Object.defineProperty(e,"DenseUnionBuilder",{enumerable:!0,get:function(){return u.DenseUnionBuilder}}),Object.defineProperty(e,"SparseUnionBuilder",{enumerable:!0,get:function(){return u.SparseUnionBuilder}}),Object.defineProperty(e,"Utf8Builder",{enumerable:!0,get:function(){return u.Utf8Builder}}),Object.defineProperty(e,"isTypedArray",{enumerable:!0,get:function(){return u.isTypedArray}})}(ou);const SR=Symbol("Comlink.proxy"),vR=Symbol("Comlink.endpoint"),LR=Symbol("Comlink.releaseProxy"),YR=Symbol("Comlink.thrown"),JR=e=>"object"==typeof e&&null!==e||"function"==typeof e,xR=new Map([["proxy",{canHandle:e=>JR(e)&&e[SR],serialize(e){const{port1:t,port2:n}=new MessageChannel;return gR(e,t),[n,[n]]},deserialize:e=>(e.start(),UR(e))}],["throw",{canHandle:e=>JR(e)&&YR in e,serialize({value:e}){let t;return t=e instanceof Error?{isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:{isError:!1,value:e},[t,[]]},deserialize(e){if(e.isError)throw Object.assign(new Error(e.value.message),e.value);throw e.value}}]]);function gR(e,t=self){t.addEventListener("message",(function n(l){if(!l||!l.data)return;const{id:i,type:r,path:a}=Object.assign({path:[]},l.data),c=(l.data.argumentList||[]).map(TR);let u;try{const t=a.slice(0,-1).reduce(((e,t)=>e[t]),e),n=a.reduce(((e,t)=>e[t]),e);switch(r){case"GET":u=n;break;case"SET":t[a.slice(-1)[0]]=TR(l.data.value),u=!0;break;case"APPLY":u=n.apply(t,c);break;case"CONSTRUCT":u=function(e){return Object.assign(e,{[SR]:!0})}(new n(...c));break;case"ENDPOINT":{const{port1:t,port2:n}=new MessageChannel;gR(e,n),u=BR(t,[t])}break;case"RELEASE":u=void 0;break;default:return}}catch(o){u={value:o,[YR]:0}}Promise.resolve(u).catch((e=>({value:e,[YR]:0}))).then((e=>{const[l,a]=FR(e);t.postMessage(Object.assign(Object.assign({},l),{id:i}),a),"RELEASE"===r&&(t.removeEventListener("message",n),HR(t))}))})),t.start&&t.start()}function HR(e){(function(e){return"MessagePort"===e.constructor.name})(e)&&e.close()}function UR(e,t){return KR(e,[],t)}function IR(e){if(e)throw new Error("Proxy has been released and is not useable")}function KR(e,t=[],n=function(){}){let l=!1;const i=new Proxy(n,{get(n,r){if(IR(l),r===LR)return()=>_R(e,{type:"RELEASE",path:t.map((e=>e.toString()))}).then((()=>{HR(e),l=!0}));if("then"===r){if(0===t.length)return{then:()=>i};const n=_R(e,{type:"GET",path:t.map((e=>e.toString()))}).then(TR);return n.then.bind(n)}return KR(e,[...t,r])},set(n,i,r){IR(l);const[a,c]=FR(r);return _R(e,{type:"SET",path:[...t,i].map((e=>e.toString())),value:a},c).then(TR)},apply(n,i,r){IR(l);const a=t[t.length-1];if(a===vR)return _R(e,{type:"ENDPOINT"}).then(TR);if("bind"===a)return KR(e,t.slice(0,-1));const[c,u]=NR(r);return _R(e,{type:"APPLY",path:t.map((e=>e.toString())),argumentList:c},u).then(TR)},construct(n,i){IR(l);const[r,a]=NR(i);return _R(e,{type:"CONSTRUCT",path:t.map((e=>e.toString())),argumentList:r},a).then(TR)}});return i}function NR(e){const t=e.map(FR);return[t.map((e=>e[0])),(n=t.map((e=>e[1])),Array.prototype.concat.apply([],n))];var n}const kR=new WeakMap;function BR(e,t){return kR.set(e,t),e}function FR(e){for(const[t,n]of xR)if(n.canHandle(e)){const[l,i]=n.serialize(e);return[{type:"HANDLER",name:t,value:l},i]}return[{type:"RAW",value:e},kR.get(e)||[]]}function TR(e){switch(e.type){case"HANDLER":return xR.get(e.name).deserialize(e.value);case"RAW":return e.value}}function _R(e,t,n){return new Promise((l=>{const i=new Array(4).fill(0).map((()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16))).join("-");e.addEventListener("message",(function t(n){n.data&&n.data.id&&n.data.id===i&&(e.removeEventListener("message",t),l(n.data))})),e.start&&e.start(),e.postMessage(Object.assign({id:i},t),n)}))}class wR extends Map{get_count(e){return super.get(e)||0}get_counter(e){const t=super.get(e);return t||(super.set(e,new wR),super.get(e))}merge(e){for(let t of e.value_iter())this.add(...t)}inc(...e){this.add(1,...e)}add(e,...t){if(1===t.length)this.set(t[0],this.get_count(t[0])+e);else{this.get_counter(t[0]).add(e,...t.slice(1))}}is_counter(){}values(){return Array.from(this.value_iter())}*value_iter(){for(let[e,t]of this.entries())if(t.is_counter)for(let n of t.value_iter())yield[n[0],e,...n.slice(1)];else yield[t,e]}}const CR=new Blob([atob("IWZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2NvbnN0IGU9U3ltYm9sKCJDb21saW5rLnByb3h5IiksdD1TeW1ib2woIkNvbWxpbmsuZW5kcG9pbnQiKSxyPVN5bWJvbCgiQ29tbGluay5yZWxlYXNlUHJveHkiKSxuPVN5bWJvbCgiQ29tbGluay50aHJvd24iKSxpPWU9PiJvYmplY3QiPT10eXBlb2YgZSYmbnVsbCE9PWV8fCJmdW5jdGlvbiI9PXR5cGVvZiBlLG89bmV3IE1hcChbWyJwcm94eSIse2NhbkhhbmRsZTp0PT5pKHQpJiZ0W2VdLHNlcmlhbGl6ZShlKXtjb25zdHtwb3J0MTp0LHBvcnQyOnJ9PW5ldyBNZXNzYWdlQ2hhbm5lbDtyZXR1cm4gYShlLHQpLFtyLFtyXV19LGRlc2VyaWFsaXplKGUpe3JldHVybiBlLnN0YXJ0KCksYyhlLFtdLHQpO3ZhciB0fX1dLFsidGhyb3ciLHtjYW5IYW5kbGU6ZT0+aShlKSYmbiBpbiBlLHNlcmlhbGl6ZSh7dmFsdWU6ZX0pe2xldCB0O3JldHVybiB0PWUgaW5zdGFuY2VvZiBFcnJvcj97aXNFcnJvcjohMCx2YWx1ZTp7bWVzc2FnZTplLm1lc3NhZ2UsbmFtZTplLm5hbWUsc3RhY2s6ZS5zdGFja319Ontpc0Vycm9yOiExLHZhbHVlOmV9LFt0LFtdXX0sZGVzZXJpYWxpemUoZSl7aWYoZS5pc0Vycm9yKXRocm93IE9iamVjdC5hc3NpZ24obmV3IEVycm9yKGUudmFsdWUubWVzc2FnZSksZS52YWx1ZSk7dGhyb3cgZS52YWx1ZX19XV0pO2Z1bmN0aW9uIGEodCxyPXNlbGYpe3IuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGZ1bmN0aW9uIGkobyl7aWYoIW98fCFvLmRhdGEpcmV0dXJuO2NvbnN0e2lkOnMsdHlwZTpjLHBhdGg6bH09T2JqZWN0LmFzc2lnbih7cGF0aDpbXX0sby5kYXRhKSxmPShvLmRhdGEuYXJndW1lbnRMaXN0fHxbXSkubWFwKHkpO2xldCBoO3RyeXtjb25zdCByPWwuc2xpY2UoMCwtMSkucmVkdWNlKCgoZSx0KT0+ZVt0XSksdCksbj1sLnJlZHVjZSgoKGUsdCk9PmVbdF0pLHQpO3N3aXRjaChjKXtjYXNlIkdFVCI6aD1uO2JyZWFrO2Nhc2UiU0VUIjpyW2wuc2xpY2UoLTEpWzBdXT15KG8uZGF0YS52YWx1ZSksaD0hMDticmVhaztjYXNlIkFQUExZIjpoPW4uYXBwbHkocixmKTticmVhaztjYXNlIkNPTlNUUlVDVCI6aD1mdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmFzc2lnbih0LHtbZV06ITB9KX0obmV3IG4oLi4uZikpO2JyZWFrO2Nhc2UiRU5EUE9JTlQiOntjb25zdHtwb3J0MTplLHBvcnQyOnJ9PW5ldyBNZXNzYWdlQ2hhbm5lbDthKHQsciksaD1kKGUsW2VdKX1icmVhaztjYXNlIlJFTEVBU0UiOmg9dm9pZCAwO2JyZWFrO2RlZmF1bHQ6cmV0dXJufX1jYXRjaChiKXtoPXt2YWx1ZTpiLFtuXTowfX1Qcm9taXNlLnJlc29sdmUoaCkuY2F0Y2goKGU9Pih7dmFsdWU6ZSxbbl06MH0pKSkudGhlbigoZT0+e2NvbnN0W3Qsbl09cChlKTtyLnBvc3RNZXNzYWdlKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSx0KSx7aWQ6c30pLG4pLCJSRUxFQVNFIj09PWMmJihyLnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLGkpLHUocikpfSkpfSkpLHIuc3RhcnQmJnIuc3RhcnQoKX1mdW5jdGlvbiB1KGUpeyhmdW5jdGlvbihlKXtyZXR1cm4iTWVzc2FnZVBvcnQiPT09ZS5jb25zdHJ1Y3Rvci5uYW1lfSkoZSkmJmUuY2xvc2UoKX1mdW5jdGlvbiBzKGUpe2lmKGUpdGhyb3cgbmV3IEVycm9yKCJQcm94eSBoYXMgYmVlbiByZWxlYXNlZCBhbmQgaXMgbm90IHVzZWFibGUiKX1mdW5jdGlvbiBjKGUsbj1bXSxpPWZ1bmN0aW9uKCl7fSl7bGV0IG89ITE7Y29uc3QgYT1uZXcgUHJveHkoaSx7Z2V0KHQsaSl7aWYocyhvKSxpPT09cilyZXR1cm4oKT0+aChlLHt0eXBlOiJSRUxFQVNFIixwYXRoOm4ubWFwKChlPT5lLnRvU3RyaW5nKCkpKX0pLnRoZW4oKCgpPT57dShlKSxvPSEwfSkpO2lmKCJ0aGVuIj09PWkpe2lmKDA9PT1uLmxlbmd0aClyZXR1cm57dGhlbjooKT0+YX07Y29uc3QgdD1oKGUse3R5cGU6IkdFVCIscGF0aDpuLm1hcCgoZT0+ZS50b1N0cmluZygpKSl9KS50aGVuKHkpO3JldHVybiB0LnRoZW4uYmluZCh0KX1yZXR1cm4gYyhlLFsuLi5uLGldKX0sc2V0KHQscixpKXtzKG8pO2NvbnN0W2EsdV09cChpKTtyZXR1cm4gaChlLHt0eXBlOiJTRVQiLHBhdGg6Wy4uLm4scl0ubWFwKChlPT5lLnRvU3RyaW5nKCkpKSx2YWx1ZTphfSx1KS50aGVuKHkpfSxhcHBseShyLGksYSl7cyhvKTtjb25zdCB1PW5bbi5sZW5ndGgtMV07aWYodT09PXQpcmV0dXJuIGgoZSx7dHlwZToiRU5EUE9JTlQifSkudGhlbih5KTtpZigiYmluZCI9PT11KXJldHVybiBjKGUsbi5zbGljZSgwLC0xKSk7Y29uc3RbZixkXT1sKGEpO3JldHVybiBoKGUse3R5cGU6IkFQUExZIixwYXRoOm4ubWFwKChlPT5lLnRvU3RyaW5nKCkpKSxhcmd1bWVudExpc3Q6Zn0sZCkudGhlbih5KX0sY29uc3RydWN0KHQscil7cyhvKTtjb25zdFtpLGFdPWwocik7cmV0dXJuIGgoZSx7dHlwZToiQ09OU1RSVUNUIixwYXRoOm4ubWFwKChlPT5lLnRvU3RyaW5nKCkpKSxhcmd1bWVudExpc3Q6aX0sYSkudGhlbih5KX19KTtyZXR1cm4gYX1mdW5jdGlvbiBsKGUpe2NvbnN0IHQ9ZS5tYXAocCk7cmV0dXJuW3QubWFwKChlPT5lWzBdKSksKHI9dC5tYXAoKGU9PmVbMV0pKSxBcnJheS5wcm90b3R5cGUuY29uY2F0LmFwcGx5KFtdLHIpKV07dmFyIHJ9Y29uc3QgZj1uZXcgV2Vha01hcDtmdW5jdGlvbiBkKGUsdCl7cmV0dXJuIGYuc2V0KGUsdCksZX1mdW5jdGlvbiBwKGUpe2Zvcihjb25zdFt0LHJdb2YgbylpZihyLmNhbkhhbmRsZShlKSl7Y29uc3RbbixpXT1yLnNlcmlhbGl6ZShlKTtyZXR1cm5be3R5cGU6IkhBTkRMRVIiLG5hbWU6dCx2YWx1ZTpufSxpXX1yZXR1cm5be3R5cGU6IlJBVyIsdmFsdWU6ZX0sZi5nZXQoZSl8fFtdXX1mdW5jdGlvbiB5KGUpe3N3aXRjaChlLnR5cGUpe2Nhc2UiSEFORExFUiI6cmV0dXJuIG8uZ2V0KGUubmFtZSkuZGVzZXJpYWxpemUoZS52YWx1ZSk7Y2FzZSJSQVciOnJldHVybiBlLnZhbHVlfX1mdW5jdGlvbiBoKGUsdCxyKXtyZXR1cm4gbmV3IFByb21pc2UoKG49Pntjb25zdCBpPW5ldyBBcnJheSg0KS5maWxsKDApLm1hcCgoKCk9Pk1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSpOdW1iZXIuTUFYX1NBRkVfSU5URUdFUikudG9TdHJpbmcoMTYpKSkuam9pbigiLSIpO2UuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGZ1bmN0aW9uIHQocil7ci5kYXRhJiZyLmRhdGEuaWQmJnIuZGF0YS5pZD09PWkmJihlLnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLHQpLG4oci5kYXRhKSl9KSksZS5zdGFydCYmZS5zdGFydCgpLGUucG9zdE1lc3NhZ2UoT2JqZWN0LmFzc2lnbih7aWQ6aX0sdCkscil9KSl9dmFyIGI9InVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWxUaGlzP2dsb2JhbFRoaXM6InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjp7fTtmdW5jdGlvbiB2KGUpe2lmKGUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3JldHVybiBPYmplY3Qua2V5cyhlKS5mb3JFYWNoKChmdW5jdGlvbihyKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUscik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQscixuLmdldD9uOntlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBlW3JdfX0pfSkpLHR9dmFyIF8sbSxnLEIsVCxJLHcsTyxTLEEsRCxWLFAsTSxGLFUsaix4LEwsUixOLEUsQyx6LGssVz17fSxZPXt9LEg9e2V4cG9ydHM6e319OwovKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKICAgICAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uCiAgCiAgICAgIFBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueQogICAgICBwdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuCiAgCiAgICAgIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCAiQVMgSVMiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRICiAgICAgIFJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWQogICAgICBBTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsCiAgICAgIElORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTQogICAgICBMT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUgogICAgICBPVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SCiAgICAgIFBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuCiAgICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovCl89SCxmdW5jdGlvbihlKXt2YXIgdD0ib2JqZWN0Ij09dHlwZW9mIGI/Yjoib2JqZWN0Ij09dHlwZW9mIHNlbGY/c2VsZjoib2JqZWN0Ij09dHlwZW9mIHRoaXM/dGhpczp7fTtmdW5jdGlvbiByKGUscil7cmV0dXJuIGUhPT10JiYoImZ1bmN0aW9uIj09dHlwZW9mIE9iamVjdC5jcmVhdGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pOmUuX19lc01vZHVsZT0hMCksZnVuY3Rpb24odCxuKXtyZXR1cm4gZVt0XT1yP3IodCxuKTpufX0hZnVuY3Rpb24oZSl7dmFyIHQ9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJihlW3JdPXRbcl0pfTttPWZ1bmN0aW9uKGUscil7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHImJm51bGwhPT1yKXRocm93IG5ldyBUeXBlRXJyb3IoIkNsYXNzIGV4dGVuZHMgdmFsdWUgIitTdHJpbmcocikrIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsIik7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9ZX10KGUsciksZS5wcm90b3R5cGU9bnVsbD09PXI/T2JqZWN0LmNyZWF0ZShyKToobi5wcm90b3R5cGU9ci5wcm90b3R5cGUsbmV3IG4pfSxnPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyPTEsbj1hcmd1bWVudHMubGVuZ3RoO3I8bjtyKyspZm9yKHZhciBpIGluIHQ9YXJndW1lbnRzW3JdKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGkpJiYoZVtpXT10W2ldKTtyZXR1cm4gZX0sQj1mdW5jdGlvbihlLHQpe3ZhciByPXt9O2Zvcih2YXIgbiBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLG4pJiZ0LmluZGV4T2Yobik8MCYmKHJbbl09ZVtuXSk7aWYobnVsbCE9ZSYmImZ1bmN0aW9uIj09dHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBpPTA7Zm9yKG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTtpPG4ubGVuZ3RoO2krKyl0LmluZGV4T2YobltpXSk8MCYmT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKGUsbltpXSkmJihyW25baV1dPWVbbltpXV0pfXJldHVybiByfSxUPWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBpLG89YXJndW1lbnRzLmxlbmd0aCxhPW88Mz90Om51bGw9PT1uP249T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LHIpOm47aWYoIm9iamVjdCI9PXR5cGVvZiBSZWZsZWN0JiYiZnVuY3Rpb24iPT10eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSlhPVJlZmxlY3QuZGVjb3JhdGUoZSx0LHIsbik7ZWxzZSBmb3IodmFyIHU9ZS5sZW5ndGgtMTt1Pj0wO3UtLSkoaT1lW3VdKSYmKGE9KG88Mz9pKGEpOm8+Mz9pKHQscixhKTppKHQscikpfHxhKTtyZXR1cm4gbz4zJiZhJiZPYmplY3QuZGVmaW5lUHJvcGVydHkodCxyLGEpLGF9LEk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24ocixuKXt0KHIsbixlKX19LHc9ZnVuY3Rpb24oZSx0KXtpZigib2JqZWN0Ij09dHlwZW9mIFJlZmxlY3QmJiJmdW5jdGlvbiI9PXR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhKXJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKGUsdCl9LE89ZnVuY3Rpb24oZSx0LHIsbil7ZnVuY3Rpb24gaShlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIHI/ZTpuZXcgcigoZnVuY3Rpb24odCl7dChlKX0pKX1yZXR1cm4gbmV3KHJ8fChyPVByb21pc2UpKSgoZnVuY3Rpb24ocixvKXtmdW5jdGlvbiBhKGUpe3RyeXtzKG4ubmV4dChlKSl9Y2F0Y2godCl7byh0KX19ZnVuY3Rpb24gdShlKXt0cnl7cyhuLnRocm93KGUpKX1jYXRjaCh0KXtvKHQpfX1mdW5jdGlvbiBzKGUpe2UuZG9uZT9yKGUudmFsdWUpOmkoZS52YWx1ZSkudGhlbihhLHUpfXMoKG49bi5hcHBseShlLHR8fFtdKSkubmV4dCgpKX0pKX0sUz1mdW5jdGlvbihlLHQpe3ZhciByLG4saSxvLGE9e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmaVswXSl0aHJvdyBpWzFdO3JldHVybiBpWzFdfSx0cnlzOltdLG9wczpbXX07cmV0dXJuIG89e25leHQ6dSgwKSx0aHJvdzp1KDEpLHJldHVybjp1KDIpfSwiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYob1tTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxvO2Z1bmN0aW9uIHUoZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBzKFtlLHRdKX19ZnVuY3Rpb24gcyhvKXtpZihyKXRocm93IG5ldyBUeXBlRXJyb3IoIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy4iKTtmb3IoO2E7KXRyeXtpZihyPTEsbiYmKGk9MiZvWzBdP24ucmV0dXJuOm9bMF0/bi50aHJvd3x8KChpPW4ucmV0dXJuKSYmaS5jYWxsKG4pLDApOm4ubmV4dCkmJiEoaT1pLmNhbGwobixvWzFdKSkuZG9uZSlyZXR1cm4gaTtzd2l0Y2gobj0wLGkmJihvPVsyJm9bMF0saS52YWx1ZV0pLG9bMF0pe2Nhc2UgMDpjYXNlIDE6aT1vO2JyZWFrO2Nhc2UgNDpyZXR1cm4gYS5sYWJlbCsrLHt2YWx1ZTpvWzFdLGRvbmU6ITF9O2Nhc2UgNTphLmxhYmVsKyssbj1vWzFdLG89WzBdO2NvbnRpbnVlO2Nhc2UgNzpvPWEub3BzLnBvcCgpLGEudHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEoKGk9KGk9YS50cnlzKS5sZW5ndGg+MCYmaVtpLmxlbmd0aC0xXSl8fDYhPT1vWzBdJiYyIT09b1swXSkpe2E9MDtjb250aW51ZX1pZigzPT09b1swXSYmKCFpfHxvWzFdPmlbMF0mJm9bMV08aVszXSkpe2EubGFiZWw9b1sxXTticmVha31pZig2PT09b1swXSYmYS5sYWJlbDxpWzFdKXthLmxhYmVsPWlbMV0saT1vO2JyZWFrfWlmKGkmJmEubGFiZWw8aVsyXSl7YS5sYWJlbD1pWzJdLGEub3BzLnB1c2gobyk7YnJlYWt9aVsyXSYmYS5vcHMucG9wKCksYS50cnlzLnBvcCgpO2NvbnRpbnVlfW89dC5jYWxsKGUsYSl9Y2F0Y2godSl7bz1bNix1XSxuPTB9ZmluYWxseXtyPWk9MH1pZig1Jm9bMF0pdGhyb3cgb1sxXTtyZXR1cm57dmFsdWU6b1swXT9vWzFdOnZvaWQgMCxkb25lOiEwfX19LEE9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIgaW4gZSkiZGVmYXVsdCI9PT1yfHxPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxyKXx8ayh0LGUscil9LGs9T2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihlLHQscixuKXt2b2lkIDA9PT1uJiYobj1yKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0W3JdfX0pfTpmdW5jdGlvbihlLHQscixuKXt2b2lkIDA9PT1uJiYobj1yKSxlW25dPXRbcl19LEQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLml0ZXJhdG9yLHI9dCYmZVt0XSxuPTA7aWYocilyZXR1cm4gci5jYWxsKGUpO2lmKGUmJiJudW1iZXIiPT10eXBlb2YgZS5sZW5ndGgpcmV0dXJue25leHQ6ZnVuY3Rpb24oKXtyZXR1cm4gZSYmbj49ZS5sZW5ndGgmJihlPXZvaWQgMCkse3ZhbHVlOmUmJmVbbisrXSxkb25lOiFlfX19O3Rocm93IG5ldyBUeXBlRXJyb3IodD8iT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS4iOiJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuIil9LFY9ZnVuY3Rpb24oZSx0KXt2YXIgcj0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlW1N5bWJvbC5pdGVyYXRvcl07aWYoIXIpcmV0dXJuIGU7dmFyIG4saSxvPXIuY2FsbChlKSxhPVtdO3RyeXtmb3IoOyh2b2lkIDA9PT10fHx0LS0gPjApJiYhKG49by5uZXh0KCkpLmRvbmU7KWEucHVzaChuLnZhbHVlKX1jYXRjaCh1KXtpPXtlcnJvcjp1fX1maW5hbGx5e3RyeXtuJiYhbi5kb25lJiYocj1vLnJldHVybikmJnIuY2FsbChvKX1maW5hbGx5e2lmKGkpdGhyb3cgaS5lcnJvcn19cmV0dXJuIGF9LFA9ZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspZT1lLmNvbmNhdChWKGFyZ3VtZW50c1t0XSkpO3JldHVybiBlfSxNPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPTAsdD0wLHI9YXJndW1lbnRzLmxlbmd0aDt0PHI7dCsrKWUrPWFyZ3VtZW50c1t0XS5sZW5ndGg7dmFyIG49QXJyYXkoZSksaT0wO2Zvcih0PTA7dDxyO3QrKylmb3IodmFyIG89YXJndW1lbnRzW3RdLGE9MCx1PW8ubGVuZ3RoO2E8dTthKyssaSsrKW5baV09b1thXTtyZXR1cm4gbn0sRj1mdW5jdGlvbihlLHQscil7aWYocnx8Mj09PWFyZ3VtZW50cy5sZW5ndGgpZm9yKHZhciBuLGk9MCxvPXQubGVuZ3RoO2k8bztpKyspIW4mJmkgaW4gdHx8KG58fChuPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHQsMCxpKSksbltpXT10W2ldKTtyZXR1cm4gZS5jb25jYXQobnx8QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodCkpfSxVPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzIGluc3RhbmNlb2YgVT8odGhpcy52PWUsdGhpcyk6bmV3IFUoZSl9LGo9ZnVuY3Rpb24oZSx0LHIpe2lmKCFTeW1ib2wuYXN5bmNJdGVyYXRvcil0aHJvdyBuZXcgVHlwZUVycm9yKCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC4iKTt2YXIgbixpPXIuYXBwbHkoZSx0fHxbXSksbz1bXTtyZXR1cm4gbj17fSxhKCJuZXh0IiksYSgidGhyb3ciKSxhKCJyZXR1cm4iKSxuW1N5bWJvbC5hc3luY0l0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxuO2Z1bmN0aW9uIGEoZSl7aVtlXSYmKG5bZV09ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihyLG4pe28ucHVzaChbZSx0LHIsbl0pPjF8fHUoZSx0KX0pKX0pfWZ1bmN0aW9uIHUoZSx0KXt0cnl7cyhpW2VdKHQpKX1jYXRjaChyKXtmKG9bMF1bM10scil9fWZ1bmN0aW9uIHMoZSl7ZS52YWx1ZSBpbnN0YW5jZW9mIFU/UHJvbWlzZS5yZXNvbHZlKGUudmFsdWUudikudGhlbihjLGwpOmYob1swXVsyXSxlKX1mdW5jdGlvbiBjKGUpe3UoIm5leHQiLGUpfWZ1bmN0aW9uIGwoZSl7dSgidGhyb3ciLGUpfWZ1bmN0aW9uIGYoZSx0KXtlKHQpLG8uc2hpZnQoKSxvLmxlbmd0aCYmdShvWzBdWzBdLG9bMF1bMV0pfX0seD1mdW5jdGlvbihlKXt2YXIgdCxyO3JldHVybiB0PXt9LG4oIm5leHQiKSxuKCJ0aHJvdyIsKGZ1bmN0aW9uKGUpe3Rocm93IGV9KSksbigicmV0dXJuIiksdFtTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LHQ7ZnVuY3Rpb24gbihuLGkpe3Rbbl09ZVtuXT9mdW5jdGlvbih0KXtyZXR1cm4ocj0hcik/e3ZhbHVlOlUoZVtuXSh0KSksZG9uZToicmV0dXJuIj09PW59Omk/aSh0KTp0fTppfX0sTD1mdW5jdGlvbihlKXtpZighU3ltYm9sLmFzeW5jSXRlcmF0b3IpdGhyb3cgbmV3IFR5cGVFcnJvcigiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuIik7dmFyIHQscj1lW1N5bWJvbC5hc3luY0l0ZXJhdG9yXTtyZXR1cm4gcj9yLmNhbGwoZSk6KGU9RChlKSx0PXt9LG4oIm5leHQiKSxuKCJ0aHJvdyIpLG4oInJldHVybiIpLHRbU3ltYm9sLmFzeW5jSXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LHQpO2Z1bmN0aW9uIG4ocil7dFtyXT1lW3JdJiZmdW5jdGlvbih0KXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4sbyl7aShuLG8sKHQ9ZVtyXSh0KSkuZG9uZSx0LnZhbHVlKX0pKX19ZnVuY3Rpb24gaShlLHQscixuKXtQcm9taXNlLnJlc29sdmUobikudGhlbigoZnVuY3Rpb24odCl7ZSh7dmFsdWU6dCxkb25lOnJ9KX0pLHQpfX0sUj1mdW5jdGlvbihlLHQpe3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHk/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsInJhdyIse3ZhbHVlOnR9KTplLnJhdz10LGV9O3ZhciByPU9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oZSx0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiZGVmYXVsdCIse2VudW1lcmFibGU6ITAsdmFsdWU6dH0pfTpmdW5jdGlvbihlLHQpe2UuZGVmYXVsdD10fTtOPWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgbiBpbiBlKSJkZWZhdWx0IiE9PW4mJk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLG4pJiZrKHQsZSxuKTtyZXR1cm4gcih0LGUpLHR9LEU9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fSxDPWZ1bmN0aW9uKGUsdCxyLG4pe2lmKCJhIj09PXImJiFuKXRocm93IG5ldyBUeXBlRXJyb3IoIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIGdldHRlciIpO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiB0P2UhPT10fHwhbjohdC5oYXMoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IHJlYWQgcHJpdmF0ZSBtZW1iZXIgZnJvbSBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0Iik7cmV0dXJuIm0iPT09cj9uOiJhIj09PXI/bi5jYWxsKGUpOm4/bi52YWx1ZTp0LmdldChlKX0sej1mdW5jdGlvbihlLHQscixuLGkpe2lmKCJtIj09PW4pdGhyb3cgbmV3IFR5cGVFcnJvcigiUHJpdmF0ZSBtZXRob2QgaXMgbm90IHdyaXRhYmxlIik7aWYoImEiPT09biYmIWkpdGhyb3cgbmV3IFR5cGVFcnJvcigiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgc2V0dGVyIik7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHQ/ZSE9PXR8fCFpOiF0LmhhcyhlKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3Qgd3JpdGUgcHJpdmF0ZSBtZW1iZXIgdG8gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdCIpO3JldHVybiJhIj09PW4/aS5jYWxsKGUscik6aT9pLnZhbHVlPXI6dC5zZXQoZSxyKSxyfSxlKCJfX2V4dGVuZHMiLG0pLGUoIl9fYXNzaWduIixnKSxlKCJfX3Jlc3QiLEIpLGUoIl9fZGVjb3JhdGUiLFQpLGUoIl9fcGFyYW0iLEkpLGUoIl9fbWV0YWRhdGEiLHcpLGUoIl9fYXdhaXRlciIsTyksZSgiX19nZW5lcmF0b3IiLFMpLGUoIl9fZXhwb3J0U3RhciIsQSksZSgiX19jcmVhdGVCaW5kaW5nIixrKSxlKCJfX3ZhbHVlcyIsRCksZSgiX19yZWFkIixWKSxlKCJfX3NwcmVhZCIsUCksZSgiX19zcHJlYWRBcnJheXMiLE0pLGUoIl9fc3ByZWFkQXJyYXkiLEYpLGUoIl9fYXdhaXQiLFUpLGUoIl9fYXN5bmNHZW5lcmF0b3IiLGopLGUoIl9fYXN5bmNEZWxlZ2F0b3IiLHgpLGUoIl9fYXN5bmNWYWx1ZXMiLEwpLGUoIl9fbWFrZVRlbXBsYXRlT2JqZWN0IixSKSxlKCJfX2ltcG9ydFN0YXIiLE4pLGUoIl9faW1wb3J0RGVmYXVsdCIsRSksZSgiX19jbGFzc1ByaXZhdGVGaWVsZEdldCIsQyksZSgiX19jbGFzc1ByaXZhdGVGaWVsZFNldCIseil9KHIodCxyKF8uZXhwb3J0cykpKX0oKTt2YXIgRz17fSxKPXt9O0ouT2Zmc2V0LEouVGFibGUsSi5TSVpFT0ZfU0hPUlQ9MixKLlNJWkVPRl9JTlQ9NCxKLkZJTEVfSURFTlRJRklFUl9MRU5HVEg9NCxKLlNJWkVfUFJFRklYX0xFTkdUSD00LEouRW5jb2Rpbmc9e1VURjhfQllURVM6MSxVVEYxNl9TVFJJTkc6Mn0sSi5pbnQzMj1uZXcgSW50MzJBcnJheSgyKSxKLmZsb2F0MzI9bmV3IEZsb2F0MzJBcnJheShKLmludDMyLmJ1ZmZlciksSi5mbG9hdDY0PW5ldyBGbG9hdDY0QXJyYXkoSi5pbnQzMi5idWZmZXIpLEouaXNMaXR0bGVFbmRpYW49MT09PW5ldyBVaW50MTZBcnJheShuZXcgVWludDhBcnJheShbMSwwXSkuYnVmZmVyKVswXSxKLkxvbmc9ZnVuY3Rpb24oZSx0KXt0aGlzLmxvdz0wfGUsdGhpcy5oaWdoPTB8dH0sSi5Mb25nLmNyZWF0ZT1mdW5jdGlvbihlLHQpe3JldHVybiAwPT1lJiYwPT10P0ouTG9uZy5aRVJPOm5ldyBKLkxvbmcoZSx0KX0sSi5Mb25nLnByb3RvdHlwZS50b0Zsb2F0NjQ9ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy5sb3c+Pj4wKSs0Mjk0OTY3Mjk2KnRoaXMuaGlnaH0sSi5Mb25nLnByb3RvdHlwZS5lcXVhbHM9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubG93PT1lLmxvdyYmdGhpcy5oaWdoPT1lLmhpZ2h9LEouTG9uZy5aRVJPPW5ldyBKLkxvbmcoMCwwKSxKLkJ1aWxkZXI9ZnVuY3Rpb24oZSl7aWYoZSl0PWU7ZWxzZSB2YXIgdD0xMDI0O3RoaXMuYmI9Si5CeXRlQnVmZmVyLmFsbG9jYXRlKHQpLHRoaXMuc3BhY2U9dCx0aGlzLm1pbmFsaWduPTEsdGhpcy52dGFibGU9bnVsbCx0aGlzLnZ0YWJsZV9pbl91c2U9MCx0aGlzLmlzTmVzdGVkPSExLHRoaXMub2JqZWN0X3N0YXJ0PTAsdGhpcy52dGFibGVzPVtdLHRoaXMudmVjdG9yX251bV9lbGVtcz0wLHRoaXMuZm9yY2VfZGVmYXVsdHM9ITF9LEouQnVpbGRlci5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLmJiLmNsZWFyKCksdGhpcy5zcGFjZT10aGlzLmJiLmNhcGFjaXR5KCksdGhpcy5taW5hbGlnbj0xLHRoaXMudnRhYmxlPW51bGwsdGhpcy52dGFibGVfaW5fdXNlPTAsdGhpcy5pc05lc3RlZD0hMSx0aGlzLm9iamVjdF9zdGFydD0wLHRoaXMudnRhYmxlcz1bXSx0aGlzLnZlY3Rvcl9udW1fZWxlbXM9MCx0aGlzLmZvcmNlX2RlZmF1bHRzPSExfSxKLkJ1aWxkZXIucHJvdG90eXBlLmZvcmNlRGVmYXVsdHM9ZnVuY3Rpb24oZSl7dGhpcy5mb3JjZV9kZWZhdWx0cz1lfSxKLkJ1aWxkZXIucHJvdG90eXBlLmRhdGFCdWZmZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iYn0sSi5CdWlsZGVyLnByb3RvdHlwZS5hc1VpbnQ4QXJyYXk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iYi5ieXRlcygpLnN1YmFycmF5KHRoaXMuYmIucG9zaXRpb24oKSx0aGlzLmJiLnBvc2l0aW9uKCkrdGhpcy5vZmZzZXQoKSl9LEouQnVpbGRlci5wcm90b3R5cGUucHJlcD1mdW5jdGlvbihlLHQpe2U+dGhpcy5taW5hbGlnbiYmKHRoaXMubWluYWxpZ249ZSk7Zm9yKHZhciByPTErfih0aGlzLmJiLmNhcGFjaXR5KCktdGhpcy5zcGFjZSt0KSZlLTE7dGhpcy5zcGFjZTxyK2UrdDspe3ZhciBuPXRoaXMuYmIuY2FwYWNpdHkoKTt0aGlzLmJiPUouQnVpbGRlci5ncm93Qnl0ZUJ1ZmZlcih0aGlzLmJiKSx0aGlzLnNwYWNlKz10aGlzLmJiLmNhcGFjaXR5KCktbn10aGlzLnBhZChyKX0sSi5CdWlsZGVyLnByb3RvdHlwZS5wYWQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA7dDxlO3QrKyl0aGlzLmJiLndyaXRlSW50OCgtLXRoaXMuc3BhY2UsMCl9LEouQnVpbGRlci5wcm90b3R5cGUud3JpdGVJbnQ4PWZ1bmN0aW9uKGUpe3RoaXMuYmIud3JpdGVJbnQ4KHRoaXMuc3BhY2UtPTEsZSl9LEouQnVpbGRlci5wcm90b3R5cGUud3JpdGVJbnQxNj1mdW5jdGlvbihlKXt0aGlzLmJiLndyaXRlSW50MTYodGhpcy5zcGFjZS09MixlKX0sSi5CdWlsZGVyLnByb3RvdHlwZS53cml0ZUludDMyPWZ1bmN0aW9uKGUpe3RoaXMuYmIud3JpdGVJbnQzMih0aGlzLnNwYWNlLT00LGUpfSxKLkJ1aWxkZXIucHJvdG90eXBlLndyaXRlSW50NjQ9ZnVuY3Rpb24oZSl7dGhpcy5iYi53cml0ZUludDY0KHRoaXMuc3BhY2UtPTgsZSl9LEouQnVpbGRlci5wcm90b3R5cGUud3JpdGVGbG9hdDMyPWZ1bmN0aW9uKGUpe3RoaXMuYmIud3JpdGVGbG9hdDMyKHRoaXMuc3BhY2UtPTQsZSl9LEouQnVpbGRlci5wcm90b3R5cGUud3JpdGVGbG9hdDY0PWZ1bmN0aW9uKGUpe3RoaXMuYmIud3JpdGVGbG9hdDY0KHRoaXMuc3BhY2UtPTgsZSl9LEouQnVpbGRlci5wcm90b3R5cGUuYWRkSW50OD1mdW5jdGlvbihlKXt0aGlzLnByZXAoMSwwKSx0aGlzLndyaXRlSW50OChlKX0sSi5CdWlsZGVyLnByb3RvdHlwZS5hZGRJbnQxNj1mdW5jdGlvbihlKXt0aGlzLnByZXAoMiwwKSx0aGlzLndyaXRlSW50MTYoZSl9LEouQnVpbGRlci5wcm90b3R5cGUuYWRkSW50MzI9ZnVuY3Rpb24oZSl7dGhpcy5wcmVwKDQsMCksdGhpcy53cml0ZUludDMyKGUpfSxKLkJ1aWxkZXIucHJvdG90eXBlLmFkZEludDY0PWZ1bmN0aW9uKGUpe3RoaXMucHJlcCg4LDApLHRoaXMud3JpdGVJbnQ2NChlKX0sSi5CdWlsZGVyLnByb3RvdHlwZS5hZGRGbG9hdDMyPWZ1bmN0aW9uKGUpe3RoaXMucHJlcCg0LDApLHRoaXMud3JpdGVGbG9hdDMyKGUpfSxKLkJ1aWxkZXIucHJvdG90eXBlLmFkZEZsb2F0NjQ9ZnVuY3Rpb24oZSl7dGhpcy5wcmVwKDgsMCksdGhpcy53cml0ZUZsb2F0NjQoZSl9LEouQnVpbGRlci5wcm90b3R5cGUuYWRkRmllbGRJbnQ4PWZ1bmN0aW9uKGUsdCxyKXsodGhpcy5mb3JjZV9kZWZhdWx0c3x8dCE9cikmJih0aGlzLmFkZEludDgodCksdGhpcy5zbG90KGUpKX0sSi5CdWlsZGVyLnByb3RvdHlwZS5hZGRGaWVsZEludDE2PWZ1bmN0aW9uKGUsdCxyKXsodGhpcy5mb3JjZV9kZWZhdWx0c3x8dCE9cikmJih0aGlzLmFkZEludDE2KHQpLHRoaXMuc2xvdChlKSl9LEouQnVpbGRlci5wcm90b3R5cGUuYWRkRmllbGRJbnQzMj1mdW5jdGlvbihlLHQscil7KHRoaXMuZm9yY2VfZGVmYXVsdHN8fHQhPXIpJiYodGhpcy5hZGRJbnQzMih0KSx0aGlzLnNsb3QoZSkpfSxKLkJ1aWxkZXIucHJvdG90eXBlLmFkZEZpZWxkSW50NjQ9ZnVuY3Rpb24oZSx0LHIpeyF0aGlzLmZvcmNlX2RlZmF1bHRzJiZ0LmVxdWFscyhyKXx8KHRoaXMuYWRkSW50NjQodCksdGhpcy5zbG90KGUpKX0sSi5CdWlsZGVyLnByb3RvdHlwZS5hZGRGaWVsZEZsb2F0MzI9ZnVuY3Rpb24oZSx0LHIpeyh0aGlzLmZvcmNlX2RlZmF1bHRzfHx0IT1yKSYmKHRoaXMuYWRkRmxvYXQzMih0KSx0aGlzLnNsb3QoZSkpfSxKLkJ1aWxkZXIucHJvdG90eXBlLmFkZEZpZWxkRmxvYXQ2ND1mdW5jdGlvbihlLHQscil7KHRoaXMuZm9yY2VfZGVmYXVsdHN8fHQhPXIpJiYodGhpcy5hZGRGbG9hdDY0KHQpLHRoaXMuc2xvdChlKSl9LEouQnVpbGRlci5wcm90b3R5cGUuYWRkRmllbGRPZmZzZXQ9ZnVuY3Rpb24oZSx0LHIpeyh0aGlzLmZvcmNlX2RlZmF1bHRzfHx0IT1yKSYmKHRoaXMuYWRkT2Zmc2V0KHQpLHRoaXMuc2xvdChlKSl9LEouQnVpbGRlci5wcm90b3R5cGUuYWRkRmllbGRTdHJ1Y3Q9ZnVuY3Rpb24oZSx0LHIpe3QhPXImJih0aGlzLm5lc3RlZCh0KSx0aGlzLnNsb3QoZSkpfSxKLkJ1aWxkZXIucHJvdG90eXBlLm5lc3RlZD1mdW5jdGlvbihlKXtpZihlIT10aGlzLm9mZnNldCgpKXRocm93IG5ldyBFcnJvcigiRmxhdEJ1ZmZlcnM6IHN0cnVjdCBtdXN0IGJlIHNlcmlhbGl6ZWQgaW5saW5lLiIpfSxKLkJ1aWxkZXIucHJvdG90eXBlLm5vdE5lc3RlZD1mdW5jdGlvbigpe2lmKHRoaXMuaXNOZXN0ZWQpdGhyb3cgbmV3IEVycm9yKCJGbGF0QnVmZmVyczogb2JqZWN0IHNlcmlhbGl6YXRpb24gbXVzdCBub3QgYmUgbmVzdGVkLiIpfSxKLkJ1aWxkZXIucHJvdG90eXBlLnNsb3Q9ZnVuY3Rpb24oZSl7dGhpcy52dGFibGVbZV09dGhpcy5vZmZzZXQoKX0sSi5CdWlsZGVyLnByb3RvdHlwZS5vZmZzZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iYi5jYXBhY2l0eSgpLXRoaXMuc3BhY2V9LEouQnVpbGRlci5ncm93Qnl0ZUJ1ZmZlcj1mdW5jdGlvbihlKXt2YXIgdD1lLmNhcGFjaXR5KCk7aWYoMzIyMTIyNTQ3MiZ0KXRocm93IG5ldyBFcnJvcigiRmxhdEJ1ZmZlcnM6IGNhbm5vdCBncm93IGJ1ZmZlciBiZXlvbmQgMiBnaWdhYnl0ZXMuIik7dmFyIHI9dDw8MSxuPUouQnl0ZUJ1ZmZlci5hbGxvY2F0ZShyKTtyZXR1cm4gbi5zZXRQb3NpdGlvbihyLXQpLG4uYnl0ZXMoKS5zZXQoZS5ieXRlcygpLHItdCksbn0sSi5CdWlsZGVyLnByb3RvdHlwZS5hZGRPZmZzZXQ9ZnVuY3Rpb24oZSl7dGhpcy5wcmVwKEouU0laRU9GX0lOVCwwKSx0aGlzLndyaXRlSW50MzIodGhpcy5vZmZzZXQoKS1lK0ouU0laRU9GX0lOVCl9LEouQnVpbGRlci5wcm90b3R5cGUuc3RhcnRPYmplY3Q9ZnVuY3Rpb24oZSl7dGhpcy5ub3ROZXN0ZWQoKSxudWxsPT10aGlzLnZ0YWJsZSYmKHRoaXMudnRhYmxlPVtdKSx0aGlzLnZ0YWJsZV9pbl91c2U9ZTtmb3IodmFyIHQ9MDt0PGU7dCsrKXRoaXMudnRhYmxlW3RdPTA7dGhpcy5pc05lc3RlZD0hMCx0aGlzLm9iamVjdF9zdGFydD10aGlzLm9mZnNldCgpfSxKLkJ1aWxkZXIucHJvdG90eXBlLmVuZE9iamVjdD1mdW5jdGlvbigpe2lmKG51bGw9PXRoaXMudnRhYmxlfHwhdGhpcy5pc05lc3RlZCl0aHJvdyBuZXcgRXJyb3IoIkZsYXRCdWZmZXJzOiBlbmRPYmplY3QgY2FsbGVkIHdpdGhvdXQgc3RhcnRPYmplY3QiKTt0aGlzLmFkZEludDMyKDApO2Zvcih2YXIgZT10aGlzLm9mZnNldCgpLHQ9dGhpcy52dGFibGVfaW5fdXNlLTE7dD49MCYmMD09dGhpcy52dGFibGVbdF07dC0tKTtmb3IodmFyIHI9dCsxO3Q+PTA7dC0tKXRoaXMuYWRkSW50MTYoMCE9dGhpcy52dGFibGVbdF0/ZS10aGlzLnZ0YWJsZVt0XTowKTt0aGlzLmFkZEludDE2KGUtdGhpcy5vYmplY3Rfc3RhcnQpO3ZhciBuPShyKzIpKkouU0laRU9GX1NIT1JUO3RoaXMuYWRkSW50MTYobik7dmFyIGk9MCxvPXRoaXMuc3BhY2U7ZTpmb3IodD0wO3Q8dGhpcy52dGFibGVzLmxlbmd0aDt0Kyspe3ZhciBhPXRoaXMuYmIuY2FwYWNpdHkoKS10aGlzLnZ0YWJsZXNbdF07aWYobj09dGhpcy5iYi5yZWFkSW50MTYoYSkpe2Zvcih2YXIgdT1KLlNJWkVPRl9TSE9SVDt1PG47dSs9Si5TSVpFT0ZfU0hPUlQpaWYodGhpcy5iYi5yZWFkSW50MTYobyt1KSE9dGhpcy5iYi5yZWFkSW50MTYoYSt1KSljb250aW51ZSBlO2k9dGhpcy52dGFibGVzW3RdO2JyZWFrfX1yZXR1cm4gaT8odGhpcy5zcGFjZT10aGlzLmJiLmNhcGFjaXR5KCktZSx0aGlzLmJiLndyaXRlSW50MzIodGhpcy5zcGFjZSxpLWUpKToodGhpcy52dGFibGVzLnB1c2godGhpcy5vZmZzZXQoKSksdGhpcy5iYi53cml0ZUludDMyKHRoaXMuYmIuY2FwYWNpdHkoKS1lLHRoaXMub2Zmc2V0KCktZSkpLHRoaXMuaXNOZXN0ZWQ9ITEsZX0sSi5CdWlsZGVyLnByb3RvdHlwZS5maW5pc2g9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXI/Si5TSVpFX1BSRUZJWF9MRU5HVEg6MDtpZih0KXt2YXIgaT10O2lmKHRoaXMucHJlcCh0aGlzLm1pbmFsaWduLEouU0laRU9GX0lOVCtKLkZJTEVfSURFTlRJRklFUl9MRU5HVEgrbiksaS5sZW5ndGghPUouRklMRV9JREVOVElGSUVSX0xFTkdUSCl0aHJvdyBuZXcgRXJyb3IoIkZsYXRCdWZmZXJzOiBmaWxlIGlkZW50aWZpZXIgbXVzdCBiZSBsZW5ndGggIitKLkZJTEVfSURFTlRJRklFUl9MRU5HVEgpO2Zvcih2YXIgbz1KLkZJTEVfSURFTlRJRklFUl9MRU5HVEgtMTtvPj0wO28tLSl0aGlzLndyaXRlSW50OChpLmNoYXJDb2RlQXQobykpfXRoaXMucHJlcCh0aGlzLm1pbmFsaWduLEouU0laRU9GX0lOVCtuKSx0aGlzLmFkZE9mZnNldChlKSxuJiZ0aGlzLmFkZEludDMyKHRoaXMuYmIuY2FwYWNpdHkoKS10aGlzLnNwYWNlKSx0aGlzLmJiLnNldFBvc2l0aW9uKHRoaXMuc3BhY2UpfSxKLkJ1aWxkZXIucHJvdG90eXBlLmZpbmlzaFNpemVQcmVmaXhlZD1mdW5jdGlvbihlLHQpe3RoaXMuZmluaXNoKGUsdCwhMCl9LEouQnVpbGRlci5wcm90b3R5cGUucmVxdWlyZWRGaWVsZD1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuYmIuY2FwYWNpdHkoKS1lLG49ci10aGlzLmJiLnJlYWRJbnQzMihyKTtpZighKDAhPXRoaXMuYmIucmVhZEludDE2KG4rdCkpKXRocm93IG5ldyBFcnJvcigiRmxhdEJ1ZmZlcnM6IGZpZWxkICIrdCsiIG11c3QgYmUgc2V0Iil9LEouQnVpbGRlci5wcm90b3R5cGUuc3RhcnRWZWN0b3I9ZnVuY3Rpb24oZSx0LHIpe3RoaXMubm90TmVzdGVkKCksdGhpcy52ZWN0b3JfbnVtX2VsZW1zPXQsdGhpcy5wcmVwKEouU0laRU9GX0lOVCxlKnQpLHRoaXMucHJlcChyLGUqdCl9LEouQnVpbGRlci5wcm90b3R5cGUuZW5kVmVjdG9yPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMud3JpdGVJbnQzMih0aGlzLnZlY3Rvcl9udW1fZWxlbXMpLHRoaXMub2Zmc2V0KCl9LEouQnVpbGRlci5wcm90b3R5cGUuY3JlYXRlU3RyaW5nPWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBVaW50OEFycmF5KXZhciB0PWU7ZWxzZXt0PVtdO2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7KXt2YXIgbixpPWUuY2hhckNvZGVBdChyKyspO2lmKGk8NTUyOTZ8fGk+PTU2MzIwKW49aTtlbHNlIG49KGk8PDEwKStlLmNoYXJDb2RlQXQocisrKSstNTY2MTM4ODg7bjwxMjg/dC5wdXNoKG4pOihuPDIwNDg/dC5wdXNoKG4+PjYmMzF8MTkyKToobjw2NTUzNj90LnB1c2gobj4+MTImMTV8MjI0KTp0LnB1c2gobj4+MTgmN3wyNDAsbj4+MTImNjN8MTI4KSx0LnB1c2gobj4+NiY2M3wxMjgpKSx0LnB1c2goNjMmbnwxMjgpKX19dGhpcy5hZGRJbnQ4KDApLHRoaXMuc3RhcnRWZWN0b3IoMSx0Lmxlbmd0aCwxKSx0aGlzLmJiLnNldFBvc2l0aW9uKHRoaXMuc3BhY2UtPXQubGVuZ3RoKTtyPTA7Zm9yKHZhciBvPXRoaXMuc3BhY2UsYT10aGlzLmJiLmJ5dGVzKCk7cjx0Lmxlbmd0aDtyKyspYVtvKytdPXRbcl07cmV0dXJuIHRoaXMuZW5kVmVjdG9yKCl9LEouQnVpbGRlci5wcm90b3R5cGUuY3JlYXRlTG9uZz1mdW5jdGlvbihlLHQpe3JldHVybiBKLkxvbmcuY3JlYXRlKGUsdCl9LEouQnl0ZUJ1ZmZlcj1mdW5jdGlvbihlKXt0aGlzLmJ5dGVzXz1lLHRoaXMucG9zaXRpb25fPTB9LEouQnl0ZUJ1ZmZlci5hbGxvY2F0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IEouQnl0ZUJ1ZmZlcihuZXcgVWludDhBcnJheShlKSl9LEouQnl0ZUJ1ZmZlci5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLnBvc2l0aW9uXz0wfSxKLkJ5dGVCdWZmZXIucHJvdG90eXBlLmJ5dGVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYnl0ZXNffSxKLkJ5dGVCdWZmZXIucHJvdG90eXBlLnBvc2l0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucG9zaXRpb25ffSxKLkJ5dGVCdWZmZXIucHJvdG90eXBlLnNldFBvc2l0aW9uPWZ1bmN0aW9uKGUpe3RoaXMucG9zaXRpb25fPWV9LEouQnl0ZUJ1ZmZlci5wcm90b3R5cGUuY2FwYWNpdHk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ieXRlc18ubGVuZ3RofSxKLkJ5dGVCdWZmZXIucHJvdG90eXBlLnJlYWRJbnQ4PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnJlYWRVaW50OChlKTw8MjQ+PjI0fSxKLkJ5dGVCdWZmZXIucHJvdG90eXBlLnJlYWRVaW50OD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5ieXRlc19bZV19LEouQnl0ZUJ1ZmZlci5wcm90b3R5cGUucmVhZEludDE2PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnJlYWRVaW50MTYoZSk8PDE2Pj4xNn0sSi5CeXRlQnVmZmVyLnByb3RvdHlwZS5yZWFkVWludDE2PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmJ5dGVzX1tlXXx0aGlzLmJ5dGVzX1tlKzFdPDw4fSxKLkJ5dGVCdWZmZXIucHJvdG90eXBlLnJlYWRJbnQzMj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5ieXRlc19bZV18dGhpcy5ieXRlc19bZSsxXTw8OHx0aGlzLmJ5dGVzX1tlKzJdPDwxNnx0aGlzLmJ5dGVzX1tlKzNdPDwyNH0sSi5CeXRlQnVmZmVyLnByb3RvdHlwZS5yZWFkVWludDMyPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnJlYWRJbnQzMihlKT4+PjB9LEouQnl0ZUJ1ZmZlci5wcm90b3R5cGUucmVhZEludDY0PWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgSi5Mb25nKHRoaXMucmVhZEludDMyKGUpLHRoaXMucmVhZEludDMyKGUrNCkpfSxKLkJ5dGVCdWZmZXIucHJvdG90eXBlLnJlYWRVaW50NjQ9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBKLkxvbmcodGhpcy5yZWFkVWludDMyKGUpLHRoaXMucmVhZFVpbnQzMihlKzQpKX0sSi5CeXRlQnVmZmVyLnByb3RvdHlwZS5yZWFkRmxvYXQzMj1mdW5jdGlvbihlKXtyZXR1cm4gSi5pbnQzMlswXT10aGlzLnJlYWRJbnQzMihlKSxKLmZsb2F0MzJbMF19LEouQnl0ZUJ1ZmZlci5wcm90b3R5cGUucmVhZEZsb2F0NjQ9ZnVuY3Rpb24oZSl7cmV0dXJuIEouaW50MzJbSi5pc0xpdHRsZUVuZGlhbj8wOjFdPXRoaXMucmVhZEludDMyKGUpLEouaW50MzJbSi5pc0xpdHRsZUVuZGlhbj8xOjBdPXRoaXMucmVhZEludDMyKGUrNCksSi5mbG9hdDY0WzBdfSxKLkJ5dGVCdWZmZXIucHJvdG90eXBlLndyaXRlSW50OD1mdW5jdGlvbihlLHQpe3RoaXMuYnl0ZXNfW2VdPXR9LEouQnl0ZUJ1ZmZlci5wcm90b3R5cGUud3JpdGVVaW50OD1mdW5jdGlvbihlLHQpe3RoaXMuYnl0ZXNfW2VdPXR9LEouQnl0ZUJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQxNj1mdW5jdGlvbihlLHQpe3RoaXMuYnl0ZXNfW2VdPXQsdGhpcy5ieXRlc19bZSsxXT10Pj44fSxKLkJ5dGVCdWZmZXIucHJvdG90eXBlLndyaXRlVWludDE2PWZ1bmN0aW9uKGUsdCl7dGhpcy5ieXRlc19bZV09dCx0aGlzLmJ5dGVzX1tlKzFdPXQ+Pjh9LEouQnl0ZUJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQzMj1mdW5jdGlvbihlLHQpe3RoaXMuYnl0ZXNfW2VdPXQsdGhpcy5ieXRlc19bZSsxXT10Pj44LHRoaXMuYnl0ZXNfW2UrMl09dD4+MTYsdGhpcy5ieXRlc19bZSszXT10Pj4yNH0sSi5CeXRlQnVmZmVyLnByb3RvdHlwZS53cml0ZVVpbnQzMj1mdW5jdGlvbihlLHQpe3RoaXMuYnl0ZXNfW2VdPXQsdGhpcy5ieXRlc19bZSsxXT10Pj44LHRoaXMuYnl0ZXNfW2UrMl09dD4+MTYsdGhpcy5ieXRlc19bZSszXT10Pj4yNH0sSi5CeXRlQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDY0PWZ1bmN0aW9uKGUsdCl7dGhpcy53cml0ZUludDMyKGUsdC5sb3cpLHRoaXMud3JpdGVJbnQzMihlKzQsdC5oaWdoKX0sSi5CeXRlQnVmZmVyLnByb3RvdHlwZS53cml0ZVVpbnQ2ND1mdW5jdGlvbihlLHQpe3RoaXMud3JpdGVVaW50MzIoZSx0LmxvdyksdGhpcy53cml0ZVVpbnQzMihlKzQsdC5oaWdoKX0sSi5CeXRlQnVmZmVyLnByb3RvdHlwZS53cml0ZUZsb2F0MzI9ZnVuY3Rpb24oZSx0KXtKLmZsb2F0MzJbMF09dCx0aGlzLndyaXRlSW50MzIoZSxKLmludDMyWzBdKX0sSi5CeXRlQnVmZmVyLnByb3RvdHlwZS53cml0ZUZsb2F0NjQ9ZnVuY3Rpb24oZSx0KXtKLmZsb2F0NjRbMF09dCx0aGlzLndyaXRlSW50MzIoZSxKLmludDMyW0ouaXNMaXR0bGVFbmRpYW4/MDoxXSksdGhpcy53cml0ZUludDMyKGUrNCxKLmludDMyW0ouaXNMaXR0bGVFbmRpYW4/MTowXSl9LEouQnl0ZUJ1ZmZlci5wcm90b3R5cGUuZ2V0QnVmZmVySWRlbnRpZmllcj1mdW5jdGlvbigpe2lmKHRoaXMuYnl0ZXNfLmxlbmd0aDx0aGlzLnBvc2l0aW9uXytKLlNJWkVPRl9JTlQrSi5GSUxFX0lERU5USUZJRVJfTEVOR1RIKXRocm93IG5ldyBFcnJvcigiRmxhdEJ1ZmZlcnM6IEJ5dGVCdWZmZXIgaXMgdG9vIHNob3J0IHRvIGNvbnRhaW4gYW4gaWRlbnRpZmllci4iKTtmb3IodmFyIGU9IiIsdD0wO3Q8Si5GSUxFX0lERU5USUZJRVJfTEVOR1RIO3QrKyllKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHRoaXMucmVhZEludDgodGhpcy5wb3NpdGlvbl8rSi5TSVpFT0ZfSU5UK3QpKTtyZXR1cm4gZX0sSi5CeXRlQnVmZmVyLnByb3RvdHlwZS5fX29mZnNldD1mdW5jdGlvbihlLHQpe3ZhciByPWUtdGhpcy5yZWFkSW50MzIoZSk7cmV0dXJuIHQ8dGhpcy5yZWFkSW50MTYocik/dGhpcy5yZWFkSW50MTYocit0KTowfSxKLkJ5dGVCdWZmZXIucHJvdG90eXBlLl9fdW5pb249ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5iYl9wb3M9dCt0aGlzLnJlYWRJbnQzMih0KSxlLmJiPXRoaXMsZX0sSi5CeXRlQnVmZmVyLnByb3RvdHlwZS5fX3N0cmluZz1mdW5jdGlvbihlLHQpe2UrPXRoaXMucmVhZEludDMyKGUpO3ZhciByPXRoaXMucmVhZEludDMyKGUpLG49IiIsaT0wO2lmKGUrPUouU0laRU9GX0lOVCx0PT09Si5FbmNvZGluZy5VVEY4X0JZVEVTKXJldHVybiB0aGlzLmJ5dGVzXy5zdWJhcnJheShlLGUrcik7Zm9yKDtpPHI7KXt2YXIgbyxhPXRoaXMucmVhZFVpbnQ4KGUraSsrKTtpZihhPDE5MilvPWE7ZWxzZXt2YXIgdT10aGlzLnJlYWRVaW50OChlK2krKyk7aWYoYTwyMjQpbz0oMzEmYSk8PDZ8NjMmdTtlbHNle3ZhciBzPXRoaXMucmVhZFVpbnQ4KGUraSsrKTtpZihhPDI0MClvPSgxNSZhKTw8MTJ8KDYzJnUpPDw2fDYzJnM7ZWxzZSBvPSg3JmEpPDwxOHwoNjMmdSk8PDEyfCg2MyZzKTw8Nnw2MyZ0aGlzLnJlYWRVaW50OChlK2krKyl9fW88NjU1MzY/bis9U3RyaW5nLmZyb21DaGFyQ29kZShvKTooby09NjU1MzYsbis9U3RyaW5nLmZyb21DaGFyQ29kZSg1NTI5Nisobz4+MTApLDU2MzIwKygxMDIzJm8pKSl9cmV0dXJuIG59LEouQnl0ZUJ1ZmZlci5wcm90b3R5cGUuX19pbmRpcmVjdD1mdW5jdGlvbihlKXtyZXR1cm4gZSt0aGlzLnJlYWRJbnQzMihlKX0sSi5CeXRlQnVmZmVyLnByb3RvdHlwZS5fX3ZlY3Rvcj1mdW5jdGlvbihlKXtyZXR1cm4gZSt0aGlzLnJlYWRJbnQzMihlKStKLlNJWkVPRl9JTlR9LEouQnl0ZUJ1ZmZlci5wcm90b3R5cGUuX192ZWN0b3JfbGVuPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnJlYWRJbnQzMihlK3RoaXMucmVhZEludDMyKGUpKX0sSi5CeXRlQnVmZmVyLnByb3RvdHlwZS5fX2hhc19pZGVudGlmaWVyPWZ1bmN0aW9uKGUpe2lmKGUubGVuZ3RoIT1KLkZJTEVfSURFTlRJRklFUl9MRU5HVEgpdGhyb3cgbmV3IEVycm9yKCJGbGF0QnVmZmVyczogZmlsZSBpZGVudGlmaWVyIG11c3QgYmUgbGVuZ3RoICIrSi5GSUxFX0lERU5USUZJRVJfTEVOR1RIKTtmb3IodmFyIHQ9MDt0PEouRklMRV9JREVOVElGSUVSX0xFTkdUSDt0KyspaWYoZS5jaGFyQ29kZUF0KHQpIT10aGlzLnJlYWRJbnQ4KHRoaXMucG9zaXRpb25fK0ouU0laRU9GX0lOVCt0KSlyZXR1cm4hMTtyZXR1cm4hMH0sSi5CeXRlQnVmZmVyLnByb3RvdHlwZS5jcmVhdGVMb25nPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIEouTG9uZy5jcmVhdGUoZSx0KX07dmFyIFo9dihPYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxmbGF0YnVmZmVyczpKfSkpLEs9e307T2JqZWN0LmRlZmluZVByb3BlcnR5KEssIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLEsuZW5jb2RlVXRmOD1LLmRlY29kZVV0Zjg9dm9pZCAwO3ZhciBYPW5ldyBUZXh0RGVjb2RlcigidXRmLTgiKTtLLmRlY29kZVV0Zjg9ZnVuY3Rpb24oZSl7cmV0dXJuIFguZGVjb2RlKGUpfTt2YXIgcT1uZXcgVGV4dEVuY29kZXI7Sy5lbmNvZGVVdGY4PWZ1bmN0aW9uKGUpe3JldHVybiBxLmVuY29kZShlKX07dmFyIFE9e30sJD17fTshZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuQXN5bmNRdWV1ZT1lLlJlYWRhYmxlSW50ZXJvcD1lLkFycm93SlNPTj1lLklURVJBVE9SX0RPTkU9dm9pZCAwO3ZhciB0PUguZXhwb3J0cyxyPVk7ZS5JVEVSQVRPUl9ET05FPU9iamVjdC5mcmVlemUoe2RvbmU6ITAsdmFsdWU6dm9pZCAwfSk7dmFyIG49ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuX2pzb249ZX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJzY2hlbWEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fanNvbi5zY2hlbWF9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJiYXRjaGVzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2pzb24uYmF0Y2hlc3x8W119LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJkaWN0aW9uYXJpZXMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fanNvbi5kaWN0aW9uYXJpZXN8fFtdfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGV9KCk7ZS5BcnJvd0pTT049bjt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGUucHJvdG90eXBlLnRlZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXRET01TdHJlYW0oKS50ZWUoKX0sZS5wcm90b3R5cGUucGlwZT1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl9nZXROb2RlU3RyZWFtKCkucGlwZShlLHQpfSxlLnByb3RvdHlwZS5waXBlVG89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fZ2V0RE9NU3RyZWFtKCkucGlwZVRvKGUsdCl9LGUucHJvdG90eXBlLnBpcGVUaHJvdWdoPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX2dldERPTVN0cmVhbSgpLnBpcGVUaHJvdWdoKGUsdCl9LGUucHJvdG90eXBlLl9nZXRET01TdHJlYW09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fRE9NU3RyZWFtfHwodGhpcy5fRE9NU3RyZWFtPXRoaXMudG9ET01TdHJlYW0oKSl9LGUucHJvdG90eXBlLl9nZXROb2RlU3RyZWFtPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX25vZGVTdHJlYW18fCh0aGlzLl9ub2RlU3RyZWFtPXRoaXMudG9Ob2RlU3RyZWFtKCkpfSxlfSgpO2UuUmVhZGFibGVJbnRlcm9wPWk7dmFyIG89ZnVuY3Rpb24obil7ZnVuY3Rpb24gaSgpe3ZhciBlPW4uY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gZS5fdmFsdWVzPVtdLGUucmVzb2x2ZXJzPVtdLGUuX2Nsb3NlZFByb21pc2U9bmV3IFByb21pc2UoKGZ1bmN0aW9uKHQpe3JldHVybiBlLl9jbG9zZWRQcm9taXNlUmVzb2x2ZT10fSkpLGV9cmV0dXJuIHQuX19leHRlbmRzKGksbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJjbG9zZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2xvc2VkUHJvbWlzZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5jYW5jZWw9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gdC5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMucmV0dXJuKGUpXTtjYXNlIDE6cmV0dXJuIHQuc2VudCgpLFsyXX19KSl9KSl9LGkucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKGUpe3RoaXMuX2Vuc3VyZU9wZW4oKSYmKHRoaXMucmVzb2x2ZXJzLmxlbmd0aDw9MD90aGlzLl92YWx1ZXMucHVzaChlKTp0aGlzLnJlc29sdmVycy5zaGlmdCgpLnJlc29sdmUoe2RvbmU6ITEsdmFsdWU6ZX0pKX0saS5wcm90b3R5cGUuYWJvcnQ9ZnVuY3Rpb24oZSl7dGhpcy5fY2xvc2VkUHJvbWlzZVJlc29sdmUmJih0aGlzLnJlc29sdmVycy5sZW5ndGg8PTA/dGhpcy5fZXJyb3I9e2Vycm9yOmV9OnRoaXMucmVzb2x2ZXJzLnNoaWZ0KCkucmVqZWN0KHtkb25lOiEwLHZhbHVlOmV9KSl9LGkucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKCl7aWYodGhpcy5fY2xvc2VkUHJvbWlzZVJlc29sdmUpe2Zvcih2YXIgdD10aGlzLnJlc29sdmVyczt0Lmxlbmd0aD4wOyl0LnNoaWZ0KCkucmVzb2x2ZShlLklURVJBVE9SX0RPTkUpO3RoaXMuX2Nsb3NlZFByb21pc2VSZXNvbHZlKCksdGhpcy5fY2xvc2VkUHJvbWlzZVJlc29sdmU9dm9pZCAwfX0saS5wcm90b3R5cGVbU3ltYm9sLmFzeW5jSXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LGkucHJvdG90eXBlLnRvRE9NU3RyZWFtPWZ1bmN0aW9uKGUpe3JldHVybiByLmRlZmF1bHQudG9ET01TdHJlYW0odGhpcy5fY2xvc2VkUHJvbWlzZVJlc29sdmV8fHRoaXMuX2Vycm9yP3RoaXM6dGhpcy5fdmFsdWVzLGUpfSxpLnByb3RvdHlwZS50b05vZGVTdHJlYW09ZnVuY3Rpb24oZSl7cmV0dXJuIHIuZGVmYXVsdC50b05vZGVTdHJlYW0odGhpcy5fY2xvc2VkUHJvbWlzZVJlc29sdmV8fHRoaXMuX2Vycm9yP3RoaXM6dGhpcy5fdmFsdWVzLGUpfSxpLnByb3RvdHlwZS50aHJvdz1mdW5jdGlvbihyKXtyZXR1cm4gdC5fX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiB0Ll9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5hYm9ydChyKV07Y2FzZSAxOnJldHVybiB0LnNlbnQoKSxbMixlLklURVJBVE9SX0RPTkVdfX0pKX0pKX0saS5wcm90b3R5cGUucmV0dXJuPWZ1bmN0aW9uKHIpe3JldHVybiB0Ll9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIHQuX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmNsb3NlKCldO2Nhc2UgMTpyZXR1cm4gdC5zZW50KCksWzIsZS5JVEVSQVRPUl9ET05FXX19KSl9KSl9LGkucHJvdG90eXBlLnJlYWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gdC5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMubmV4dChlLCJyZWFkIildO2Nhc2UgMTpyZXR1cm5bMix0LnNlbnQoKS52YWx1ZV19fSkpfSkpfSxpLnByb3RvdHlwZS5wZWVrPWZ1bmN0aW9uKGUpe3JldHVybiB0Ll9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIHQuX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLm5leHQoZSwicGVlayIpXTtjYXNlIDE6cmV0dXJuWzIsdC5zZW50KCkudmFsdWVdfX0pKX0pKX0saS5wcm90b3R5cGUubmV4dD1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLHI9W10sbj0wO248YXJndW1lbnRzLmxlbmd0aDtuKyspcltuXT1hcmd1bWVudHNbbl07cmV0dXJuIHRoaXMuX3ZhbHVlcy5sZW5ndGg+MD9Qcm9taXNlLnJlc29sdmUoe2RvbmU6ITEsdmFsdWU6dGhpcy5fdmFsdWVzLnNoaWZ0KCl9KTp0aGlzLl9lcnJvcj9Qcm9taXNlLnJlamVjdCh7ZG9uZTohMCx2YWx1ZTp0aGlzLl9lcnJvci5lcnJvcn0pOnRoaXMuX2Nsb3NlZFByb21pc2VSZXNvbHZlP25ldyBQcm9taXNlKChmdW5jdGlvbihlLHIpe3QucmVzb2x2ZXJzLnB1c2goe3Jlc29sdmU6ZSxyZWplY3Q6cn0pfSkpOlByb21pc2UucmVzb2x2ZShlLklURVJBVE9SX0RPTkUpfSxpLnByb3RvdHlwZS5fZW5zdXJlT3Blbj1mdW5jdGlvbigpe2lmKHRoaXMuX2Nsb3NlZFByb21pc2VSZXNvbHZlKXJldHVybiEwO3Rocm93IG5ldyBFcnJvcigiQXN5bmNRdWV1ZSBpcyBjbG9zZWQiKX0saX0oaSk7ZS5Bc3luY1F1ZXVlPW99KCQpLGZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLmlzUmVhZGFibGVOb2RlU3RyZWFtPWUuaXNXcml0YWJsZU5vZGVTdHJlYW09ZS5pc1JlYWRhYmxlRE9NU3RyZWFtPWUuaXNXcml0YWJsZURPTVN0cmVhbT1lLmlzRmV0Y2hSZXNwb25zZT1lLmlzRlNSZWFkU3RyZWFtPWUuaXNGaWxlSGFuZGxlPWUuaXNVbmRlcmx5aW5nU2luaz1lLmlzSXRlcmF0b3JSZXN1bHQ9ZS5pc0FycmF5TGlrZT1lLmlzQXJyb3dKU09OPWUuaXNBc3luY0l0ZXJhYmxlPWUuaXNJdGVyYWJsZT1lLmlzT2JzZXJ2YWJsZT1lLmlzUHJvbWlzZT1lLmlzT2JqZWN0PWUuQmlnVWludDY0QXJyYXlBdmFpbGFibGU9ZS5CaWdVaW50NjRBcnJheT1lLkJpZ0ludDY0QXJyYXlBdmFpbGFibGU9ZS5CaWdJbnQ2NEFycmF5PWUuQmlnSW50QXZhaWxhYmxlPWUuQmlnSW50PXZvaWQgMDt2YXIgdD1ILmV4cG9ydHMscj0kLG49dC5fX3JlYWQoZnVuY3Rpb24oKXt2YXIgZT1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcigiQmlnSW50IGlzIG5vdCBhdmFpbGFibGUgaW4gdGhpcyBlbnZpcm9ubWVudCIpfTtmdW5jdGlvbiB0KCl7dGhyb3cgZSgpfXJldHVybiB0LmFzSW50Tj1mdW5jdGlvbigpe3Rocm93IGUoKX0sdC5hc1VpbnROPWZ1bmN0aW9uKCl7dGhyb3cgZSgpfSwidW5kZWZpbmVkIiE9dHlwZW9mIEJpZ0ludD9bQmlnSW50LCEwXTpbdCwhMV19KCksMiksaT1uWzBdLG89blsxXTtlLkJpZ0ludD1pLGUuQmlnSW50QXZhaWxhYmxlPW87dmFyIGEsdSxzPXQuX19yZWFkKChhPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKCJCaWdJbnQ2NEFycmF5IGlzIG5vdCBhdmFpbGFibGUgaW4gdGhpcyBlbnZpcm9ubWVudCIpfSx1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3Rocm93IGEoKX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkJZVEVTX1BFUl9FTEVNRU5UIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDh9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5vZj1mdW5jdGlvbigpe3Rocm93IGEoKX0sZS5mcm9tPWZ1bmN0aW9uKCl7dGhyb3cgYSgpfSxlfSgpLCJ1bmRlZmluZWQiIT10eXBlb2YgQmlnSW50NjRBcnJheT9bQmlnSW50NjRBcnJheSwhMF06W3UsITFdKSwyKSxjPXNbMF0sbD1zWzFdO2UuQmlnSW50NjRBcnJheT1jLGUuQmlnSW50NjRBcnJheUF2YWlsYWJsZT1sO3ZhciBmLGQscD10Ll9fcmVhZCgoZj1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcigiQmlnVWludDY0QXJyYXkgaXMgbm90IGF2YWlsYWJsZSBpbiB0aGlzIGVudmlyb25tZW50Iil9LGQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhyb3cgZigpfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiQllURVNfUEVSX0VMRU1FTlQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gOH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLm9mPWZ1bmN0aW9uKCl7dGhyb3cgZigpfSxlLmZyb209ZnVuY3Rpb24oKXt0aHJvdyBmKCl9LGV9KCksInVuZGVmaW5lZCIhPXR5cGVvZiBCaWdVaW50NjRBcnJheT9bQmlnVWludDY0QXJyYXksITBdOltkLCExXSksMikseT1wWzBdLGg9cFsxXTtlLkJpZ1VpbnQ2NEFycmF5PXksZS5CaWdVaW50NjRBcnJheUF2YWlsYWJsZT1oO3ZhciBiPWZ1bmN0aW9uKGUpe3JldHVybiJudW1iZXIiPT10eXBlb2YgZX0sdj1mdW5jdGlvbihlKXtyZXR1cm4iYm9vbGVhbiI9PXR5cGVvZiBlfSxfPWZ1bmN0aW9uKGUpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBlfTtlLmlzT2JqZWN0PWZ1bmN0aW9uKGUpe3JldHVybiBudWxsIT1lJiZPYmplY3QoZSk9PT1lfSxlLmlzUHJvbWlzZT1mdW5jdGlvbih0KXtyZXR1cm4gZS5pc09iamVjdCh0KSYmXyh0LnRoZW4pfSxlLmlzT2JzZXJ2YWJsZT1mdW5jdGlvbih0KXtyZXR1cm4gZS5pc09iamVjdCh0KSYmXyh0LnN1YnNjcmliZSl9LGUuaXNJdGVyYWJsZT1mdW5jdGlvbih0KXtyZXR1cm4gZS5pc09iamVjdCh0KSYmXyh0W1N5bWJvbC5pdGVyYXRvcl0pfSxlLmlzQXN5bmNJdGVyYWJsZT1mdW5jdGlvbih0KXtyZXR1cm4gZS5pc09iamVjdCh0KSYmXyh0W1N5bWJvbC5hc3luY0l0ZXJhdG9yXSl9LGUuaXNBcnJvd0pTT049ZnVuY3Rpb24odCl7cmV0dXJuIGUuaXNPYmplY3QodCkmJmUuaXNPYmplY3QodC5zY2hlbWEpfSxlLmlzQXJyYXlMaWtlPWZ1bmN0aW9uKHQpe3JldHVybiBlLmlzT2JqZWN0KHQpJiZiKHQubGVuZ3RoKX0sZS5pc0l0ZXJhdG9yUmVzdWx0PWZ1bmN0aW9uKHQpe3JldHVybiBlLmlzT2JqZWN0KHQpJiYiZG9uZSJpbiB0JiYidmFsdWUiaW4gdH0sZS5pc1VuZGVybHlpbmdTaW5rPWZ1bmN0aW9uKHQpe3JldHVybiBlLmlzT2JqZWN0KHQpJiZfKHQuYWJvcnQpJiZfKHQuY2xvc2UpJiZfKHQuc3RhcnQpJiZfKHQud3JpdGUpfSxlLmlzRmlsZUhhbmRsZT1mdW5jdGlvbih0KXtyZXR1cm4gZS5pc09iamVjdCh0KSYmXyh0LnN0YXQpJiZiKHQuZmQpfSxlLmlzRlNSZWFkU3RyZWFtPWZ1bmN0aW9uKHQpe3JldHVybiBlLmlzUmVhZGFibGVOb2RlU3RyZWFtKHQpJiZiKHQuYnl0ZXNSZWFkKX0sZS5pc0ZldGNoUmVzcG9uc2U9ZnVuY3Rpb24odCl7cmV0dXJuIGUuaXNPYmplY3QodCkmJmUuaXNSZWFkYWJsZURPTVN0cmVhbSh0LmJvZHkpfSxlLmlzV3JpdGFibGVET01TdHJlYW09ZnVuY3Rpb24odCl7cmV0dXJuIGUuaXNPYmplY3QodCkmJl8odC5hYm9ydCkmJl8odC5nZXRXcml0ZXIpJiYhKHQgaW5zdGFuY2VvZiByLlJlYWRhYmxlSW50ZXJvcCl9LGUuaXNSZWFkYWJsZURPTVN0cmVhbT1mdW5jdGlvbih0KXtyZXR1cm4gZS5pc09iamVjdCh0KSYmXyh0LmNhbmNlbCkmJl8odC5nZXRSZWFkZXIpJiYhKHQgaW5zdGFuY2VvZiByLlJlYWRhYmxlSW50ZXJvcCl9LGUuaXNXcml0YWJsZU5vZGVTdHJlYW09ZnVuY3Rpb24odCl7cmV0dXJuIGUuaXNPYmplY3QodCkmJl8odC5lbmQpJiZfKHQud3JpdGUpJiZ2KHQud3JpdGFibGUpJiYhKHQgaW5zdGFuY2VvZiByLlJlYWRhYmxlSW50ZXJvcCl9LGUuaXNSZWFkYWJsZU5vZGVTdHJlYW09ZnVuY3Rpb24odCl7cmV0dXJuIGUuaXNPYmplY3QodCkmJl8odC5yZWFkKSYmXyh0LnBpcGUpJiZ2KHQucmVhZGFibGUpJiYhKHQgaW5zdGFuY2VvZiByLlJlYWRhYmxlSW50ZXJvcCl9fShRKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoRywiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksRy5jb21wYXJlQXJyYXlMaWtlPUcucmViYXNlVmFsdWVPZmZzZXRzPUcudG9VaW50OENsYW1wZWRBcnJheUFzeW5jSXRlcmF0b3I9Ry50b0Zsb2F0NjRBcnJheUFzeW5jSXRlcmF0b3I9Ry50b0Zsb2F0MzJBcnJheUFzeW5jSXRlcmF0b3I9Ry50b1VpbnQzMkFycmF5QXN5bmNJdGVyYXRvcj1HLnRvVWludDE2QXJyYXlBc3luY0l0ZXJhdG9yPUcudG9VaW50OEFycmF5QXN5bmNJdGVyYXRvcj1HLnRvSW50MzJBcnJheUFzeW5jSXRlcmF0b3I9Ry50b0ludDE2QXJyYXlBc3luY0l0ZXJhdG9yPUcudG9JbnQ4QXJyYXlBc3luY0l0ZXJhdG9yPUcudG9BcnJheUJ1ZmZlclZpZXdBc3luY0l0ZXJhdG9yPUcudG9VaW50OENsYW1wZWRBcnJheUl0ZXJhdG9yPUcudG9GbG9hdDY0QXJyYXlJdGVyYXRvcj1HLnRvRmxvYXQzMkFycmF5SXRlcmF0b3I9Ry50b1VpbnQzMkFycmF5SXRlcmF0b3I9Ry50b1VpbnQxNkFycmF5SXRlcmF0b3I9Ry50b1VpbnQ4QXJyYXlJdGVyYXRvcj1HLnRvSW50MzJBcnJheUl0ZXJhdG9yPUcudG9JbnQxNkFycmF5SXRlcmF0b3I9Ry50b0ludDhBcnJheUl0ZXJhdG9yPUcudG9BcnJheUJ1ZmZlclZpZXdJdGVyYXRvcj1HLnRvVWludDhDbGFtcGVkQXJyYXk9Ry50b0Zsb2F0NjRBcnJheT1HLnRvRmxvYXQzMkFycmF5PUcudG9CaWdVaW50NjRBcnJheT1HLnRvVWludDMyQXJyYXk9Ry50b1VpbnQxNkFycmF5PUcudG9VaW50OEFycmF5PUcudG9CaWdJbnQ2NEFycmF5PUcudG9JbnQzMkFycmF5PUcudG9JbnQxNkFycmF5PUcudG9JbnQ4QXJyYXk9Ry50b0FycmF5QnVmZmVyVmlldz1HLmpvaW5VaW50OEFycmF5cz1HLm1lbWNweT12b2lkIDA7dmFyIGVlPUguZXhwb3J0cyx0ZT1LLHJlPVouZmxhdGJ1ZmZlcnMuQnl0ZUJ1ZmZlcixuZT1RLGllPSJ1bmRlZmluZWQiIT10eXBlb2YgU2hhcmVkQXJyYXlCdWZmZXI/U2hhcmVkQXJyYXlCdWZmZXI6QXJyYXlCdWZmZXI7ZnVuY3Rpb24gb2UoZSx0LHIsbil7dm9pZCAwPT09ciYmKHI9MCksdm9pZCAwPT09biYmKG49dC5ieXRlTGVuZ3RoKTt2YXIgaT1lLmJ5dGVMZW5ndGgsbz1uZXcgVWludDhBcnJheShlLmJ1ZmZlcixlLmJ5dGVPZmZzZXQsaSksYT1uZXcgVWludDhBcnJheSh0LmJ1ZmZlcix0LmJ5dGVPZmZzZXQsTWF0aC5taW4obixpKSk7cmV0dXJuIG8uc2V0KGEsciksZX1mdW5jdGlvbiBhZShlLHQpe3ZhciByPW5lLmlzSXRlcmF0b3JSZXN1bHQodCk/dC52YWx1ZTp0O3JldHVybiByIGluc3RhbmNlb2YgZT9lPT09VWludDhBcnJheT9uZXcgZShyLmJ1ZmZlcixyLmJ5dGVPZmZzZXQsci5ieXRlTGVuZ3RoKTpyOnI/KCJzdHJpbmciPT10eXBlb2YgciYmKHI9dGUuZW5jb2RlVXRmOChyKSksciBpbnN0YW5jZW9mIEFycmF5QnVmZmVyfHxyIGluc3RhbmNlb2YgaWU/bmV3IGUocik6ciBpbnN0YW5jZW9mIHJlP2FlKGUsci5ieXRlcygpKTpBcnJheUJ1ZmZlci5pc1ZpZXcocik/ci5ieXRlTGVuZ3RoPD0wP25ldyBlKDApOm5ldyBlKHIuYnVmZmVyLHIuYnl0ZU9mZnNldCxyLmJ5dGVMZW5ndGgvZS5CWVRFU19QRVJfRUxFTUVOVCk6ZS5mcm9tKHIpKTpuZXcgZSgwKX1HLm1lbWNweT1vZSxHLmpvaW5VaW50OEFycmF5cz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcixuLGksbz1mdW5jdGlvbihlKXtmb3IodmFyIHQscixuLGksbz1lWzBdP1tlWzBdXTpbXSxhPXZvaWQgMCx1PXZvaWQgMCxzPTAsYz0wLGw9ZS5sZW5ndGg7KytzPGw7KWE9b1tjXSx1PWVbc10sIWF8fCF1fHxhLmJ1ZmZlciE9PXUuYnVmZmVyfHx1LmJ5dGVPZmZzZXQ8YS5ieXRlT2Zmc2V0P3UmJihvWysrY109dSk6KHQ9YS5ieXRlT2Zmc2V0LG49YS5ieXRlTGVuZ3RoLHI9dS5ieXRlT2Zmc2V0LGk9dS5ieXRlTGVuZ3RoLHQrbjxyfHxyK2k8dD91JiYob1srK2NdPXUpOm9bY109bmV3IFVpbnQ4QXJyYXkoYS5idWZmZXIsdCxyLXQraSkpO3JldHVybiBvfShlKSxhPW8ucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiBlK3QuYnl0ZUxlbmd0aH0pLDApLHU9MCxzPS0xLGM9TWF0aC5taW4odHx8MS8wLGEpLGw9by5sZW5ndGg7KytzPGw7KXtpZihjPD11KyhuPShyPW9bc10pLnN1YmFycmF5KDAsTWF0aC5taW4oci5sZW5ndGgsYy11KSkpLmxlbmd0aCl7bi5sZW5ndGg8ci5sZW5ndGg/b1tzXT1yLnN1YmFycmF5KG4ubGVuZ3RoKTpuLmxlbmd0aD09PXIubGVuZ3RoJiZzKyssaT9vZShpLG4sdSk6aT1uO2JyZWFrfW9lKGl8fChpPW5ldyBVaW50OEFycmF5KGMpKSxuLHUpLHUrPW4ubGVuZ3RofXJldHVybltpfHxuZXcgVWludDhBcnJheSgwKSxvLnNsaWNlKHMpLGEtKGk/aS5ieXRlTGVuZ3RoOjApXX0sRy50b0FycmF5QnVmZmVyVmlldz1hZSxHLnRvSW50OEFycmF5PWZ1bmN0aW9uKGUpe3JldHVybiBhZShJbnQ4QXJyYXksZSl9LEcudG9JbnQxNkFycmF5PWZ1bmN0aW9uKGUpe3JldHVybiBhZShJbnQxNkFycmF5LGUpfSxHLnRvSW50MzJBcnJheT1mdW5jdGlvbihlKXtyZXR1cm4gYWUoSW50MzJBcnJheSxlKX0sRy50b0JpZ0ludDY0QXJyYXk9ZnVuY3Rpb24oZSl7cmV0dXJuIGFlKG5lLkJpZ0ludDY0QXJyYXksZSl9LEcudG9VaW50OEFycmF5PWZ1bmN0aW9uKGUpe3JldHVybiBhZShVaW50OEFycmF5LGUpfSxHLnRvVWludDE2QXJyYXk9ZnVuY3Rpb24oZSl7cmV0dXJuIGFlKFVpbnQxNkFycmF5LGUpfSxHLnRvVWludDMyQXJyYXk9ZnVuY3Rpb24oZSl7cmV0dXJuIGFlKFVpbnQzMkFycmF5LGUpfSxHLnRvQmlnVWludDY0QXJyYXk9ZnVuY3Rpb24oZSl7cmV0dXJuIGFlKG5lLkJpZ1VpbnQ2NEFycmF5LGUpfSxHLnRvRmxvYXQzMkFycmF5PWZ1bmN0aW9uKGUpe3JldHVybiBhZShGbG9hdDMyQXJyYXksZSl9LEcudG9GbG9hdDY0QXJyYXk9ZnVuY3Rpb24oZSl7cmV0dXJuIGFlKEZsb2F0NjRBcnJheSxlKX0sRy50b1VpbnQ4Q2xhbXBlZEFycmF5PWZ1bmN0aW9uKGUpe3JldHVybiBhZShVaW50OENsYW1wZWRBcnJheSxlKX07dmFyIHVlPWZ1bmN0aW9uKGUpe3JldHVybiBlLm5leHQoKSxlfTtmdW5jdGlvbiBzZShlLHQpe3ZhciByLG47cmV0dXJuIGVlLl9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKGkpe3N3aXRjaChpLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHI9ZnVuY3Rpb24oZSl7cmV0dXJuIGVlLl9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsZV07Y2FzZSAxOnJldHVybiB0LnNlbnQoKSxbMl19fSkpfSxuPSJzdHJpbmciPT10eXBlb2YgdHx8QXJyYXlCdWZmZXIuaXNWaWV3KHQpfHx0IGluc3RhbmNlb2YgQXJyYXlCdWZmZXJ8fHQgaW5zdGFuY2VvZiBpZT9yKHQpOm5lLmlzSXRlcmFibGUodCk/dDpyKHQpLFs1LGVlLl9fdmFsdWVzKHVlKGZ1bmN0aW9uKHQpe3ZhciByLG4saTtyZXR1cm4gZWUuX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24obyl7c3dpdGNoKG8ubGFiZWwpe2Nhc2UgMDpyPW51bGwsby5sYWJlbD0xO2Nhc2UgMTpyZXR1cm4gaT0obj10KS5uZXh0LFs0LGFlKGUscildO2Nhc2UgMjpyPWkuYXBwbHkobixbby5zZW50KCldKSxvLmxhYmVsPTM7Y2FzZSAzOmlmKCFyLmRvbmUpcmV0dXJuWzMsMV07by5sYWJlbD00O2Nhc2UgNDpyZXR1cm5bMl19fSkpfShuW1N5bWJvbC5pdGVyYXRvcl0oKSkpKV07Y2FzZSAxOnJldHVybiBpLnNlbnQoKSxbMixuZXcgZV19fSkpfWZ1bmN0aW9uIGNlKGUsdCl7cmV0dXJuIGVlLl9fYXN5bmNHZW5lcmF0b3IodGhpcyxhcmd1bWVudHMsKGZ1bmN0aW9uKCl7dmFyIHIsbixpLG8sYTtyZXR1cm4gZWUuX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24odSl7c3dpdGNoKHUubGFiZWwpe2Nhc2UgMDpyZXR1cm4gbmUuaXNQcm9taXNlKHQpPyhyPWNlLG49W2VdLFs0LGVlLl9fYXdhaXQodCldKTpbMyw1XTtjYXNlIDE6cmV0dXJuWzUsZWUuX192YWx1ZXMoZWUuX19hc3luY0RlbGVnYXRvci5hcHBseSh2b2lkIDAsW2VlLl9fYXN5bmNWYWx1ZXMuYXBwbHkodm9pZCAwLFtyLmFwcGx5KHZvaWQgMCxuLmNvbmNhdChbdS5zZW50KCldKSldKV0pKV07Y2FzZSAyOmNhc2UgMzpyZXR1cm5bNCxlZS5fX2F3YWl0LmFwcGx5KHZvaWQgMCxbdS5zZW50KCldKV07Y2FzZSA0OnJldHVyblsyLHUuc2VudCgpXTtjYXNlIDU6cmV0dXJuIGk9ZnVuY3Rpb24oZSl7cmV0dXJuIGVlLl9fYXN5bmNHZW5lcmF0b3IodGhpcyxhcmd1bWVudHMsKGZ1bmN0aW9uKCl7cmV0dXJuIGVlLl9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsZWUuX19hd2FpdChlKV07Y2FzZSAxOnJldHVybls0LGVlLl9fYXdhaXQuYXBwbHkodm9pZCAwLFt0LnNlbnQoKV0pXTtjYXNlIDI6cmV0dXJuWzQsdC5zZW50KCldO2Nhc2UgMzpyZXR1cm4gdC5zZW50KCksWzJdfX0pKX0pKX0sbz1mdW5jdGlvbihlKXtyZXR1cm4gZWUuX19hc3luY0dlbmVyYXRvcih0aGlzLGFyZ3VtZW50cywoZnVuY3Rpb24oKXtyZXR1cm4gZWUuX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNSxlZS5fX3ZhbHVlcyhlZS5fX2FzeW5jRGVsZWdhdG9yKGVlLl9fYXN5bmNWYWx1ZXModWUoZnVuY3Rpb24oZSl7dmFyIHQscixuO3JldHVybiBlZS5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbihpKXtzd2l0Y2goaS5sYWJlbCl7Y2FzZSAwOnQ9bnVsbCxpLmxhYmVsPTE7Y2FzZSAxOnJldHVybiBuPShyPWUpLm5leHQsWzQsbnVsbD09dD92b2lkIDA6dC52YWx1ZV07Y2FzZSAyOnQ9bi5hcHBseShyLFtpLnNlbnQoKV0pLGkubGFiZWw9MztjYXNlIDM6aWYoIXQuZG9uZSlyZXR1cm5bMywxXTtpLmxhYmVsPTQ7Y2FzZSA0OnJldHVyblsyXX19KSl9KGVbU3ltYm9sLml0ZXJhdG9yXSgpKSkpKSldO2Nhc2UgMTpyZXR1cm5bNCxlZS5fX2F3YWl0LmFwcGx5KHZvaWQgMCxbdC5zZW50KCldKV07Y2FzZSAyOnJldHVybiB0LnNlbnQoKSxbMl19fSkpfSkpfSxhPSJzdHJpbmciPT10eXBlb2YgdHx8QXJyYXlCdWZmZXIuaXNWaWV3KHQpfHx0IGluc3RhbmNlb2YgQXJyYXlCdWZmZXJ8fHQgaW5zdGFuY2VvZiBpZT9pKHQpOm5lLmlzSXRlcmFibGUodCk/byh0KTpuZS5pc0FzeW5jSXRlcmFibGUodCk/dDppKHQpLFs1LGVlLl9fdmFsdWVzKGVlLl9fYXN5bmNEZWxlZ2F0b3IoZWUuX19hc3luY1ZhbHVlcyh1ZShmdW5jdGlvbih0KXtyZXR1cm4gZWUuX19hc3luY0dlbmVyYXRvcih0aGlzLGFyZ3VtZW50cywoZnVuY3Rpb24oKXt2YXIgcixuLGk7cmV0dXJuIGVlLl9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKG8pe3N3aXRjaChvLmxhYmVsKXtjYXNlIDA6cj1udWxsLG8ubGFiZWw9MTtjYXNlIDE6cmV0dXJuIGk9KG49dCkubmV4dCxbNCxlZS5fX2F3YWl0KGFlKGUscikpXTtjYXNlIDI6cmV0dXJuWzQsby5zZW50KCldO2Nhc2UgMzpyZXR1cm5bNCxlZS5fX2F3YWl0LmFwcGx5KHZvaWQgMCxbaS5hcHBseShuLFtvLnNlbnQoKV0pXSldO2Nhc2UgNDpyPW8uc2VudCgpLG8ubGFiZWw9NTtjYXNlIDU6aWYoIXIuZG9uZSlyZXR1cm5bMywxXTtvLmxhYmVsPTY7Y2FzZSA2OnJldHVyblsyXX19KSl9KSl9KGFbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCkpKSkpKV07Y2FzZSA2OnJldHVybls0LGVlLl9fYXdhaXQuYXBwbHkodm9pZCAwLFt1LnNlbnQoKV0pXTtjYXNlIDc6cmV0dXJuIHUuc2VudCgpLFs0LGVlLl9fYXdhaXQobmV3IGUpXTtjYXNlIDg6cmV0dXJuWzIsdS5zZW50KCldfX0pKX0pKX1HLnRvQXJyYXlCdWZmZXJWaWV3SXRlcmF0b3I9c2UsRy50b0ludDhBcnJheUl0ZXJhdG9yPWZ1bmN0aW9uKGUpe3JldHVybiBzZShJbnQ4QXJyYXksZSl9LEcudG9JbnQxNkFycmF5SXRlcmF0b3I9ZnVuY3Rpb24oZSl7cmV0dXJuIHNlKEludDE2QXJyYXksZSl9LEcudG9JbnQzMkFycmF5SXRlcmF0b3I9ZnVuY3Rpb24oZSl7cmV0dXJuIHNlKEludDMyQXJyYXksZSl9LEcudG9VaW50OEFycmF5SXRlcmF0b3I9ZnVuY3Rpb24oZSl7cmV0dXJuIHNlKFVpbnQ4QXJyYXksZSl9LEcudG9VaW50MTZBcnJheUl0ZXJhdG9yPWZ1bmN0aW9uKGUpe3JldHVybiBzZShVaW50MTZBcnJheSxlKX0sRy50b1VpbnQzMkFycmF5SXRlcmF0b3I9ZnVuY3Rpb24oZSl7cmV0dXJuIHNlKFVpbnQzMkFycmF5LGUpfSxHLnRvRmxvYXQzMkFycmF5SXRlcmF0b3I9ZnVuY3Rpb24oZSl7cmV0dXJuIHNlKEZsb2F0MzJBcnJheSxlKX0sRy50b0Zsb2F0NjRBcnJheUl0ZXJhdG9yPWZ1bmN0aW9uKGUpe3JldHVybiBzZShGbG9hdDY0QXJyYXksZSl9LEcudG9VaW50OENsYW1wZWRBcnJheUl0ZXJhdG9yPWZ1bmN0aW9uKGUpe3JldHVybiBzZShVaW50OENsYW1wZWRBcnJheSxlKX0sRy50b0FycmF5QnVmZmVyVmlld0FzeW5jSXRlcmF0b3I9Y2UsRy50b0ludDhBcnJheUFzeW5jSXRlcmF0b3I9ZnVuY3Rpb24oZSl7cmV0dXJuIGNlKEludDhBcnJheSxlKX0sRy50b0ludDE2QXJyYXlBc3luY0l0ZXJhdG9yPWZ1bmN0aW9uKGUpe3JldHVybiBjZShJbnQxNkFycmF5LGUpfSxHLnRvSW50MzJBcnJheUFzeW5jSXRlcmF0b3I9ZnVuY3Rpb24oZSl7cmV0dXJuIGNlKEludDMyQXJyYXksZSl9LEcudG9VaW50OEFycmF5QXN5bmNJdGVyYXRvcj1mdW5jdGlvbihlKXtyZXR1cm4gY2UoVWludDhBcnJheSxlKX0sRy50b1VpbnQxNkFycmF5QXN5bmNJdGVyYXRvcj1mdW5jdGlvbihlKXtyZXR1cm4gY2UoVWludDE2QXJyYXksZSl9LEcudG9VaW50MzJBcnJheUFzeW5jSXRlcmF0b3I9ZnVuY3Rpb24oZSl7cmV0dXJuIGNlKFVpbnQzMkFycmF5LGUpfSxHLnRvRmxvYXQzMkFycmF5QXN5bmNJdGVyYXRvcj1mdW5jdGlvbihlKXtyZXR1cm4gY2UoRmxvYXQzMkFycmF5LGUpfSxHLnRvRmxvYXQ2NEFycmF5QXN5bmNJdGVyYXRvcj1mdW5jdGlvbihlKXtyZXR1cm4gY2UoRmxvYXQ2NEFycmF5LGUpfSxHLnRvVWludDhDbGFtcGVkQXJyYXlBc3luY0l0ZXJhdG9yPWZ1bmN0aW9uKGUpe3JldHVybiBjZShVaW50OENsYW1wZWRBcnJheSxlKX0sRy5yZWJhc2VWYWx1ZU9mZnNldHM9ZnVuY3Rpb24oZSx0LHIpe2lmKDAhPT1lKXtyPXIuc2xpY2UoMCx0KzEpO2Zvcih2YXIgbj0tMTsrK248PXQ7KXJbbl0rPWV9cmV0dXJuIHJ9LEcuY29tcGFyZUFycmF5TGlrZT1mdW5jdGlvbihlLHQpe3ZhciByPTAsbj1lLmxlbmd0aDtpZihuIT09dC5sZW5ndGgpcmV0dXJuITE7aWYobj4wKWRve2lmKGVbcl0hPT10W3JdKXJldHVybiExfXdoaWxlKCsrcjxuKTtyZXR1cm4hMH0sT2JqZWN0LmRlZmluZVByb3BlcnR5KFksIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBsZT1ILmV4cG9ydHMsZmU9RztZLmRlZmF1bHQ9e2Zyb21JdGVyYWJsZTpmdW5jdGlvbihlKXtyZXR1cm4gZGUoZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3ZhciBlO3JldHVybiJwZWVrIj09PWE/ZmUuam9pblVpbnQ4QXJyYXlzKGksdSlbMF06KGU9bGUuX19yZWFkKGZlLmpvaW5VaW50OEFycmF5cyhpLHUpLDMpLG89ZVswXSxpPWVbMV0scz1lWzJdLG8pfXZhciByLG4saSxvLGEsdSxzLGMsbCxmLGQscDtyZXR1cm4gbGUuX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24oeSl7c3dpdGNoKHkubGFiZWwpe2Nhc2UgMDpyZXR1cm4gbj0hMSxpPVtdLHM9MCxbNCxudWxsXTtjYXNlIDE6Zj15LnNlbnQoKSxhPWYuY21kLHU9Zi5zaXplLGM9ZmUudG9VaW50OEFycmF5SXRlcmF0b3IoZSlbU3ltYm9sLml0ZXJhdG9yXSgpLHkubGFiZWw9MjtjYXNlIDI6eS50cnlzLnB1c2goWzIsOSwxMCwxMV0pLHkubGFiZWw9MztjYXNlIDM6aWYoZD1pc05hTih1LXMpP2MubmV4dCh2b2lkIDApOmMubmV4dCh1LXMpLHI9ZC5kb25lLG89ZC52YWx1ZSwhciYmby5ieXRlTGVuZ3RoPjAmJihpLnB1c2gobykscys9by5ieXRlTGVuZ3RoKSwhKHJ8fHU8PXMpKXJldHVyblszLDddO3kubGFiZWw9NDtjYXNlIDQ6cmV0dXJuWzQsdCgpXTtjYXNlIDU6cD15LnNlbnQoKSxhPXAuY21kLHU9cC5zaXplLHkubGFiZWw9NjtjYXNlIDY6aWYodTxzKXJldHVyblszLDRdO3kubGFiZWw9NztjYXNlIDc6aWYoIXIpcmV0dXJuWzMsM107eS5sYWJlbD04O2Nhc2UgODpyZXR1cm5bMywxMV07Y2FzZSA5OnJldHVybiBsPXkuc2VudCgpLChuPSEwKSYmImZ1bmN0aW9uIj09dHlwZW9mIGMudGhyb3cmJmMudGhyb3cobCksWzMsMTFdO2Nhc2UgMTA6cmV0dXJuITE9PT1uJiYiZnVuY3Rpb24iPT10eXBlb2YgYy5yZXR1cm4mJmMucmV0dXJuKG51bGwpLFs3XTtjYXNlIDExOnJldHVyblsyLG51bGxdfX0pKX0oZSkpfSxmcm9tQXN5bmNJdGVyYWJsZTpmdW5jdGlvbihlKXtyZXR1cm4gZGUoZnVuY3Rpb24oZSl7cmV0dXJuIGxlLl9fYXN5bmNHZW5lcmF0b3IodGhpcyxhcmd1bWVudHMsKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3ZhciBlO3JldHVybiJwZWVrIj09PWE/ZmUuam9pblVpbnQ4QXJyYXlzKGksdSlbMF06KGU9bGUuX19yZWFkKGZlLmpvaW5VaW50OEFycmF5cyhpLHUpLDMpLG89ZVswXSxpPWVbMV0scz1lWzJdLG8pfXZhciByLG4saSxvLGEsdSxzLGMsbCxmLGQscCx5O3JldHVybiBsZS5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbihoKXtzd2l0Y2goaC5sYWJlbCl7Y2FzZSAwOnJldHVybiBuPSExLGk9W10scz0wLFs0LGxlLl9fYXdhaXQobnVsbCldO2Nhc2UgMTpyZXR1cm5bNCxoLnNlbnQoKV07Y2FzZSAyOmQ9aC5zZW50KCksYT1kLmNtZCx1PWQuc2l6ZSxjPWZlLnRvVWludDhBcnJheUFzeW5jSXRlcmF0b3IoZSlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCksaC5sYWJlbD0zO2Nhc2UgMzpoLnRyeXMucHVzaChbMywxNSwxOCwyMV0pLGgubGFiZWw9NDtjYXNlIDQ6cmV0dXJuIGlzTmFOKHUtcyk/WzQsbGUuX19hd2FpdChjLm5leHQodm9pZCAwKSldOlszLDZdO2Nhc2UgNTpyZXR1cm4gbD1oLnNlbnQoKSxbMyw4XTtjYXNlIDY6cmV0dXJuWzQsbGUuX19hd2FpdChjLm5leHQodS1zKSldO2Nhc2UgNzpsPWguc2VudCgpLGgubGFiZWw9ODtjYXNlIDg6aWYocj0ocD1sKS5kb25lLG89cC52YWx1ZSwhciYmby5ieXRlTGVuZ3RoPjAmJihpLnB1c2gobykscys9by5ieXRlTGVuZ3RoKSwhKHJ8fHU8PXMpKXJldHVyblszLDEzXTtoLmxhYmVsPTk7Y2FzZSA5OnJldHVybls0LGxlLl9fYXdhaXQodCgpKV07Y2FzZSAxMDpyZXR1cm5bNCxoLnNlbnQoKV07Y2FzZSAxMTp5PWguc2VudCgpLGE9eS5jbWQsdT15LnNpemUsaC5sYWJlbD0xMjtjYXNlIDEyOmlmKHU8cylyZXR1cm5bMyw5XTtoLmxhYmVsPTEzO2Nhc2UgMTM6aWYoIXIpcmV0dXJuWzMsNF07aC5sYWJlbD0xNDtjYXNlIDE0OnJldHVyblszLDIxXTtjYXNlIDE1OnJldHVybiBmPWguc2VudCgpLChuPSEwKSYmImZ1bmN0aW9uIj09dHlwZW9mIGMudGhyb3c/WzQsbGUuX19hd2FpdChjLnRocm93KGYpKV06WzMsMTddO2Nhc2UgMTY6aC5zZW50KCksaC5sYWJlbD0xNztjYXNlIDE3OnJldHVyblszLDIxXTtjYXNlIDE4OnJldHVybiExPT09biYmImZ1bmN0aW9uIj09dHlwZW9mIGMucmV0dXJuP1s0LGxlLl9fYXdhaXQoYy5yZXR1cm4obmV3IFVpbnQ4QXJyYXkoMCkpKV06WzMsMjBdO2Nhc2UgMTk6aC5zZW50KCksaC5sYWJlbD0yMDtjYXNlIDIwOnJldHVybls3XTtjYXNlIDIxOnJldHVybls0LGxlLl9fYXdhaXQobnVsbCldO2Nhc2UgMjI6cmV0dXJuWzIsaC5zZW50KCldfX0pKX0pKX0oZSkpfSxmcm9tRE9NU3RyZWFtOmZ1bmN0aW9uKGUpe3JldHVybiBkZShmdW5jdGlvbihlKXtyZXR1cm4gbGUuX19hc3luY0dlbmVyYXRvcih0aGlzLGFyZ3VtZW50cywoZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dmFyIGU7cmV0dXJuInBlZWsiPT09YT9mZS5qb2luVWludDhBcnJheXMoaSx1KVswXTooZT1sZS5fX3JlYWQoZmUuam9pblVpbnQ4QXJyYXlzKGksdSksMyksbz1lWzBdLGk9ZVsxXSxzPWVbMl0sbyl9dmFyIHIsbixpLG8sYSx1LHMsYyxsLGYsZCxwLHk7cmV0dXJuIGxlLl9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKGgpe3N3aXRjaChoLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHI9ITEsbj0hMSxpPVtdLHM9MCxbNCxsZS5fX2F3YWl0KG51bGwpXTtjYXNlIDE6cmV0dXJuWzQsaC5zZW50KCldO2Nhc2UgMjpkPWguc2VudCgpLGE9ZC5jbWQsdT1kLnNpemUsYz1uZXcgcGUoZSksaC5sYWJlbD0zO2Nhc2UgMzpoLnRyeXMucHVzaChbMywxNSwxOCwyMl0pLGgubGFiZWw9NDtjYXNlIDQ6cmV0dXJuIGlzTmFOKHUtcyk/WzQsbGUuX19hd2FpdChjLnJlYWQodm9pZCAwKSldOlszLDZdO2Nhc2UgNTpyZXR1cm4gbD1oLnNlbnQoKSxbMyw4XTtjYXNlIDY6cmV0dXJuWzQsbGUuX19hd2FpdChjLnJlYWQodS1zKSldO2Nhc2UgNzpsPWguc2VudCgpLGgubGFiZWw9ODtjYXNlIDg6aWYocj0ocD1sKS5kb25lLG89cC52YWx1ZSwhciYmby5ieXRlTGVuZ3RoPjAmJihpLnB1c2goZmUudG9VaW50OEFycmF5KG8pKSxzKz1vLmJ5dGVMZW5ndGgpLCEocnx8dTw9cykpcmV0dXJuWzMsMTNdO2gubGFiZWw9OTtjYXNlIDk6cmV0dXJuWzQsbGUuX19hd2FpdCh0KCkpXTtjYXNlIDEwOnJldHVybls0LGguc2VudCgpXTtjYXNlIDExOnk9aC5zZW50KCksYT15LmNtZCx1PXkuc2l6ZSxoLmxhYmVsPTEyO2Nhc2UgMTI6aWYodTxzKXJldHVyblszLDldO2gubGFiZWw9MTM7Y2FzZSAxMzppZighcilyZXR1cm5bMyw0XTtoLmxhYmVsPTE0O2Nhc2UgMTQ6cmV0dXJuWzMsMjJdO2Nhc2UgMTU6cmV0dXJuIGY9aC5zZW50KCksKG49ITApP1s0LGxlLl9fYXdhaXQoYy5jYW5jZWwoZikpXTpbMywxN107Y2FzZSAxNjpoLnNlbnQoKSxoLmxhYmVsPTE3O2Nhc2UgMTc6cmV0dXJuWzMsMjJdO2Nhc2UgMTg6cmV0dXJuITEhPT1uP1szLDIwXTpbNCxsZS5fX2F3YWl0KGMuY2FuY2VsKCkpXTtjYXNlIDE5OnJldHVybiBoLnNlbnQoKSxbMywyMV07Y2FzZSAyMDplLmxvY2tlZCYmYy5yZWxlYXNlTG9jaygpLGgubGFiZWw9MjE7Y2FzZSAyMTpyZXR1cm5bN107Y2FzZSAyMjpyZXR1cm5bNCxsZS5fX2F3YWl0KG51bGwpXTtjYXNlIDIzOnJldHVyblsyLGguc2VudCgpXX19KSl9KSl9KGUpKX0sZnJvbU5vZGVTdHJlYW06ZnVuY3Rpb24oZSl7cmV0dXJuIGRlKGZ1bmN0aW9uKGUpe3JldHVybiBsZS5fX2FzeW5jR2VuZXJhdG9yKHRoaXMsYXJndW1lbnRzLChmdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt2YXIgZTtyZXR1cm4icGVlayI9PT11P2ZlLmpvaW5VaW50OEFycmF5cyhsLHMpWzBdOihlPWxlLl9fcmVhZChmZS5qb2luVWludDhBcnJheXMobCxzKSwzKSxmPWVbMF0sbD1lWzFdLGM9ZVsyXSxmKX1mdW5jdGlvbiByKHQscil7cmV0dXJuIGY9bD1udWxsLG5ldyBQcm9taXNlKChmdW5jdGlvbihuLGkpe3ZhciBvLGE7dHJ5e2Zvcih2YXIgdT1sZS5fX3ZhbHVlcyh0KSxzPXUubmV4dCgpOyFzLmRvbmU7cz11Lm5leHQoKSl7dmFyIGM9bGUuX19yZWFkKHMudmFsdWUsMiksbD1jWzBdLGY9Y1sxXTtlLm9mZihsLGYpfX1jYXRjaChwKXtvPXtlcnJvcjpwfX1maW5hbGx5e3RyeXtzJiYhcy5kb25lJiYoYT11LnJldHVybikmJmEuY2FsbCh1KX1maW5hbGx5e2lmKG8pdGhyb3cgby5lcnJvcn19dHJ5e3ZhciBkPWUuZGVzdHJveTtkJiZkLmNhbGwoZSxyKSxyPXZvaWQgMH1jYXRjaCh5KXtyPXl8fHJ9ZmluYWxseXtudWxsIT1yP2kocik6bigpfX0pKX12YXIgbixpLG8sYSx1LHMsYyxsLGYsZCxwLHk7cmV0dXJuIGxlLl9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKGgpe3N3aXRjaChoLmxhYmVsKXtjYXNlIDA6cmV0dXJuIG49W10saT0iZXJyb3IiLG89ITEsYT1udWxsLGM9MCxsPVtdLFs0LGxlLl9fYXdhaXQobnVsbCldO2Nhc2UgMTpyZXR1cm5bNCxoLnNlbnQoKV07Y2FzZSAyOnJldHVybiBkPWguc2VudCgpLHU9ZC5jbWQscz1kLnNpemUsZS5pc1RUWT9bNCxsZS5fX2F3YWl0KG5ldyBVaW50OEFycmF5KDApKV06WzMsNl07Y2FzZSAzOnJldHVybls0LGguc2VudCgpXTtjYXNlIDQ6cmV0dXJuIGguc2VudCgpLFs0LGxlLl9fYXdhaXQobnVsbCldO2Nhc2UgNTpyZXR1cm5bMixoLnNlbnQoKV07Y2FzZSA2OmgudHJ5cy5wdXNoKFs2LCwxNSwxN10pLG5bMF09aGUoZSwiZW5kIiksblsxXT1oZShlLCJlcnJvciIpLGgubGFiZWw9NztjYXNlIDc6cmV0dXJuIG5bMl09aGUoZSwicmVhZGFibGUiKSxbNCxsZS5fX2F3YWl0KFByb21pc2UucmFjZShuLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGVbMl19KSkpKV07Y2FzZSA4OmlmKHA9bGUuX19yZWFkLmFwcGx5KHZvaWQgMCxbaC5zZW50KCksMl0pLGk9cFswXSxhPXBbMV0sImVycm9yIj09PWkpcmV0dXJuWzMsMTRdO2lmKChvPSJlbmQiPT09aSl8fChpc0Zpbml0ZShzLWMpPyhmPWZlLnRvVWludDhBcnJheShlLnJlYWQocy1jKSkpLmJ5dGVMZW5ndGg8cy1jJiYoZj1mZS50b1VpbnQ4QXJyYXkoZS5yZWFkKHZvaWQgMCkpKTpmPWZlLnRvVWludDhBcnJheShlLnJlYWQodm9pZCAwKSksZi5ieXRlTGVuZ3RoPjAmJihsLnB1c2goZiksYys9Zi5ieXRlTGVuZ3RoKSksIShvfHxzPD1jKSlyZXR1cm5bMywxM107aC5sYWJlbD05O2Nhc2UgOTpyZXR1cm5bNCxsZS5fX2F3YWl0KHQoKSldO2Nhc2UgMTA6cmV0dXJuWzQsaC5zZW50KCldO2Nhc2UgMTE6eT1oLnNlbnQoKSx1PXkuY21kLHM9eS5zaXplLGgubGFiZWw9MTI7Y2FzZSAxMjppZihzPGMpcmV0dXJuWzMsOV07aC5sYWJlbD0xMztjYXNlIDEzOmlmKCFvKXJldHVyblszLDddO2gubGFiZWw9MTQ7Y2FzZSAxNDpyZXR1cm5bMywxN107Y2FzZSAxNTpyZXR1cm5bNCxsZS5fX2F3YWl0KHIobiwiZXJyb3IiPT09aT9hOm51bGwpKV07Y2FzZSAxNjpyZXR1cm4gaC5zZW50KCksWzddO2Nhc2UgMTc6cmV0dXJuWzQsbGUuX19hd2FpdChudWxsKV07Y2FzZSAxODpyZXR1cm5bMixoLnNlbnQoKV19fSkpfSkpfShlKSl9LHRvRE9NU3RyZWFtOmZ1bmN0aW9uKGUsdCl7dGhyb3cgbmV3IEVycm9yKCcidG9ET01TdHJlYW0iIG5vdCBhdmFpbGFibGUgaW4gdGhpcyBlbnZpcm9ubWVudCcpfSx0b05vZGVTdHJlYW06ZnVuY3Rpb24oZSx0KXt0aHJvdyBuZXcgRXJyb3IoJyJ0b05vZGVTdHJlYW0iIG5vdCBhdmFpbGFibGUgaW4gdGhpcyBlbnZpcm9ubWVudCcpfX07dmFyIGRlPWZ1bmN0aW9uKGUpe3JldHVybiBlLm5leHQoKSxlfTt2YXIgcGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuc291cmNlPWUsdGhpcy5ieW9iUmVhZGVyPW51bGwsdGhpcy5kZWZhdWx0UmVhZGVyPW51bGw7dHJ5e3RoaXMuc3VwcG9ydHNCWU9CPSEhKHRoaXMucmVhZGVyPXRoaXMuZ2V0QllPQlJlYWRlcigpKX1jYXRjaCh0KXt0aGlzLnN1cHBvcnRzQllPQj0hKHRoaXMucmVhZGVyPXRoaXMuZ2V0RGVmYXVsdFJlYWRlcigpKX19cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiY2xvc2VkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVhZGVyP3RoaXMucmVhZGVyLmNsb3NlZC5jYXRjaCgoZnVuY3Rpb24oKXt9KSk6UHJvbWlzZS5yZXNvbHZlKCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUucmVsZWFzZUxvY2s9ZnVuY3Rpb24oKXt0aGlzLnJlYWRlciYmdGhpcy5yZWFkZXIucmVsZWFzZUxvY2soKSx0aGlzLnJlYWRlcj10aGlzLmJ5b2JSZWFkZXI9dGhpcy5kZWZhdWx0UmVhZGVyPW51bGx9LGUucHJvdG90eXBlLmNhbmNlbD1mdW5jdGlvbihlKXtyZXR1cm4gbGUuX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgdCxyLG47cmV0dXJuIGxlLl9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKGkpe3N3aXRjaChpLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHI9KHQ9dGhpcykucmVhZGVyLG49dC5zb3VyY2Uscj9bNCxyLmNhbmNlbChlKS5jYXRjaCgoZnVuY3Rpb24oKXt9KSldOlszLDJdO2Nhc2UgMTppLnNlbnQoKSxpLmxhYmVsPTI7Y2FzZSAyOnJldHVybiBuJiZuLmxvY2tlZCYmdGhpcy5yZWxlYXNlTG9jaygpLFsyXX19KSl9KSl9LGUucHJvdG90eXBlLnJlYWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGxlLl9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHQscjtyZXR1cm4gbGUuX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24obil7c3dpdGNoKG4ubGFiZWwpe2Nhc2UgMDpyZXR1cm4gMD09PWU/WzIse2RvbmU6bnVsbD09dGhpcy5yZWFkZXIsdmFsdWU6bmV3IFVpbnQ4QXJyYXkoMCl9XTp0aGlzLnN1cHBvcnRzQllPQiYmIm51bWJlciI9PXR5cGVvZiBlP1szLDJdOls0LHRoaXMuZ2V0RGVmYXVsdFJlYWRlcigpLnJlYWQoKV07Y2FzZSAxOnJldHVybiByPW4uc2VudCgpLFszLDRdO2Nhc2UgMjpyZXR1cm5bNCx0aGlzLnJlYWRGcm9tQllPQlJlYWRlcihlKV07Y2FzZSAzOnI9bi5zZW50KCksbi5sYWJlbD00O2Nhc2UgNDpyZXR1cm4hKHQ9cikuZG9uZSYmKHQudmFsdWU9ZmUudG9VaW50OEFycmF5KHQpKSxbMix0XX19KSl9KSl9LGUucHJvdG90eXBlLmdldERlZmF1bHRSZWFkZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ieW9iUmVhZGVyJiZ0aGlzLnJlbGVhc2VMb2NrKCksdGhpcy5kZWZhdWx0UmVhZGVyfHwodGhpcy5kZWZhdWx0UmVhZGVyPXRoaXMuc291cmNlLmdldFJlYWRlcigpLHRoaXMuZGVmYXVsdFJlYWRlci5jbG9zZWQuY2F0Y2goKGZ1bmN0aW9uKCl7fSkpKSx0aGlzLnJlYWRlcj10aGlzLmRlZmF1bHRSZWFkZXJ9LGUucHJvdG90eXBlLmdldEJZT0JSZWFkZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kZWZhdWx0UmVhZGVyJiZ0aGlzLnJlbGVhc2VMb2NrKCksdGhpcy5ieW9iUmVhZGVyfHwodGhpcy5ieW9iUmVhZGVyPXRoaXMuc291cmNlLmdldFJlYWRlcih7bW9kZToiYnlvYiJ9KSx0aGlzLmJ5b2JSZWFkZXIuY2xvc2VkLmNhdGNoKChmdW5jdGlvbigpe30pKSksdGhpcy5yZWFkZXI9dGhpcy5ieW9iUmVhZGVyfSxlLnByb3RvdHlwZS5yZWFkRnJvbUJZT0JSZWFkZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIGxlLl9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIGxlLl9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQseWUodGhpcy5nZXRCWU9CUmVhZGVyKCksbmV3IEFycmF5QnVmZmVyKGUpLDAsZSldO2Nhc2UgMTpyZXR1cm5bMix0LnNlbnQoKV19fSkpfSkpfSxlfSgpO2Z1bmN0aW9uIHllKGUsdCxyLG4pe3JldHVybiBsZS5fX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBpLG8sYTtyZXR1cm4gbGUuX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24odSl7c3dpdGNoKHUubGFiZWwpe2Nhc2UgMDpyZXR1cm4gcj49bj9bMix7ZG9uZTohMSx2YWx1ZTpuZXcgVWludDhBcnJheSh0LDAsbil9XTpbNCxlLnJlYWQobmV3IFVpbnQ4QXJyYXkodCxyLG4tcikpXTtjYXNlIDE6cmV0dXJuIGk9dS5zZW50KCksbz1pLmRvbmUsYT1pLnZhbHVlLChyKz1hLmJ5dGVMZW5ndGgpPG4mJiFvP1s0LHllKGUsYS5idWZmZXIscixuKV06WzMsM107Y2FzZSAyOnJldHVyblsyLHUuc2VudCgpXTtjYXNlIDM6cmV0dXJuWzIse2RvbmU6byx2YWx1ZTpuZXcgVWludDhBcnJheShhLmJ1ZmZlciwwLHIpfV19fSkpfSkpfXZhciBoZT1mdW5jdGlvbihlLHQpe3ZhciByLG49ZnVuY3Rpb24oZSl7cmV0dXJuIHIoW3QsZV0pfTtyZXR1cm5bdCxuLG5ldyBQcm9taXNlKChmdW5jdGlvbihpKXtyZXR1cm4ocj1pKSYmZS5vbmNlKHQsbil9KSldfTt2YXIgYmU9e30sdmU9e30sX2U9e307T2JqZWN0LmRlZmluZVByb3BlcnR5KF9lLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxfZS5WZWN0b3I9X2UuQWJzdHJhY3RWZWN0b3I9dm9pZCAwO3ZhciBtZT1mdW5jdGlvbigpe307X2UuQWJzdHJhY3RWZWN0b3I9bWUsX2UuVmVjdG9yPW1lLG1lLnByb3RvdHlwZS5kYXRhPW51bGw7dmFyIGdlPXt9LEJlPXt9OyFmdW5jdGlvbihlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5TY2hlbWE9ZS5CdWZmZXI9ZS5GaWVsZD1lLkRpY3Rpb25hcnlFbmNvZGluZz1lLktleVZhbHVlPWUuRHVyYXRpb249ZS5JbnRlcnZhbD1lLlRpbWVzdGFtcD1lLlRpbWU9ZS5EYXRlPWUuRGVjaW1hbD1lLkJvb2w9ZS5GaXhlZFNpemVCaW5hcnk9ZS5MYXJnZUJpbmFyeT1lLkxhcmdlVXRmOD1lLkJpbmFyeT1lLlV0Zjg9ZS5GbG9hdGluZ1BvaW50PWUuSW50PWUuVW5pb249ZS5NYXA9ZS5GaXhlZFNpemVMaXN0PWUuTGFyZ2VMaXN0PWUuTGlzdD1lLlN0cnVjdF89ZS5OdWxsPWUuRW5kaWFubmVzcz1lLkRpY3Rpb25hcnlLaW5kPWUuVHlwZT1lLkludGVydmFsVW5pdD1lLlRpbWVVbml0PWUuRGF0ZVVuaXQ9ZS5QcmVjaXNpb249ZS5Vbmlvbk1vZGU9ZS5GZWF0dXJlPWUuTWV0YWRhdGFWZXJzaW9uPXZvaWQgMDt2YXIgdCxyLG4saSxvLGEsdSxzLGMsbCxmLGQscCx5LGgsYix2LF8sbT1aOyh0PWUuTWV0YWRhdGFWZXJzaW9ufHwoZS5NZXRhZGF0YVZlcnNpb249e30pKVt0LlYxPTBdPSJWMSIsdFt0LlYyPTFdPSJWMiIsdFt0LlYzPTJdPSJWMyIsdFt0LlY0PTNdPSJWNCIsdFt0LlY1PTRdPSJWNSIsKHI9ZS5GZWF0dXJlfHwoZS5GZWF0dXJlPXt9KSlbci5VTlVTRUQ9MF09IlVOVVNFRCIscltyLkRJQ1RJT05BUllfUkVQTEFDRU1FTlQ9MV09IkRJQ1RJT05BUllfUkVQTEFDRU1FTlQiLHJbci5DT01QUkVTU0VEX0JPRFk9Ml09IkNPTVBSRVNTRURfQk9EWSIsKGk9bj1lLlVuaW9uTW9kZXx8KGUuVW5pb25Nb2RlPXt9KSlbaS5TcGFyc2U9MF09IlNwYXJzZSIsaVtpLkRlbnNlPTFdPSJEZW5zZSIsKGE9bz1lLlByZWNpc2lvbnx8KGUuUHJlY2lzaW9uPXt9KSlbYS5IQUxGPTBdPSJIQUxGIixhW2EuU0lOR0xFPTFdPSJTSU5HTEUiLGFbYS5ET1VCTEU9Ml09IkRPVUJMRSIsKHM9dT1lLkRhdGVVbml0fHwoZS5EYXRlVW5pdD17fSkpW3MuREFZPTBdPSJEQVkiLHNbcy5NSUxMSVNFQ09ORD0xXT0iTUlMTElTRUNPTkQiLChsPWM9ZS5UaW1lVW5pdHx8KGUuVGltZVVuaXQ9e30pKVtsLlNFQ09ORD0wXT0iU0VDT05EIixsW2wuTUlMTElTRUNPTkQ9MV09Ik1JTExJU0VDT05EIixsW2wuTUlDUk9TRUNPTkQ9Ml09Ik1JQ1JPU0VDT05EIixsW2wuTkFOT1NFQ09ORD0zXT0iTkFOT1NFQ09ORCIsKGQ9Zj1lLkludGVydmFsVW5pdHx8KGUuSW50ZXJ2YWxVbml0PXt9KSlbZC5ZRUFSX01PTlRIPTBdPSJZRUFSX01PTlRIIixkW2QuREFZX1RJTUU9MV09IkRBWV9USU1FIiwoeT1wPWUuVHlwZXx8KGUuVHlwZT17fSkpW3kuTk9ORT0wXT0iTk9ORSIseVt5Lk51bGw9MV09Ik51bGwiLHlbeS5JbnQ9Ml09IkludCIseVt5LkZsb2F0aW5nUG9pbnQ9M109IkZsb2F0aW5nUG9pbnQiLHlbeS5CaW5hcnk9NF09IkJpbmFyeSIseVt5LlV0Zjg9NV09IlV0ZjgiLHlbeS5Cb29sPTZdPSJCb29sIix5W3kuRGVjaW1hbD03XT0iRGVjaW1hbCIseVt5LkRhdGU9OF09IkRhdGUiLHlbeS5UaW1lPTldPSJUaW1lIix5W3kuVGltZXN0YW1wPTEwXT0iVGltZXN0YW1wIix5W3kuSW50ZXJ2YWw9MTFdPSJJbnRlcnZhbCIseVt5Lkxpc3Q9MTJdPSJMaXN0Iix5W3kuU3RydWN0Xz0xM109IlN0cnVjdF8iLHlbeS5Vbmlvbj0xNF09IlVuaW9uIix5W3kuRml4ZWRTaXplQmluYXJ5PTE1XT0iRml4ZWRTaXplQmluYXJ5Iix5W3kuRml4ZWRTaXplTGlzdD0xNl09IkZpeGVkU2l6ZUxpc3QiLHlbeS5NYXA9MTddPSJNYXAiLHlbeS5EdXJhdGlvbj0xOF09IkR1cmF0aW9uIix5W3kuTGFyZ2VCaW5hcnk9MTldPSJMYXJnZUJpbmFyeSIseVt5LkxhcmdlVXRmOD0yMF09IkxhcmdlVXRmOCIseVt5LkxhcmdlTGlzdD0yMV09IkxhcmdlTGlzdCIsKGI9aD1lLkRpY3Rpb25hcnlLaW5kfHwoZS5EaWN0aW9uYXJ5S2luZD17fSkpW2IuRGVuc2VBcnJheT0wXT0iRGVuc2VBcnJheSIsKF89dj1lLkVuZGlhbm5lc3N8fChlLkVuZGlhbm5lc3M9e30pKVtfLkxpdHRsZT0wXT0iTGl0dGxlIixfW18uQmlnPTFdPSJCaWciO3ZhciBnPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuYmI9bnVsbCx0aGlzLmJiX3Bvcz0wfXJldHVybiBlLnByb3RvdHlwZS5fX2luaXQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5iYl9wb3M9ZSx0aGlzLmJiPXQsdGhpc30sZS5nZXRSb290QXNOdWxsPWZ1bmN0aW9uKHQscil7cmV0dXJuKHJ8fG5ldyBlKS5fX2luaXQodC5yZWFkSW50MzIodC5wb3NpdGlvbigpKSt0LnBvc2l0aW9uKCksdCl9LGUuZ2V0U2l6ZVByZWZpeGVkUm9vdEFzTnVsbD1mdW5jdGlvbih0LHIpe3JldHVybiB0LnNldFBvc2l0aW9uKHQucG9zaXRpb24oKSttLmZsYXRidWZmZXJzLlNJWkVfUFJFRklYX0xFTkdUSCksKHJ8fG5ldyBlKS5fX2luaXQodC5yZWFkSW50MzIodC5wb3NpdGlvbigpKSt0LnBvc2l0aW9uKCksdCl9LGUuc3RhcnROdWxsPWZ1bmN0aW9uKGUpe2Uuc3RhcnRPYmplY3QoMCl9LGUuZW5kTnVsbD1mdW5jdGlvbihlKXtyZXR1cm4gZS5lbmRPYmplY3QoKX0sZS5jcmVhdGVOdWxsPWZ1bmN0aW9uKHQpe3JldHVybiBlLnN0YXJ0TnVsbCh0KSxlLmVuZE51bGwodCl9LGV9KCk7ZS5OdWxsPWc7dmFyIEI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5iYj1udWxsLHRoaXMuYmJfcG9zPTB9cmV0dXJuIGUucHJvdG90eXBlLl9faW5pdD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmJiX3Bvcz1lLHRoaXMuYmI9dCx0aGlzfSxlLmdldFJvb3RBc1N0cnVjdF89ZnVuY3Rpb24odCxyKXtyZXR1cm4ocnx8bmV3IGUpLl9faW5pdCh0LnJlYWRJbnQzMih0LnBvc2l0aW9uKCkpK3QucG9zaXRpb24oKSx0KX0sZS5nZXRTaXplUHJlZml4ZWRSb290QXNTdHJ1Y3RfPWZ1bmN0aW9uKHQscil7cmV0dXJuIHQuc2V0UG9zaXRpb24odC5wb3NpdGlvbigpK20uZmxhdGJ1ZmZlcnMuU0laRV9QUkVGSVhfTEVOR1RIKSwocnx8bmV3IGUpLl9faW5pdCh0LnJlYWRJbnQzMih0LnBvc2l0aW9uKCkpK3QucG9zaXRpb24oKSx0KX0sZS5zdGFydFN0cnVjdF89ZnVuY3Rpb24oZSl7ZS5zdGFydE9iamVjdCgwKX0sZS5lbmRTdHJ1Y3RfPWZ1bmN0aW9uKGUpe3JldHVybiBlLmVuZE9iamVjdCgpfSxlLmNyZWF0ZVN0cnVjdF89ZnVuY3Rpb24odCl7cmV0dXJuIGUuc3RhcnRTdHJ1Y3RfKHQpLGUuZW5kU3RydWN0Xyh0KX0sZX0oKTtlLlN0cnVjdF89Qjt2YXIgVD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLmJiPW51bGwsdGhpcy5iYl9wb3M9MH1yZXR1cm4gZS5wcm90b3R5cGUuX19pbml0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuYmJfcG9zPWUsdGhpcy5iYj10LHRoaXN9LGUuZ2V0Um9vdEFzTGlzdD1mdW5jdGlvbih0LHIpe3JldHVybihyfHxuZXcgZSkuX19pbml0KHQucmVhZEludDMyKHQucG9zaXRpb24oKSkrdC5wb3NpdGlvbigpLHQpfSxlLmdldFNpemVQcmVmaXhlZFJvb3RBc0xpc3Q9ZnVuY3Rpb24odCxyKXtyZXR1cm4gdC5zZXRQb3NpdGlvbih0LnBvc2l0aW9uKCkrbS5mbGF0YnVmZmVycy5TSVpFX1BSRUZJWF9MRU5HVEgpLChyfHxuZXcgZSkuX19pbml0KHQucmVhZEludDMyKHQucG9zaXRpb24oKSkrdC5wb3NpdGlvbigpLHQpfSxlLnN0YXJ0TGlzdD1mdW5jdGlvbihlKXtlLnN0YXJ0T2JqZWN0KDApfSxlLmVuZExpc3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZW5kT2JqZWN0KCl9LGUuY3JlYXRlTGlzdD1mdW5jdGlvbih0KXtyZXR1cm4gZS5zdGFydExpc3QodCksZS5lbmRMaXN0KHQpfSxlfSgpO2UuTGlzdD1UO3ZhciBJPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuYmI9bnVsbCx0aGlzLmJiX3Bvcz0wfXJldHVybiBlLnByb3RvdHlwZS5fX2luaXQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5iYl9wb3M9ZSx0aGlzLmJiPXQsdGhpc30sZS5nZXRSb290QXNMYXJnZUxpc3Q9ZnVuY3Rpb24odCxyKXtyZXR1cm4ocnx8bmV3IGUpLl9faW5pdCh0LnJlYWRJbnQzMih0LnBvc2l0aW9uKCkpK3QucG9zaXRpb24oKSx0KX0sZS5nZXRTaXplUHJlZml4ZWRSb290QXNMYXJnZUxpc3Q9ZnVuY3Rpb24odCxyKXtyZXR1cm4gdC5zZXRQb3NpdGlvbih0LnBvc2l0aW9uKCkrbS5mbGF0YnVmZmVycy5TSVpFX1BSRUZJWF9MRU5HVEgpLChyfHxuZXcgZSkuX19pbml0KHQucmVhZEludDMyKHQucG9zaXRpb24oKSkrdC5wb3NpdGlvbigpLHQpfSxlLnN0YXJ0TGFyZ2VMaXN0PWZ1bmN0aW9uKGUpe2Uuc3RhcnRPYmplY3QoMCl9LGUuZW5kTGFyZ2VMaXN0PWZ1bmN0aW9uKGUpe3JldHVybiBlLmVuZE9iamVjdCgpfSxlLmNyZWF0ZUxhcmdlTGlzdD1mdW5jdGlvbih0KXtyZXR1cm4gZS5zdGFydExhcmdlTGlzdCh0KSxlLmVuZExhcmdlTGlzdCh0KX0sZX0oKTtlLkxhcmdlTGlzdD1JO3ZhciB3PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuYmI9bnVsbCx0aGlzLmJiX3Bvcz0wfXJldHVybiBlLnByb3RvdHlwZS5fX2luaXQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5iYl9wb3M9ZSx0aGlzLmJiPXQsdGhpc30sZS5nZXRSb290QXNGaXhlZFNpemVMaXN0PWZ1bmN0aW9uKHQscil7cmV0dXJuKHJ8fG5ldyBlKS5fX2luaXQodC5yZWFkSW50MzIodC5wb3NpdGlvbigpKSt0LnBvc2l0aW9uKCksdCl9LGUuZ2V0U2l6ZVByZWZpeGVkUm9vdEFzRml4ZWRTaXplTGlzdD1mdW5jdGlvbih0LHIpe3JldHVybiB0LnNldFBvc2l0aW9uKHQucG9zaXRpb24oKSttLmZsYXRidWZmZXJzLlNJWkVfUFJFRklYX0xFTkdUSCksKHJ8fG5ldyBlKS5fX2luaXQodC5yZWFkSW50MzIodC5wb3NpdGlvbigpKSt0LnBvc2l0aW9uKCksdCl9LGUucHJvdG90eXBlLmxpc3RTaXplPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3Bvcyw0KTtyZXR1cm4gZT90aGlzLmJiLnJlYWRJbnQzMih0aGlzLmJiX3BvcytlKTowfSxlLnN0YXJ0Rml4ZWRTaXplTGlzdD1mdW5jdGlvbihlKXtlLnN0YXJ0T2JqZWN0KDEpfSxlLmFkZExpc3RTaXplPWZ1bmN0aW9uKGUsdCl7ZS5hZGRGaWVsZEludDMyKDAsdCwwKX0sZS5lbmRGaXhlZFNpemVMaXN0PWZ1bmN0aW9uKGUpe3JldHVybiBlLmVuZE9iamVjdCgpfSxlLmNyZWF0ZUZpeGVkU2l6ZUxpc3Q9ZnVuY3Rpb24odCxyKXtyZXR1cm4gZS5zdGFydEZpeGVkU2l6ZUxpc3QodCksZS5hZGRMaXN0U2l6ZSh0LHIpLGUuZW5kRml4ZWRTaXplTGlzdCh0KX0sZX0oKTtlLkZpeGVkU2l6ZUxpc3Q9dzt2YXIgTz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLmJiPW51bGwsdGhpcy5iYl9wb3M9MH1yZXR1cm4gZS5wcm90b3R5cGUuX19pbml0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuYmJfcG9zPWUsdGhpcy5iYj10LHRoaXN9LGUuZ2V0Um9vdEFzTWFwPWZ1bmN0aW9uKHQscil7cmV0dXJuKHJ8fG5ldyBlKS5fX2luaXQodC5yZWFkSW50MzIodC5wb3NpdGlvbigpKSt0LnBvc2l0aW9uKCksdCl9LGUuZ2V0U2l6ZVByZWZpeGVkUm9vdEFzTWFwPWZ1bmN0aW9uKHQscil7cmV0dXJuIHQuc2V0UG9zaXRpb24odC5wb3NpdGlvbigpK20uZmxhdGJ1ZmZlcnMuU0laRV9QUkVGSVhfTEVOR1RIKSwocnx8bmV3IGUpLl9faW5pdCh0LnJlYWRJbnQzMih0LnBvc2l0aW9uKCkpK3QucG9zaXRpb24oKSx0KX0sZS5wcm90b3R5cGUua2V5c1NvcnRlZD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsNCk7cmV0dXJuISFlJiYhIXRoaXMuYmIucmVhZEludDgodGhpcy5iYl9wb3MrZSl9LGUuc3RhcnRNYXA9ZnVuY3Rpb24oZSl7ZS5zdGFydE9iamVjdCgxKX0sZS5hZGRLZXlzU29ydGVkPWZ1bmN0aW9uKGUsdCl7ZS5hZGRGaWVsZEludDgoMCwrdCwwKX0sZS5lbmRNYXA9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZW5kT2JqZWN0KCl9LGUuY3JlYXRlTWFwPWZ1bmN0aW9uKHQscil7cmV0dXJuIGUuc3RhcnRNYXAodCksZS5hZGRLZXlzU29ydGVkKHQsciksZS5lbmRNYXAodCl9LGV9KCk7ZS5NYXA9Tzt2YXIgUz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLmJiPW51bGwsdGhpcy5iYl9wb3M9MH1yZXR1cm4gZS5wcm90b3R5cGUuX19pbml0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuYmJfcG9zPWUsdGhpcy5iYj10LHRoaXN9LGUuZ2V0Um9vdEFzVW5pb249ZnVuY3Rpb24odCxyKXtyZXR1cm4ocnx8bmV3IGUpLl9faW5pdCh0LnJlYWRJbnQzMih0LnBvc2l0aW9uKCkpK3QucG9zaXRpb24oKSx0KX0sZS5nZXRTaXplUHJlZml4ZWRSb290QXNVbmlvbj1mdW5jdGlvbih0LHIpe3JldHVybiB0LnNldFBvc2l0aW9uKHQucG9zaXRpb24oKSttLmZsYXRidWZmZXJzLlNJWkVfUFJFRklYX0xFTkdUSCksKHJ8fG5ldyBlKS5fX2luaXQodC5yZWFkSW50MzIodC5wb3NpdGlvbigpKSt0LnBvc2l0aW9uKCksdCl9LGUucHJvdG90eXBlLm1vZGU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDQpO3JldHVybiBlP3RoaXMuYmIucmVhZEludDE2KHRoaXMuYmJfcG9zK2UpOm4uU3BhcnNlfSxlLnByb3RvdHlwZS50eXBlSWRzPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsNik7cmV0dXJuIHQ/dGhpcy5iYi5yZWFkSW50MzIodGhpcy5iYi5fX3ZlY3Rvcih0aGlzLmJiX3Bvcyt0KSs0KmUpOjB9LGUucHJvdG90eXBlLnR5cGVJZHNMZW5ndGg9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDYpO3JldHVybiBlP3RoaXMuYmIuX192ZWN0b3JfbGVuKHRoaXMuYmJfcG9zK2UpOjB9LGUucHJvdG90eXBlLnR5cGVJZHNBcnJheT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsNik7cmV0dXJuIGU/bmV3IEludDMyQXJyYXkodGhpcy5iYi5ieXRlcygpLmJ1ZmZlcix0aGlzLmJiLmJ5dGVzKCkuYnl0ZU9mZnNldCt0aGlzLmJiLl9fdmVjdG9yKHRoaXMuYmJfcG9zK2UpLHRoaXMuYmIuX192ZWN0b3JfbGVuKHRoaXMuYmJfcG9zK2UpKTpudWxsfSxlLnN0YXJ0VW5pb249ZnVuY3Rpb24oZSl7ZS5zdGFydE9iamVjdCgyKX0sZS5hZGRNb2RlPWZ1bmN0aW9uKGUsdCl7ZS5hZGRGaWVsZEludDE2KDAsdCxuLlNwYXJzZSl9LGUuYWRkVHlwZUlkcz1mdW5jdGlvbihlLHQpe2UuYWRkRmllbGRPZmZzZXQoMSx0LDApfSxlLmNyZWF0ZVR5cGVJZHNWZWN0b3I9ZnVuY3Rpb24oZSx0KXtlLnN0YXJ0VmVjdG9yKDQsdC5sZW5ndGgsNCk7Zm9yKHZhciByPXQubGVuZ3RoLTE7cj49MDtyLS0pZS5hZGRJbnQzMih0W3JdKTtyZXR1cm4gZS5lbmRWZWN0b3IoKX0sZS5zdGFydFR5cGVJZHNWZWN0b3I9ZnVuY3Rpb24oZSx0KXtlLnN0YXJ0VmVjdG9yKDQsdCw0KX0sZS5lbmRVbmlvbj1mdW5jdGlvbihlKXtyZXR1cm4gZS5lbmRPYmplY3QoKX0sZS5jcmVhdGVVbmlvbj1mdW5jdGlvbih0LHIsbil7cmV0dXJuIGUuc3RhcnRVbmlvbih0KSxlLmFkZE1vZGUodCxyKSxlLmFkZFR5cGVJZHModCxuKSxlLmVuZFVuaW9uKHQpfSxlfSgpO2UuVW5pb249Uzt2YXIgQT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLmJiPW51bGwsdGhpcy5iYl9wb3M9MH1yZXR1cm4gZS5wcm90b3R5cGUuX19pbml0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuYmJfcG9zPWUsdGhpcy5iYj10LHRoaXN9LGUuZ2V0Um9vdEFzSW50PWZ1bmN0aW9uKHQscil7cmV0dXJuKHJ8fG5ldyBlKS5fX2luaXQodC5yZWFkSW50MzIodC5wb3NpdGlvbigpKSt0LnBvc2l0aW9uKCksdCl9LGUuZ2V0U2l6ZVByZWZpeGVkUm9vdEFzSW50PWZ1bmN0aW9uKHQscil7cmV0dXJuIHQuc2V0UG9zaXRpb24odC5wb3NpdGlvbigpK20uZmxhdGJ1ZmZlcnMuU0laRV9QUkVGSVhfTEVOR1RIKSwocnx8bmV3IGUpLl9faW5pdCh0LnJlYWRJbnQzMih0LnBvc2l0aW9uKCkpK3QucG9zaXRpb24oKSx0KX0sZS5wcm90b3R5cGUuYml0V2lkdGg9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDQpO3JldHVybiBlP3RoaXMuYmIucmVhZEludDMyKHRoaXMuYmJfcG9zK2UpOjB9LGUucHJvdG90eXBlLmlzU2lnbmVkPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3Bvcyw2KTtyZXR1cm4hIWUmJiEhdGhpcy5iYi5yZWFkSW50OCh0aGlzLmJiX3BvcytlKX0sZS5zdGFydEludD1mdW5jdGlvbihlKXtlLnN0YXJ0T2JqZWN0KDIpfSxlLmFkZEJpdFdpZHRoPWZ1bmN0aW9uKGUsdCl7ZS5hZGRGaWVsZEludDMyKDAsdCwwKX0sZS5hZGRJc1NpZ25lZD1mdW5jdGlvbihlLHQpe2UuYWRkRmllbGRJbnQ4KDEsK3QsMCl9LGUuZW5kSW50PWZ1bmN0aW9uKGUpe3JldHVybiBlLmVuZE9iamVjdCgpfSxlLmNyZWF0ZUludD1mdW5jdGlvbih0LHIsbil7cmV0dXJuIGUuc3RhcnRJbnQodCksZS5hZGRCaXRXaWR0aCh0LHIpLGUuYWRkSXNTaWduZWQodCxuKSxlLmVuZEludCh0KX0sZX0oKTtlLkludD1BO3ZhciBEPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuYmI9bnVsbCx0aGlzLmJiX3Bvcz0wfXJldHVybiBlLnByb3RvdHlwZS5fX2luaXQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5iYl9wb3M9ZSx0aGlzLmJiPXQsdGhpc30sZS5nZXRSb290QXNGbG9hdGluZ1BvaW50PWZ1bmN0aW9uKHQscil7cmV0dXJuKHJ8fG5ldyBlKS5fX2luaXQodC5yZWFkSW50MzIodC5wb3NpdGlvbigpKSt0LnBvc2l0aW9uKCksdCl9LGUuZ2V0U2l6ZVByZWZpeGVkUm9vdEFzRmxvYXRpbmdQb2ludD1mdW5jdGlvbih0LHIpe3JldHVybiB0LnNldFBvc2l0aW9uKHQucG9zaXRpb24oKSttLmZsYXRidWZmZXJzLlNJWkVfUFJFRklYX0xFTkdUSCksKHJ8fG5ldyBlKS5fX2luaXQodC5yZWFkSW50MzIodC5wb3NpdGlvbigpKSt0LnBvc2l0aW9uKCksdCl9LGUucHJvdG90eXBlLnByZWNpc2lvbj1mdW5jdGlvbigpe3ZhciBlPXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsNCk7cmV0dXJuIGU/dGhpcy5iYi5yZWFkSW50MTYodGhpcy5iYl9wb3MrZSk6by5IQUxGfSxlLnN0YXJ0RmxvYXRpbmdQb2ludD1mdW5jdGlvbihlKXtlLnN0YXJ0T2JqZWN0KDEpfSxlLmFkZFByZWNpc2lvbj1mdW5jdGlvbihlLHQpe2UuYWRkRmllbGRJbnQxNigwLHQsby5IQUxGKX0sZS5lbmRGbG9hdGluZ1BvaW50PWZ1bmN0aW9uKGUpe3JldHVybiBlLmVuZE9iamVjdCgpfSxlLmNyZWF0ZUZsb2F0aW5nUG9pbnQ9ZnVuY3Rpb24odCxyKXtyZXR1cm4gZS5zdGFydEZsb2F0aW5nUG9pbnQodCksZS5hZGRQcmVjaXNpb24odCxyKSxlLmVuZEZsb2F0aW5nUG9pbnQodCl9LGV9KCk7ZS5GbG9hdGluZ1BvaW50PUQ7dmFyIFY9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5iYj1udWxsLHRoaXMuYmJfcG9zPTB9cmV0dXJuIGUucHJvdG90eXBlLl9faW5pdD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmJiX3Bvcz1lLHRoaXMuYmI9dCx0aGlzfSxlLmdldFJvb3RBc1V0Zjg9ZnVuY3Rpb24odCxyKXtyZXR1cm4ocnx8bmV3IGUpLl9faW5pdCh0LnJlYWRJbnQzMih0LnBvc2l0aW9uKCkpK3QucG9zaXRpb24oKSx0KX0sZS5nZXRTaXplUHJlZml4ZWRSb290QXNVdGY4PWZ1bmN0aW9uKHQscil7cmV0dXJuIHQuc2V0UG9zaXRpb24odC5wb3NpdGlvbigpK20uZmxhdGJ1ZmZlcnMuU0laRV9QUkVGSVhfTEVOR1RIKSwocnx8bmV3IGUpLl9faW5pdCh0LnJlYWRJbnQzMih0LnBvc2l0aW9uKCkpK3QucG9zaXRpb24oKSx0KX0sZS5zdGFydFV0Zjg9ZnVuY3Rpb24oZSl7ZS5zdGFydE9iamVjdCgwKX0sZS5lbmRVdGY4PWZ1bmN0aW9uKGUpe3JldHVybiBlLmVuZE9iamVjdCgpfSxlLmNyZWF0ZVV0Zjg9ZnVuY3Rpb24odCl7cmV0dXJuIGUuc3RhcnRVdGY4KHQpLGUuZW5kVXRmOCh0KX0sZX0oKTtlLlV0Zjg9Vjt2YXIgUD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLmJiPW51bGwsdGhpcy5iYl9wb3M9MH1yZXR1cm4gZS5wcm90b3R5cGUuX19pbml0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuYmJfcG9zPWUsdGhpcy5iYj10LHRoaXN9LGUuZ2V0Um9vdEFzQmluYXJ5PWZ1bmN0aW9uKHQscil7cmV0dXJuKHJ8fG5ldyBlKS5fX2luaXQodC5yZWFkSW50MzIodC5wb3NpdGlvbigpKSt0LnBvc2l0aW9uKCksdCl9LGUuZ2V0U2l6ZVByZWZpeGVkUm9vdEFzQmluYXJ5PWZ1bmN0aW9uKHQscil7cmV0dXJuIHQuc2V0UG9zaXRpb24odC5wb3NpdGlvbigpK20uZmxhdGJ1ZmZlcnMuU0laRV9QUkVGSVhfTEVOR1RIKSwocnx8bmV3IGUpLl9faW5pdCh0LnJlYWRJbnQzMih0LnBvc2l0aW9uKCkpK3QucG9zaXRpb24oKSx0KX0sZS5zdGFydEJpbmFyeT1mdW5jdGlvbihlKXtlLnN0YXJ0T2JqZWN0KDApfSxlLmVuZEJpbmFyeT1mdW5jdGlvbihlKXtyZXR1cm4gZS5lbmRPYmplY3QoKX0sZS5jcmVhdGVCaW5hcnk9ZnVuY3Rpb24odCl7cmV0dXJuIGUuc3RhcnRCaW5hcnkodCksZS5lbmRCaW5hcnkodCl9LGV9KCk7ZS5CaW5hcnk9UDt2YXIgTT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLmJiPW51bGwsdGhpcy5iYl9wb3M9MH1yZXR1cm4gZS5wcm90b3R5cGUuX19pbml0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuYmJfcG9zPWUsdGhpcy5iYj10LHRoaXN9LGUuZ2V0Um9vdEFzTGFyZ2VVdGY4PWZ1bmN0aW9uKHQscil7cmV0dXJuKHJ8fG5ldyBlKS5fX2luaXQodC5yZWFkSW50MzIodC5wb3NpdGlvbigpKSt0LnBvc2l0aW9uKCksdCl9LGUuZ2V0U2l6ZVByZWZpeGVkUm9vdEFzTGFyZ2VVdGY4PWZ1bmN0aW9uKHQscil7cmV0dXJuIHQuc2V0UG9zaXRpb24odC5wb3NpdGlvbigpK20uZmxhdGJ1ZmZlcnMuU0laRV9QUkVGSVhfTEVOR1RIKSwocnx8bmV3IGUpLl9faW5pdCh0LnJlYWRJbnQzMih0LnBvc2l0aW9uKCkpK3QucG9zaXRpb24oKSx0KX0sZS5zdGFydExhcmdlVXRmOD1mdW5jdGlvbihlKXtlLnN0YXJ0T2JqZWN0KDApfSxlLmVuZExhcmdlVXRmOD1mdW5jdGlvbihlKXtyZXR1cm4gZS5lbmRPYmplY3QoKX0sZS5jcmVhdGVMYXJnZVV0Zjg9ZnVuY3Rpb24odCl7cmV0dXJuIGUuc3RhcnRMYXJnZVV0ZjgodCksZS5lbmRMYXJnZVV0ZjgodCl9LGV9KCk7ZS5MYXJnZVV0Zjg9TTt2YXIgRj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLmJiPW51bGwsdGhpcy5iYl9wb3M9MH1yZXR1cm4gZS5wcm90b3R5cGUuX19pbml0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuYmJfcG9zPWUsdGhpcy5iYj10LHRoaXN9LGUuZ2V0Um9vdEFzTGFyZ2VCaW5hcnk9ZnVuY3Rpb24odCxyKXtyZXR1cm4ocnx8bmV3IGUpLl9faW5pdCh0LnJlYWRJbnQzMih0LnBvc2l0aW9uKCkpK3QucG9zaXRpb24oKSx0KX0sZS5nZXRTaXplUHJlZml4ZWRSb290QXNMYXJnZUJpbmFyeT1mdW5jdGlvbih0LHIpe3JldHVybiB0LnNldFBvc2l0aW9uKHQucG9zaXRpb24oKSttLmZsYXRidWZmZXJzLlNJWkVfUFJFRklYX0xFTkdUSCksKHJ8fG5ldyBlKS5fX2luaXQodC5yZWFkSW50MzIodC5wb3NpdGlvbigpKSt0LnBvc2l0aW9uKCksdCl9LGUuc3RhcnRMYXJnZUJpbmFyeT1mdW5jdGlvbihlKXtlLnN0YXJ0T2JqZWN0KDApfSxlLmVuZExhcmdlQmluYXJ5PWZ1bmN0aW9uKGUpe3JldHVybiBlLmVuZE9iamVjdCgpfSxlLmNyZWF0ZUxhcmdlQmluYXJ5PWZ1bmN0aW9uKHQpe3JldHVybiBlLnN0YXJ0TGFyZ2VCaW5hcnkodCksZS5lbmRMYXJnZUJpbmFyeSh0KX0sZX0oKTtlLkxhcmdlQmluYXJ5PUY7dmFyIFU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5iYj1udWxsLHRoaXMuYmJfcG9zPTB9cmV0dXJuIGUucHJvdG90eXBlLl9faW5pdD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmJiX3Bvcz1lLHRoaXMuYmI9dCx0aGlzfSxlLmdldFJvb3RBc0ZpeGVkU2l6ZUJpbmFyeT1mdW5jdGlvbih0LHIpe3JldHVybihyfHxuZXcgZSkuX19pbml0KHQucmVhZEludDMyKHQucG9zaXRpb24oKSkrdC5wb3NpdGlvbigpLHQpfSxlLmdldFNpemVQcmVmaXhlZFJvb3RBc0ZpeGVkU2l6ZUJpbmFyeT1mdW5jdGlvbih0LHIpe3JldHVybiB0LnNldFBvc2l0aW9uKHQucG9zaXRpb24oKSttLmZsYXRidWZmZXJzLlNJWkVfUFJFRklYX0xFTkdUSCksKHJ8fG5ldyBlKS5fX2luaXQodC5yZWFkSW50MzIodC5wb3NpdGlvbigpKSt0LnBvc2l0aW9uKCksdCl9LGUucHJvdG90eXBlLmJ5dGVXaWR0aD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsNCk7cmV0dXJuIGU/dGhpcy5iYi5yZWFkSW50MzIodGhpcy5iYl9wb3MrZSk6MH0sZS5zdGFydEZpeGVkU2l6ZUJpbmFyeT1mdW5jdGlvbihlKXtlLnN0YXJ0T2JqZWN0KDEpfSxlLmFkZEJ5dGVXaWR0aD1mdW5jdGlvbihlLHQpe2UuYWRkRmllbGRJbnQzMigwLHQsMCl9LGUuZW5kRml4ZWRTaXplQmluYXJ5PWZ1bmN0aW9uKGUpe3JldHVybiBlLmVuZE9iamVjdCgpfSxlLmNyZWF0ZUZpeGVkU2l6ZUJpbmFyeT1mdW5jdGlvbih0LHIpe3JldHVybiBlLnN0YXJ0Rml4ZWRTaXplQmluYXJ5KHQpLGUuYWRkQnl0ZVdpZHRoKHQsciksZS5lbmRGaXhlZFNpemVCaW5hcnkodCl9LGV9KCk7ZS5GaXhlZFNpemVCaW5hcnk9VTt2YXIgaj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLmJiPW51bGwsdGhpcy5iYl9wb3M9MH1yZXR1cm4gZS5wcm90b3R5cGUuX19pbml0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuYmJfcG9zPWUsdGhpcy5iYj10LHRoaXN9LGUuZ2V0Um9vdEFzQm9vbD1mdW5jdGlvbih0LHIpe3JldHVybihyfHxuZXcgZSkuX19pbml0KHQucmVhZEludDMyKHQucG9zaXRpb24oKSkrdC5wb3NpdGlvbigpLHQpfSxlLmdldFNpemVQcmVmaXhlZFJvb3RBc0Jvb2w9ZnVuY3Rpb24odCxyKXtyZXR1cm4gdC5zZXRQb3NpdGlvbih0LnBvc2l0aW9uKCkrbS5mbGF0YnVmZmVycy5TSVpFX1BSRUZJWF9MRU5HVEgpLChyfHxuZXcgZSkuX19pbml0KHQucmVhZEludDMyKHQucG9zaXRpb24oKSkrdC5wb3NpdGlvbigpLHQpfSxlLnN0YXJ0Qm9vbD1mdW5jdGlvbihlKXtlLnN0YXJ0T2JqZWN0KDApfSxlLmVuZEJvb2w9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZW5kT2JqZWN0KCl9LGUuY3JlYXRlQm9vbD1mdW5jdGlvbih0KXtyZXR1cm4gZS5zdGFydEJvb2wodCksZS5lbmRCb29sKHQpfSxlfSgpO2UuQm9vbD1qO3ZhciB4PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuYmI9bnVsbCx0aGlzLmJiX3Bvcz0wfXJldHVybiBlLnByb3RvdHlwZS5fX2luaXQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5iYl9wb3M9ZSx0aGlzLmJiPXQsdGhpc30sZS5nZXRSb290QXNEZWNpbWFsPWZ1bmN0aW9uKHQscil7cmV0dXJuKHJ8fG5ldyBlKS5fX2luaXQodC5yZWFkSW50MzIodC5wb3NpdGlvbigpKSt0LnBvc2l0aW9uKCksdCl9LGUuZ2V0U2l6ZVByZWZpeGVkUm9vdEFzRGVjaW1hbD1mdW5jdGlvbih0LHIpe3JldHVybiB0LnNldFBvc2l0aW9uKHQucG9zaXRpb24oKSttLmZsYXRidWZmZXJzLlNJWkVfUFJFRklYX0xFTkdUSCksKHJ8fG5ldyBlKS5fX2luaXQodC5yZWFkSW50MzIodC5wb3NpdGlvbigpKSt0LnBvc2l0aW9uKCksdCl9LGUucHJvdG90eXBlLnByZWNpc2lvbj1mdW5jdGlvbigpe3ZhciBlPXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsNCk7cmV0dXJuIGU/dGhpcy5iYi5yZWFkSW50MzIodGhpcy5iYl9wb3MrZSk6MH0sZS5wcm90b3R5cGUuc2NhbGU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDYpO3JldHVybiBlP3RoaXMuYmIucmVhZEludDMyKHRoaXMuYmJfcG9zK2UpOjB9LGUucHJvdG90eXBlLmJpdFdpZHRoPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3Bvcyw4KTtyZXR1cm4gZT90aGlzLmJiLnJlYWRJbnQzMih0aGlzLmJiX3BvcytlKToxMjh9LGUuc3RhcnREZWNpbWFsPWZ1bmN0aW9uKGUpe2Uuc3RhcnRPYmplY3QoMyl9LGUuYWRkUHJlY2lzaW9uPWZ1bmN0aW9uKGUsdCl7ZS5hZGRGaWVsZEludDMyKDAsdCwwKX0sZS5hZGRTY2FsZT1mdW5jdGlvbihlLHQpe2UuYWRkRmllbGRJbnQzMigxLHQsMCl9LGUuYWRkQml0V2lkdGg9ZnVuY3Rpb24oZSx0KXtlLmFkZEZpZWxkSW50MzIoMix0LDEyOCl9LGUuZW5kRGVjaW1hbD1mdW5jdGlvbihlKXtyZXR1cm4gZS5lbmRPYmplY3QoKX0sZS5jcmVhdGVEZWNpbWFsPWZ1bmN0aW9uKHQscixuLGkpe3JldHVybiBlLnN0YXJ0RGVjaW1hbCh0KSxlLmFkZFByZWNpc2lvbih0LHIpLGUuYWRkU2NhbGUodCxuKSxlLmFkZEJpdFdpZHRoKHQsaSksZS5lbmREZWNpbWFsKHQpfSxlfSgpO2UuRGVjaW1hbD14O3ZhciBMPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuYmI9bnVsbCx0aGlzLmJiX3Bvcz0wfXJldHVybiBlLnByb3RvdHlwZS5fX2luaXQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5iYl9wb3M9ZSx0aGlzLmJiPXQsdGhpc30sZS5nZXRSb290QXNEYXRlPWZ1bmN0aW9uKHQscil7cmV0dXJuKHJ8fG5ldyBlKS5fX2luaXQodC5yZWFkSW50MzIodC5wb3NpdGlvbigpKSt0LnBvc2l0aW9uKCksdCl9LGUuZ2V0U2l6ZVByZWZpeGVkUm9vdEFzRGF0ZT1mdW5jdGlvbih0LHIpe3JldHVybiB0LnNldFBvc2l0aW9uKHQucG9zaXRpb24oKSttLmZsYXRidWZmZXJzLlNJWkVfUFJFRklYX0xFTkdUSCksKHJ8fG5ldyBlKS5fX2luaXQodC5yZWFkSW50MzIodC5wb3NpdGlvbigpKSt0LnBvc2l0aW9uKCksdCl9LGUucHJvdG90eXBlLnVuaXQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDQpO3JldHVybiBlP3RoaXMuYmIucmVhZEludDE2KHRoaXMuYmJfcG9zK2UpOnUuTUlMTElTRUNPTkR9LGUuc3RhcnREYXRlPWZ1bmN0aW9uKGUpe2Uuc3RhcnRPYmplY3QoMSl9LGUuYWRkVW5pdD1mdW5jdGlvbihlLHQpe2UuYWRkRmllbGRJbnQxNigwLHQsdS5NSUxMSVNFQ09ORCl9LGUuZW5kRGF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gZS5lbmRPYmplY3QoKX0sZS5jcmVhdGVEYXRlPWZ1bmN0aW9uKHQscil7cmV0dXJuIGUuc3RhcnREYXRlKHQpLGUuYWRkVW5pdCh0LHIpLGUuZW5kRGF0ZSh0KX0sZX0oKTtlLkRhdGU9TDt2YXIgUj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLmJiPW51bGwsdGhpcy5iYl9wb3M9MH1yZXR1cm4gZS5wcm90b3R5cGUuX19pbml0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuYmJfcG9zPWUsdGhpcy5iYj10LHRoaXN9LGUuZ2V0Um9vdEFzVGltZT1mdW5jdGlvbih0LHIpe3JldHVybihyfHxuZXcgZSkuX19pbml0KHQucmVhZEludDMyKHQucG9zaXRpb24oKSkrdC5wb3NpdGlvbigpLHQpfSxlLmdldFNpemVQcmVmaXhlZFJvb3RBc1RpbWU9ZnVuY3Rpb24odCxyKXtyZXR1cm4gdC5zZXRQb3NpdGlvbih0LnBvc2l0aW9uKCkrbS5mbGF0YnVmZmVycy5TSVpFX1BSRUZJWF9MRU5HVEgpLChyfHxuZXcgZSkuX19pbml0KHQucmVhZEludDMyKHQucG9zaXRpb24oKSkrdC5wb3NpdGlvbigpLHQpfSxlLnByb3RvdHlwZS51bml0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3Bvcyw0KTtyZXR1cm4gZT90aGlzLmJiLnJlYWRJbnQxNih0aGlzLmJiX3BvcytlKTpjLk1JTExJU0VDT05EfSxlLnByb3RvdHlwZS5iaXRXaWR0aD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsNik7cmV0dXJuIGU/dGhpcy5iYi5yZWFkSW50MzIodGhpcy5iYl9wb3MrZSk6MzJ9LGUuc3RhcnRUaW1lPWZ1bmN0aW9uKGUpe2Uuc3RhcnRPYmplY3QoMil9LGUuYWRkVW5pdD1mdW5jdGlvbihlLHQpe2UuYWRkRmllbGRJbnQxNigwLHQsYy5NSUxMSVNFQ09ORCl9LGUuYWRkQml0V2lkdGg9ZnVuY3Rpb24oZSx0KXtlLmFkZEZpZWxkSW50MzIoMSx0LDMyKX0sZS5lbmRUaW1lPWZ1bmN0aW9uKGUpe3JldHVybiBlLmVuZE9iamVjdCgpfSxlLmNyZWF0ZVRpbWU9ZnVuY3Rpb24odCxyLG4pe3JldHVybiBlLnN0YXJ0VGltZSh0KSxlLmFkZFVuaXQodCxyKSxlLmFkZEJpdFdpZHRoKHQsbiksZS5lbmRUaW1lKHQpfSxlfSgpO2UuVGltZT1SO3ZhciBOPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuYmI9bnVsbCx0aGlzLmJiX3Bvcz0wfXJldHVybiBlLnByb3RvdHlwZS5fX2luaXQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5iYl9wb3M9ZSx0aGlzLmJiPXQsdGhpc30sZS5nZXRSb290QXNUaW1lc3RhbXA9ZnVuY3Rpb24odCxyKXtyZXR1cm4ocnx8bmV3IGUpLl9faW5pdCh0LnJlYWRJbnQzMih0LnBvc2l0aW9uKCkpK3QucG9zaXRpb24oKSx0KX0sZS5nZXRTaXplUHJlZml4ZWRSb290QXNUaW1lc3RhbXA9ZnVuY3Rpb24odCxyKXtyZXR1cm4gdC5zZXRQb3NpdGlvbih0LnBvc2l0aW9uKCkrbS5mbGF0YnVmZmVycy5TSVpFX1BSRUZJWF9MRU5HVEgpLChyfHxuZXcgZSkuX19pbml0KHQucmVhZEludDMyKHQucG9zaXRpb24oKSkrdC5wb3NpdGlvbigpLHQpfSxlLnByb3RvdHlwZS51bml0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3Bvcyw0KTtyZXR1cm4gZT90aGlzLmJiLnJlYWRJbnQxNih0aGlzLmJiX3BvcytlKTpjLlNFQ09ORH0sZS5wcm90b3R5cGUudGltZXpvbmU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3Bvcyw2KTtyZXR1cm4gdD90aGlzLmJiLl9fc3RyaW5nKHRoaXMuYmJfcG9zK3QsZSk6bnVsbH0sZS5zdGFydFRpbWVzdGFtcD1mdW5jdGlvbihlKXtlLnN0YXJ0T2JqZWN0KDIpfSxlLmFkZFVuaXQ9ZnVuY3Rpb24oZSx0KXtlLmFkZEZpZWxkSW50MTYoMCx0LGMuU0VDT05EKX0sZS5hZGRUaW1lem9uZT1mdW5jdGlvbihlLHQpe2UuYWRkRmllbGRPZmZzZXQoMSx0LDApfSxlLmVuZFRpbWVzdGFtcD1mdW5jdGlvbihlKXtyZXR1cm4gZS5lbmRPYmplY3QoKX0sZS5jcmVhdGVUaW1lc3RhbXA9ZnVuY3Rpb24odCxyLG4pe3JldHVybiBlLnN0YXJ0VGltZXN0YW1wKHQpLGUuYWRkVW5pdCh0LHIpLGUuYWRkVGltZXpvbmUodCxuKSxlLmVuZFRpbWVzdGFtcCh0KX0sZX0oKTtlLlRpbWVzdGFtcD1OO3ZhciBFPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuYmI9bnVsbCx0aGlzLmJiX3Bvcz0wfXJldHVybiBlLnByb3RvdHlwZS5fX2luaXQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5iYl9wb3M9ZSx0aGlzLmJiPXQsdGhpc30sZS5nZXRSb290QXNJbnRlcnZhbD1mdW5jdGlvbih0LHIpe3JldHVybihyfHxuZXcgZSkuX19pbml0KHQucmVhZEludDMyKHQucG9zaXRpb24oKSkrdC5wb3NpdGlvbigpLHQpfSxlLmdldFNpemVQcmVmaXhlZFJvb3RBc0ludGVydmFsPWZ1bmN0aW9uKHQscil7cmV0dXJuIHQuc2V0UG9zaXRpb24odC5wb3NpdGlvbigpK20uZmxhdGJ1ZmZlcnMuU0laRV9QUkVGSVhfTEVOR1RIKSwocnx8bmV3IGUpLl9faW5pdCh0LnJlYWRJbnQzMih0LnBvc2l0aW9uKCkpK3QucG9zaXRpb24oKSx0KX0sZS5wcm90b3R5cGUudW5pdD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsNCk7cmV0dXJuIGU/dGhpcy5iYi5yZWFkSW50MTYodGhpcy5iYl9wb3MrZSk6Zi5ZRUFSX01PTlRIfSxlLnN0YXJ0SW50ZXJ2YWw9ZnVuY3Rpb24oZSl7ZS5zdGFydE9iamVjdCgxKX0sZS5hZGRVbml0PWZ1bmN0aW9uKGUsdCl7ZS5hZGRGaWVsZEludDE2KDAsdCxmLllFQVJfTU9OVEgpfSxlLmVuZEludGVydmFsPWZ1bmN0aW9uKGUpe3JldHVybiBlLmVuZE9iamVjdCgpfSxlLmNyZWF0ZUludGVydmFsPWZ1bmN0aW9uKHQscil7cmV0dXJuIGUuc3RhcnRJbnRlcnZhbCh0KSxlLmFkZFVuaXQodCxyKSxlLmVuZEludGVydmFsKHQpfSxlfSgpO2UuSW50ZXJ2YWw9RTt2YXIgQz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLmJiPW51bGwsdGhpcy5iYl9wb3M9MH1yZXR1cm4gZS5wcm90b3R5cGUuX19pbml0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuYmJfcG9zPWUsdGhpcy5iYj10LHRoaXN9LGUuZ2V0Um9vdEFzRHVyYXRpb249ZnVuY3Rpb24odCxyKXtyZXR1cm4ocnx8bmV3IGUpLl9faW5pdCh0LnJlYWRJbnQzMih0LnBvc2l0aW9uKCkpK3QucG9zaXRpb24oKSx0KX0sZS5nZXRTaXplUHJlZml4ZWRSb290QXNEdXJhdGlvbj1mdW5jdGlvbih0LHIpe3JldHVybiB0LnNldFBvc2l0aW9uKHQucG9zaXRpb24oKSttLmZsYXRidWZmZXJzLlNJWkVfUFJFRklYX0xFTkdUSCksKHJ8fG5ldyBlKS5fX2luaXQodC5yZWFkSW50MzIodC5wb3NpdGlvbigpKSt0LnBvc2l0aW9uKCksdCl9LGUucHJvdG90eXBlLnVuaXQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDQpO3JldHVybiBlP3RoaXMuYmIucmVhZEludDE2KHRoaXMuYmJfcG9zK2UpOmMuTUlMTElTRUNPTkR9LGUuc3RhcnREdXJhdGlvbj1mdW5jdGlvbihlKXtlLnN0YXJ0T2JqZWN0KDEpfSxlLmFkZFVuaXQ9ZnVuY3Rpb24oZSx0KXtlLmFkZEZpZWxkSW50MTYoMCx0LGMuTUlMTElTRUNPTkQpfSxlLmVuZER1cmF0aW9uPWZ1bmN0aW9uKGUpe3JldHVybiBlLmVuZE9iamVjdCgpfSxlLmNyZWF0ZUR1cmF0aW9uPWZ1bmN0aW9uKHQscil7cmV0dXJuIGUuc3RhcnREdXJhdGlvbih0KSxlLmFkZFVuaXQodCxyKSxlLmVuZER1cmF0aW9uKHQpfSxlfSgpO2UuRHVyYXRpb249Qzt2YXIgej1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLmJiPW51bGwsdGhpcy5iYl9wb3M9MH1yZXR1cm4gZS5wcm90b3R5cGUuX19pbml0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuYmJfcG9zPWUsdGhpcy5iYj10LHRoaXN9LGUuZ2V0Um9vdEFzS2V5VmFsdWU9ZnVuY3Rpb24odCxyKXtyZXR1cm4ocnx8bmV3IGUpLl9faW5pdCh0LnJlYWRJbnQzMih0LnBvc2l0aW9uKCkpK3QucG9zaXRpb24oKSx0KX0sZS5nZXRTaXplUHJlZml4ZWRSb290QXNLZXlWYWx1ZT1mdW5jdGlvbih0LHIpe3JldHVybiB0LnNldFBvc2l0aW9uKHQucG9zaXRpb24oKSttLmZsYXRidWZmZXJzLlNJWkVfUFJFRklYX0xFTkdUSCksKHJ8fG5ldyBlKS5fX2luaXQodC5yZWFkSW50MzIodC5wb3NpdGlvbigpKSt0LnBvc2l0aW9uKCksdCl9LGUucHJvdG90eXBlLmtleT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDQpO3JldHVybiB0P3RoaXMuYmIuX19zdHJpbmcodGhpcy5iYl9wb3MrdCxlKTpudWxsfSxlLnByb3RvdHlwZS52YWx1ZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDYpO3JldHVybiB0P3RoaXMuYmIuX19zdHJpbmcodGhpcy5iYl9wb3MrdCxlKTpudWxsfSxlLnN0YXJ0S2V5VmFsdWU9ZnVuY3Rpb24oZSl7ZS5zdGFydE9iamVjdCgyKX0sZS5hZGRLZXk9ZnVuY3Rpb24oZSx0KXtlLmFkZEZpZWxkT2Zmc2V0KDAsdCwwKX0sZS5hZGRWYWx1ZT1mdW5jdGlvbihlLHQpe2UuYWRkRmllbGRPZmZzZXQoMSx0LDApfSxlLmVuZEtleVZhbHVlPWZ1bmN0aW9uKGUpe3JldHVybiBlLmVuZE9iamVjdCgpfSxlLmNyZWF0ZUtleVZhbHVlPWZ1bmN0aW9uKHQscixuKXtyZXR1cm4gZS5zdGFydEtleVZhbHVlKHQpLGUuYWRkS2V5KHQsciksZS5hZGRWYWx1ZSh0LG4pLGUuZW5kS2V5VmFsdWUodCl9LGV9KCk7ZS5LZXlWYWx1ZT16O3ZhciBrPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuYmI9bnVsbCx0aGlzLmJiX3Bvcz0wfXJldHVybiBlLnByb3RvdHlwZS5fX2luaXQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5iYl9wb3M9ZSx0aGlzLmJiPXQsdGhpc30sZS5nZXRSb290QXNEaWN0aW9uYXJ5RW5jb2Rpbmc9ZnVuY3Rpb24odCxyKXtyZXR1cm4ocnx8bmV3IGUpLl9faW5pdCh0LnJlYWRJbnQzMih0LnBvc2l0aW9uKCkpK3QucG9zaXRpb24oKSx0KX0sZS5nZXRTaXplUHJlZml4ZWRSb290QXNEaWN0aW9uYXJ5RW5jb2Rpbmc9ZnVuY3Rpb24odCxyKXtyZXR1cm4gdC5zZXRQb3NpdGlvbih0LnBvc2l0aW9uKCkrbS5mbGF0YnVmZmVycy5TSVpFX1BSRUZJWF9MRU5HVEgpLChyfHxuZXcgZSkuX19pbml0KHQucmVhZEludDMyKHQucG9zaXRpb24oKSkrdC5wb3NpdGlvbigpLHQpfSxlLnByb3RvdHlwZS5pZD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsNCk7cmV0dXJuIGU/dGhpcy5iYi5yZWFkSW50NjQodGhpcy5iYl9wb3MrZSk6dGhpcy5iYi5jcmVhdGVMb25nKDAsMCl9LGUucHJvdG90eXBlLmluZGV4VHlwZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDYpO3JldHVybiB0PyhlfHxuZXcgQSkuX19pbml0KHRoaXMuYmIuX19pbmRpcmVjdCh0aGlzLmJiX3Bvcyt0KSx0aGlzLmJiKTpudWxsfSxlLnByb3RvdHlwZS5pc09yZGVyZWQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDgpO3JldHVybiEhZSYmISF0aGlzLmJiLnJlYWRJbnQ4KHRoaXMuYmJfcG9zK2UpfSxlLnByb3RvdHlwZS5kaWN0aW9uYXJ5S2luZD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsMTApO3JldHVybiBlP3RoaXMuYmIucmVhZEludDE2KHRoaXMuYmJfcG9zK2UpOmguRGVuc2VBcnJheX0sZS5zdGFydERpY3Rpb25hcnlFbmNvZGluZz1mdW5jdGlvbihlKXtlLnN0YXJ0T2JqZWN0KDQpfSxlLmFkZElkPWZ1bmN0aW9uKGUsdCl7ZS5hZGRGaWVsZEludDY0KDAsdCxlLmNyZWF0ZUxvbmcoMCwwKSl9LGUuYWRkSW5kZXhUeXBlPWZ1bmN0aW9uKGUsdCl7ZS5hZGRGaWVsZE9mZnNldCgxLHQsMCl9LGUuYWRkSXNPcmRlcmVkPWZ1bmN0aW9uKGUsdCl7ZS5hZGRGaWVsZEludDgoMiwrdCwwKX0sZS5hZGREaWN0aW9uYXJ5S2luZD1mdW5jdGlvbihlLHQpe2UuYWRkRmllbGRJbnQxNigzLHQsaC5EZW5zZUFycmF5KX0sZS5lbmREaWN0aW9uYXJ5RW5jb2Rpbmc9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZW5kT2JqZWN0KCl9LGUuY3JlYXRlRGljdGlvbmFyeUVuY29kaW5nPWZ1bmN0aW9uKHQscixuLGksbyl7cmV0dXJuIGUuc3RhcnREaWN0aW9uYXJ5RW5jb2RpbmcodCksZS5hZGRJZCh0LHIpLGUuYWRkSW5kZXhUeXBlKHQsbiksZS5hZGRJc09yZGVyZWQodCxpKSxlLmFkZERpY3Rpb25hcnlLaW5kKHQsbyksZS5lbmREaWN0aW9uYXJ5RW5jb2RpbmcodCl9LGV9KCk7ZS5EaWN0aW9uYXJ5RW5jb2Rpbmc9azt2YXIgVz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLmJiPW51bGwsdGhpcy5iYl9wb3M9MH1yZXR1cm4gZS5wcm90b3R5cGUuX19pbml0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuYmJfcG9zPWUsdGhpcy5iYj10LHRoaXN9LGUuZ2V0Um9vdEFzRmllbGQ9ZnVuY3Rpb24odCxyKXtyZXR1cm4ocnx8bmV3IGUpLl9faW5pdCh0LnJlYWRJbnQzMih0LnBvc2l0aW9uKCkpK3QucG9zaXRpb24oKSx0KX0sZS5nZXRTaXplUHJlZml4ZWRSb290QXNGaWVsZD1mdW5jdGlvbih0LHIpe3JldHVybiB0LnNldFBvc2l0aW9uKHQucG9zaXRpb24oKSttLmZsYXRidWZmZXJzLlNJWkVfUFJFRklYX0xFTkdUSCksKHJ8fG5ldyBlKS5fX2luaXQodC5yZWFkSW50MzIodC5wb3NpdGlvbigpKSt0LnBvc2l0aW9uKCksdCl9LGUucHJvdG90eXBlLm5hbWU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3Bvcyw0KTtyZXR1cm4gdD90aGlzLmJiLl9fc3RyaW5nKHRoaXMuYmJfcG9zK3QsZSk6bnVsbH0sZS5wcm90b3R5cGUubnVsbGFibGU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDYpO3JldHVybiEhZSYmISF0aGlzLmJiLnJlYWRJbnQ4KHRoaXMuYmJfcG9zK2UpfSxlLnByb3RvdHlwZS50eXBlVHlwZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsOCk7cmV0dXJuIGU/dGhpcy5iYi5yZWFkVWludDgodGhpcy5iYl9wb3MrZSk6cC5OT05FfSxlLnByb3RvdHlwZS50eXBlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsMTApO3JldHVybiB0P3RoaXMuYmIuX191bmlvbihlLHRoaXMuYmJfcG9zK3QpOm51bGx9LGUucHJvdG90eXBlLmRpY3Rpb25hcnk9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3BvcywxMik7cmV0dXJuIHQ/KGV8fG5ldyBrKS5fX2luaXQodGhpcy5iYi5fX2luZGlyZWN0KHRoaXMuYmJfcG9zK3QpLHRoaXMuYmIpOm51bGx9LGUucHJvdG90eXBlLmNoaWxkcmVuPWZ1bmN0aW9uKHQscil7dmFyIG49dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3BvcywxNCk7cmV0dXJuIG4/KHJ8fG5ldyBlKS5fX2luaXQodGhpcy5iYi5fX2luZGlyZWN0KHRoaXMuYmIuX192ZWN0b3IodGhpcy5iYl9wb3MrbikrNCp0KSx0aGlzLmJiKTpudWxsfSxlLnByb3RvdHlwZS5jaGlsZHJlbkxlbmd0aD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsMTQpO3JldHVybiBlP3RoaXMuYmIuX192ZWN0b3JfbGVuKHRoaXMuYmJfcG9zK2UpOjB9LGUucHJvdG90eXBlLmN1c3RvbU1ldGFkYXRhPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3BvcywxNik7cmV0dXJuIHI/KHR8fG5ldyB6KS5fX2luaXQodGhpcy5iYi5fX2luZGlyZWN0KHRoaXMuYmIuX192ZWN0b3IodGhpcy5iYl9wb3MrcikrNCplKSx0aGlzLmJiKTpudWxsfSxlLnByb3RvdHlwZS5jdXN0b21NZXRhZGF0YUxlbmd0aD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsMTYpO3JldHVybiBlP3RoaXMuYmIuX192ZWN0b3JfbGVuKHRoaXMuYmJfcG9zK2UpOjB9LGUuc3RhcnRGaWVsZD1mdW5jdGlvbihlKXtlLnN0YXJ0T2JqZWN0KDcpfSxlLmFkZE5hbWU9ZnVuY3Rpb24oZSx0KXtlLmFkZEZpZWxkT2Zmc2V0KDAsdCwwKX0sZS5hZGROdWxsYWJsZT1mdW5jdGlvbihlLHQpe2UuYWRkRmllbGRJbnQ4KDEsK3QsMCl9LGUuYWRkVHlwZVR5cGU9ZnVuY3Rpb24oZSx0KXtlLmFkZEZpZWxkSW50OCgyLHQscC5OT05FKX0sZS5hZGRUeXBlPWZ1bmN0aW9uKGUsdCl7ZS5hZGRGaWVsZE9mZnNldCgzLHQsMCl9LGUuYWRkRGljdGlvbmFyeT1mdW5jdGlvbihlLHQpe2UuYWRkRmllbGRPZmZzZXQoNCx0LDApfSxlLmFkZENoaWxkcmVuPWZ1bmN0aW9uKGUsdCl7ZS5hZGRGaWVsZE9mZnNldCg1LHQsMCl9LGUuY3JlYXRlQ2hpbGRyZW5WZWN0b3I9ZnVuY3Rpb24oZSx0KXtlLnN0YXJ0VmVjdG9yKDQsdC5sZW5ndGgsNCk7Zm9yKHZhciByPXQubGVuZ3RoLTE7cj49MDtyLS0pZS5hZGRPZmZzZXQodFtyXSk7cmV0dXJuIGUuZW5kVmVjdG9yKCl9LGUuc3RhcnRDaGlsZHJlblZlY3Rvcj1mdW5jdGlvbihlLHQpe2Uuc3RhcnRWZWN0b3IoNCx0LDQpfSxlLmFkZEN1c3RvbU1ldGFkYXRhPWZ1bmN0aW9uKGUsdCl7ZS5hZGRGaWVsZE9mZnNldCg2LHQsMCl9LGUuY3JlYXRlQ3VzdG9tTWV0YWRhdGFWZWN0b3I9ZnVuY3Rpb24oZSx0KXtlLnN0YXJ0VmVjdG9yKDQsdC5sZW5ndGgsNCk7Zm9yKHZhciByPXQubGVuZ3RoLTE7cj49MDtyLS0pZS5hZGRPZmZzZXQodFtyXSk7cmV0dXJuIGUuZW5kVmVjdG9yKCl9LGUuc3RhcnRDdXN0b21NZXRhZGF0YVZlY3Rvcj1mdW5jdGlvbihlLHQpe2Uuc3RhcnRWZWN0b3IoNCx0LDQpfSxlLmVuZEZpZWxkPWZ1bmN0aW9uKGUpe3JldHVybiBlLmVuZE9iamVjdCgpfSxlLmNyZWF0ZUZpZWxkPWZ1bmN0aW9uKHQscixuLGksbyxhLHUscyl7cmV0dXJuIGUuc3RhcnRGaWVsZCh0KSxlLmFkZE5hbWUodCxyKSxlLmFkZE51bGxhYmxlKHQsbiksZS5hZGRUeXBlVHlwZSh0LGkpLGUuYWRkVHlwZSh0LG8pLGUuYWRkRGljdGlvbmFyeSh0LGEpLGUuYWRkQ2hpbGRyZW4odCx1KSxlLmFkZEN1c3RvbU1ldGFkYXRhKHQscyksZS5lbmRGaWVsZCh0KX0sZX0oKTtlLkZpZWxkPVc7dmFyIFk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5iYj1udWxsLHRoaXMuYmJfcG9zPTB9cmV0dXJuIGUucHJvdG90eXBlLl9faW5pdD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmJiX3Bvcz1lLHRoaXMuYmI9dCx0aGlzfSxlLnByb3RvdHlwZS5vZmZzZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iYi5yZWFkSW50NjQodGhpcy5iYl9wb3MpfSxlLnByb3RvdHlwZS5sZW5ndGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iYi5yZWFkSW50NjQodGhpcy5iYl9wb3MrOCl9LGUuY3JlYXRlQnVmZmVyPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZS5wcmVwKDgsMTYpLGUud3JpdGVJbnQ2NChyKSxlLndyaXRlSW50NjQodCksZS5vZmZzZXQoKX0sZX0oKTtlLkJ1ZmZlcj1ZO3ZhciBIPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuYmI9bnVsbCx0aGlzLmJiX3Bvcz0wfXJldHVybiBlLnByb3RvdHlwZS5fX2luaXQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5iYl9wb3M9ZSx0aGlzLmJiPXQsdGhpc30sZS5nZXRSb290QXNTY2hlbWE9ZnVuY3Rpb24odCxyKXtyZXR1cm4ocnx8bmV3IGUpLl9faW5pdCh0LnJlYWRJbnQzMih0LnBvc2l0aW9uKCkpK3QucG9zaXRpb24oKSx0KX0sZS5nZXRTaXplUHJlZml4ZWRSb290QXNTY2hlbWE9ZnVuY3Rpb24odCxyKXtyZXR1cm4gdC5zZXRQb3NpdGlvbih0LnBvc2l0aW9uKCkrbS5mbGF0YnVmZmVycy5TSVpFX1BSRUZJWF9MRU5HVEgpLChyfHxuZXcgZSkuX19pbml0KHQucmVhZEludDMyKHQucG9zaXRpb24oKSkrdC5wb3NpdGlvbigpLHQpfSxlLnByb3RvdHlwZS5lbmRpYW5uZXNzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3Bvcyw0KTtyZXR1cm4gZT90aGlzLmJiLnJlYWRJbnQxNih0aGlzLmJiX3BvcytlKTp2LkxpdHRsZX0sZS5wcm90b3R5cGUuZmllbGRzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3Bvcyw2KTtyZXR1cm4gcj8odHx8bmV3IFcpLl9faW5pdCh0aGlzLmJiLl9faW5kaXJlY3QodGhpcy5iYi5fX3ZlY3Rvcih0aGlzLmJiX3BvcytyKSs0KmUpLHRoaXMuYmIpOm51bGx9LGUucHJvdG90eXBlLmZpZWxkc0xlbmd0aD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsNik7cmV0dXJuIGU/dGhpcy5iYi5fX3ZlY3Rvcl9sZW4odGhpcy5iYl9wb3MrZSk6MH0sZS5wcm90b3R5cGUuY3VzdG9tTWV0YWRhdGE9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDgpO3JldHVybiByPyh0fHxuZXcgeikuX19pbml0KHRoaXMuYmIuX19pbmRpcmVjdCh0aGlzLmJiLl9fdmVjdG9yKHRoaXMuYmJfcG9zK3IpKzQqZSksdGhpcy5iYik6bnVsbH0sZS5wcm90b3R5cGUuY3VzdG9tTWV0YWRhdGFMZW5ndGg9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDgpO3JldHVybiBlP3RoaXMuYmIuX192ZWN0b3JfbGVuKHRoaXMuYmJfcG9zK2UpOjB9LGUucHJvdG90eXBlLmZlYXR1cmVzPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsMTApO3JldHVybiB0P3RoaXMuYmIucmVhZEludDY0KHRoaXMuYmIuX192ZWN0b3IodGhpcy5iYl9wb3MrdCkrOCplKTp0aGlzLmJiLmNyZWF0ZUxvbmcoMCwwKX0sZS5wcm90b3R5cGUuZmVhdHVyZXNMZW5ndGg9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDEwKTtyZXR1cm4gZT90aGlzLmJiLl9fdmVjdG9yX2xlbih0aGlzLmJiX3BvcytlKTowfSxlLnN0YXJ0U2NoZW1hPWZ1bmN0aW9uKGUpe2Uuc3RhcnRPYmplY3QoNCl9LGUuYWRkRW5kaWFubmVzcz1mdW5jdGlvbihlLHQpe2UuYWRkRmllbGRJbnQxNigwLHQsdi5MaXR0bGUpfSxlLmFkZEZpZWxkcz1mdW5jdGlvbihlLHQpe2UuYWRkRmllbGRPZmZzZXQoMSx0LDApfSxlLmNyZWF0ZUZpZWxkc1ZlY3Rvcj1mdW5jdGlvbihlLHQpe2Uuc3RhcnRWZWN0b3IoNCx0Lmxlbmd0aCw0KTtmb3IodmFyIHI9dC5sZW5ndGgtMTtyPj0wO3ItLSllLmFkZE9mZnNldCh0W3JdKTtyZXR1cm4gZS5lbmRWZWN0b3IoKX0sZS5zdGFydEZpZWxkc1ZlY3Rvcj1mdW5jdGlvbihlLHQpe2Uuc3RhcnRWZWN0b3IoNCx0LDQpfSxlLmFkZEN1c3RvbU1ldGFkYXRhPWZ1bmN0aW9uKGUsdCl7ZS5hZGRGaWVsZE9mZnNldCgyLHQsMCl9LGUuY3JlYXRlQ3VzdG9tTWV0YWRhdGFWZWN0b3I9ZnVuY3Rpb24oZSx0KXtlLnN0YXJ0VmVjdG9yKDQsdC5sZW5ndGgsNCk7Zm9yKHZhciByPXQubGVuZ3RoLTE7cj49MDtyLS0pZS5hZGRPZmZzZXQodFtyXSk7cmV0dXJuIGUuZW5kVmVjdG9yKCl9LGUuc3RhcnRDdXN0b21NZXRhZGF0YVZlY3Rvcj1mdW5jdGlvbihlLHQpe2Uuc3RhcnRWZWN0b3IoNCx0LDQpfSxlLmFkZEZlYXR1cmVzPWZ1bmN0aW9uKGUsdCl7ZS5hZGRGaWVsZE9mZnNldCgzLHQsMCl9LGUuY3JlYXRlRmVhdHVyZXNWZWN0b3I9ZnVuY3Rpb24oZSx0KXtlLnN0YXJ0VmVjdG9yKDgsdC5sZW5ndGgsOCk7Zm9yKHZhciByPXQubGVuZ3RoLTE7cj49MDtyLS0pZS5hZGRJbnQ2NCh0W3JdKTtyZXR1cm4gZS5lbmRWZWN0b3IoKX0sZS5zdGFydEZlYXR1cmVzVmVjdG9yPWZ1bmN0aW9uKGUsdCl7ZS5zdGFydFZlY3Rvcig4LHQsOCl9LGUuZW5kU2NoZW1hPWZ1bmN0aW9uKGUpe3JldHVybiBlLmVuZE9iamVjdCgpfSxlLmZpbmlzaFNjaGVtYUJ1ZmZlcj1mdW5jdGlvbihlLHQpe2UuZmluaXNoKHQpfSxlLmZpbmlzaFNpemVQcmVmaXhlZFNjaGVtYUJ1ZmZlcj1mdW5jdGlvbihlLHQpe2UuZmluaXNoKHQsdm9pZCAwLCEwKX0sZS5jcmVhdGVTY2hlbWE9ZnVuY3Rpb24odCxyLG4saSxvKXtyZXR1cm4gZS5zdGFydFNjaGVtYSh0KSxlLmFkZEVuZGlhbm5lc3ModCxyKSxlLmFkZEZpZWxkcyh0LG4pLGUuYWRkQ3VzdG9tTWV0YWRhdGEodCxpKSxlLmFkZEZlYXR1cmVzKHQsbyksZS5lbmRTY2hlbWEodCl9LGV9KCk7ZS5TY2hlbWE9SH0oQmUpO3ZhciBUZT17fTshZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuTWVzc2FnZT1lLkRpY3Rpb25hcnlCYXRjaD1lLlJlY29yZEJhdGNoPWUuQm9keUNvbXByZXNzaW9uPWUuRmllbGROb2RlPWUuTWVzc2FnZUhlYWRlcj1lLkJvZHlDb21wcmVzc2lvbk1ldGhvZD1lLkNvbXByZXNzaW9uVHlwZT12b2lkIDA7dmFyIHQscixuLGksbyxhLHU9WixzPUJlOyhyPXQ9ZS5Db21wcmVzc2lvblR5cGV8fChlLkNvbXByZXNzaW9uVHlwZT17fSkpW3IuTFo0X0ZSQU1FPTBdPSJMWjRfRlJBTUUiLHJbci5aU1REPTFdPSJaU1REIiwoaT1uPWUuQm9keUNvbXByZXNzaW9uTWV0aG9kfHwoZS5Cb2R5Q29tcHJlc3Npb25NZXRob2Q9e30pKVtpLkJVRkZFUj0wXT0iQlVGRkVSIiwoYT1vPWUuTWVzc2FnZUhlYWRlcnx8KGUuTWVzc2FnZUhlYWRlcj17fSkpW2EuTk9ORT0wXT0iTk9ORSIsYVthLlNjaGVtYT0xXT0iU2NoZW1hIixhW2EuRGljdGlvbmFyeUJhdGNoPTJdPSJEaWN0aW9uYXJ5QmF0Y2giLGFbYS5SZWNvcmRCYXRjaD0zXT0iUmVjb3JkQmF0Y2giLGFbYS5UZW5zb3I9NF09IlRlbnNvciIsYVthLlNwYXJzZVRlbnNvcj01XT0iU3BhcnNlVGVuc29yIjt2YXIgYz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLmJiPW51bGwsdGhpcy5iYl9wb3M9MH1yZXR1cm4gZS5wcm90b3R5cGUuX19pbml0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuYmJfcG9zPWUsdGhpcy5iYj10LHRoaXN9LGUucHJvdG90eXBlLmxlbmd0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJiLnJlYWRJbnQ2NCh0aGlzLmJiX3Bvcyl9LGUucHJvdG90eXBlLm51bGxDb3VudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJiLnJlYWRJbnQ2NCh0aGlzLmJiX3Bvcys4KX0sZS5jcmVhdGVGaWVsZE5vZGU9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlLnByZXAoOCwxNiksZS53cml0ZUludDY0KHIpLGUud3JpdGVJbnQ2NCh0KSxlLm9mZnNldCgpfSxlfSgpO2UuRmllbGROb2RlPWM7dmFyIGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5iYj1udWxsLHRoaXMuYmJfcG9zPTB9cmV0dXJuIGUucHJvdG90eXBlLl9faW5pdD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmJiX3Bvcz1lLHRoaXMuYmI9dCx0aGlzfSxlLmdldFJvb3RBc0JvZHlDb21wcmVzc2lvbj1mdW5jdGlvbih0LHIpe3JldHVybihyfHxuZXcgZSkuX19pbml0KHQucmVhZEludDMyKHQucG9zaXRpb24oKSkrdC5wb3NpdGlvbigpLHQpfSxlLmdldFNpemVQcmVmaXhlZFJvb3RBc0JvZHlDb21wcmVzc2lvbj1mdW5jdGlvbih0LHIpe3JldHVybiB0LnNldFBvc2l0aW9uKHQucG9zaXRpb24oKSt1LmZsYXRidWZmZXJzLlNJWkVfUFJFRklYX0xFTkdUSCksKHJ8fG5ldyBlKS5fX2luaXQodC5yZWFkSW50MzIodC5wb3NpdGlvbigpKSt0LnBvc2l0aW9uKCksdCl9LGUucHJvdG90eXBlLmNvZGVjPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3Bvcyw0KTtyZXR1cm4gZT90aGlzLmJiLnJlYWRJbnQ4KHRoaXMuYmJfcG9zK2UpOnQuTFo0X0ZSQU1FfSxlLnByb3RvdHlwZS5tZXRob2Q9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDYpO3JldHVybiBlP3RoaXMuYmIucmVhZEludDgodGhpcy5iYl9wb3MrZSk6bi5CVUZGRVJ9LGUuc3RhcnRCb2R5Q29tcHJlc3Npb249ZnVuY3Rpb24oZSl7ZS5zdGFydE9iamVjdCgyKX0sZS5hZGRDb2RlYz1mdW5jdGlvbihlLHIpe2UuYWRkRmllbGRJbnQ4KDAscix0LkxaNF9GUkFNRSl9LGUuYWRkTWV0aG9kPWZ1bmN0aW9uKGUsdCl7ZS5hZGRGaWVsZEludDgoMSx0LG4uQlVGRkVSKX0sZS5lbmRCb2R5Q29tcHJlc3Npb249ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZW5kT2JqZWN0KCl9LGUuY3JlYXRlQm9keUNvbXByZXNzaW9uPWZ1bmN0aW9uKHQscixuKXtyZXR1cm4gZS5zdGFydEJvZHlDb21wcmVzc2lvbih0KSxlLmFkZENvZGVjKHQsciksZS5hZGRNZXRob2QodCxuKSxlLmVuZEJvZHlDb21wcmVzc2lvbih0KX0sZX0oKTtlLkJvZHlDb21wcmVzc2lvbj1sO3ZhciBmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuYmI9bnVsbCx0aGlzLmJiX3Bvcz0wfXJldHVybiBlLnByb3RvdHlwZS5fX2luaXQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5iYl9wb3M9ZSx0aGlzLmJiPXQsdGhpc30sZS5nZXRSb290QXNSZWNvcmRCYXRjaD1mdW5jdGlvbih0LHIpe3JldHVybihyfHxuZXcgZSkuX19pbml0KHQucmVhZEludDMyKHQucG9zaXRpb24oKSkrdC5wb3NpdGlvbigpLHQpfSxlLmdldFNpemVQcmVmaXhlZFJvb3RBc1JlY29yZEJhdGNoPWZ1bmN0aW9uKHQscil7cmV0dXJuIHQuc2V0UG9zaXRpb24odC5wb3NpdGlvbigpK3UuZmxhdGJ1ZmZlcnMuU0laRV9QUkVGSVhfTEVOR1RIKSwocnx8bmV3IGUpLl9faW5pdCh0LnJlYWRJbnQzMih0LnBvc2l0aW9uKCkpK3QucG9zaXRpb24oKSx0KX0sZS5wcm90b3R5cGUubGVuZ3RoPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3Bvcyw0KTtyZXR1cm4gZT90aGlzLmJiLnJlYWRJbnQ2NCh0aGlzLmJiX3BvcytlKTp0aGlzLmJiLmNyZWF0ZUxvbmcoMCwwKX0sZS5wcm90b3R5cGUubm9kZXM9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDYpO3JldHVybiByPyh0fHxuZXcgYykuX19pbml0KHRoaXMuYmIuX192ZWN0b3IodGhpcy5iYl9wb3MrcikrMTYqZSx0aGlzLmJiKTpudWxsfSxlLnByb3RvdHlwZS5ub2Rlc0xlbmd0aD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsNik7cmV0dXJuIGU/dGhpcy5iYi5fX3ZlY3Rvcl9sZW4odGhpcy5iYl9wb3MrZSk6MH0sZS5wcm90b3R5cGUuYnVmZmVycz1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsOCk7cmV0dXJuIHI/KHR8fG5ldyBzLkJ1ZmZlcikuX19pbml0KHRoaXMuYmIuX192ZWN0b3IodGhpcy5iYl9wb3MrcikrMTYqZSx0aGlzLmJiKTpudWxsfSxlLnByb3RvdHlwZS5idWZmZXJzTGVuZ3RoPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3Bvcyw4KTtyZXR1cm4gZT90aGlzLmJiLl9fdmVjdG9yX2xlbih0aGlzLmJiX3BvcytlKTowfSxlLnByb3RvdHlwZS5jb21wcmVzc2lvbj1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDEwKTtyZXR1cm4gdD8oZXx8bmV3IGwpLl9faW5pdCh0aGlzLmJiLl9faW5kaXJlY3QodGhpcy5iYl9wb3MrdCksdGhpcy5iYik6bnVsbH0sZS5zdGFydFJlY29yZEJhdGNoPWZ1bmN0aW9uKGUpe2Uuc3RhcnRPYmplY3QoNCl9LGUuYWRkTGVuZ3RoPWZ1bmN0aW9uKGUsdCl7ZS5hZGRGaWVsZEludDY0KDAsdCxlLmNyZWF0ZUxvbmcoMCwwKSl9LGUuYWRkTm9kZXM9ZnVuY3Rpb24oZSx0KXtlLmFkZEZpZWxkT2Zmc2V0KDEsdCwwKX0sZS5zdGFydE5vZGVzVmVjdG9yPWZ1bmN0aW9uKGUsdCl7ZS5zdGFydFZlY3RvcigxNix0LDgpfSxlLmFkZEJ1ZmZlcnM9ZnVuY3Rpb24oZSx0KXtlLmFkZEZpZWxkT2Zmc2V0KDIsdCwwKX0sZS5zdGFydEJ1ZmZlcnNWZWN0b3I9ZnVuY3Rpb24oZSx0KXtlLnN0YXJ0VmVjdG9yKDE2LHQsOCl9LGUuYWRkQ29tcHJlc3Npb249ZnVuY3Rpb24oZSx0KXtlLmFkZEZpZWxkT2Zmc2V0KDMsdCwwKX0sZS5lbmRSZWNvcmRCYXRjaD1mdW5jdGlvbihlKXtyZXR1cm4gZS5lbmRPYmplY3QoKX0sZS5jcmVhdGVSZWNvcmRCYXRjaD1mdW5jdGlvbih0LHIsbixpLG8pe3JldHVybiBlLnN0YXJ0UmVjb3JkQmF0Y2godCksZS5hZGRMZW5ndGgodCxyKSxlLmFkZE5vZGVzKHQsbiksZS5hZGRCdWZmZXJzKHQsaSksZS5hZGRDb21wcmVzc2lvbih0LG8pLGUuZW5kUmVjb3JkQmF0Y2godCl9LGV9KCk7ZS5SZWNvcmRCYXRjaD1mO3ZhciBkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuYmI9bnVsbCx0aGlzLmJiX3Bvcz0wfXJldHVybiBlLnByb3RvdHlwZS5fX2luaXQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5iYl9wb3M9ZSx0aGlzLmJiPXQsdGhpc30sZS5nZXRSb290QXNEaWN0aW9uYXJ5QmF0Y2g9ZnVuY3Rpb24odCxyKXtyZXR1cm4ocnx8bmV3IGUpLl9faW5pdCh0LnJlYWRJbnQzMih0LnBvc2l0aW9uKCkpK3QucG9zaXRpb24oKSx0KX0sZS5nZXRTaXplUHJlZml4ZWRSb290QXNEaWN0aW9uYXJ5QmF0Y2g9ZnVuY3Rpb24odCxyKXtyZXR1cm4gdC5zZXRQb3NpdGlvbih0LnBvc2l0aW9uKCkrdS5mbGF0YnVmZmVycy5TSVpFX1BSRUZJWF9MRU5HVEgpLChyfHxuZXcgZSkuX19pbml0KHQucmVhZEludDMyKHQucG9zaXRpb24oKSkrdC5wb3NpdGlvbigpLHQpfSxlLnByb3RvdHlwZS5pZD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsNCk7cmV0dXJuIGU/dGhpcy5iYi5yZWFkSW50NjQodGhpcy5iYl9wb3MrZSk6dGhpcy5iYi5jcmVhdGVMb25nKDAsMCl9LGUucHJvdG90eXBlLmRhdGE9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3Bvcyw2KTtyZXR1cm4gdD8oZXx8bmV3IGYpLl9faW5pdCh0aGlzLmJiLl9faW5kaXJlY3QodGhpcy5iYl9wb3MrdCksdGhpcy5iYik6bnVsbH0sZS5wcm90b3R5cGUuaXNEZWx0YT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsOCk7cmV0dXJuISFlJiYhIXRoaXMuYmIucmVhZEludDgodGhpcy5iYl9wb3MrZSl9LGUuc3RhcnREaWN0aW9uYXJ5QmF0Y2g9ZnVuY3Rpb24oZSl7ZS5zdGFydE9iamVjdCgzKX0sZS5hZGRJZD1mdW5jdGlvbihlLHQpe2UuYWRkRmllbGRJbnQ2NCgwLHQsZS5jcmVhdGVMb25nKDAsMCkpfSxlLmFkZERhdGE9ZnVuY3Rpb24oZSx0KXtlLmFkZEZpZWxkT2Zmc2V0KDEsdCwwKX0sZS5hZGRJc0RlbHRhPWZ1bmN0aW9uKGUsdCl7ZS5hZGRGaWVsZEludDgoMiwrdCwwKX0sZS5lbmREaWN0aW9uYXJ5QmF0Y2g9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZW5kT2JqZWN0KCl9LGUuY3JlYXRlRGljdGlvbmFyeUJhdGNoPWZ1bmN0aW9uKHQscixuLGkpe3JldHVybiBlLnN0YXJ0RGljdGlvbmFyeUJhdGNoKHQpLGUuYWRkSWQodCxyKSxlLmFkZERhdGEodCxuKSxlLmFkZElzRGVsdGEodCxpKSxlLmVuZERpY3Rpb25hcnlCYXRjaCh0KX0sZX0oKTtlLkRpY3Rpb25hcnlCYXRjaD1kO3ZhciBwPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuYmI9bnVsbCx0aGlzLmJiX3Bvcz0wfXJldHVybiBlLnByb3RvdHlwZS5fX2luaXQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5iYl9wb3M9ZSx0aGlzLmJiPXQsdGhpc30sZS5nZXRSb290QXNNZXNzYWdlPWZ1bmN0aW9uKHQscil7cmV0dXJuKHJ8fG5ldyBlKS5fX2luaXQodC5yZWFkSW50MzIodC5wb3NpdGlvbigpKSt0LnBvc2l0aW9uKCksdCl9LGUuZ2V0U2l6ZVByZWZpeGVkUm9vdEFzTWVzc2FnZT1mdW5jdGlvbih0LHIpe3JldHVybiB0LnNldFBvc2l0aW9uKHQucG9zaXRpb24oKSt1LmZsYXRidWZmZXJzLlNJWkVfUFJFRklYX0xFTkdUSCksKHJ8fG5ldyBlKS5fX2luaXQodC5yZWFkSW50MzIodC5wb3NpdGlvbigpKSt0LnBvc2l0aW9uKCksdCl9LGUucHJvdG90eXBlLnZlcnNpb249ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDQpO3JldHVybiBlP3RoaXMuYmIucmVhZEludDE2KHRoaXMuYmJfcG9zK2UpOnMuTWV0YWRhdGFWZXJzaW9uLlYxfSxlLnByb3RvdHlwZS5oZWFkZXJUeXBlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3Bvcyw2KTtyZXR1cm4gZT90aGlzLmJiLnJlYWRVaW50OCh0aGlzLmJiX3BvcytlKTpvLk5PTkV9LGUucHJvdG90eXBlLmhlYWRlcj1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDgpO3JldHVybiB0P3RoaXMuYmIuX191bmlvbihlLHRoaXMuYmJfcG9zK3QpOm51bGx9LGUucHJvdG90eXBlLmJvZHlMZW5ndGg9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDEwKTtyZXR1cm4gZT90aGlzLmJiLnJlYWRJbnQ2NCh0aGlzLmJiX3BvcytlKTp0aGlzLmJiLmNyZWF0ZUxvbmcoMCwwKX0sZS5wcm90b3R5cGUuY3VzdG9tTWV0YWRhdGE9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDEyKTtyZXR1cm4gcj8odHx8bmV3IHMuS2V5VmFsdWUpLl9faW5pdCh0aGlzLmJiLl9faW5kaXJlY3QodGhpcy5iYi5fX3ZlY3Rvcih0aGlzLmJiX3BvcytyKSs0KmUpLHRoaXMuYmIpOm51bGx9LGUucHJvdG90eXBlLmN1c3RvbU1ldGFkYXRhTGVuZ3RoPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3BvcywxMik7cmV0dXJuIGU/dGhpcy5iYi5fX3ZlY3Rvcl9sZW4odGhpcy5iYl9wb3MrZSk6MH0sZS5zdGFydE1lc3NhZ2U9ZnVuY3Rpb24oZSl7ZS5zdGFydE9iamVjdCg1KX0sZS5hZGRWZXJzaW9uPWZ1bmN0aW9uKGUsdCl7ZS5hZGRGaWVsZEludDE2KDAsdCxzLk1ldGFkYXRhVmVyc2lvbi5WMSl9LGUuYWRkSGVhZGVyVHlwZT1mdW5jdGlvbihlLHQpe2UuYWRkRmllbGRJbnQ4KDEsdCxvLk5PTkUpfSxlLmFkZEhlYWRlcj1mdW5jdGlvbihlLHQpe2UuYWRkRmllbGRPZmZzZXQoMix0LDApfSxlLmFkZEJvZHlMZW5ndGg9ZnVuY3Rpb24oZSx0KXtlLmFkZEZpZWxkSW50NjQoMyx0LGUuY3JlYXRlTG9uZygwLDApKX0sZS5hZGRDdXN0b21NZXRhZGF0YT1mdW5jdGlvbihlLHQpe2UuYWRkRmllbGRPZmZzZXQoNCx0LDApfSxlLmNyZWF0ZUN1c3RvbU1ldGFkYXRhVmVjdG9yPWZ1bmN0aW9uKGUsdCl7ZS5zdGFydFZlY3Rvcig0LHQubGVuZ3RoLDQpO2Zvcih2YXIgcj10Lmxlbmd0aC0xO3I+PTA7ci0tKWUuYWRkT2Zmc2V0KHRbcl0pO3JldHVybiBlLmVuZFZlY3RvcigpfSxlLnN0YXJ0Q3VzdG9tTWV0YWRhdGFWZWN0b3I9ZnVuY3Rpb24oZSx0KXtlLnN0YXJ0VmVjdG9yKDQsdCw0KX0sZS5lbmRNZXNzYWdlPWZ1bmN0aW9uKGUpe3JldHVybiBlLmVuZE9iamVjdCgpfSxlLmZpbmlzaE1lc3NhZ2VCdWZmZXI9ZnVuY3Rpb24oZSx0KXtlLmZpbmlzaCh0KX0sZS5maW5pc2hTaXplUHJlZml4ZWRNZXNzYWdlQnVmZmVyPWZ1bmN0aW9uKGUsdCl7ZS5maW5pc2godCx2b2lkIDAsITApfSxlLmNyZWF0ZU1lc3NhZ2U9ZnVuY3Rpb24odCxyLG4saSxvLGEpe3JldHVybiBlLnN0YXJ0TWVzc2FnZSh0KSxlLmFkZFZlcnNpb24odCxyKSxlLmFkZEhlYWRlclR5cGUodCxuKSxlLmFkZEhlYWRlcih0LGkpLGUuYWRkQm9keUxlbmd0aCh0LG8pLGUuYWRkQ3VzdG9tTWV0YWRhdGEodCxhKSxlLmVuZE1lc3NhZ2UodCl9LGV9KCk7ZS5NZXNzYWdlPXB9KFRlKSxmdW5jdGlvbihlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5CdWZmZXJUeXBlPWUuVHlwZT1lLk1lc3NhZ2VIZWFkZXI9ZS5NZXRhZGF0YVZlcnNpb249ZS5JbnRlcnZhbFVuaXQ9ZS5Vbmlvbk1vZGU9ZS5QcmVjaXNpb249ZS5UaW1lVW5pdD1lLkRhdGVVbml0PXZvaWQgMDt2YXIgdD1CZTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRGF0ZVVuaXQiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0LkRhdGVVbml0fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJUaW1lVW5pdCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQuVGltZVVuaXR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlByZWNpc2lvbiIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQuUHJlY2lzaW9ufX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJVbmlvbk1vZGUiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0LlVuaW9uTW9kZX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiSW50ZXJ2YWxVbml0Iix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC5JbnRlcnZhbFVuaXR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIk1ldGFkYXRhVmVyc2lvbiIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQuTWV0YWRhdGFWZXJzaW9ufX0pO3ZhciByLG4saT1UZTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiTWVzc2FnZUhlYWRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkuTWVzc2FnZUhlYWRlcn19KSwocj1lLlR5cGV8fChlLlR5cGU9e30pKVtyLk5PTkU9MF09Ik5PTkUiLHJbci5OdWxsPTFdPSJOdWxsIixyW3IuSW50PTJdPSJJbnQiLHJbci5GbG9hdD0zXT0iRmxvYXQiLHJbci5CaW5hcnk9NF09IkJpbmFyeSIscltyLlV0Zjg9NV09IlV0ZjgiLHJbci5Cb29sPTZdPSJCb29sIixyW3IuRGVjaW1hbD03XT0iRGVjaW1hbCIscltyLkRhdGU9OF09IkRhdGUiLHJbci5UaW1lPTldPSJUaW1lIixyW3IuVGltZXN0YW1wPTEwXT0iVGltZXN0YW1wIixyW3IuSW50ZXJ2YWw9MTFdPSJJbnRlcnZhbCIscltyLkxpc3Q9MTJdPSJMaXN0IixyW3IuU3RydWN0PTEzXT0iU3RydWN0IixyW3IuVW5pb249MTRdPSJVbmlvbiIscltyLkZpeGVkU2l6ZUJpbmFyeT0xNV09IkZpeGVkU2l6ZUJpbmFyeSIscltyLkZpeGVkU2l6ZUxpc3Q9MTZdPSJGaXhlZFNpemVMaXN0IixyW3IuTWFwPTE3XT0iTWFwIixyW3IuRGljdGlvbmFyeT0tMV09IkRpY3Rpb25hcnkiLHJbci5JbnQ4PS0yXT0iSW50OCIscltyLkludDE2PS0zXT0iSW50MTYiLHJbci5JbnQzMj0tNF09IkludDMyIixyW3IuSW50NjQ9LTVdPSJJbnQ2NCIscltyLlVpbnQ4PS02XT0iVWludDgiLHJbci5VaW50MTY9LTddPSJVaW50MTYiLHJbci5VaW50MzI9LThdPSJVaW50MzIiLHJbci5VaW50NjQ9LTldPSJVaW50NjQiLHJbci5GbG9hdDE2PS0xMF09IkZsb2F0MTYiLHJbci5GbG9hdDMyPS0xMV09IkZsb2F0MzIiLHJbci5GbG9hdDY0PS0xMl09IkZsb2F0NjQiLHJbci5EYXRlRGF5PS0xM109IkRhdGVEYXkiLHJbci5EYXRlTWlsbGlzZWNvbmQ9LTE0XT0iRGF0ZU1pbGxpc2Vjb25kIixyW3IuVGltZXN0YW1wU2Vjb25kPS0xNV09IlRpbWVzdGFtcFNlY29uZCIscltyLlRpbWVzdGFtcE1pbGxpc2Vjb25kPS0xNl09IlRpbWVzdGFtcE1pbGxpc2Vjb25kIixyW3IuVGltZXN0YW1wTWljcm9zZWNvbmQ9LTE3XT0iVGltZXN0YW1wTWljcm9zZWNvbmQiLHJbci5UaW1lc3RhbXBOYW5vc2Vjb25kPS0xOF09IlRpbWVzdGFtcE5hbm9zZWNvbmQiLHJbci5UaW1lU2Vjb25kPS0xOV09IlRpbWVTZWNvbmQiLHJbci5UaW1lTWlsbGlzZWNvbmQ9LTIwXT0iVGltZU1pbGxpc2Vjb25kIixyW3IuVGltZU1pY3Jvc2Vjb25kPS0yMV09IlRpbWVNaWNyb3NlY29uZCIscltyLlRpbWVOYW5vc2Vjb25kPS0yMl09IlRpbWVOYW5vc2Vjb25kIixyW3IuRGVuc2VVbmlvbj0tMjNdPSJEZW5zZVVuaW9uIixyW3IuU3BhcnNlVW5pb249LTI0XT0iU3BhcnNlVW5pb24iLHJbci5JbnRlcnZhbERheVRpbWU9LTI1XT0iSW50ZXJ2YWxEYXlUaW1lIixyW3IuSW50ZXJ2YWxZZWFyTW9udGg9LTI2XT0iSW50ZXJ2YWxZZWFyTW9udGgiLChuPWUuQnVmZmVyVHlwZXx8KGUuQnVmZmVyVHlwZT17fSkpW24uT0ZGU0VUPTBdPSJPRkZTRVQiLG5bbi5EQVRBPTFdPSJEQVRBIixuW24uVkFMSURJVFk9Ml09IlZBTElESVRZIixuW24uVFlQRT0zXT0iVFlQRSJ9KGdlKTt2YXIgSWU9e30sd2U9e307T2JqZWN0LmRlZmluZVByb3BlcnR5KHdlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx3ZS5wb3BjbnRfdWludDMyPXdlLnBvcGNudF9hcnJheT13ZS5wb3BjbnRfYml0X3JhbmdlPXdlLkJpdEl0ZXJhdG9yPXdlLnBhY2tCb29scz13ZS50cnVuY2F0ZUJpdG1hcD13ZS5zZXRCb29sPXdlLmdldEJpdD13ZS5nZXRCb29sPXZvaWQgMDt2YXIgT2U9SC5leHBvcnRzO2Z1bmN0aW9uIFNlKGUsdCxyLG4pe3JldHVybiAwIT0ociYxPDxuKX1mdW5jdGlvbiBBZShlLHQscixuKXtyZXR1cm4ociYxPDxuKT4+bn1mdW5jdGlvbiBEZShlKXt2YXIgdCxyLG49W10saT0wLG89MCxhPTA7dHJ5e2Zvcih2YXIgdT1PZS5fX3ZhbHVlcyhlKSxzPXUubmV4dCgpOyFzLmRvbmU7cz11Lm5leHQoKSl7cy52YWx1ZSYmKGF8PTE8PG8pLDg9PSsrbyYmKG5baSsrXT1hLGE9bz0wKX19Y2F0Y2gobCl7dD17ZXJyb3I6bH19ZmluYWxseXt0cnl7cyYmIXMuZG9uZSYmKHI9dS5yZXR1cm4pJiZyLmNhbGwodSl9ZmluYWxseXtpZih0KXRocm93IHQuZXJyb3J9fSgwPT09aXx8bz4wKSYmKG5baSsrXT1hKTt2YXIgYz1uZXcgVWludDhBcnJheShuLmxlbmd0aCs3Ji04KTtyZXR1cm4gYy5zZXQobiksY313ZS5nZXRCb29sPVNlLHdlLmdldEJpdD1BZSx3ZS5zZXRCb29sPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gcj8hIShlW3Q+PjNdfD0xPDx0JTgpfHwhMDohKGVbdD4+M10mPX4oMTw8dCU4KSkmJiExfSx3ZS50cnVuY2F0ZUJpdG1hcD1mdW5jdGlvbihlLHQscil7dmFyIG49ci5ieXRlTGVuZ3RoKzcmLTg7aWYoZT4wfHxyLmJ5dGVMZW5ndGg8bil7dmFyIGk9bmV3IFVpbnQ4QXJyYXkobik7cmV0dXJuIGkuc2V0KGUlOD09MD9yLnN1YmFycmF5KGU+PjMpOkRlKG5ldyBWZShyLGUsdCxudWxsLFNlKSkuc3ViYXJyYXkoMCxuKSksaX1yZXR1cm4gcn0sd2UucGFja0Jvb2xzPURlO3ZhciBWZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LHIsbixpKXt0aGlzLmJ5dGVzPWUsdGhpcy5sZW5ndGg9cix0aGlzLmNvbnRleHQ9bix0aGlzLmdldD1pLHRoaXMuYml0PXQlOCx0aGlzLmJ5dGVJbmRleD10Pj4zLHRoaXMuYnl0ZT1lW3RoaXMuYnl0ZUluZGV4KytdLHRoaXMuaW5kZXg9MH1yZXR1cm4gZS5wcm90b3R5cGUubmV4dD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmluZGV4PHRoaXMubGVuZ3RoPyg4PT09dGhpcy5iaXQmJih0aGlzLmJpdD0wLHRoaXMuYnl0ZT10aGlzLmJ5dGVzW3RoaXMuYnl0ZUluZGV4KytdKSx7dmFsdWU6dGhpcy5nZXQodGhpcy5jb250ZXh0LHRoaXMuaW5kZXgrKyx0aGlzLmJ5dGUsdGhpcy5iaXQrKyl9KTp7ZG9uZTohMCx2YWx1ZTpudWxsfX0sZS5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxlfSgpO2Z1bmN0aW9uIFBlKGUsdCxyKXtmb3IodmFyIG49MCxpPTB8dCxvPW5ldyBEYXRhVmlldyhlLmJ1ZmZlcixlLmJ5dGVPZmZzZXQsZS5ieXRlTGVuZ3RoKSxhPXZvaWQgMD09PXI/ZS5ieXRlTGVuZ3RoOmkrcjthLWk+PTQ7KW4rPU1lKG8uZ2V0VWludDMyKGkpKSxpKz00O2Zvcig7YS1pPj0yOyluKz1NZShvLmdldFVpbnQxNihpKSksaSs9Mjtmb3IoO2EtaT49MTspbis9TWUoby5nZXRVaW50OChpKSksaSs9MTtyZXR1cm4gbn1mdW5jdGlvbiBNZShlKXt2YXIgdD0wfGU7cmV0dXJuIDE2ODQzMDA5KigodD0oODU4OTkzNDU5Jih0LT10Pj4+MSYxNDMxNjU1NzY1KSkrKHQ+Pj4yJjg1ODk5MzQ1OSkpKyh0Pj4+NCkmMjUyNjQ1MTM1KT4+PjI0fXdlLkJpdEl0ZXJhdG9yPVZlLHdlLnBvcGNudF9iaXRfcmFuZ2U9ZnVuY3Rpb24gZSh0LHIsbil7dmFyIGksbztpZihuLXI8PTApcmV0dXJuIDA7aWYobi1yPDgpe3ZhciBhPTA7dHJ5e2Zvcih2YXIgdT1PZS5fX3ZhbHVlcyhuZXcgVmUodCxyLG4tcix0LEFlKSkscz11Lm5leHQoKTshcy5kb25lO3M9dS5uZXh0KCkpe2ErPXMudmFsdWV9fWNhdGNoKGYpe2k9e2Vycm9yOmZ9fWZpbmFsbHl7dHJ5e3MmJiFzLmRvbmUmJihvPXUucmV0dXJuKSYmby5jYWxsKHUpfWZpbmFsbHl7aWYoaSl0aHJvdyBpLmVycm9yfX1yZXR1cm4gYX12YXIgYz1uPj4zPDwzLGw9cisociU4PT0wPzA6OC1yJTgpO3JldHVybiBlKHQscixsKStlKHQsYyxuKStQZSh0LGw+PjMsYy1sPj4zKX0sd2UucG9wY250X2FycmF5PVBlLHdlLnBvcGNudF91aW50MzI9TWU7dmFyIEZlPXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShGZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksRmUuc3RyaWRlRm9yVHlwZT1GZS5EaWN0aW9uYXJ5PUZlLk1hcF89RmUuRml4ZWRTaXplTGlzdD1GZS5GaXhlZFNpemVCaW5hcnk9RmUuU3BhcnNlVW5pb249RmUuRGVuc2VVbmlvbj1GZS5Vbmlvbj1GZS5TdHJ1Y3Q9RmUuTGlzdD1GZS5JbnRlcnZhbFllYXJNb250aD1GZS5JbnRlcnZhbERheVRpbWU9RmUuSW50ZXJ2YWw9RmUuVGltZXN0YW1wTmFub3NlY29uZD1GZS5UaW1lc3RhbXBNaWNyb3NlY29uZD1GZS5UaW1lc3RhbXBNaWxsaXNlY29uZD1GZS5UaW1lc3RhbXBTZWNvbmQ9RmUuVGltZXN0YW1wPUZlLlRpbWVOYW5vc2Vjb25kPUZlLlRpbWVNaWNyb3NlY29uZD1GZS5UaW1lTWlsbGlzZWNvbmQ9RmUuVGltZVNlY29uZD1GZS5UaW1lPUZlLkRhdGVNaWxsaXNlY29uZD1GZS5EYXRlRGF5PUZlLkRhdGVfPUZlLkRlY2ltYWw9RmUuQm9vbD1GZS5VdGY4PUZlLkJpbmFyeT1GZS5GbG9hdDY0PUZlLkZsb2F0MzI9RmUuRmxvYXQxNj1GZS5GbG9hdD1GZS5VaW50NjQ9RmUuVWludDMyPUZlLlVpbnQxNj1GZS5VaW50OD1GZS5JbnQ2ND1GZS5JbnQzMj1GZS5JbnQxNj1GZS5JbnQ4PUZlLkludD1GZS5OdWxsPUZlLkRhdGFUeXBlPXZvaWQgMDt2YXIgVWU9SC5leHBvcnRzLGplPWdlLHhlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe312YXIgdDtyZXR1cm4gZS5pc051bGw9ZnVuY3Rpb24oZSl7cmV0dXJuKG51bGw9PWU/dm9pZCAwOmUudHlwZUlkKT09PWplLlR5cGUuTnVsbH0sZS5pc0ludD1mdW5jdGlvbihlKXtyZXR1cm4obnVsbD09ZT92b2lkIDA6ZS50eXBlSWQpPT09amUuVHlwZS5JbnR9LGUuaXNGbG9hdD1mdW5jdGlvbihlKXtyZXR1cm4obnVsbD09ZT92b2lkIDA6ZS50eXBlSWQpPT09amUuVHlwZS5GbG9hdH0sZS5pc0JpbmFyeT1mdW5jdGlvbihlKXtyZXR1cm4obnVsbD09ZT92b2lkIDA6ZS50eXBlSWQpPT09amUuVHlwZS5CaW5hcnl9LGUuaXNVdGY4PWZ1bmN0aW9uKGUpe3JldHVybihudWxsPT1lP3ZvaWQgMDplLnR5cGVJZCk9PT1qZS5UeXBlLlV0Zjh9LGUuaXNCb29sPWZ1bmN0aW9uKGUpe3JldHVybihudWxsPT1lP3ZvaWQgMDplLnR5cGVJZCk9PT1qZS5UeXBlLkJvb2x9LGUuaXNEZWNpbWFsPWZ1bmN0aW9uKGUpe3JldHVybihudWxsPT1lP3ZvaWQgMDplLnR5cGVJZCk9PT1qZS5UeXBlLkRlY2ltYWx9LGUuaXNEYXRlPWZ1bmN0aW9uKGUpe3JldHVybihudWxsPT1lP3ZvaWQgMDplLnR5cGVJZCk9PT1qZS5UeXBlLkRhdGV9LGUuaXNUaW1lPWZ1bmN0aW9uKGUpe3JldHVybihudWxsPT1lP3ZvaWQgMDplLnR5cGVJZCk9PT1qZS5UeXBlLlRpbWV9LGUuaXNUaW1lc3RhbXA9ZnVuY3Rpb24oZSl7cmV0dXJuKG51bGw9PWU/dm9pZCAwOmUudHlwZUlkKT09PWplLlR5cGUuVGltZXN0YW1wfSxlLmlzSW50ZXJ2YWw9ZnVuY3Rpb24oZSl7cmV0dXJuKG51bGw9PWU/dm9pZCAwOmUudHlwZUlkKT09PWplLlR5cGUuSW50ZXJ2YWx9LGUuaXNMaXN0PWZ1bmN0aW9uKGUpe3JldHVybihudWxsPT1lP3ZvaWQgMDplLnR5cGVJZCk9PT1qZS5UeXBlLkxpc3R9LGUuaXNTdHJ1Y3Q9ZnVuY3Rpb24oZSl7cmV0dXJuKG51bGw9PWU/dm9pZCAwOmUudHlwZUlkKT09PWplLlR5cGUuU3RydWN0fSxlLmlzVW5pb249ZnVuY3Rpb24oZSl7cmV0dXJuKG51bGw9PWU/dm9pZCAwOmUudHlwZUlkKT09PWplLlR5cGUuVW5pb259LGUuaXNGaXhlZFNpemVCaW5hcnk9ZnVuY3Rpb24oZSl7cmV0dXJuKG51bGw9PWU/dm9pZCAwOmUudHlwZUlkKT09PWplLlR5cGUuRml4ZWRTaXplQmluYXJ5fSxlLmlzRml4ZWRTaXplTGlzdD1mdW5jdGlvbihlKXtyZXR1cm4obnVsbD09ZT92b2lkIDA6ZS50eXBlSWQpPT09amUuVHlwZS5GaXhlZFNpemVMaXN0fSxlLmlzTWFwPWZ1bmN0aW9uKGUpe3JldHVybihudWxsPT1lP3ZvaWQgMDplLnR5cGVJZCk9PT1qZS5UeXBlLk1hcH0sZS5pc0RpY3Rpb25hcnk9ZnVuY3Rpb24oZSl7cmV0dXJuKG51bGw9PWU/dm9pZCAwOmUudHlwZUlkKT09PWplLlR5cGUuRGljdGlvbmFyeX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJ0eXBlSWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gamUuVHlwZS5OT05FfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGVbU3ltYm9sLnRvU3RyaW5nVGFnXT0oKHQ9ZS5wcm90b3R5cGUpLmNoaWxkcmVuPW51bGwsdC5BcnJheVR5cGU9QXJyYXksdFtTeW1ib2wudG9TdHJpbmdUYWddPSJEYXRhVHlwZSIpLGV9KCk7RmUuRGF0YVR5cGU9eGU7dmFyIExlPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBVZS5fX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJOdWxsIn0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJ0eXBlSWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gamUuVHlwZS5OdWxsfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHRbU3ltYm9sLnRvU3RyaW5nVGFnXT10LnByb3RvdHlwZVtTeW1ib2wudG9TdHJpbmdUYWddPSJOdWxsIix0fSh4ZSk7RmUuTnVsbD1MZTt2YXIgUmU9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LHIpe3ZhciBuPWUuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gbi5pc1NpZ25lZD10LG4uYml0V2lkdGg9cixufXZhciByO3JldHVybiBVZS5fX2V4dGVuZHModCxlKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsInR5cGVJZCIse2dldDpmdW5jdGlvbigpe3JldHVybiBqZS5UeXBlLkludH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsIkFycmF5VHlwZSIse2dldDpmdW5jdGlvbigpe3N3aXRjaCh0aGlzLmJpdFdpZHRoKXtjYXNlIDg6cmV0dXJuIHRoaXMuaXNTaWduZWQ/SW50OEFycmF5OlVpbnQ4QXJyYXk7Y2FzZSAxNjpyZXR1cm4gdGhpcy5pc1NpZ25lZD9JbnQxNkFycmF5OlVpbnQxNkFycmF5O2Nhc2UgMzI6Y2FzZSA2NDpyZXR1cm4gdGhpcy5pc1NpZ25lZD9JbnQzMkFycmF5OlVpbnQzMkFycmF5fXRocm93IG5ldyBFcnJvcigiVW5yZWNvZ25pemVkICIrdGhpc1tTeW1ib2wudG9TdHJpbmdUYWddKyIgdHlwZSIpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuKHRoaXMuaXNTaWduZWQ/IkkiOiJVaSIpKyJudCIrdGhpcy5iaXRXaWR0aH0sdFtTeW1ib2wudG9TdHJpbmdUYWddPSgocj10LnByb3RvdHlwZSkuaXNTaWduZWQ9bnVsbCxyLmJpdFdpZHRoPW51bGwscltTeW1ib2wudG9TdHJpbmdUYWddPSJJbnQiKSx0fSh4ZSk7RmUuSW50PVJlO3ZhciBOZT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIGUuY2FsbCh0aGlzLCEwLDgpfHx0aGlzfXJldHVybiBVZS5fX2V4dGVuZHModCxlKSx0fShSZSk7RmUuSW50OD1OZTt2YXIgRWU9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBlLmNhbGwodGhpcywhMCwxNil8fHRoaXN9cmV0dXJuIFVlLl9fZXh0ZW5kcyh0LGUpLHR9KFJlKTtGZS5JbnQxNj1FZTt2YXIgQ2U9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBlLmNhbGwodGhpcywhMCwzMil8fHRoaXN9cmV0dXJuIFVlLl9fZXh0ZW5kcyh0LGUpLHR9KFJlKTtGZS5JbnQzMj1DZTt2YXIgemU9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBlLmNhbGwodGhpcywhMCw2NCl8fHRoaXN9cmV0dXJuIFVlLl9fZXh0ZW5kcyh0LGUpLHR9KFJlKTtGZS5JbnQ2ND16ZTt2YXIga2U9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBlLmNhbGwodGhpcywhMSw4KXx8dGhpc31yZXR1cm4gVWUuX19leHRlbmRzKHQsZSksdH0oUmUpO0ZlLlVpbnQ4PWtlO3ZhciBXZT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIGUuY2FsbCh0aGlzLCExLDE2KXx8dGhpc31yZXR1cm4gVWUuX19leHRlbmRzKHQsZSksdH0oUmUpO0ZlLlVpbnQxNj1XZTt2YXIgWWU9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBlLmNhbGwodGhpcywhMSwzMil8fHRoaXN9cmV0dXJuIFVlLl9fZXh0ZW5kcyh0LGUpLHR9KFJlKTtGZS5VaW50MzI9WWU7dmFyIEhlPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gZS5jYWxsKHRoaXMsITEsNjQpfHx0aGlzfXJldHVybiBVZS5fX2V4dGVuZHModCxlKSx0fShSZSk7RmUuVWludDY0PUhlLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOZS5wcm90b3R5cGUsIkFycmF5VHlwZSIse3ZhbHVlOkludDhBcnJheX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShFZS5wcm90b3R5cGUsIkFycmF5VHlwZSIse3ZhbHVlOkludDE2QXJyYXl9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoQ2UucHJvdG90eXBlLCJBcnJheVR5cGUiLHt2YWx1ZTpJbnQzMkFycmF5fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHplLnByb3RvdHlwZSwiQXJyYXlUeXBlIix7dmFsdWU6SW50MzJBcnJheX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShrZS5wcm90b3R5cGUsIkFycmF5VHlwZSIse3ZhbHVlOlVpbnQ4QXJyYXl9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoV2UucHJvdG90eXBlLCJBcnJheVR5cGUiLHt2YWx1ZTpVaW50MTZBcnJheX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShZZS5wcm90b3R5cGUsIkFycmF5VHlwZSIse3ZhbHVlOlVpbnQzMkFycmF5fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KEhlLnByb3RvdHlwZSwiQXJyYXlUeXBlIix7dmFsdWU6VWludDMyQXJyYXl9KTt2YXIgR2U9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXt2YXIgcj1lLmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIHIucHJlY2lzaW9uPXQscn12YXIgcjtyZXR1cm4gVWUuX19leHRlbmRzKHQsZSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJ0eXBlSWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gamUuVHlwZS5GbG9hdH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsIkFycmF5VHlwZSIse2dldDpmdW5jdGlvbigpe3N3aXRjaCh0aGlzLnByZWNpc2lvbil7Y2FzZSBqZS5QcmVjaXNpb24uSEFMRjpyZXR1cm4gVWludDE2QXJyYXk7Y2FzZSBqZS5QcmVjaXNpb24uU0lOR0xFOnJldHVybiBGbG9hdDMyQXJyYXk7Y2FzZSBqZS5QcmVjaXNpb24uRE9VQkxFOnJldHVybiBGbG9hdDY0QXJyYXl9dGhyb3cgbmV3IEVycm9yKCJVbnJlY29nbml6ZWQgIit0aGlzW1N5bWJvbC50b1N0cmluZ1RhZ10rIiB0eXBlIil9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iRmxvYXQiKyh0aGlzLnByZWNpc2lvbjw8NXx8MTYpfSx0W1N5bWJvbC50b1N0cmluZ1RhZ109KChyPXQucHJvdG90eXBlKS5wcmVjaXNpb249bnVsbCxyW1N5bWJvbC50b1N0cmluZ1RhZ109IkZsb2F0IiksdH0oeGUpO0ZlLkZsb2F0PUdlO3ZhciBKZT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIGUuY2FsbCh0aGlzLGplLlByZWNpc2lvbi5IQUxGKXx8dGhpc31yZXR1cm4gVWUuX19leHRlbmRzKHQsZSksdH0oR2UpO0ZlLkZsb2F0MTY9SmU7dmFyIFplPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gZS5jYWxsKHRoaXMsamUuUHJlY2lzaW9uLlNJTkdMRSl8fHRoaXN9cmV0dXJuIFVlLl9fZXh0ZW5kcyh0LGUpLHR9KEdlKTtGZS5GbG9hdDMyPVplO3ZhciBLZT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIGUuY2FsbCh0aGlzLGplLlByZWNpc2lvbi5ET1VCTEUpfHx0aGlzfXJldHVybiBVZS5fX2V4dGVuZHModCxlKSx0fShHZSk7RmUuRmxvYXQ2ND1LZSxPYmplY3QuZGVmaW5lUHJvcGVydHkoSmUucHJvdG90eXBlLCJBcnJheVR5cGUiLHt2YWx1ZTpVaW50MTZBcnJheX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShaZS5wcm90b3R5cGUsIkFycmF5VHlwZSIse3ZhbHVlOkZsb2F0MzJBcnJheX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShLZS5wcm90b3R5cGUsIkFycmF5VHlwZSIse3ZhbHVlOkZsb2F0NjRBcnJheX0pO3ZhciBYZT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIGUuY2FsbCh0aGlzKXx8dGhpc312YXIgcjtyZXR1cm4gVWUuX19leHRlbmRzKHQsZSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJ0eXBlSWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gamUuVHlwZS5CaW5hcnl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iQmluYXJ5In0sdFtTeW1ib2wudG9TdHJpbmdUYWddPSgocj10LnByb3RvdHlwZSkuQXJyYXlUeXBlPVVpbnQ4QXJyYXkscltTeW1ib2wudG9TdHJpbmdUYWddPSJCaW5hcnkiKSx0fSh4ZSk7RmUuQmluYXJ5PVhlO3ZhciBxZT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIGUuY2FsbCh0aGlzKXx8dGhpc312YXIgcjtyZXR1cm4gVWUuX19leHRlbmRzKHQsZSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJ0eXBlSWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gamUuVHlwZS5VdGY4fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIlV0ZjgifSx0W1N5bWJvbC50b1N0cmluZ1RhZ109KChyPXQucHJvdG90eXBlKS5BcnJheVR5cGU9VWludDhBcnJheSxyW1N5bWJvbC50b1N0cmluZ1RhZ109IlV0ZjgiKSx0fSh4ZSk7RmUuVXRmOD1xZTt2YXIgUWU9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBlLmNhbGwodGhpcyl8fHRoaXN9dmFyIHI7cmV0dXJuIFVlLl9fZXh0ZW5kcyh0LGUpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwidHlwZUlkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGplLlR5cGUuQm9vbH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJCb29sIn0sdFtTeW1ib2wudG9TdHJpbmdUYWddPSgocj10LnByb3RvdHlwZSkuQXJyYXlUeXBlPVVpbnQ4QXJyYXkscltTeW1ib2wudG9TdHJpbmdUYWddPSJCb29sIiksdH0oeGUpO0ZlLkJvb2w9UWU7dmFyICRlPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxyKXt2YXIgbj1lLmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIG4uc2NhbGU9dCxuLnByZWNpc2lvbj1yLG59dmFyIHI7cmV0dXJuIFVlLl9fZXh0ZW5kcyh0LGUpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwidHlwZUlkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGplLlR5cGUuRGVjaW1hbH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJEZWNpbWFsWyIrdGhpcy5wcmVjaXNpb24rImUiKyh0aGlzLnNjYWxlPjA/IisiOiIiKSt0aGlzLnNjYWxlKyJdIn0sdFtTeW1ib2wudG9TdHJpbmdUYWddPSgocj10LnByb3RvdHlwZSkuc2NhbGU9bnVsbCxyLnByZWNpc2lvbj1udWxsLHIuQXJyYXlUeXBlPVVpbnQzMkFycmF5LHJbU3ltYm9sLnRvU3RyaW5nVGFnXT0iRGVjaW1hbCIpLHR9KHhlKTtGZS5EZWNpbWFsPSRlO3ZhciBldD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe3ZhciByPWUuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gci51bml0PXQscn12YXIgcjtyZXR1cm4gVWUuX19leHRlbmRzKHQsZSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJ0eXBlSWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gamUuVHlwZS5EYXRlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIkRhdGUiKzMyKih0aGlzLnVuaXQrMSkrIjwiK2plLkRhdGVVbml0W3RoaXMudW5pdF0rIj4ifSx0W1N5bWJvbC50b1N0cmluZ1RhZ109KChyPXQucHJvdG90eXBlKS51bml0PW51bGwsci5BcnJheVR5cGU9SW50MzJBcnJheSxyW1N5bWJvbC50b1N0cmluZ1RhZ109IkRhdGUiKSx0fSh4ZSk7RmUuRGF0ZV89ZXQ7dmFyIHR0PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gZS5jYWxsKHRoaXMsamUuRGF0ZVVuaXQuREFZKXx8dGhpc31yZXR1cm4gVWUuX19leHRlbmRzKHQsZSksdH0oZXQpO0ZlLkRhdGVEYXk9dHQ7dmFyIHJ0PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gZS5jYWxsKHRoaXMsamUuRGF0ZVVuaXQuTUlMTElTRUNPTkQpfHx0aGlzfXJldHVybiBVZS5fX2V4dGVuZHModCxlKSx0fShldCk7RmUuRGF0ZU1pbGxpc2Vjb25kPXJ0O3ZhciBudD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQscil7dmFyIG49ZS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBuLnVuaXQ9dCxuLmJpdFdpZHRoPXIsbn12YXIgcjtyZXR1cm4gVWUuX19leHRlbmRzKHQsZSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJ0eXBlSWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gamUuVHlwZS5UaW1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIlRpbWUiK3RoaXMuYml0V2lkdGgrIjwiK2plLlRpbWVVbml0W3RoaXMudW5pdF0rIj4ifSx0W1N5bWJvbC50b1N0cmluZ1RhZ109KChyPXQucHJvdG90eXBlKS51bml0PW51bGwsci5iaXRXaWR0aD1udWxsLHIuQXJyYXlUeXBlPUludDMyQXJyYXkscltTeW1ib2wudG9TdHJpbmdUYWddPSJUaW1lIiksdH0oeGUpO0ZlLlRpbWU9bnQ7dmFyIGl0PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gZS5jYWxsKHRoaXMsamUuVGltZVVuaXQuU0VDT05ELDMyKXx8dGhpc31yZXR1cm4gVWUuX19leHRlbmRzKHQsZSksdH0obnQpO0ZlLlRpbWVTZWNvbmQ9aXQ7dmFyIG90PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gZS5jYWxsKHRoaXMsamUuVGltZVVuaXQuTUlMTElTRUNPTkQsMzIpfHx0aGlzfXJldHVybiBVZS5fX2V4dGVuZHModCxlKSx0fShudCk7RmUuVGltZU1pbGxpc2Vjb25kPW90O3ZhciBhdD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIGUuY2FsbCh0aGlzLGplLlRpbWVVbml0Lk1JQ1JPU0VDT05ELDY0KXx8dGhpc31yZXR1cm4gVWUuX19leHRlbmRzKHQsZSksdH0obnQpO0ZlLlRpbWVNaWNyb3NlY29uZD1hdDt2YXIgdXQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBlLmNhbGwodGhpcyxqZS5UaW1lVW5pdC5OQU5PU0VDT05ELDY0KXx8dGhpc31yZXR1cm4gVWUuX19leHRlbmRzKHQsZSksdH0obnQpO0ZlLlRpbWVOYW5vc2Vjb25kPXV0O3ZhciBzdD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQscil7dmFyIG49ZS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBuLnVuaXQ9dCxuLnRpbWV6b25lPXIsbn12YXIgcjtyZXR1cm4gVWUuX19leHRlbmRzKHQsZSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJ0eXBlSWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gamUuVHlwZS5UaW1lc3RhbXB9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iVGltZXN0YW1wPCIramUuVGltZVVuaXRbdGhpcy51bml0XSsodGhpcy50aW1lem9uZT8iLCAiK3RoaXMudGltZXpvbmU6IiIpKyI+In0sdFtTeW1ib2wudG9TdHJpbmdUYWddPSgocj10LnByb3RvdHlwZSkudW5pdD1udWxsLHIudGltZXpvbmU9bnVsbCxyLkFycmF5VHlwZT1JbnQzMkFycmF5LHJbU3ltYm9sLnRvU3RyaW5nVGFnXT0iVGltZXN0YW1wIiksdH0oeGUpO0ZlLlRpbWVzdGFtcD1zdDt2YXIgY3Q9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXtyZXR1cm4gZS5jYWxsKHRoaXMsamUuVGltZVVuaXQuU0VDT05ELHQpfHx0aGlzfXJldHVybiBVZS5fX2V4dGVuZHModCxlKSx0fShzdCk7RmUuVGltZXN0YW1wU2Vjb25kPWN0O3ZhciBsdD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe3JldHVybiBlLmNhbGwodGhpcyxqZS5UaW1lVW5pdC5NSUxMSVNFQ09ORCx0KXx8dGhpc31yZXR1cm4gVWUuX19leHRlbmRzKHQsZSksdH0oc3QpO0ZlLlRpbWVzdGFtcE1pbGxpc2Vjb25kPWx0O3ZhciBmdD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe3JldHVybiBlLmNhbGwodGhpcyxqZS5UaW1lVW5pdC5NSUNST1NFQ09ORCx0KXx8dGhpc31yZXR1cm4gVWUuX19leHRlbmRzKHQsZSksdH0oc3QpO0ZlLlRpbWVzdGFtcE1pY3Jvc2Vjb25kPWZ0O3ZhciBkdD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe3JldHVybiBlLmNhbGwodGhpcyxqZS5UaW1lVW5pdC5OQU5PU0VDT05ELHQpfHx0aGlzfXJldHVybiBVZS5fX2V4dGVuZHModCxlKSx0fShzdCk7RmUuVGltZXN0YW1wTmFub3NlY29uZD1kdDt2YXIgcHQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXt2YXIgcj1lLmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIHIudW5pdD10LHJ9dmFyIHI7cmV0dXJuIFVlLl9fZXh0ZW5kcyh0LGUpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwidHlwZUlkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGplLlR5cGUuSW50ZXJ2YWx9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iSW50ZXJ2YWw8IitqZS5JbnRlcnZhbFVuaXRbdGhpcy51bml0XSsiPiJ9LHRbU3ltYm9sLnRvU3RyaW5nVGFnXT0oKHI9dC5wcm90b3R5cGUpLnVuaXQ9bnVsbCxyLkFycmF5VHlwZT1JbnQzMkFycmF5LHJbU3ltYm9sLnRvU3RyaW5nVGFnXT0iSW50ZXJ2YWwiKSx0fSh4ZSk7RmUuSW50ZXJ2YWw9cHQ7dmFyIHl0PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gZS5jYWxsKHRoaXMsamUuSW50ZXJ2YWxVbml0LkRBWV9USU1FKXx8dGhpc31yZXR1cm4gVWUuX19leHRlbmRzKHQsZSksdH0ocHQpO0ZlLkludGVydmFsRGF5VGltZT15dDt2YXIgaHQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBlLmNhbGwodGhpcyxqZS5JbnRlcnZhbFVuaXQuWUVBUl9NT05USCl8fHRoaXN9cmV0dXJuIFVlLl9fZXh0ZW5kcyh0LGUpLHR9KHB0KTtGZS5JbnRlcnZhbFllYXJNb250aD1odDt2YXIgYnQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXt2YXIgcj1lLmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIHIuY2hpbGRyZW49W3RdLHJ9dmFyIHI7cmV0dXJuIFVlLl9fZXh0ZW5kcyh0LGUpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwidHlwZUlkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGplLlR5cGUuTGlzdH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJMaXN0PCIrdGhpcy52YWx1ZVR5cGUrIj4ifSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsInZhbHVlVHlwZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNoaWxkcmVuWzBdLnR5cGV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJ2YWx1ZUZpZWxkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2hpbGRyZW5bMF19LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJBcnJheVR5cGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52YWx1ZVR5cGUuQXJyYXlUeXBlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHRbU3ltYm9sLnRvU3RyaW5nVGFnXT0oKHI9dC5wcm90b3R5cGUpLmNoaWxkcmVuPW51bGwscltTeW1ib2wudG9TdHJpbmdUYWddPSJMaXN0IiksdH0oeGUpO0ZlLkxpc3Q9YnQ7dmFyIHZ0PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCl7dmFyIHI9ZS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiByLmNoaWxkcmVuPXQscn12YXIgcjtyZXR1cm4gVWUuX19leHRlbmRzKHQsZSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJ0eXBlSWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gamUuVHlwZS5TdHJ1Y3R9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iU3RydWN0PHsiK3RoaXMuY2hpbGRyZW4ubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5uYW1lKyI6IitlLnR5cGV9KSkuam9pbigiLCAiKSsifT4ifSx0W1N5bWJvbC50b1N0cmluZ1RhZ109KChyPXQucHJvdG90eXBlKS5jaGlsZHJlbj1udWxsLHJbU3ltYm9sLnRvU3RyaW5nVGFnXT0iU3RydWN0IiksdH0oeGUpO0ZlLlN0cnVjdD12dDt2YXIgX3Q9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LHIsbil7dmFyIGk9ZS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBpLm1vZGU9dCxpLmNoaWxkcmVuPW4saS50eXBlSWRzPXI9SW50MzJBcnJheS5mcm9tKHIpLGkudHlwZUlkVG9DaGlsZEluZGV4PXIucmVkdWNlKChmdW5jdGlvbihlLHQscil7cmV0dXJuKGVbdF09cikmJmV8fGV9KSxPYmplY3QuY3JlYXRlKG51bGwpKSxpfXZhciByO3JldHVybiBVZS5fX2V4dGVuZHModCxlKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsInR5cGVJZCIse2dldDpmdW5jdGlvbigpe3JldHVybiBqZS5UeXBlLlVuaW9ufSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbU3ltYm9sLnRvU3RyaW5nVGFnXSsiPCIrdGhpcy5jaGlsZHJlbi5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiIiK2UudHlwZX0pKS5qb2luKCIgfCAiKSsiPiJ9LHRbU3ltYm9sLnRvU3RyaW5nVGFnXT0oKHI9dC5wcm90b3R5cGUpLm1vZGU9bnVsbCxyLnR5cGVJZHM9bnVsbCxyLmNoaWxkcmVuPW51bGwsci50eXBlSWRUb0NoaWxkSW5kZXg9bnVsbCxyLkFycmF5VHlwZT1JbnQ4QXJyYXkscltTeW1ib2wudG9TdHJpbmdUYWddPSJVbmlvbiIpLHR9KHhlKTtGZS5Vbmlvbj1fdDt2YXIgbXQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LHIpe3JldHVybiBlLmNhbGwodGhpcyxqZS5Vbmlvbk1vZGUuRGVuc2UsdCxyKXx8dGhpc31yZXR1cm4gVWUuX19leHRlbmRzKHQsZSksdH0oX3QpO0ZlLkRlbnNlVW5pb249bXQ7dmFyIGd0PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxyKXtyZXR1cm4gZS5jYWxsKHRoaXMsamUuVW5pb25Nb2RlLlNwYXJzZSx0LHIpfHx0aGlzfXJldHVybiBVZS5fX2V4dGVuZHModCxlKSx0fShfdCk7RmUuU3BhcnNlVW5pb249Z3Q7dmFyIEJ0PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCl7dmFyIHI9ZS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiByLmJ5dGVXaWR0aD10LHJ9dmFyIHI7cmV0dXJuIFVlLl9fZXh0ZW5kcyh0LGUpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwidHlwZUlkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGplLlR5cGUuRml4ZWRTaXplQmluYXJ5fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIkZpeGVkU2l6ZUJpbmFyeVsiK3RoaXMuYnl0ZVdpZHRoKyJdIn0sdFtTeW1ib2wudG9TdHJpbmdUYWddPSgocj10LnByb3RvdHlwZSkuYnl0ZVdpZHRoPW51bGwsci5BcnJheVR5cGU9VWludDhBcnJheSxyW1N5bWJvbC50b1N0cmluZ1RhZ109IkZpeGVkU2l6ZUJpbmFyeSIpLHR9KHhlKTtGZS5GaXhlZFNpemVCaW5hcnk9QnQ7dmFyIFR0PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxyKXt2YXIgbj1lLmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIG4ubGlzdFNpemU9dCxuLmNoaWxkcmVuPVtyXSxufXZhciByO3JldHVybiBVZS5fX2V4dGVuZHModCxlKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsInR5cGVJZCIse2dldDpmdW5jdGlvbigpe3JldHVybiBqZS5UeXBlLkZpeGVkU2l6ZUxpc3R9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJ2YWx1ZVR5cGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jaGlsZHJlblswXS50eXBlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwidmFsdWVGaWVsZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNoaWxkcmVuWzBdfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwiQXJyYXlUeXBlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmFsdWVUeXBlLkFycmF5VHlwZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJGaXhlZFNpemVMaXN0WyIrdGhpcy5saXN0U2l6ZSsiXTwiK3RoaXMudmFsdWVUeXBlKyI+In0sdFtTeW1ib2wudG9TdHJpbmdUYWddPSgocj10LnByb3RvdHlwZSkuY2hpbGRyZW49bnVsbCxyLmxpc3RTaXplPW51bGwscltTeW1ib2wudG9TdHJpbmdUYWddPSJGaXhlZFNpemVMaXN0IiksdH0oeGUpO0ZlLkZpeGVkU2l6ZUxpc3Q9VHQ7dmFyIEl0PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxyKXt2b2lkIDA9PT1yJiYocj0hMSk7dmFyIG49ZS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBuLmNoaWxkcmVuPVt0XSxuLmtleXNTb3J0ZWQ9cixufXZhciByO3JldHVybiBVZS5fX2V4dGVuZHModCxlKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsInR5cGVJZCIse2dldDpmdW5jdGlvbigpe3JldHVybiBqZS5UeXBlLk1hcH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsImtleVR5cGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jaGlsZHJlblswXS50eXBlLmNoaWxkcmVuWzBdLnR5cGV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJ2YWx1ZVR5cGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jaGlsZHJlblswXS50eXBlLmNoaWxkcmVuWzFdLnR5cGV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iTWFwPHsiK3RoaXMuY2hpbGRyZW5bMF0udHlwZS5jaGlsZHJlbi5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLm5hbWUrIjoiK2UudHlwZX0pKS5qb2luKCIsICIpKyJ9PiJ9LHRbU3ltYm9sLnRvU3RyaW5nVGFnXT0oKHI9dC5wcm90b3R5cGUpLmNoaWxkcmVuPW51bGwsci5rZXlzU29ydGVkPW51bGwscltTeW1ib2wudG9TdHJpbmdUYWddPSJNYXBfIiksdH0oeGUpO0ZlLk1hcF89SXQ7dmFyIHd0LE90PSh3dD0tMSxmdW5jdGlvbigpe3JldHVybisrd3R9KSxTdD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQscixuLGkpe3ZhciBvPWUuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gby5pbmRpY2VzPXIsby5kaWN0aW9uYXJ5PXQsby5pc09yZGVyZWQ9aXx8ITEsby5pZD1udWxsPT1uP090KCk6Im51bWJlciI9PXR5cGVvZiBuP246bi5sb3csb312YXIgcjtyZXR1cm4gVWUuX19leHRlbmRzKHQsZSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJ0eXBlSWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gamUuVHlwZS5EaWN0aW9uYXJ5fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwiY2hpbGRyZW4iLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kaWN0aW9uYXJ5LmNoaWxkcmVufSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwidmFsdWVUeXBlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGljdGlvbmFyeX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsIkFycmF5VHlwZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRpY3Rpb25hcnkuQXJyYXlUeXBlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIkRpY3Rpb25hcnk8Iit0aGlzLmluZGljZXMrIiwgIit0aGlzLmRpY3Rpb25hcnkrIj4ifSx0W1N5bWJvbC50b1N0cmluZ1RhZ109KChyPXQucHJvdG90eXBlKS5pZD1udWxsLHIuaW5kaWNlcz1udWxsLHIuaXNPcmRlcmVkPW51bGwsci5kaWN0aW9uYXJ5PW51bGwscltTeW1ib2wudG9TdHJpbmdUYWddPSJEaWN0aW9uYXJ5IiksdH0oeGUpO0ZlLkRpY3Rpb25hcnk9U3QsRmUuc3RyaWRlRm9yVHlwZT1mdW5jdGlvbihlKXt2YXIgdD1lO3N3aXRjaChlLnR5cGVJZCl7Y2FzZSBqZS5UeXBlLkRlY2ltYWw6cmV0dXJuIDQ7Y2FzZSBqZS5UeXBlLlRpbWVzdGFtcDpyZXR1cm4gMjtjYXNlIGplLlR5cGUuRGF0ZTpjYXNlIGplLlR5cGUuSW50ZXJ2YWw6cmV0dXJuIDErdC51bml0O2Nhc2UgamUuVHlwZS5JbnQ6Y2FzZSBqZS5UeXBlLlRpbWU6cmV0dXJuKyh0LmJpdFdpZHRoPjMyKSsxO2Nhc2UgamUuVHlwZS5GaXhlZFNpemVMaXN0OnJldHVybiB0Lmxpc3RTaXplO2Nhc2UgamUuVHlwZS5GaXhlZFNpemVCaW5hcnk6cmV0dXJuIHQuYnl0ZVdpZHRoO2RlZmF1bHQ6cmV0dXJuIDF9fSxmdW5jdGlvbihlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5EYXRhPWUua1Vua25vd25OdWxsQ291bnQ9dm9pZCAwO3ZhciB0PXdlLHI9d2Usbj1nZSxpPUZlLG89RztlLmtVbmtub3duTnVsbENvdW50PS0xO3ZhciBhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShlLHQscixuLG8sdSxzKXt2YXIgYzt0aGlzLnR5cGU9ZSx0aGlzLmRpY3Rpb25hcnk9cyx0aGlzLm9mZnNldD1NYXRoLmZsb29yKE1hdGgubWF4KHR8fDAsMCkpLHRoaXMubGVuZ3RoPU1hdGguZmxvb3IoTWF0aC5tYXgocnx8MCwwKSksdGhpcy5fbnVsbENvdW50PU1hdGguZmxvb3IoTWF0aC5tYXgobnx8MCwtMSkpLHRoaXMuY2hpbGREYXRhPSh1fHxbXSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGE/ZTplLmRhdGF9KSksbyBpbnN0YW5jZW9mIGE/KHRoaXMuc3RyaWRlPW8uc3RyaWRlLHRoaXMudmFsdWVzPW8udmFsdWVzLHRoaXMudHlwZUlkcz1vLnR5cGVJZHMsdGhpcy5udWxsQml0bWFwPW8ubnVsbEJpdG1hcCx0aGlzLnZhbHVlT2Zmc2V0cz1vLnZhbHVlT2Zmc2V0cyk6KHRoaXMuc3RyaWRlPWkuc3RyaWRlRm9yVHlwZShlKSxvJiYoKGM9b1swXSkmJih0aGlzLnZhbHVlT2Zmc2V0cz1jKSwoYz1vWzFdKSYmKHRoaXMudmFsdWVzPWMpLChjPW9bMl0pJiYodGhpcy5udWxsQml0bWFwPWMpLChjPW9bM10pJiYodGhpcy50eXBlSWRzPWMpKSl9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLnByb3RvdHlwZSwidHlwZUlkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHlwZS50eXBlSWR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGEucHJvdG90eXBlLCJBcnJheVR5cGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50eXBlLkFycmF5VHlwZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoYS5wcm90b3R5cGUsImJ1ZmZlcnMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm5bdGhpcy52YWx1ZU9mZnNldHMsdGhpcy52YWx1ZXMsdGhpcy5udWxsQml0bWFwLHRoaXMudHlwZUlkc119LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGEucHJvdG90eXBlLCJieXRlTGVuZ3RoIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIGU9MCx0PXRoaXMscj10LnZhbHVlT2Zmc2V0cyxuPXQudmFsdWVzLGk9dC5udWxsQml0bWFwLG89dC50eXBlSWRzO3JldHVybiByJiYoZSs9ci5ieXRlTGVuZ3RoKSxuJiYoZSs9bi5ieXRlTGVuZ3RoKSxpJiYoZSs9aS5ieXRlTGVuZ3RoKSxvJiYoZSs9by5ieXRlTGVuZ3RoKSx0aGlzLmNoaWxkRGF0YS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUrdC5ieXRlTGVuZ3RofSksZSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGEucHJvdG90eXBlLCJudWxsQ291bnQiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgdCxuPXRoaXMuX251bGxDb3VudDtyZXR1cm4gbjw9ZS5rVW5rbm93bk51bGxDb3VudCYmKHQ9dGhpcy5udWxsQml0bWFwKSYmKHRoaXMuX251bGxDb3VudD1uPXRoaXMubGVuZ3RoLXIucG9wY250X2JpdF9yYW5nZSh0LHRoaXMub2Zmc2V0LHRoaXMub2Zmc2V0K3RoaXMubGVuZ3RoKSksbn0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxhLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbihlLHQscixuLGksbyl7cmV0dXJuIHZvaWQgMD09PXQmJih0PXRoaXMub2Zmc2V0KSx2b2lkIDA9PT1yJiYocj10aGlzLmxlbmd0aCksdm9pZCAwPT09biYmKG49dGhpcy5fbnVsbENvdW50KSx2b2lkIDA9PT1pJiYoaT10aGlzKSx2b2lkIDA9PT1vJiYobz10aGlzLmNoaWxkRGF0YSksbmV3IGEoZSx0LHIsbixpLG8sdGhpcy5kaWN0aW9uYXJ5KX0sYS5wcm90b3R5cGUuc2xpY2U9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49ci5zdHJpZGUsaT1yLnR5cGVJZCxvPXIuY2hpbGREYXRhLGE9KygwPT09dGhpcy5fbnVsbENvdW50KS0xLHU9MTY9PT1pP246MSxzPXRoaXMuX3NsaWNlQnVmZmVycyhlLHQsbixpKTtyZXR1cm4gdGhpcy5jbG9uZSh0aGlzLnR5cGUsdGhpcy5vZmZzZXQrZSx0LGEscywhby5sZW5ndGh8fHRoaXMudmFsdWVPZmZzZXRzP286dGhpcy5fc2xpY2VDaGlsZHJlbihvLHUqZSx1KnQpKX0sYS5wcm90b3R5cGUuX2NoYW5nZUxlbmd0aEFuZEJhY2tmaWxsTnVsbEJpdG1hcD1mdW5jdGlvbihlKXtpZih0aGlzLnR5cGVJZD09PW4uVHlwZS5OdWxsKXJldHVybiB0aGlzLmNsb25lKHRoaXMudHlwZSwwLGUsMCk7dmFyIHI9dGhpcy5sZW5ndGgsaT10aGlzLm51bGxDb3VudCxvPW5ldyBVaW50OEFycmF5KChlKzYzJi02NCk+PjMpLmZpbGwoMjU1LDAscj4+Myk7b1tyPj4zXT0oMTw8ci0oLTgmcikpLTEsaT4wJiZvLnNldCh0LnRydW5jYXRlQml0bWFwKHRoaXMub2Zmc2V0LHIsdGhpcy5udWxsQml0bWFwKSwwKTt2YXIgYT10aGlzLmJ1ZmZlcnM7cmV0dXJuIGFbbi5CdWZmZXJUeXBlLlZBTElESVRZXT1vLHRoaXMuY2xvbmUodGhpcy50eXBlLDAsZSxpKyhlLXIpLGEpfSxhLnByb3RvdHlwZS5fc2xpY2VCdWZmZXJzPWZ1bmN0aW9uKGUsdCxyLGkpe3ZhciBvLGE9dGhpcy5idWZmZXJzO3JldHVybihvPWFbbi5CdWZmZXJUeXBlLlRZUEVdKSYmKGFbbi5CdWZmZXJUeXBlLlRZUEVdPW8uc3ViYXJyYXkoZSxlK3QpKSwobz1hW24uQnVmZmVyVHlwZS5PRkZTRVRdKSYmKGFbbi5CdWZmZXJUeXBlLk9GRlNFVF09by5zdWJhcnJheShlLGUrdCsxKSl8fChvPWFbbi5CdWZmZXJUeXBlLkRBVEFdKSYmKGFbbi5CdWZmZXJUeXBlLkRBVEFdPTY9PT1pP286by5zdWJhcnJheShyKmUsciooZSt0KSkpLGF9LGEucHJvdG90eXBlLl9zbGljZUNoaWxkcmVuPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnNsaWNlKHQscil9KSl9LGEubmV3PWZ1bmN0aW9uKGUsdCxyLGksbyx1LHMpe3N3aXRjaChvIGluc3RhbmNlb2YgYT9vPW8uYnVmZmVyczpvfHwobz1bXSksZS50eXBlSWQpe2Nhc2Ugbi5UeXBlLk51bGw6cmV0dXJuIGEuTnVsbChlLHQscik7Y2FzZSBuLlR5cGUuSW50OnJldHVybiBhLkludChlLHQscixpfHwwLG9bbi5CdWZmZXJUeXBlLlZBTElESVRZXSxvW24uQnVmZmVyVHlwZS5EQVRBXXx8W10pO2Nhc2Ugbi5UeXBlLkRpY3Rpb25hcnk6cmV0dXJuIGEuRGljdGlvbmFyeShlLHQscixpfHwwLG9bbi5CdWZmZXJUeXBlLlZBTElESVRZXSxvW24uQnVmZmVyVHlwZS5EQVRBXXx8W10scyk7Y2FzZSBuLlR5cGUuRmxvYXQ6cmV0dXJuIGEuRmxvYXQoZSx0LHIsaXx8MCxvW24uQnVmZmVyVHlwZS5WQUxJRElUWV0sb1tuLkJ1ZmZlclR5cGUuREFUQV18fFtdKTtjYXNlIG4uVHlwZS5Cb29sOnJldHVybiBhLkJvb2woZSx0LHIsaXx8MCxvW24uQnVmZmVyVHlwZS5WQUxJRElUWV0sb1tuLkJ1ZmZlclR5cGUuREFUQV18fFtdKTtjYXNlIG4uVHlwZS5EZWNpbWFsOnJldHVybiBhLkRlY2ltYWwoZSx0LHIsaXx8MCxvW24uQnVmZmVyVHlwZS5WQUxJRElUWV0sb1tuLkJ1ZmZlclR5cGUuREFUQV18fFtdKTtjYXNlIG4uVHlwZS5EYXRlOnJldHVybiBhLkRhdGUoZSx0LHIsaXx8MCxvW24uQnVmZmVyVHlwZS5WQUxJRElUWV0sb1tuLkJ1ZmZlclR5cGUuREFUQV18fFtdKTtjYXNlIG4uVHlwZS5UaW1lOnJldHVybiBhLlRpbWUoZSx0LHIsaXx8MCxvW24uQnVmZmVyVHlwZS5WQUxJRElUWV0sb1tuLkJ1ZmZlclR5cGUuREFUQV18fFtdKTtjYXNlIG4uVHlwZS5UaW1lc3RhbXA6cmV0dXJuIGEuVGltZXN0YW1wKGUsdCxyLGl8fDAsb1tuLkJ1ZmZlclR5cGUuVkFMSURJVFldLG9bbi5CdWZmZXJUeXBlLkRBVEFdfHxbXSk7Y2FzZSBuLlR5cGUuSW50ZXJ2YWw6cmV0dXJuIGEuSW50ZXJ2YWwoZSx0LHIsaXx8MCxvW24uQnVmZmVyVHlwZS5WQUxJRElUWV0sb1tuLkJ1ZmZlclR5cGUuREFUQV18fFtdKTtjYXNlIG4uVHlwZS5GaXhlZFNpemVCaW5hcnk6cmV0dXJuIGEuRml4ZWRTaXplQmluYXJ5KGUsdCxyLGl8fDAsb1tuLkJ1ZmZlclR5cGUuVkFMSURJVFldLG9bbi5CdWZmZXJUeXBlLkRBVEFdfHxbXSk7Y2FzZSBuLlR5cGUuQmluYXJ5OnJldHVybiBhLkJpbmFyeShlLHQscixpfHwwLG9bbi5CdWZmZXJUeXBlLlZBTElESVRZXSxvW24uQnVmZmVyVHlwZS5PRkZTRVRdfHxbXSxvW24uQnVmZmVyVHlwZS5EQVRBXXx8W10pO2Nhc2Ugbi5UeXBlLlV0Zjg6cmV0dXJuIGEuVXRmOChlLHQscixpfHwwLG9bbi5CdWZmZXJUeXBlLlZBTElESVRZXSxvW24uQnVmZmVyVHlwZS5PRkZTRVRdfHxbXSxvW24uQnVmZmVyVHlwZS5EQVRBXXx8W10pO2Nhc2Ugbi5UeXBlLkxpc3Q6cmV0dXJuIGEuTGlzdChlLHQscixpfHwwLG9bbi5CdWZmZXJUeXBlLlZBTElESVRZXSxvW24uQnVmZmVyVHlwZS5PRkZTRVRdfHxbXSwodXx8W10pWzBdKTtjYXNlIG4uVHlwZS5GaXhlZFNpemVMaXN0OnJldHVybiBhLkZpeGVkU2l6ZUxpc3QoZSx0LHIsaXx8MCxvW24uQnVmZmVyVHlwZS5WQUxJRElUWV0sKHV8fFtdKVswXSk7Y2FzZSBuLlR5cGUuU3RydWN0OnJldHVybiBhLlN0cnVjdChlLHQscixpfHwwLG9bbi5CdWZmZXJUeXBlLlZBTElESVRZXSx1fHxbXSk7Y2FzZSBuLlR5cGUuTWFwOnJldHVybiBhLk1hcChlLHQscixpfHwwLG9bbi5CdWZmZXJUeXBlLlZBTElESVRZXSxvW24uQnVmZmVyVHlwZS5PRkZTRVRdfHxbXSwodXx8W10pWzBdKTtjYXNlIG4uVHlwZS5VbmlvbjpyZXR1cm4gYS5VbmlvbihlLHQscixpfHwwLG9bbi5CdWZmZXJUeXBlLlZBTElESVRZXSxvW24uQnVmZmVyVHlwZS5UWVBFXXx8W10sb1tuLkJ1ZmZlclR5cGUuT0ZGU0VUXXx8dSx1KX10aHJvdyBuZXcgRXJyb3IoIlVucmVjb2duaXplZCB0eXBlSWQgIitlLnR5cGVJZCl9LGEuTnVsbD1mdW5jdGlvbihlLHQscil7cmV0dXJuIG5ldyBhKGUsdCxyLDApfSxhLkludD1mdW5jdGlvbihlLHQscixuLGksdSl7cmV0dXJuIG5ldyBhKGUsdCxyLG4sW3ZvaWQgMCxvLnRvQXJyYXlCdWZmZXJWaWV3KGUuQXJyYXlUeXBlLHUpLG8udG9VaW50OEFycmF5KGkpXSl9LGEuRGljdGlvbmFyeT1mdW5jdGlvbihlLHQscixuLGksdSxzKXtyZXR1cm4gbmV3IGEoZSx0LHIsbixbdm9pZCAwLG8udG9BcnJheUJ1ZmZlclZpZXcoZS5pbmRpY2VzLkFycmF5VHlwZSx1KSxvLnRvVWludDhBcnJheShpKV0sW10scyl9LGEuRmxvYXQ9ZnVuY3Rpb24oZSx0LHIsbixpLHUpe3JldHVybiBuZXcgYShlLHQscixuLFt2b2lkIDAsby50b0FycmF5QnVmZmVyVmlldyhlLkFycmF5VHlwZSx1KSxvLnRvVWludDhBcnJheShpKV0pfSxhLkJvb2w9ZnVuY3Rpb24oZSx0LHIsbixpLHUpe3JldHVybiBuZXcgYShlLHQscixuLFt2b2lkIDAsby50b0FycmF5QnVmZmVyVmlldyhlLkFycmF5VHlwZSx1KSxvLnRvVWludDhBcnJheShpKV0pfSxhLkRlY2ltYWw9ZnVuY3Rpb24oZSx0LHIsbixpLHUpe3JldHVybiBuZXcgYShlLHQscixuLFt2b2lkIDAsby50b0FycmF5QnVmZmVyVmlldyhlLkFycmF5VHlwZSx1KSxvLnRvVWludDhBcnJheShpKV0pfSxhLkRhdGU9ZnVuY3Rpb24oZSx0LHIsbixpLHUpe3JldHVybiBuZXcgYShlLHQscixuLFt2b2lkIDAsby50b0FycmF5QnVmZmVyVmlldyhlLkFycmF5VHlwZSx1KSxvLnRvVWludDhBcnJheShpKV0pfSxhLlRpbWU9ZnVuY3Rpb24oZSx0LHIsbixpLHUpe3JldHVybiBuZXcgYShlLHQscixuLFt2b2lkIDAsby50b0FycmF5QnVmZmVyVmlldyhlLkFycmF5VHlwZSx1KSxvLnRvVWludDhBcnJheShpKV0pfSxhLlRpbWVzdGFtcD1mdW5jdGlvbihlLHQscixuLGksdSl7cmV0dXJuIG5ldyBhKGUsdCxyLG4sW3ZvaWQgMCxvLnRvQXJyYXlCdWZmZXJWaWV3KGUuQXJyYXlUeXBlLHUpLG8udG9VaW50OEFycmF5KGkpXSl9LGEuSW50ZXJ2YWw9ZnVuY3Rpb24oZSx0LHIsbixpLHUpe3JldHVybiBuZXcgYShlLHQscixuLFt2b2lkIDAsby50b0FycmF5QnVmZmVyVmlldyhlLkFycmF5VHlwZSx1KSxvLnRvVWludDhBcnJheShpKV0pfSxhLkZpeGVkU2l6ZUJpbmFyeT1mdW5jdGlvbihlLHQscixuLGksdSl7cmV0dXJuIG5ldyBhKGUsdCxyLG4sW3ZvaWQgMCxvLnRvQXJyYXlCdWZmZXJWaWV3KGUuQXJyYXlUeXBlLHUpLG8udG9VaW50OEFycmF5KGkpXSl9LGEuQmluYXJ5PWZ1bmN0aW9uKGUsdCxyLG4saSx1LHMpe3JldHVybiBuZXcgYShlLHQscixuLFtvLnRvSW50MzJBcnJheSh1KSxvLnRvVWludDhBcnJheShzKSxvLnRvVWludDhBcnJheShpKV0pfSxhLlV0Zjg9ZnVuY3Rpb24oZSx0LHIsbixpLHUscyl7cmV0dXJuIG5ldyBhKGUsdCxyLG4sW28udG9JbnQzMkFycmF5KHUpLG8udG9VaW50OEFycmF5KHMpLG8udG9VaW50OEFycmF5KGkpXSl9LGEuTGlzdD1mdW5jdGlvbihlLHQscixuLGksdSxzKXtyZXR1cm4gbmV3IGEoZSx0LHIsbixbby50b0ludDMyQXJyYXkodSksdm9pZCAwLG8udG9VaW50OEFycmF5KGkpXSxzP1tzXTpbXSl9LGEuRml4ZWRTaXplTGlzdD1mdW5jdGlvbihlLHQscixuLGksdSl7cmV0dXJuIG5ldyBhKGUsdCxyLG4sW3ZvaWQgMCx2b2lkIDAsby50b1VpbnQ4QXJyYXkoaSldLHU/W3VdOltdKX0sYS5TdHJ1Y3Q9ZnVuY3Rpb24oZSx0LHIsbixpLHUpe3JldHVybiBuZXcgYShlLHQscixuLFt2b2lkIDAsdm9pZCAwLG8udG9VaW50OEFycmF5KGkpXSx1KX0sYS5NYXA9ZnVuY3Rpb24oZSx0LHIsbixpLHUscyl7cmV0dXJuIG5ldyBhKGUsdCxyLG4sW28udG9JbnQzMkFycmF5KHUpLHZvaWQgMCxvLnRvVWludDhBcnJheShpKV0scz9bc106W10pfSxhLlVuaW9uPWZ1bmN0aW9uKGUsdCxyLGksdSxzLGMsbCl7dmFyIGY9W3ZvaWQgMCx2b2lkIDAsby50b1VpbnQ4QXJyYXkodSksby50b0FycmF5QnVmZmVyVmlldyhlLkFycmF5VHlwZSxzKV07cmV0dXJuIGUubW9kZT09PW4uVW5pb25Nb2RlLlNwYXJzZT9uZXcgYShlLHQscixpLGYsYyk6KGZbbi5CdWZmZXJUeXBlLk9GRlNFVF09by50b0ludDMyQXJyYXkoYyksbmV3IGEoZSx0LHIsaSxmLGwpKX0sYX0oKTtlLkRhdGE9YSxhLnByb3RvdHlwZS5jaGlsZERhdGE9T2JqZWN0LmZyZWV6ZShbXSl9KEllKTt2YXIgQXQ9e30sRHQ9e307T2JqZWN0LmRlZmluZVByb3BlcnR5KER0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxEdC52YWx1ZVRvU3RyaW5nPXZvaWQgMDtEdC52YWx1ZVRvU3RyaW5nPWZ1bmN0aW9uKGUpe2lmKG51bGw9PT1lKXJldHVybiJudWxsIjtpZih1bmRlZmluZWQ9PT1lKXJldHVybiJ1bmRlZmluZWQiO3N3aXRjaCh0eXBlb2YgZSl7Y2FzZSJudW1iZXIiOmNhc2UiYmlnaW50IjpyZXR1cm4iIitlO2Nhc2Uic3RyaW5nIjpyZXR1cm4nIicrZSsnIid9cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGVbU3ltYm9sLnRvUHJpbWl0aXZlXT9lW1N5bWJvbC50b1ByaW1pdGl2ZV0oInN0cmluZyIpOkFycmF5QnVmZmVyLmlzVmlldyhlKT8iWyIrZSsiXSI6SlNPTi5zdHJpbmdpZnkoZSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBdCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksQXQuY3JlYXRlSXNWYWxpZEZ1bmN0aW9uPXZvaWQgMDt2YXIgVnQ9RHQsUHQ9UTtBdC5jcmVhdGVJc1ZhbGlkRnVuY3Rpb249ZnVuY3Rpb24oZSl7aWYoIWV8fGUubGVuZ3RoPD0wKXJldHVybiBmdW5jdGlvbihlKXtyZXR1cm4hMH07dmFyIHQ9IiIscj1lLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGU9PWV9KSk7cmV0dXJuIHIubGVuZ3RoPjAmJih0PSJcbiAgICBzd2l0Y2ggKHgpIHsiK3IubWFwKChmdW5jdGlvbihlKXtyZXR1cm4iXG4gICAgICAgIGNhc2UgIitmdW5jdGlvbihlKXtpZigiYmlnaW50IiE9dHlwZW9mIGUpcmV0dXJuIFZ0LnZhbHVlVG9TdHJpbmcoZSk7aWYoUHQuQmlnSW50QXZhaWxhYmxlKXJldHVybiBWdC52YWx1ZVRvU3RyaW5nKGUpKyJuIjtyZXR1cm4nIicrVnQudmFsdWVUb1N0cmluZyhlKSsnIid9KGUpKyI6In0pKS5qb2luKCIiKSsiXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSIpLGUubGVuZ3RoIT09ci5sZW5ndGgmJih0PSJpZiAoeCAhPT0geCkgcmV0dXJuIGZhbHNlO1xuIit0KSxuZXcgRnVuY3Rpb24oIngiLHQrIlxucmV0dXJuIHRydWU7Iil9O3ZhciBNdD17fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoTXQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLE10LldpZGVCdWZmZXJCdWlsZGVyPU10Lk9mZnNldHNCdWZmZXJCdWlsZGVyPU10LkJpdG1hcEJ1ZmZlckJ1aWxkZXI9TXQuRGF0YUJ1ZmZlckJ1aWxkZXI9TXQuQnVmZmVyQnVpbGRlcj12b2lkIDA7dmFyIEZ0PUguZXhwb3J0cyxVdD1HLGp0PVEseHQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4oZSp0KzYzJi02NHx8NjQpL3R9LEx0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe3ZvaWQgMD09PXQmJih0PTEpLHRoaXMuYnVmZmVyPWUsdGhpcy5zdHJpZGU9dCx0aGlzLkJZVEVTX1BFUl9FTEVNRU5UPWUuQllURVNfUEVSX0VMRU1FTlQsdGhpcy5BcnJheVR5cGU9ZS5jb25zdHJ1Y3Rvcix0aGlzLl9yZXNpemUodGhpcy5sZW5ndGg9ZS5sZW5ndGgvdHwwKX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJieXRlTGVuZ3RoIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGVuZ3RoKnRoaXMuc3RyaWRlKnRoaXMuQllURVNfUEVSX0VMRU1FTlR8MH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInJlc2VydmVkTGVuZ3RoIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYnVmZmVyLmxlbmd0aC90aGlzLnN0cmlkZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInJlc2VydmVkQnl0ZUxlbmd0aCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RofSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLnNldD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzfSxlLnByb3RvdHlwZS5hcHBlbmQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuc2V0KHRoaXMubGVuZ3RoLGUpfSxlLnByb3RvdHlwZS5yZXNlcnZlPWZ1bmN0aW9uKGUpe2lmKGU+MCl7dGhpcy5sZW5ndGgrPWU7dmFyIHQ9dGhpcy5zdHJpZGUscj10aGlzLmxlbmd0aCp0LG49dGhpcy5idWZmZXIubGVuZ3RoO3I+PW4mJnRoaXMuX3Jlc2l6ZSh4dCgwPT09bj8xKnI6MipyLHRoaXMuQllURVNfUEVSX0VMRU1FTlQpKX1yZXR1cm4gdGhpc30sZS5wcm90b3R5cGUuZmx1c2g9ZnVuY3Rpb24oZSl7dm9pZCAwPT09ZSYmKGU9dGhpcy5sZW5ndGgpLGU9eHQoZSp0aGlzLnN0cmlkZSx0aGlzLkJZVEVTX1BFUl9FTEVNRU5UKTt2YXIgdCxyLG49KHQ9dGhpcy5idWZmZXIsdm9pZCAwPT09KHI9ZSkmJihyPTApLHQubGVuZ3RoPj1yP3Quc3ViYXJyYXkoMCxyKTpVdC5tZW1jcHkobmV3IHQuY29uc3RydWN0b3IociksdCwwKSk7cmV0dXJuIHRoaXMuY2xlYXIoKSxufSxlLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxlbmd0aD0wLHRoaXMuX3Jlc2l6ZSgwKSx0aGlzfSxlLnByb3RvdHlwZS5fcmVzaXplPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmJ1ZmZlcj1VdC5tZW1jcHkobmV3IHRoaXMuQXJyYXlUeXBlKGUpLHRoaXMuYnVmZmVyKX0sZX0oKTtNdC5CdWZmZXJCdWlsZGVyPUx0LEx0LnByb3RvdHlwZS5vZmZzZXQ9MDt2YXIgUnQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIEZ0Ll9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLmxhc3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQodGhpcy5sZW5ndGgtMSl9LHQucHJvdG90eXBlLmdldD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5idWZmZXJbZV19LHQucHJvdG90eXBlLnNldD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLnJlc2VydmUoZS10aGlzLmxlbmd0aCsxKSx0aGlzLmJ1ZmZlcltlKnRoaXMuc3RyaWRlXT10LHRoaXN9LHR9KEx0KTtNdC5EYXRhQnVmZmVyQnVpbGRlcj1SdDt2YXIgTnQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXt2b2lkIDA9PT10JiYodD1uZXcgVWludDhBcnJheSgwKSk7dmFyIHI9ZS5jYWxsKHRoaXMsdCwxLzgpfHx0aGlzO3JldHVybiByLm51bVZhbGlkPTAscn1yZXR1cm4gRnQuX19leHRlbmRzKHQsZSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJudW1JbnZhbGlkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGVuZ3RoLXRoaXMubnVtVmFsaWR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmJ1ZmZlcltlPj4zXT4+ZSU4JjF9LHQucHJvdG90eXBlLnNldD1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMucmVzZXJ2ZShlLXRoaXMubGVuZ3RoKzEpLmJ1ZmZlcixuPWU+PjMsaT1lJTgsbz1yW25dPj5pJjE7cmV0dXJuIHQ/MD09PW8mJihyW25dfD0xPDxpLCsrdGhpcy5udW1WYWxpZCk6MT09PW8mJihyW25dJj1+KDE8PGkpLC0tdGhpcy5udW1WYWxpZCksdGhpc30sdC5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5udW1WYWxpZD0wLGUucHJvdG90eXBlLmNsZWFyLmNhbGwodGhpcyl9LHR9KFJ0KTtNdC5CaXRtYXBCdWZmZXJCdWlsZGVyPU50O3ZhciBFdD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe3JldHVybiB2b2lkIDA9PT10JiYodD1uZXcgSW50MzJBcnJheSgxKSksZS5jYWxsKHRoaXMsdCwxKXx8dGhpc31yZXR1cm4gRnQuX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUuYXBwZW5kPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnNldCh0aGlzLmxlbmd0aC0xLGUpfSx0LnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLmxlbmd0aC0xLG49dGhpcy5yZXNlcnZlKGUtcisxKS5idWZmZXI7cmV0dXJuIHI8ZSsrJiZuLmZpbGwobltyXSxyLGUpLG5bZV09bltlLTFdK3QsdGhpc30sdC5wcm90b3R5cGUuZmx1c2g9ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMD09PXQmJih0PXRoaXMubGVuZ3RoLTEpLHQ+dGhpcy5sZW5ndGgmJnRoaXMuc2V0KHQtMSwwKSxlLnByb3RvdHlwZS5mbHVzaC5jYWxsKHRoaXMsdCsxKX0sdH0oUnQpO010Lk9mZnNldHNCdWZmZXJCdWlsZGVyPUV0O3ZhciBDdD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gRnQuX19leHRlbmRzKHQsZSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJBcnJheVR5cGU2NCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9BcnJheVR5cGU2NHx8KHRoaXMuX0FycmF5VHlwZTY0PXRoaXMuYnVmZmVyIGluc3RhbmNlb2YgSW50MzJBcnJheT9qdC5CaWdJbnQ2NEFycmF5Omp0LkJpZ1VpbnQ2NEFycmF5KX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oZSx0KXtzd2l0Y2godGhpcy5yZXNlcnZlKGUtdGhpcy5sZW5ndGgrMSksdHlwZW9mIHQpe2Nhc2UiYmlnaW50Ijp0aGlzLmJ1ZmZlcjY0W2VdPXQ7YnJlYWs7Y2FzZSJudW1iZXIiOnRoaXMuYnVmZmVyW2UqdGhpcy5zdHJpZGVdPXQ7YnJlYWs7ZGVmYXVsdDp0aGlzLmJ1ZmZlci5zZXQodCxlKnRoaXMuc3RyaWRlKX1yZXR1cm4gdGhpc30sdC5wcm90b3R5cGUuX3Jlc2l6ZT1mdW5jdGlvbih0KXt2YXIgcj1lLnByb3RvdHlwZS5fcmVzaXplLmNhbGwodGhpcyx0KSxuPXIuYnl0ZUxlbmd0aC8odGhpcy5CWVRFU19QRVJfRUxFTUVOVCp0aGlzLnN0cmlkZSk7cmV0dXJuIGp0LkJpZ0ludEF2YWlsYWJsZSYmKHRoaXMuYnVmZmVyNjQ9bmV3IHRoaXMuQXJyYXlUeXBlNjQoci5idWZmZXIsci5ieXRlT2Zmc2V0LG4pKSxyfSx0fShMdCk7TXQuV2lkZUJ1ZmZlckJ1aWxkZXI9Q3QsT2JqZWN0LmRlZmluZVByb3BlcnR5KHZlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx2ZS5WYXJpYWJsZVdpZHRoQnVpbGRlcj12ZS5GaXhlZFdpZHRoQnVpbGRlcj12ZS5CdWlsZGVyPXZvaWQgMDt2YXIgenQ9SC5leHBvcnRzLGt0PV9lLFd0PWdlLFl0PUllLEh0PUF0LEd0PU10LEp0PUZlLFp0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt2YXIgdD1lLnR5cGUscj1lLm51bGxWYWx1ZXM7dGhpcy5sZW5ndGg9MCx0aGlzLmZpbmlzaGVkPSExLHRoaXMudHlwZT10LHRoaXMuY2hpbGRyZW49W10sdGhpcy5udWxsVmFsdWVzPXIsdGhpcy5zdHJpZGU9SnQuc3RyaWRlRm9yVHlwZSh0KSx0aGlzLl9udWxscz1uZXcgR3QuQml0bWFwQnVmZmVyQnVpbGRlcixyJiZyLmxlbmd0aD4wJiYodGhpcy5faXNWYWxpZD1IdC5jcmVhdGVJc1ZhbGlkRnVuY3Rpb24ocikpfXJldHVybiBlLm5ldz1mdW5jdGlvbihlKXt9LGUudGhyb3VnaE5vZGU9ZnVuY3Rpb24oZSl7dGhyb3cgbmV3IEVycm9yKCcidGhyb3VnaE5vZGUiIG5vdCBhdmFpbGFibGUgaW4gdGhpcyBlbnZpcm9ubWVudCcpfSxlLnRocm91Z2hET009ZnVuY3Rpb24oZSl7dGhyb3cgbmV3IEVycm9yKCcidGhyb3VnaERPTSIgbm90IGF2YWlsYWJsZSBpbiB0aGlzIGVudmlyb25tZW50Jyl9LGUudGhyb3VnaEl0ZXJhYmxlPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgdD1lLnF1ZXVlaW5nU3RyYXRlZ3kscj12b2lkIDA9PT10PyJjb3VudCI6dCxuPWUuaGlnaFdhdGVyTWFyayxpPXZvaWQgMD09PW4/ImJ5dGVzIiE9PXI/MWUzOk1hdGgucG93KDIsMTQpOm4sbz0iYnl0ZXMiIT09cj8ibGVuZ3RoIjoiYnl0ZUxlbmd0aCI7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciByLG4sYSx1LHMsYyxsLGY7cmV0dXJuIHp0Ll9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKGQpe3N3aXRjaChkLmxhYmVsKXtjYXNlIDA6cj0wLG49WnQubmV3KGUpLGQubGFiZWw9MTtjYXNlIDE6ZC50cnlzLnB1c2goWzEsNyw4LDldKSxhPXp0Ll9fdmFsdWVzKHQpLHU9YS5uZXh0KCksZC5sYWJlbD0yO2Nhc2UgMjpyZXR1cm4gdS5kb25lP1szLDZdOihzPXUudmFsdWUsbi5hcHBlbmQocylbb10+PWk/KytyP1s0LG4udG9WZWN0b3IoKV06WzMsNF06WzMsNV0pO2Nhc2UgMzpkLnNlbnQoKSxkLmxhYmVsPTQ7Y2FzZSA0OmQubGFiZWw9NTtjYXNlIDU6cmV0dXJuIHU9YS5uZXh0KCksWzMsMl07Y2FzZSA2OnJldHVyblszLDldO2Nhc2UgNzpyZXR1cm4gYz1kLnNlbnQoKSxsPXtlcnJvcjpjfSxbMyw5XTtjYXNlIDg6dHJ5e3UmJiF1LmRvbmUmJihmPWEucmV0dXJuKSYmZi5jYWxsKGEpfWZpbmFsbHl7aWYobCl0aHJvdyBsLmVycm9yfXJldHVybls3XTtjYXNlIDk6cmV0dXJuIG4uZmluaXNoKCkubGVuZ3RoPjB8fDA9PT1yP1s0LG4udG9WZWN0b3IoKV06WzMsMTFdO2Nhc2UgMTA6ZC5zZW50KCksZC5sYWJlbD0xMTtjYXNlIDExOnJldHVyblsyXX19KSl9fShlKX0sZS50aHJvdWdoQXN5bmNJdGVyYWJsZT1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9ZS5xdWV1ZWluZ1N0cmF0ZWd5LHI9dm9pZCAwPT09dD8iY291bnQiOnQsbj1lLmhpZ2hXYXRlck1hcmssaT12b2lkIDA9PT1uPyJieXRlcyIhPT1yPzFlMzpNYXRoLnBvdygyLDE0KTpuLG89ImJ5dGVzIiE9PXI/Imxlbmd0aCI6ImJ5dGVMZW5ndGgiO3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4genQuX19hc3luY0dlbmVyYXRvcih0aGlzLGFyZ3VtZW50cywoZnVuY3Rpb24oKXt2YXIgcixuLGEsdSxzLGMsbCxmO3JldHVybiB6dC5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbihkKXtzd2l0Y2goZC5sYWJlbCl7Y2FzZSAwOnI9MCxuPVp0Lm5ldyhlKSxkLmxhYmVsPTE7Y2FzZSAxOmQudHJ5cy5wdXNoKFsxLDksMTAsMTVdKSxhPXp0Ll9fYXN5bmNWYWx1ZXModCksZC5sYWJlbD0yO2Nhc2UgMjpyZXR1cm5bNCx6dC5fX2F3YWl0KGEubmV4dCgpKV07Y2FzZSAzOnJldHVybih1PWQuc2VudCgpKS5kb25lP1szLDhdOihzPXUudmFsdWUsbi5hcHBlbmQocylbb10+PWk/KytyP1s0LHp0Ll9fYXdhaXQobi50b1ZlY3RvcigpKV06WzMsNl06WzMsN10pO2Nhc2UgNDpyZXR1cm5bNCxkLnNlbnQoKV07Y2FzZSA1OmQuc2VudCgpLGQubGFiZWw9NjtjYXNlIDY6ZC5sYWJlbD03O2Nhc2UgNzpyZXR1cm5bMywyXTtjYXNlIDg6cmV0dXJuWzMsMTVdO2Nhc2UgOTpyZXR1cm4gYz1kLnNlbnQoKSxsPXtlcnJvcjpjfSxbMywxNV07Y2FzZSAxMDpyZXR1cm4gZC50cnlzLnB1c2goWzEwLCwxMywxNF0pLHUmJiF1LmRvbmUmJihmPWEucmV0dXJuKT9bNCx6dC5fX2F3YWl0KGYuY2FsbChhKSldOlszLDEyXTtjYXNlIDExOmQuc2VudCgpLGQubGFiZWw9MTI7Y2FzZSAxMjpyZXR1cm5bMywxNF07Y2FzZSAxMzppZihsKXRocm93IGwuZXJyb3I7cmV0dXJuWzddO2Nhc2UgMTQ6cmV0dXJuWzddO2Nhc2UgMTU6cmV0dXJuIG4uZmluaXNoKCkubGVuZ3RoPjB8fDA9PT1yP1s0LHp0Ll9fYXdhaXQobi50b1ZlY3RvcigpKV06WzMsMThdO2Nhc2UgMTY6cmV0dXJuWzQsZC5zZW50KCldO2Nhc2UgMTc6ZC5zZW50KCksZC5sYWJlbD0xODtjYXNlIDE4OnJldHVyblsyXX19KSl9KSl9fShlKX0sZS5wcm90b3R5cGUudG9WZWN0b3I9ZnVuY3Rpb24oKXtyZXR1cm4ga3QuVmVjdG9yLm5ldyh0aGlzLmZsdXNoKCkpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIkFycmF5VHlwZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnR5cGUuQXJyYXlUeXBlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwibnVsbENvdW50Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX251bGxzLm51bUludmFsaWR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJudW1DaGlsZHJlbiIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNoaWxkcmVuLmxlbmd0aH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImJ5dGVMZW5ndGgiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgZT0wO3JldHVybiB0aGlzLl9vZmZzZXRzJiYoZSs9dGhpcy5fb2Zmc2V0cy5ieXRlTGVuZ3RoKSx0aGlzLl92YWx1ZXMmJihlKz10aGlzLl92YWx1ZXMuYnl0ZUxlbmd0aCksdGhpcy5fbnVsbHMmJihlKz10aGlzLl9udWxscy5ieXRlTGVuZ3RoKSx0aGlzLl90eXBlSWRzJiYoZSs9dGhpcy5fdHlwZUlkcy5ieXRlTGVuZ3RoKSx0aGlzLmNoaWxkcmVuLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSt0LmJ5dGVMZW5ndGh9KSxlKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInJlc2VydmVkTGVuZ3RoIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX251bGxzLnJlc2VydmVkTGVuZ3RofSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwicmVzZXJ2ZWRCeXRlTGVuZ3RoIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIGU9MDtyZXR1cm4gdGhpcy5fb2Zmc2V0cyYmKGUrPXRoaXMuX29mZnNldHMucmVzZXJ2ZWRCeXRlTGVuZ3RoKSx0aGlzLl92YWx1ZXMmJihlKz10aGlzLl92YWx1ZXMucmVzZXJ2ZWRCeXRlTGVuZ3RoKSx0aGlzLl9udWxscyYmKGUrPXRoaXMuX251bGxzLnJlc2VydmVkQnl0ZUxlbmd0aCksdGhpcy5fdHlwZUlkcyYmKGUrPXRoaXMuX3R5cGVJZHMucmVzZXJ2ZWRCeXRlTGVuZ3RoKSx0aGlzLmNoaWxkcmVuLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSt0LnJlc2VydmVkQnl0ZUxlbmd0aH0pLGUpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwidmFsdWVPZmZzZXRzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29mZnNldHM/dGhpcy5fb2Zmc2V0cy5idWZmZXI6bnVsbH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInZhbHVlcyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl92YWx1ZXM/dGhpcy5fdmFsdWVzLmJ1ZmZlcjpudWxsfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwibnVsbEJpdG1hcCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9udWxscz90aGlzLl9udWxscy5idWZmZXI6bnVsbH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInR5cGVJZHMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdHlwZUlkcz90aGlzLl90eXBlSWRzLmJ1ZmZlcjpudWxsfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmFwcGVuZD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5zZXQodGhpcy5sZW5ndGgsZSl9LGUucHJvdG90eXBlLmlzVmFsaWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2lzVmFsaWQoZSl9LGUucHJvdG90eXBlLnNldD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLnNldFZhbGlkKGUsdGhpcy5pc1ZhbGlkKHQpKSYmdGhpcy5zZXRWYWx1ZShlLHQpLHRoaXN9LGUucHJvdG90eXBlLnNldFZhbHVlPWZ1bmN0aW9uKGUsdCl7dGhpcy5fc2V0VmFsdWUodGhpcyxlLHQpfSxlLnByb3RvdHlwZS5zZXRWYWxpZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmxlbmd0aD10aGlzLl9udWxscy5zZXQoZSwrdCkubGVuZ3RoLHR9LGUucHJvdG90eXBlLmFkZENoaWxkPWZ1bmN0aW9uKGUsdCl7dGhyb3cgdm9pZCAwPT09dCYmKHQ9IiIrdGhpcy5udW1DaGlsZHJlbiksbmV3IEVycm9yKCdDYW5ub3QgYXBwZW5kIGNoaWxkcmVuIHRvIG5vbi1uZXN0ZWQgdHlwZSAiJyt0aGlzLnR5cGUrJyInKX0sZS5wcm90b3R5cGUuZ2V0Q2hpbGRBdD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jaGlsZHJlbltlXXx8bnVsbH0sZS5wcm90b3R5cGUuZmx1c2g9ZnVuY3Rpb24oKXt2YXIgZT1bXSx0PXRoaXMuX3ZhbHVlcyxyPXRoaXMuX29mZnNldHMsbj10aGlzLl90eXBlSWRzLGk9dGhpcy5sZW5ndGgsbz10aGlzLm51bGxDb3VudDtuPyhlW1d0LkJ1ZmZlclR5cGUuVFlQRV09bi5mbHVzaChpKSxyJiYoZVtXdC5CdWZmZXJUeXBlLk9GRlNFVF09ci5mbHVzaChpKSkpOnI/KHQmJihlW1d0LkJ1ZmZlclR5cGUuREFUQV09dC5mbHVzaChyLmxhc3QoKSkpLGVbV3QuQnVmZmVyVHlwZS5PRkZTRVRdPXIuZmx1c2goaSkpOnQmJihlW1d0LkJ1ZmZlclR5cGUuREFUQV09dC5mbHVzaChpKSksbz4wJiYoZVtXdC5CdWZmZXJUeXBlLlZBTElESVRZXT10aGlzLl9udWxscy5mbHVzaChpKSk7dmFyIGE9WXQuRGF0YS5uZXcodGhpcy50eXBlLDAsaSxvLGUsdGhpcy5jaGlsZHJlbi5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmZsdXNoKCl9KSkpO3JldHVybiB0aGlzLmNsZWFyKCksYX0sZS5wcm90b3R5cGUuZmluaXNoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZmluaXNoZWQ9ITAsdGhpcy5jaGlsZHJlbi5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gZS5maW5pc2goKX0pKSx0aGlzfSxlLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxlbmd0aD0wLHRoaXMuX29mZnNldHMmJnRoaXMuX29mZnNldHMuY2xlYXIoKSx0aGlzLl92YWx1ZXMmJnRoaXMuX3ZhbHVlcy5jbGVhcigpLHRoaXMuX251bGxzJiZ0aGlzLl9udWxscy5jbGVhcigpLHRoaXMuX3R5cGVJZHMmJnRoaXMuX3R5cGVJZHMuY2xlYXIoKSx0aGlzLmNoaWxkcmVuLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBlLmNsZWFyKCl9KSksdGhpc30sZX0oKTt2ZS5CdWlsZGVyPVp0LFp0LnByb3RvdHlwZS5sZW5ndGg9MSxadC5wcm90b3R5cGUuc3RyaWRlPTEsWnQucHJvdG90eXBlLmNoaWxkcmVuPW51bGwsWnQucHJvdG90eXBlLmZpbmlzaGVkPSExLFp0LnByb3RvdHlwZS5udWxsVmFsdWVzPW51bGwsWnQucHJvdG90eXBlLl9pc1ZhbGlkPWZ1bmN0aW9uKCl7cmV0dXJuITB9O3ZhciBLdD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe3ZhciByPWUuY2FsbCh0aGlzLHQpfHx0aGlzO3JldHVybiByLl92YWx1ZXM9bmV3IEd0LkRhdGFCdWZmZXJCdWlsZGVyKG5ldyByLkFycmF5VHlwZSgwKSxyLnN0cmlkZSkscn1yZXR1cm4genQuX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUuc2V0VmFsdWU9ZnVuY3Rpb24odCxyKXt2YXIgbj10aGlzLl92YWx1ZXM7cmV0dXJuIG4ucmVzZXJ2ZSh0LW4ubGVuZ3RoKzEpLGUucHJvdG90eXBlLnNldFZhbHVlLmNhbGwodGhpcyx0LHIpfSx0fShadCk7dmUuRml4ZWRXaWR0aEJ1aWxkZXI9S3Q7dmFyIFh0PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCl7dmFyIHI9ZS5jYWxsKHRoaXMsdCl8fHRoaXM7cmV0dXJuIHIuX3BlbmRpbmdMZW5ndGg9MCxyLl9vZmZzZXRzPW5ldyBHdC5PZmZzZXRzQnVmZmVyQnVpbGRlcixyfXJldHVybiB6dC5fX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS5zZXRWYWx1ZT1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuX3BlbmRpbmd8fCh0aGlzLl9wZW5kaW5nPW5ldyBNYXApLG49ci5nZXQoZSk7biYmKHRoaXMuX3BlbmRpbmdMZW5ndGgtPW4ubGVuZ3RoKSx0aGlzLl9wZW5kaW5nTGVuZ3RoKz10Lmxlbmd0aCxyLnNldChlLHQpfSx0LnByb3RvdHlwZS5zZXRWYWxpZD1mdW5jdGlvbih0LHIpe3JldHVybiEhZS5wcm90b3R5cGUuc2V0VmFsaWQuY2FsbCh0aGlzLHQscil8fCgodGhpcy5fcGVuZGluZ3x8KHRoaXMuX3BlbmRpbmc9bmV3IE1hcCkpLnNldCh0LHZvaWQgMCksITEpfSx0LnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wZW5kaW5nTGVuZ3RoPTAsdGhpcy5fcGVuZGluZz12b2lkIDAsZS5wcm90b3R5cGUuY2xlYXIuY2FsbCh0aGlzKX0sdC5wcm90b3R5cGUuZmx1c2g9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZmx1c2goKSxlLnByb3RvdHlwZS5mbHVzaC5jYWxsKHRoaXMpfSx0LnByb3RvdHlwZS5maW5pc2g9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZmx1c2goKSxlLnByb3RvdHlwZS5maW5pc2guY2FsbCh0aGlzKX0sdC5wcm90b3R5cGUuX2ZsdXNoPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fcGVuZGluZyx0PXRoaXMuX3BlbmRpbmdMZW5ndGg7cmV0dXJuIHRoaXMuX3BlbmRpbmdMZW5ndGg9MCx0aGlzLl9wZW5kaW5nPXZvaWQgMCxlJiZlLnNpemU+MCYmdGhpcy5fZmx1c2hQZW5kaW5nKGUsdCksdGhpc30sdH0oWnQpO3ZlLlZhcmlhYmxlV2lkdGhCdWlsZGVyPVh0O3ZhciBxdD17fTtPYmplY3QuZGVmaW5lUHJvcGVydHkocXQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHF0LkJvb2xCdWlsZGVyPXZvaWQgMDt2YXIgUXQ9SC5leHBvcnRzLCR0PU10LGVyPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCl7dmFyIHI9ZS5jYWxsKHRoaXMsdCl8fHRoaXM7cmV0dXJuIHIuX3ZhbHVlcz1uZXcgJHQuQml0bWFwQnVmZmVyQnVpbGRlcixyfXJldHVybiBRdC5fX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS5zZXRWYWx1ZT1mdW5jdGlvbihlLHQpe3RoaXMuX3ZhbHVlcy5zZXQoZSwrdCl9LHR9KHZlLkJ1aWxkZXIpO3F0LkJvb2xCdWlsZGVyPWVyO3ZhciB0cj17fTtPYmplY3QuZGVmaW5lUHJvcGVydHkodHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHRyLk51bGxCdWlsZGVyPXZvaWQgMDt2YXIgcnI9SC5leHBvcnRzLG5yPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiByci5fX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS5zZXRWYWx1ZT1mdW5jdGlvbihlLHQpe30sdC5wcm90b3R5cGUuc2V0VmFsaWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5sZW5ndGg9TWF0aC5tYXgoZSsxLHRoaXMubGVuZ3RoKSx0fSx0fSh2ZS5CdWlsZGVyKTt0ci5OdWxsQnVpbGRlcj1ucjt2YXIgaXI9e307T2JqZWN0LmRlZmluZVByb3BlcnR5KGlyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxpci5EYXRlTWlsbGlzZWNvbmRCdWlsZGVyPWlyLkRhdGVEYXlCdWlsZGVyPWlyLkRhdGVCdWlsZGVyPXZvaWQgMDt2YXIgb3I9SC5leHBvcnRzLGFyPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBvci5fX2V4dGVuZHModCxlKSx0fSh2ZS5GaXhlZFdpZHRoQnVpbGRlcik7aXIuRGF0ZUJ1aWxkZXI9YXI7dmFyIHVyPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBvci5fX2V4dGVuZHModCxlKSx0fShhcik7aXIuRGF0ZURheUJ1aWxkZXI9dXI7dmFyIHNyPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBvci5fX2V4dGVuZHModCxlKSx0fShhcik7aXIuRGF0ZU1pbGxpc2Vjb25kQnVpbGRlcj1zcjt2YXIgY3I9e307T2JqZWN0LmRlZmluZVByb3BlcnR5KGNyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxjci5EZWNpbWFsQnVpbGRlcj12b2lkIDA7dmFyIGxyPUguZXhwb3J0cyxmcj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gbHIuX19leHRlbmRzKHQsZSksdH0odmUuRml4ZWRXaWR0aEJ1aWxkZXIpO2NyLkRlY2ltYWxCdWlsZGVyPWZyO3ZhciBkcj17fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGRyLkRpY3Rpb25hcnlCdWlsZGVyPXZvaWQgMDt2YXIgcHI9SC5leHBvcnRzLHlyPUZlLGhyPXZlLGJyPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCl7dmFyIHI9dC50eXBlLG49dC5udWxsVmFsdWVzLGk9dC5kaWN0aW9uYXJ5SGFzaEZ1bmN0aW9uLG89ZS5jYWxsKHRoaXMse3R5cGU6bmV3IHlyLkRpY3Rpb25hcnkoci5kaWN0aW9uYXJ5LHIuaW5kaWNlcyxyLmlkLHIuaXNPcmRlcmVkKX0pfHx0aGlzO3JldHVybiBvLl9udWxscz1udWxsLG8uX2RpY3Rpb25hcnlPZmZzZXQ9MCxvLl9rZXlzVG9JbmRpY2VzPU9iamVjdC5jcmVhdGUobnVsbCksby5pbmRpY2VzPWhyLkJ1aWxkZXIubmV3KHt0eXBlOm8udHlwZS5pbmRpY2VzLG51bGxWYWx1ZXM6bn0pLG8uZGljdGlvbmFyeT1oci5CdWlsZGVyLm5ldyh7dHlwZTpvLnR5cGUuZGljdGlvbmFyeSxudWxsVmFsdWVzOm51bGx9KSwiZnVuY3Rpb24iPT10eXBlb2YgaSYmKG8udmFsdWVUb0tleT1pKSxvfXJldHVybiBwci5fX2V4dGVuZHModCxlKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsInZhbHVlcyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmluZGljZXMudmFsdWVzfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwibnVsbENvdW50Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5kaWNlcy5udWxsQ291bnR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJudWxsQml0bWFwIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5kaWNlcy5udWxsQml0bWFwfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwiYnl0ZUxlbmd0aCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmluZGljZXMuYnl0ZUxlbmd0aCt0aGlzLmRpY3Rpb25hcnkuYnl0ZUxlbmd0aH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsInJlc2VydmVkTGVuZ3RoIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5kaWNlcy5yZXNlcnZlZExlbmd0aCt0aGlzLmRpY3Rpb25hcnkucmVzZXJ2ZWRMZW5ndGh9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJyZXNlcnZlZEJ5dGVMZW5ndGgiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbmRpY2VzLnJlc2VydmVkQnl0ZUxlbmd0aCt0aGlzLmRpY3Rpb25hcnkucmVzZXJ2ZWRCeXRlTGVuZ3RofSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLmlzVmFsaWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuaW5kaWNlcy5pc1ZhbGlkKGUpfSx0LnByb3RvdHlwZS5zZXRWYWxpZD1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuaW5kaWNlcztyZXR1cm4gdD1yLnNldFZhbGlkKGUsdCksdGhpcy5sZW5ndGg9ci5sZW5ndGgsdH0sdC5wcm90b3R5cGUuc2V0VmFsdWU9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLl9rZXlzVG9JbmRpY2VzLG49dGhpcy52YWx1ZVRvS2V5KHQpLGk9cltuXTtyZXR1cm4gdm9pZCAwPT09aSYmKHJbbl09aT10aGlzLl9kaWN0aW9uYXJ5T2Zmc2V0K3RoaXMuZGljdGlvbmFyeS5hcHBlbmQodCkubGVuZ3RoLTEpLHRoaXMuaW5kaWNlcy5zZXRWYWx1ZShlLGkpfSx0LnByb3RvdHlwZS5mbHVzaD1mdW5jdGlvbigpe3ZhciBlPXRoaXMudHlwZSx0PXRoaXMuX2RpY3Rpb25hcnkscj10aGlzLmRpY3Rpb25hcnkudG9WZWN0b3IoKSxuPXRoaXMuaW5kaWNlcy5mbHVzaCgpLmNsb25lKGUpO3JldHVybiBuLmRpY3Rpb25hcnk9dD90LmNvbmNhdChyKTpyLHRoaXMuZmluaXNoZWR8fCh0aGlzLl9kaWN0aW9uYXJ5T2Zmc2V0Kz1yLmxlbmd0aCksdGhpcy5fZGljdGlvbmFyeT1uLmRpY3Rpb25hcnksdGhpcy5jbGVhcigpLG59LHQucHJvdG90eXBlLmZpbmlzaD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmluZGljZXMuZmluaXNoKCksdGhpcy5kaWN0aW9uYXJ5LmZpbmlzaCgpLHRoaXMuX2RpY3Rpb25hcnlPZmZzZXQ9MCx0aGlzLl9rZXlzVG9JbmRpY2VzPU9iamVjdC5jcmVhdGUobnVsbCksZS5wcm90b3R5cGUuZmluaXNoLmNhbGwodGhpcyl9LHQucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5kaWNlcy5jbGVhcigpLHRoaXMuZGljdGlvbmFyeS5jbGVhcigpLGUucHJvdG90eXBlLmNsZWFyLmNhbGwodGhpcyl9LHQucHJvdG90eXBlLnZhbHVlVG9LZXk9ZnVuY3Rpb24oZSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlP2U6IiIrZX0sdH0oaHIuQnVpbGRlcik7ZHIuRGljdGlvbmFyeUJ1aWxkZXI9YnI7dmFyIHZyPXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh2ciwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdnIuRml4ZWRTaXplQmluYXJ5QnVpbGRlcj12b2lkIDA7dmFyIF9yPUguZXhwb3J0cyxtcj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gX3IuX19leHRlbmRzKHQsZSksdH0odmUuRml4ZWRXaWR0aEJ1aWxkZXIpO3ZyLkZpeGVkU2l6ZUJpbmFyeUJ1aWxkZXI9bXI7dmFyIGdyPXt9LEJyPXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShCciwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksQnIuZmxvYXQ2NFRvVWludDE2PUJyLnVpbnQxNlRvRmxvYXQ2ND12b2lkIDA7dmFyIFRyPW5ldyBGbG9hdDY0QXJyYXkoMSksSXI9bmV3IFVpbnQzMkFycmF5KFRyLmJ1ZmZlcik7QnIudWludDE2VG9GbG9hdDY0PWZ1bmN0aW9uKGUpe3ZhciB0PSgzMTc0NCZlKT4+MTAscj0oMTAyMyZlKS8xMDI0LG49TWF0aC5wb3coLTEsKDMyNzY4JmUpPj4xNSk7c3dpdGNoKHQpe2Nhc2UgMzE6cmV0dXJuIG4qKHI/TmFOOjEvMCk7Y2FzZSAwOnJldHVybiBuKihyPzYxMDM1MTU2MjVlLTE0KnI6MCl9cmV0dXJuIG4qTWF0aC5wb3coMix0LTE1KSooMStyKX0sQnIuZmxvYXQ2NFRvVWludDE2PWZ1bmN0aW9uKGUpe2lmKGUhPWUpcmV0dXJuIDMyMjU2O1RyWzBdPWU7dmFyIHQ9KDIxNDc0ODM2NDgmSXJbMV0pPj4xNiY2NTUzNSxyPTIxNDY0MzUwNzImSXJbMV0sbj0wO3JldHVybiByPj0xMDg5NDcwNDY0P0lyWzBdPjA/cj0zMTc0NDoocj0oMjA4MDM3NDc4NCZyKT4+MTYsbj0oMTA0ODU3NSZJclsxXSk+PjEwKTpyPD0xMDU2OTY0NjA4PyhuPTEwNDg1NzYrKChuPTEwNDg1NzYrKDEwNDg1NzUmSXJbMV0pKTw8KHI+PjIwKS05OTgpPj4yMSxyPTApOihyPXItMTA1Njk2NDYwOD4+MTAsbj01MTIrKDEwNDg1NzUmSXJbMV0pPj4xMCksdHxyfDY1NTM1Jm59LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShnciwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZ3IuRmxvYXQ2NEJ1aWxkZXI9Z3IuRmxvYXQzMkJ1aWxkZXI9Z3IuRmxvYXQxNkJ1aWxkZXI9Z3IuRmxvYXRCdWlsZGVyPXZvaWQgMDt2YXIgd3I9SC5leHBvcnRzLE9yPUJyLFNyPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiB3ci5fX2V4dGVuZHModCxlKSx0fSh2ZS5GaXhlZFdpZHRoQnVpbGRlcik7Z3IuRmxvYXRCdWlsZGVyPVNyO3ZhciBBcj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gd3IuX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUuc2V0VmFsdWU9ZnVuY3Rpb24oZSx0KXt0aGlzLl92YWx1ZXMuc2V0KGUsT3IuZmxvYXQ2NFRvVWludDE2KHQpKX0sdH0oU3IpO2dyLkZsb2F0MTZCdWlsZGVyPUFyO3ZhciBEcj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gd3IuX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUuc2V0VmFsdWU9ZnVuY3Rpb24oZSx0KXt0aGlzLl92YWx1ZXMuc2V0KGUsdCl9LHR9KFNyKTtnci5GbG9hdDMyQnVpbGRlcj1Ecjt2YXIgVnI9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIHdyLl9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLnNldFZhbHVlPWZ1bmN0aW9uKGUsdCl7dGhpcy5fdmFsdWVzLnNldChlLHQpfSx0fShTcik7Z3IuRmxvYXQ2NEJ1aWxkZXI9VnI7dmFyIFByPXt9LE1yPXt9OyFmdW5jdGlvbihlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5CTj1lLmJpZ251bVRvQmlnSW50PWUuYmlnbnVtVG9TdHJpbmc9ZS5pc0Fycm93QmlnTnVtU3ltYm9sPXZvaWQgMDt2YXIgdD1ILmV4cG9ydHMscj1HLG49UTtmdW5jdGlvbiBpKGUpe2Zvcih2YXIgbixpPVtdLG89MTtvPGFyZ3VtZW50cy5sZW5ndGg7bysrKWlbby0xXT1hcmd1bWVudHNbb107cmV0dXJuIDA9PT1pLmxlbmd0aD9PYmplY3Quc2V0UHJvdG90eXBlT2Yoci50b0FycmF5QnVmZmVyVmlldyh0aGlzLlR5cGVkQXJyYXksZSksdGhpcy5jb25zdHJ1Y3Rvci5wcm90b3R5cGUpOk9iamVjdC5zZXRQcm90b3R5cGVPZihuZXcoKG49dGhpcy5UeXBlZEFycmF5KS5iaW5kLmFwcGx5KG4sdC5fX3NwcmVhZChbdm9pZCAwLGVdLGkpKSksdGhpcy5jb25zdHJ1Y3Rvci5wcm90b3R5cGUpfWZ1bmN0aW9uIG8oKXtmb3IodmFyIGU9W10sdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspZVt0XT1hcmd1bWVudHNbdF07cmV0dXJuIGkuYXBwbHkodGhpcyxlKX1mdW5jdGlvbiBhKCl7Zm9yKHZhciBlPVtdLHQ9MDt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKWVbdF09YXJndW1lbnRzW3RdO3JldHVybiBpLmFwcGx5KHRoaXMsZSl9ZnVuY3Rpb24gdSgpe2Zvcih2YXIgZT1bXSx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyllW3RdPWFyZ3VtZW50c1t0XTtyZXR1cm4gaS5hcHBseSh0aGlzLGUpfWZ1bmN0aW9uIHMoZSl7Zm9yKHZhciB0LHIsbj1lLmJ1ZmZlcixpPWUuYnl0ZU9mZnNldCxvPWUubGVuZ3RoLGE9ZS5zaWduZWQsdT1uZXcgSW50MzJBcnJheShuLGksbykscz0wLGM9MCxsPXUubGVuZ3RoO2M8bDspcj11W2MrK10sdD11W2MrK10sYXx8KHQ+Pj49MCkscys9KHI+Pj4wKSt0Kk1hdGgucG93KGMsMzIpO3JldHVybiBzfWZ1bmN0aW9uIGMoZSl7dmFyIHQ9IiIscj1uZXcgVWludDMyQXJyYXkoMiksbj1uZXcgVWludDE2QXJyYXkoZS5idWZmZXIsZS5ieXRlT2Zmc2V0LGUuYnl0ZUxlbmd0aC8yKSxpPW5ldyBVaW50MzJBcnJheSgobj1uZXcgVWludDE2QXJyYXkobikucmV2ZXJzZSgpKS5idWZmZXIpLG89LTEsYT1uLmxlbmd0aC0xO2Rve2ZvcihyWzBdPW5bbz0wXTtvPGE7KW5bbysrXT1yWzFdPXJbMF0vMTAsclswXT0oclswXS0xMCpyWzFdPDwxNikrbltvXTtuW29dPXJbMV09clswXS8xMCxyWzBdPXJbMF0tMTAqclsxXSx0PSIiK3JbMF0rdH13aGlsZShpWzBdfHxpWzFdfHxpWzJdfHxpWzNdKTtyZXR1cm4gdHx8IjAifWUuaXNBcnJvd0JpZ051bVN5bWJvbD1TeW1ib2wuZm9yKCJpc0Fycm93QmlnTnVtIiksaS5wcm90b3R5cGVbZS5pc0Fycm93QmlnTnVtU3ltYm9sXT0hMCxpLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4nIicrZS5iaWdudW1Ub1N0cmluZyh0aGlzKSsnIid9LGkucHJvdG90eXBlLnZhbHVlT2Y9ZnVuY3Rpb24oKXtyZXR1cm4gcyh0aGlzKX0saS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gZS5iaWdudW1Ub1N0cmluZyh0aGlzKX0saS5wcm90b3R5cGVbU3ltYm9sLnRvUHJpbWl0aXZlXT1mdW5jdGlvbih0KXtzd2l0Y2godm9pZCAwPT09dCYmKHQ9ImRlZmF1bHQiKSx0KXtjYXNlIm51bWJlciI6cmV0dXJuIHModGhpcyk7Y2FzZSJzdHJpbmciOnJldHVybiBlLmJpZ251bVRvU3RyaW5nKHRoaXMpO2Nhc2UiZGVmYXVsdCI6cmV0dXJuIGUuYmlnbnVtVG9CaWdJbnQodGhpcyl9cmV0dXJuIGUuYmlnbnVtVG9TdHJpbmcodGhpcyl9LE9iamVjdC5zZXRQcm90b3R5cGVPZihvLnByb3RvdHlwZSxPYmplY3QuY3JlYXRlKEludDMyQXJyYXkucHJvdG90eXBlKSksT2JqZWN0LnNldFByb3RvdHlwZU9mKGEucHJvdG90eXBlLE9iamVjdC5jcmVhdGUoVWludDMyQXJyYXkucHJvdG90eXBlKSksT2JqZWN0LnNldFByb3RvdHlwZU9mKHUucHJvdG90eXBlLE9iamVjdC5jcmVhdGUoVWludDMyQXJyYXkucHJvdG90eXBlKSksT2JqZWN0LmFzc2lnbihvLnByb3RvdHlwZSxpLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6byxzaWduZWQ6ITAsVHlwZWRBcnJheTpJbnQzMkFycmF5LEJpZ0ludEFycmF5Om4uQmlnSW50NjRBcnJheX0pLE9iamVjdC5hc3NpZ24oYS5wcm90b3R5cGUsaS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOmEsc2lnbmVkOiExLFR5cGVkQXJyYXk6VWludDMyQXJyYXksQmlnSW50QXJyYXk6bi5CaWdVaW50NjRBcnJheX0pLE9iamVjdC5hc3NpZ24odS5wcm90b3R5cGUsaS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnUsc2lnbmVkOiEwLFR5cGVkQXJyYXk6VWludDMyQXJyYXksQmlnSW50QXJyYXk6bi5CaWdVaW50NjRBcnJheX0pLG4uQmlnSW50QXZhaWxhYmxlPyhlLmJpZ251bVRvQmlnSW50PWZ1bmN0aW9uKGUpe3JldHVybiA4PT09ZS5ieXRlTGVuZ3RoP25ldyBlLkJpZ0ludEFycmF5KGUuYnVmZmVyLGUuYnl0ZU9mZnNldCwxKVswXTpjKGUpfSxlLmJpZ251bVRvU3RyaW5nPWZ1bmN0aW9uKGUpe3JldHVybiA4PT09ZS5ieXRlTGVuZ3RoPyIiK25ldyBlLkJpZ0ludEFycmF5KGUuYnVmZmVyLGUuYnl0ZU9mZnNldCwxKVswXTpjKGUpfSk6KGUuYmlnbnVtVG9TdHJpbmc9YyxlLmJpZ251bVRvQmlnSW50PWUuYmlnbnVtVG9TdHJpbmcpO3ZhciBsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIpe3JldHVybiBlLm5ldyh0LHIpfXJldHVybiBlLm5ldz1mdW5jdGlvbihlLHQpe3N3aXRjaCh0KXtjYXNlITA6cmV0dXJuIG5ldyBvKGUpO2Nhc2UhMTpyZXR1cm4gbmV3IGEoZSl9c3dpdGNoKGUuY29uc3RydWN0b3Ipe2Nhc2UgSW50OEFycmF5OmNhc2UgSW50MTZBcnJheTpjYXNlIEludDMyQXJyYXk6Y2FzZSBuLkJpZ0ludDY0QXJyYXk6cmV0dXJuIG5ldyBvKGUpfXJldHVybiAxNj09PWUuYnl0ZUxlbmd0aD9uZXcgdShlKTpuZXcgYShlKX0sZS5zaWduZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBvKGUpfSxlLnVuc2lnbmVkPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgYShlKX0sZS5kZWNpbWFsPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgdShlKX0sZX0oKTtlLkJOPWx9KE1yKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoUHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLFByLlVpbnQ2NEJ1aWxkZXI9UHIuVWludDMyQnVpbGRlcj1Qci5VaW50MTZCdWlsZGVyPVByLlVpbnQ4QnVpbGRlcj1Qci5JbnQ2NEJ1aWxkZXI9UHIuSW50MzJCdWlsZGVyPVByLkludDE2QnVpbGRlcj1Qci5JbnQ4QnVpbGRlcj1Qci5JbnRCdWlsZGVyPXZvaWQgMDt2YXIgRnI9SC5leHBvcnRzLFVyPU1yLGpyPU10LHhyPVEsTHI9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIEZyLl9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLnNldFZhbHVlPWZ1bmN0aW9uKGUsdCl7dGhpcy5fdmFsdWVzLnNldChlLHQpfSx0fSh2ZS5GaXhlZFdpZHRoQnVpbGRlcik7UHIuSW50QnVpbGRlcj1Mcjt2YXIgUnI9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIEZyLl9fZXh0ZW5kcyh0LGUpLHR9KExyKTtQci5JbnQ4QnVpbGRlcj1Scjt2YXIgTnI9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIEZyLl9fZXh0ZW5kcyh0LGUpLHR9KExyKTtQci5JbnQxNkJ1aWxkZXI9TnI7dmFyIEVyPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBGci5fX2V4dGVuZHModCxlKSx0fShMcik7UHIuSW50MzJCdWlsZGVyPUVyO3ZhciBDcj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe3ZhciByPXRoaXM7cmV0dXJuIHQubnVsbFZhbHVlcyYmKHQubnVsbFZhbHVlcz10Lm51bGxWYWx1ZXMubWFwKEdyKSksKHI9ZS5jYWxsKHRoaXMsdCl8fHRoaXMpLl92YWx1ZXM9bmV3IGpyLldpZGVCdWZmZXJCdWlsZGVyKG5ldyBJbnQzMkFycmF5KDApLDIpLHJ9cmV0dXJuIEZyLl9fZXh0ZW5kcyh0LGUpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwidmFsdWVzNjQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdmFsdWVzLmJ1ZmZlcjY0fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLmlzVmFsaWQ9ZnVuY3Rpb24odCl7cmV0dXJuIGUucHJvdG90eXBlLmlzVmFsaWQuY2FsbCh0aGlzLEdyKHQpKX0sdH0oTHIpO1ByLkludDY0QnVpbGRlcj1Dcjt2YXIgenI9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIEZyLl9fZXh0ZW5kcyh0LGUpLHR9KExyKTtQci5VaW50OEJ1aWxkZXI9enI7dmFyIGtyPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBGci5fX2V4dGVuZHModCxlKSx0fShMcik7UHIuVWludDE2QnVpbGRlcj1rcjt2YXIgV3I9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIEZyLl9fZXh0ZW5kcyh0LGUpLHR9KExyKTtQci5VaW50MzJCdWlsZGVyPVdyO3ZhciBZcj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe3ZhciByPXRoaXM7cmV0dXJuIHQubnVsbFZhbHVlcyYmKHQubnVsbFZhbHVlcz10Lm51bGxWYWx1ZXMubWFwKEdyKSksKHI9ZS5jYWxsKHRoaXMsdCl8fHRoaXMpLl92YWx1ZXM9bmV3IGpyLldpZGVCdWZmZXJCdWlsZGVyKG5ldyBVaW50MzJBcnJheSgwKSwyKSxyfXJldHVybiBGci5fX2V4dGVuZHModCxlKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsInZhbHVlczY0Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZhbHVlcy5idWZmZXI2NH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5pc1ZhbGlkPWZ1bmN0aW9uKHQpe3JldHVybiBlLnByb3RvdHlwZS5pc1ZhbGlkLmNhbGwodGhpcyxHcih0KSl9LHR9KExyKTtQci5VaW50NjRCdWlsZGVyPVlyO3ZhciBIcixHcj0oSHI9e0JpZ0ludEFycmF5OnhyLkJpZ0ludDY0QXJyYXl9LGZ1bmN0aW9uKGUpe3JldHVybiBBcnJheUJ1ZmZlci5pc1ZpZXcoZSkmJihIci5idWZmZXI9ZS5idWZmZXIsSHIuYnl0ZU9mZnNldD1lLmJ5dGVPZmZzZXQsSHIuYnl0ZUxlbmd0aD1lLmJ5dGVMZW5ndGgsZT1Vci5iaWdudW1Ub0JpZ0ludChIciksSHIuYnVmZmVyPW51bGwpLGV9KSxKcj17fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoSnIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLEpyLlRpbWVOYW5vc2Vjb25kQnVpbGRlcj1Kci5UaW1lTWljcm9zZWNvbmRCdWlsZGVyPUpyLlRpbWVNaWxsaXNlY29uZEJ1aWxkZXI9SnIuVGltZVNlY29uZEJ1aWxkZXI9SnIuVGltZUJ1aWxkZXI9dm9pZCAwO3ZhciBacj1ILmV4cG9ydHMsS3I9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIFpyLl9fZXh0ZW5kcyh0LGUpLHR9KHZlLkZpeGVkV2lkdGhCdWlsZGVyKTtKci5UaW1lQnVpbGRlcj1Lcjt2YXIgWHI9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIFpyLl9fZXh0ZW5kcyh0LGUpLHR9KEtyKTtKci5UaW1lU2Vjb25kQnVpbGRlcj1Ycjt2YXIgcXI9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIFpyLl9fZXh0ZW5kcyh0LGUpLHR9KEtyKTtKci5UaW1lTWlsbGlzZWNvbmRCdWlsZGVyPXFyO3ZhciBRcj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gWnIuX19leHRlbmRzKHQsZSksdH0oS3IpO0pyLlRpbWVNaWNyb3NlY29uZEJ1aWxkZXI9UXI7dmFyICRyPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBaci5fX2V4dGVuZHModCxlKSx0fShLcik7SnIuVGltZU5hbm9zZWNvbmRCdWlsZGVyPSRyO3ZhciBlbj17fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZW4sIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGVuLlRpbWVzdGFtcE5hbm9zZWNvbmRCdWlsZGVyPWVuLlRpbWVzdGFtcE1pY3Jvc2Vjb25kQnVpbGRlcj1lbi5UaW1lc3RhbXBNaWxsaXNlY29uZEJ1aWxkZXI9ZW4uVGltZXN0YW1wU2Vjb25kQnVpbGRlcj1lbi5UaW1lc3RhbXBCdWlsZGVyPXZvaWQgMDt2YXIgdG49SC5leHBvcnRzLHJuPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiB0bi5fX2V4dGVuZHModCxlKSx0fSh2ZS5GaXhlZFdpZHRoQnVpbGRlcik7ZW4uVGltZXN0YW1wQnVpbGRlcj1ybjt2YXIgbm49ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIHRuLl9fZXh0ZW5kcyh0LGUpLHR9KHJuKTtlbi5UaW1lc3RhbXBTZWNvbmRCdWlsZGVyPW5uO3ZhciBvbj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gdG4uX19leHRlbmRzKHQsZSksdH0ocm4pO2VuLlRpbWVzdGFtcE1pbGxpc2Vjb25kQnVpbGRlcj1vbjt2YXIgYW49ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIHRuLl9fZXh0ZW5kcyh0LGUpLHR9KHJuKTtlbi5UaW1lc3RhbXBNaWNyb3NlY29uZEJ1aWxkZXI9YW47dmFyIHVuPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiB0bi5fX2V4dGVuZHModCxlKSx0fShybik7ZW4uVGltZXN0YW1wTmFub3NlY29uZEJ1aWxkZXI9dW47dmFyIHNuPXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShzbiwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksc24uSW50ZXJ2YWxZZWFyTW9udGhCdWlsZGVyPXNuLkludGVydmFsRGF5VGltZUJ1aWxkZXI9c24uSW50ZXJ2YWxCdWlsZGVyPXZvaWQgMDt2YXIgY249SC5leHBvcnRzLGxuPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBjbi5fX2V4dGVuZHModCxlKSx0fSh2ZS5GaXhlZFdpZHRoQnVpbGRlcik7c24uSW50ZXJ2YWxCdWlsZGVyPWxuO3ZhciBmbj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gY24uX19leHRlbmRzKHQsZSksdH0obG4pO3NuLkludGVydmFsRGF5VGltZUJ1aWxkZXI9Zm47dmFyIGRuPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBjbi5fX2V4dGVuZHModCxlKSx0fShsbik7c24uSW50ZXJ2YWxZZWFyTW9udGhCdWlsZGVyPWRuO3ZhciBwbj17fSx5bj17fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoeW4sIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHluLkJpbmFyeUJ1aWxkZXI9dm9pZCAwO3ZhciBobj1ILmV4cG9ydHMsYm49Ryx2bj1NdCxfbj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe3ZhciByPWUuY2FsbCh0aGlzLHQpfHx0aGlzO3JldHVybiByLl92YWx1ZXM9bmV3IHZuLkJ1ZmZlckJ1aWxkZXIobmV3IFVpbnQ4QXJyYXkoMCkpLHJ9cmV0dXJuIGhuLl9fZXh0ZW5kcyh0LGUpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwiYnl0ZUxlbmd0aCIse2dldDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuX3BlbmRpbmdMZW5ndGgrNCp0aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5fb2Zmc2V0cyYmKGUrPXRoaXMuX29mZnNldHMuYnl0ZUxlbmd0aCksdGhpcy5fdmFsdWVzJiYoZSs9dGhpcy5fdmFsdWVzLmJ5dGVMZW5ndGgpLHRoaXMuX251bGxzJiYoZSs9dGhpcy5fbnVsbHMuYnl0ZUxlbmd0aCksZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5zZXRWYWx1ZT1mdW5jdGlvbih0LHIpe3JldHVybiBlLnByb3RvdHlwZS5zZXRWYWx1ZS5jYWxsKHRoaXMsdCxibi50b1VpbnQ4QXJyYXkocikpfSx0LnByb3RvdHlwZS5fZmx1c2hQZW5kaW5nPWZ1bmN0aW9uKGUsdCl7dmFyIHIsbixpLG8sYT10aGlzLl9vZmZzZXRzLHU9dGhpcy5fdmFsdWVzLnJlc2VydmUodCkuYnVmZmVyLHM9MCxjPTAsbD0wO3RyeXtmb3IodmFyIGY9aG4uX192YWx1ZXMoZSksZD1mLm5leHQoKTshZC5kb25lO2Q9Zi5uZXh0KCkpcz0oaT1obi5fX3JlYWQoZC52YWx1ZSwyKSlbMF0sdm9pZCAwPT09KG89aVsxXSk/YS5zZXQocywwKTooYz1vLmxlbmd0aCx1LnNldChvLGwpLGEuc2V0KHMsYyksbCs9Yyl9Y2F0Y2gocCl7cj17ZXJyb3I6cH19ZmluYWxseXt0cnl7ZCYmIWQuZG9uZSYmKG49Zi5yZXR1cm4pJiZuLmNhbGwoZil9ZmluYWxseXtpZihyKXRocm93IHIuZXJyb3J9fX0sdH0odmUuVmFyaWFibGVXaWR0aEJ1aWxkZXIpO3luLkJpbmFyeUJ1aWxkZXI9X24sT2JqZWN0LmRlZmluZVByb3BlcnR5KHBuLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxwbi5VdGY4QnVpbGRlcj12b2lkIDA7dmFyIG1uPUguZXhwb3J0cyxnbj1LLEJuPXluLFRuPU10LEluPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCl7dmFyIHI9ZS5jYWxsKHRoaXMsdCl8fHRoaXM7cmV0dXJuIHIuX3ZhbHVlcz1uZXcgVG4uQnVmZmVyQnVpbGRlcihuZXcgVWludDhBcnJheSgwKSkscn1yZXR1cm4gbW4uX19leHRlbmRzKHQsZSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJieXRlTGVuZ3RoIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fcGVuZGluZ0xlbmd0aCs0KnRoaXMubGVuZ3RoO3JldHVybiB0aGlzLl9vZmZzZXRzJiYoZSs9dGhpcy5fb2Zmc2V0cy5ieXRlTGVuZ3RoKSx0aGlzLl92YWx1ZXMmJihlKz10aGlzLl92YWx1ZXMuYnl0ZUxlbmd0aCksdGhpcy5fbnVsbHMmJihlKz10aGlzLl9udWxscy5ieXRlTGVuZ3RoKSxlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLnNldFZhbHVlPWZ1bmN0aW9uKHQscil7cmV0dXJuIGUucHJvdG90eXBlLnNldFZhbHVlLmNhbGwodGhpcyx0LGduLmVuY29kZVV0ZjgocikpfSx0LnByb3RvdHlwZS5fZmx1c2hQZW5kaW5nPWZ1bmN0aW9uKGUsdCl7fSx0fSh2ZS5WYXJpYWJsZVdpZHRoQnVpbGRlcik7cG4uVXRmOEJ1aWxkZXI9SW4sSW4ucHJvdG90eXBlLl9mbHVzaFBlbmRpbmc9Qm4uQmluYXJ5QnVpbGRlci5wcm90b3R5cGUuX2ZsdXNoUGVuZGluZzt2YXIgd249e30sT249e307T2JqZWN0LmRlZmluZVByb3BlcnR5KE9uLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxPbi5SdW49dm9pZCAwO3ZhciBTbj1fZSxBbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwibGVuZ3RoIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZhbHVlcy5sZW5ndGh9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl92YWx1ZXNbZV19LGUucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZhbHVlcz1udWxsLHRoaXN9LGUucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBTbi5WZWN0b3I/ZToodGhpcy5fdmFsdWVzPWUsdGhpcyl9LGV9KCk7T24uUnVuPUFuO3ZhciBEbj17fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoRG4sIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLERuLkZpZWxkPURuLlNjaGVtYT12b2lkIDA7dmFyIFZuPUguZXhwb3J0cyxQbj1GZSxNbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LHIpe3ZvaWQgMD09PWUmJihlPVtdKSx0aGlzLmZpZWxkcz1lfHxbXSx0aGlzLm1ldGFkYXRhPXR8fG5ldyBNYXAscnx8KHI9am4oZSkpLHRoaXMuZGljdGlvbmFyaWVzPXJ9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxTeW1ib2wudG9TdHJpbmdUYWcse2dldDpmdW5jdGlvbigpe3JldHVybiJTY2hlbWEifSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIlNjaGVtYTx7ICIrdGhpcy5maWVsZHMubWFwKChmdW5jdGlvbihlLHQpe3JldHVybiB0KyI6ICIrZX0pKS5qb2luKCIsICIpKyIgfT4ifSxlLnByb3RvdHlwZS5zZWxlY3Q9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10scj0wO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspdFtyXT1hcmd1bWVudHNbcl07dmFyIG49dC5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuKGVbdF09ITApJiZlfSksT2JqZWN0LmNyZWF0ZShudWxsKSk7cmV0dXJuIG5ldyBlKHRoaXMuZmllbGRzLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIG5bZS5uYW1lXX0pKSx0aGlzLm1ldGFkYXRhKX0sZS5wcm90b3R5cGUuc2VsZWN0QXQ9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcyxyPVtdLG49MDtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXJbbl09YXJndW1lbnRzW25dO3JldHVybiBuZXcgZShyLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHQuZmllbGRzW2VdfSkpLmZpbHRlcihCb29sZWFuKSx0aGlzLm1ldGFkYXRhKX0sZS5wcm90b3R5cGUuYXNzaWduPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLHI9MDtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXRbcl09YXJndW1lbnRzW3JdO3ZhciBuPXRbMF1pbnN0YW5jZW9mIGU/dFswXTpBcnJheS5pc0FycmF5KHRbMF0pP25ldyBlKHRbMF0pOm5ldyBlKHQpLGk9Vm4uX19zcHJlYWQodGhpcy5maWVsZHMpLG89VW4oVW4obmV3IE1hcCx0aGlzLm1ldGFkYXRhKSxuLm1ldGFkYXRhKSxhPW4uZmllbGRzLmZpbHRlcigoZnVuY3Rpb24oZSl7dmFyIHQ9aS5maW5kSW5kZXgoKGZ1bmN0aW9uKHQpe3JldHVybiB0Lm5hbWU9PT1lLm5hbWV9KSk7cmV0dXJuIX50fHwoaVt0XT1lLmNsb25lKHttZXRhZGF0YTpVbihVbihuZXcgTWFwLGlbdF0ubWV0YWRhdGEpLGUubWV0YWRhdGEpfSkpJiYhMX0pKSx1PWpuKGEsbmV3IE1hcCk7cmV0dXJuIG5ldyBlKFZuLl9fc3ByZWFkKGksYSksbyxuZXcgTWFwKFZuLl9fc3ByZWFkKHRoaXMuZGljdGlvbmFyaWVzLHUpKSl9LGV9KCk7RG4uU2NoZW1hPU1uO3ZhciBGbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LHIsbil7dm9pZCAwPT09ciYmKHI9ITEpLHRoaXMubmFtZT1lLHRoaXMudHlwZT10LHRoaXMubnVsbGFibGU9cix0aGlzLm1ldGFkYXRhPW58fG5ldyBNYXB9cmV0dXJuIGUubmV3PWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLHI9MDtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXRbcl09YXJndW1lbnRzW3JdO3ZhciBuPVZuLl9fcmVhZCh0LDQpLGk9blswXSxvPW5bMV0sYT1uWzJdLHU9blszXTtyZXR1cm4gdFswXSYmIm9iamVjdCI9PXR5cGVvZiB0WzBdJiYoaT10WzBdLm5hbWUsdm9pZCAwPT09byYmKG89dFswXS50eXBlKSx2b2lkIDA9PT1hJiYoYT10WzBdLm51bGxhYmxlKSx2b2lkIDA9PT11JiYodT10WzBdLm1ldGFkYXRhKSksbmV3IGUoIiIraSxvLGEsdSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwidHlwZUlkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHlwZS50eXBlSWR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFN5bWJvbC50b1N0cmluZ1RhZyx7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIkZpZWxkIn0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLm5hbWUrIjogIit0aGlzLnR5cGV9LGUucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7Zm9yKHZhciB0LHIsbixpLG8sYSx1LHMsYyxsLGY9W10sZD0wO2Q8YXJndW1lbnRzLmxlbmd0aDtkKyspZltkXT1hcmd1bWVudHNbZF07dmFyIHA9Vm4uX19yZWFkKGYsNCkseT1wWzBdLGg9cFsxXSxiPXBbMl0sdj1wWzNdO3JldHVybiBmWzBdJiYib2JqZWN0Ij09dHlwZW9mIGZbMF0/KHk9dm9pZCAwPT09KHU9KGE9ZlswXSkubmFtZSk/dGhpcy5uYW1lOnUsaD12b2lkIDA9PT0ocz1hLnR5cGUpP3RoaXMudHlwZTpzLGI9dm9pZCAwPT09KGM9YS5udWxsYWJsZSk/dGhpcy5udWxsYWJsZTpjLHY9dm9pZCAwPT09KGw9YS5tZXRhZGF0YSk/dGhpcy5tZXRhZGF0YTpsKTooeT12b2lkIDA9PT0ocj0odD1Wbi5fX3JlYWQoZiw0KSlbMF0pP3RoaXMubmFtZTpyLGg9dm9pZCAwPT09KG49dFsxXSk/dGhpcy50eXBlOm4sYj12b2lkIDA9PT0oaT10WzJdKT90aGlzLm51bGxhYmxlOmksdj12b2lkIDA9PT0obz10WzNdKT90aGlzLm1ldGFkYXRhOm8pLGUubmV3KHksaCxiLHYpfSxlfSgpO2Z1bmN0aW9uIFVuKGUsdCl7cmV0dXJuIG5ldyBNYXAoVm4uX19zcHJlYWQoZXx8bmV3IE1hcCx0fHxuZXcgTWFwKSl9ZnVuY3Rpb24gam4oZSx0KXt2b2lkIDA9PT10JiYodD1uZXcgTWFwKTtmb3IodmFyIHI9LTEsbj1lLmxlbmd0aDsrK3I8bjspe3ZhciBpPWVbcl0udHlwZTtpZihQbi5EYXRhVHlwZS5pc0RpY3Rpb25hcnkoaSkpaWYodC5oYXMoaS5pZCkpe2lmKHQuZ2V0KGkuaWQpIT09aS5kaWN0aW9uYXJ5KXRocm93IG5ldyBFcnJvcigiQ2Fubm90IGNyZWF0ZSBTY2hlbWEgY29udGFpbmluZyB0d28gZGlmZmVyZW50IGRpY3Rpb25hcmllcyB3aXRoIHRoZSBzYW1lIElkIil9ZWxzZSB0LnNldChpLmlkLGkuZGljdGlvbmFyeSk7aS5jaGlsZHJlbiYmaS5jaGlsZHJlbi5sZW5ndGg+MCYmam4oaS5jaGlsZHJlbix0KX1yZXR1cm4gdH1Ebi5GaWVsZD1GbixNbi5wcm90b3R5cGUuZmllbGRzPW51bGwsTW4ucHJvdG90eXBlLm1ldGFkYXRhPW51bGwsTW4ucHJvdG90eXBlLmRpY3Rpb25hcmllcz1udWxsLEZuLnByb3RvdHlwZS50eXBlPW51bGwsRm4ucHJvdG90eXBlLm5hbWU9bnVsbCxGbi5wcm90b3R5cGUubnVsbGFibGU9bnVsbCxGbi5wcm90b3R5cGUubWV0YWRhdGE9bnVsbCxPYmplY3QuZGVmaW5lUHJvcGVydHkod24sIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHduLkxpc3RCdWlsZGVyPXZvaWQgMDt2YXIgeG49SC5leHBvcnRzLExuPU9uLFJuPURuLE5uPUZlLEVuPU10LENuPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCl7dmFyIHI9ZS5jYWxsKHRoaXMsdCl8fHRoaXM7cmV0dXJuIHIuX3J1bj1uZXcgTG4uUnVuLHIuX29mZnNldHM9bmV3IEVuLk9mZnNldHNCdWZmZXJCdWlsZGVyLHJ9cmV0dXJuIHhuLl9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLmFkZENoaWxkPWZ1bmN0aW9uKGUsdCl7aWYodm9pZCAwPT09dCYmKHQ9IjAiKSx0aGlzLm51bUNoaWxkcmVuPjApdGhyb3cgbmV3IEVycm9yKCJMaXN0QnVpbGRlciBjYW4gb25seSBoYXZlIG9uZSBjaGlsZC4iKTtyZXR1cm4gdGhpcy5jaGlsZHJlblt0aGlzLm51bUNoaWxkcmVuXT1lLHRoaXMudHlwZT1uZXcgTm4uTGlzdChuZXcgUm4uRmllbGQodCxlLnR5cGUsITApKSx0aGlzLm51bUNoaWxkcmVuLTF9LHQucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3J1bi5jbGVhcigpLGUucHJvdG90eXBlLmNsZWFyLmNhbGwodGhpcyl9LHQucHJvdG90eXBlLl9mbHVzaFBlbmRpbmc9ZnVuY3Rpb24oZSl7dmFyIHQscixuLGksbz10aGlzLl9ydW4sYT10aGlzLl9vZmZzZXRzLHU9dGhpcy5fc2V0VmFsdWUscz0wO3RyeXtmb3IodmFyIGM9eG4uX192YWx1ZXMoZSksbD1jLm5leHQoKTshbC5kb25lO2w9Yy5uZXh0KCkpcz0obj14bi5fX3JlYWQobC52YWx1ZSwyKSlbMF0sdm9pZCAwPT09KGk9blsxXSk/YS5zZXQocywwKTooYS5zZXQocyxpLmxlbmd0aCksdSh0aGlzLHMsby5iaW5kKGkpKSl9Y2F0Y2goZil7dD17ZXJyb3I6Zn19ZmluYWxseXt0cnl7bCYmIWwuZG9uZSYmKHI9Yy5yZXR1cm4pJiZyLmNhbGwoYyl9ZmluYWxseXtpZih0KXRocm93IHQuZXJyb3J9fX0sdH0odmUuVmFyaWFibGVXaWR0aEJ1aWxkZXIpO3duLkxpc3RCdWlsZGVyPUNuO3ZhciB6bj17fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoem4sIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHpuLkZpeGVkU2l6ZUxpc3RCdWlsZGVyPXZvaWQgMDt2YXIga249SC5leHBvcnRzLFduPU9uLFluPURuLEhuPUZlLEduPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXt2YXIgdD1udWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIHQuX3J1bj1uZXcgV24uUnVuLHR9cmV0dXJuIGtuLl9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLnNldFZhbHVlPWZ1bmN0aW9uKHQscil7ZS5wcm90b3R5cGUuc2V0VmFsdWUuY2FsbCh0aGlzLHQsdGhpcy5fcnVuLmJpbmQocikpfSx0LnByb3RvdHlwZS5hZGRDaGlsZD1mdW5jdGlvbihlLHQpe2lmKHZvaWQgMD09PXQmJih0PSIwIiksdGhpcy5udW1DaGlsZHJlbj4wKXRocm93IG5ldyBFcnJvcigiRml4ZWRTaXplTGlzdEJ1aWxkZXIgY2FuIG9ubHkgaGF2ZSBvbmUgY2hpbGQuIik7dmFyIHI9dGhpcy5jaGlsZHJlbi5wdXNoKGUpO3JldHVybiB0aGlzLnR5cGU9bmV3IEhuLkZpeGVkU2l6ZUxpc3QodGhpcy50eXBlLmxpc3RTaXplLG5ldyBZbi5GaWVsZCh0LGUudHlwZSwhMCkpLHJ9LHQucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3J1bi5jbGVhcigpLGUucHJvdG90eXBlLmNsZWFyLmNhbGwodGhpcyl9LHR9KHZlLkJ1aWxkZXIpO3puLkZpeGVkU2l6ZUxpc3RCdWlsZGVyPUduO3ZhciBKbj17fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoSm4sIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLEpuLk1hcEJ1aWxkZXI9dm9pZCAwO3ZhciBabj1ILmV4cG9ydHMsS249RG4sWG49RmUscW49ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIFpuLl9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLnNldD1mdW5jdGlvbih0LHIpe3JldHVybiBlLnByb3RvdHlwZS5zZXQuY2FsbCh0aGlzLHQscil9LHQucHJvdG90eXBlLnNldFZhbHVlPWZ1bmN0aW9uKGUsdCl7dD10IGluc3RhbmNlb2YgTWFwP3Q6bmV3IE1hcChPYmplY3QuZW50cmllcyh0KSk7dmFyIHI9dGhpcy5fcGVuZGluZ3x8KHRoaXMuX3BlbmRpbmc9bmV3IE1hcCksbj1yLmdldChlKTtuJiYodGhpcy5fcGVuZGluZ0xlbmd0aC09bi5zaXplKSx0aGlzLl9wZW5kaW5nTGVuZ3RoKz10LnNpemUsci5zZXQoZSx0KX0sdC5wcm90b3R5cGUuYWRkQ2hpbGQ9ZnVuY3Rpb24oZSx0KXtpZih2b2lkIDA9PT10JiYodD0iIit0aGlzLm51bUNoaWxkcmVuKSx0aGlzLm51bUNoaWxkcmVuPjApdGhyb3cgbmV3IEVycm9yKCJMaXN0QnVpbGRlciBjYW4gb25seSBoYXZlIG9uZSBjaGlsZC4iKTtyZXR1cm4gdGhpcy5jaGlsZHJlblt0aGlzLm51bUNoaWxkcmVuXT1lLHRoaXMudHlwZT1uZXcgWG4uTWFwXyhuZXcgS24uRmllbGQodCxlLnR5cGUsITApLHRoaXMudHlwZS5rZXlzU29ydGVkKSx0aGlzLm51bUNoaWxkcmVuLTF9LHQucHJvdG90eXBlLl9mbHVzaFBlbmRpbmc9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXRoaXMuX29mZnNldHMsbj10aGlzLl9zZXRWYWx1ZTtlLmZvckVhY2goKGZ1bmN0aW9uKGUsaSl7dm9pZCAwPT09ZT9yLnNldChpLDApOihyLnNldChpLGUuc2l6ZSksbih0LGksZSkpfSkpfSx0fSh2ZS5WYXJpYWJsZVdpZHRoQnVpbGRlcik7Sm4uTWFwQnVpbGRlcj1xbjt2YXIgUW49e307T2JqZWN0LmRlZmluZVByb3BlcnR5KFFuLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxRbi5TdHJ1Y3RCdWlsZGVyPXZvaWQgMDt2YXIgJG49SC5leHBvcnRzLGVpPURuLHRpPUZlLHJpPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiAkbi5fX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS5hZGRDaGlsZD1mdW5jdGlvbihlLHQpe3ZvaWQgMD09PXQmJih0PSIiK3RoaXMubnVtQ2hpbGRyZW4pO3ZhciByPXRoaXMuY2hpbGRyZW4ucHVzaChlKTtyZXR1cm4gdGhpcy50eXBlPW5ldyB0aS5TdHJ1Y3QoJG4uX19zcHJlYWQodGhpcy50eXBlLmNoaWxkcmVuLFtuZXcgZWkuRmllbGQodCxlLnR5cGUsITApXSkpLHJ9LHR9KHZlLkJ1aWxkZXIpO1FuLlN0cnVjdEJ1aWxkZXI9cmk7dmFyIG5pPXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShuaSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksbmkuRGVuc2VVbmlvbkJ1aWxkZXI9bmkuU3BhcnNlVW5pb25CdWlsZGVyPW5pLlVuaW9uQnVpbGRlcj12b2lkIDA7dmFyIGlpPUguZXhwb3J0cyxvaT1EbixhaT1NdCx1aT1GZSxzaT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe3ZhciByPWUuY2FsbCh0aGlzLHQpfHx0aGlzO3JldHVybiByLl90eXBlSWRzPW5ldyBhaS5EYXRhQnVmZmVyQnVpbGRlcihuZXcgSW50OEFycmF5KDApLDEpLCJmdW5jdGlvbiI9PXR5cGVvZiB0LnZhbHVlVG9DaGlsZFR5cGVJZCYmKHIuX3ZhbHVlVG9DaGlsZFR5cGVJZD10LnZhbHVlVG9DaGlsZFR5cGVJZCkscn1yZXR1cm4gaWkuX19leHRlbmRzKHQsZSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJ0eXBlSWRUb0NoaWxkSW5kZXgiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50eXBlLnR5cGVJZFRvQ2hpbGRJbmRleH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5hcHBlbmQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5zZXQodGhpcy5sZW5ndGgsZSx0KX0sdC5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gdm9pZCAwPT09ciYmKHI9dGhpcy5fdmFsdWVUb0NoaWxkVHlwZUlkKHRoaXMsdCxlKSksdGhpcy5zZXRWYWxpZChlLHRoaXMuaXNWYWxpZCh0KSkmJnRoaXMuc2V0VmFsdWUoZSx0LHIpLHRoaXN9LHQucHJvdG90eXBlLnNldFZhbHVlPWZ1bmN0aW9uKHQscixuKXt0aGlzLl90eXBlSWRzLnNldCh0LG4pLGUucHJvdG90eXBlLnNldFZhbHVlLmNhbGwodGhpcyx0LHIpfSx0LnByb3RvdHlwZS5hZGRDaGlsZD1mdW5jdGlvbihlLHQpe3ZvaWQgMD09PXQmJih0PSIiK3RoaXMuY2hpbGRyZW4ubGVuZ3RoKTt2YXIgcj10aGlzLmNoaWxkcmVuLnB1c2goZSksbj10aGlzLnR5cGUsaT1uLmNoaWxkcmVuLG89bi5tb2RlLGE9bi50eXBlSWRzLHU9aWkuX19zcHJlYWQoaSxbbmV3IG9pLkZpZWxkKHQsZS50eXBlKV0pO3JldHVybiB0aGlzLnR5cGU9bmV3IHVpLlVuaW9uKG8saWkuX19zcHJlYWQoYSxbcl0pLHUpLHJ9LHQucHJvdG90eXBlLl92YWx1ZVRvQ2hpbGRUeXBlSWQ9ZnVuY3Rpb24oZSx0LHIpe3Rocm93IG5ldyBFcnJvcigiQ2Fubm90IG1hcCBVbmlvbkJ1aWxkZXIgdmFsdWUgdG8gY2hpbGQgdHlwZUlkLiBQYXNzIHRoZSBgY2hpbGRUeXBlSWRgIGFzIHRoZSBzZWNvbmQgYXJndW1lbnQgdG8gdW5pb25CdWlsZGVyLmFwcGVuZCgpLCBvciBzdXBwbHkgYSBgdmFsdWVUb0NoaWxkVHlwZUlkYCBmdW5jdGlvbiBhcyBwYXJ0IG9mIHRoZSBVbmlvbkJ1aWxkZXIgY29uc3RydWN0b3Igb3B0aW9ucy4iKX0sdH0odmUuQnVpbGRlcik7bmkuVW5pb25CdWlsZGVyPXNpO3ZhciBjaT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gaWkuX19leHRlbmRzKHQsZSksdH0oc2kpO25pLlNwYXJzZVVuaW9uQnVpbGRlcj1jaTt2YXIgbGk9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXt2YXIgcj1lLmNhbGwodGhpcyx0KXx8dGhpcztyZXR1cm4gci5fb2Zmc2V0cz1uZXcgYWkuRGF0YUJ1ZmZlckJ1aWxkZXIobmV3IEludDMyQXJyYXkoMCkpLHJ9cmV0dXJuIGlpLl9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLnNldFZhbHVlPWZ1bmN0aW9uKHQscixuKXt2YXIgaT10aGlzLnR5cGUudHlwZUlkVG9DaGlsZEluZGV4W25dO3JldHVybiB0aGlzLl9vZmZzZXRzLnNldCh0LHRoaXMuZ2V0Q2hpbGRBdChpKS5sZW5ndGgpLGUucHJvdG90eXBlLnNldFZhbHVlLmNhbGwodGhpcyx0LHIsbil9LHR9KHNpKTtuaS5EZW5zZVVuaW9uQnVpbGRlcj1saTt2YXIgZmk9e30sZGk9e307T2JqZWN0LmRlZmluZVByb3BlcnR5KGRpLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxkaS5WaXNpdG9yPXZvaWQgMDt2YXIgcGk9SC5leHBvcnRzLHlpPUllLGhpPV9lLGJpPWdlLHZpPUZlLF9pPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZS5wcm90b3R5cGUudmlzaXRNYW55PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLHI9W10sbj0xO248YXJndW1lbnRzLmxlbmd0aDtuKyspcltuLTFdPWFyZ3VtZW50c1tuXTtyZXR1cm4gZS5tYXAoKGZ1bmN0aW9uKGUsbil7cmV0dXJuIHQudmlzaXQuYXBwbHkodCxwaS5fX3NwcmVhZChbZV0sci5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlW25dfSkpKSl9KSl9LGUucHJvdG90eXBlLnZpc2l0PWZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdLHQ9MDt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKWVbdF09YXJndW1lbnRzW3RdO3JldHVybiB0aGlzLmdldFZpc2l0Rm4oZVswXSwhMSkuYXBwbHkodGhpcyxlKX0sZS5wcm90b3R5cGUuZ2V0VmlzaXRGbj1mdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDA9PT10JiYodD0hMCksZnVuY3Rpb24oZSx0LHIpe3ZvaWQgMD09PXImJihyPSEwKTt2YXIgbj1udWxsLGk9YmkuVHlwZS5OT05FO3QgaW5zdGFuY2VvZiB5aS5EYXRhfHx0IGluc3RhbmNlb2YgaGkuVmVjdG9yP2k9bWkodC50eXBlKTp0IGluc3RhbmNlb2YgdmkuRGF0YVR5cGU/aT1taSh0KToibnVtYmVyIiE9dHlwZW9mKGk9dCkmJihpPWJpLlR5cGVbdF0pO3N3aXRjaChpKXtjYXNlIGJpLlR5cGUuTnVsbDpuPWUudmlzaXROdWxsO2JyZWFrO2Nhc2UgYmkuVHlwZS5Cb29sOm49ZS52aXNpdEJvb2w7YnJlYWs7Y2FzZSBiaS5UeXBlLkludDpuPWUudmlzaXRJbnQ7YnJlYWs7Y2FzZSBiaS5UeXBlLkludDg6bj1lLnZpc2l0SW50OHx8ZS52aXNpdEludDticmVhaztjYXNlIGJpLlR5cGUuSW50MTY6bj1lLnZpc2l0SW50MTZ8fGUudmlzaXRJbnQ7YnJlYWs7Y2FzZSBiaS5UeXBlLkludDMyOm49ZS52aXNpdEludDMyfHxlLnZpc2l0SW50O2JyZWFrO2Nhc2UgYmkuVHlwZS5JbnQ2NDpuPWUudmlzaXRJbnQ2NHx8ZS52aXNpdEludDticmVhaztjYXNlIGJpLlR5cGUuVWludDg6bj1lLnZpc2l0VWludDh8fGUudmlzaXRJbnQ7YnJlYWs7Y2FzZSBiaS5UeXBlLlVpbnQxNjpuPWUudmlzaXRVaW50MTZ8fGUudmlzaXRJbnQ7YnJlYWs7Y2FzZSBiaS5UeXBlLlVpbnQzMjpuPWUudmlzaXRVaW50MzJ8fGUudmlzaXRJbnQ7YnJlYWs7Y2FzZSBiaS5UeXBlLlVpbnQ2NDpuPWUudmlzaXRVaW50NjR8fGUudmlzaXRJbnQ7YnJlYWs7Y2FzZSBiaS5UeXBlLkZsb2F0Om49ZS52aXNpdEZsb2F0O2JyZWFrO2Nhc2UgYmkuVHlwZS5GbG9hdDE2Om49ZS52aXNpdEZsb2F0MTZ8fGUudmlzaXRGbG9hdDticmVhaztjYXNlIGJpLlR5cGUuRmxvYXQzMjpuPWUudmlzaXRGbG9hdDMyfHxlLnZpc2l0RmxvYXQ7YnJlYWs7Y2FzZSBiaS5UeXBlLkZsb2F0NjQ6bj1lLnZpc2l0RmxvYXQ2NHx8ZS52aXNpdEZsb2F0O2JyZWFrO2Nhc2UgYmkuVHlwZS5VdGY4Om49ZS52aXNpdFV0Zjg7YnJlYWs7Y2FzZSBiaS5UeXBlLkJpbmFyeTpuPWUudmlzaXRCaW5hcnk7YnJlYWs7Y2FzZSBiaS5UeXBlLkZpeGVkU2l6ZUJpbmFyeTpuPWUudmlzaXRGaXhlZFNpemVCaW5hcnk7YnJlYWs7Y2FzZSBiaS5UeXBlLkRhdGU6bj1lLnZpc2l0RGF0ZTticmVhaztjYXNlIGJpLlR5cGUuRGF0ZURheTpuPWUudmlzaXREYXRlRGF5fHxlLnZpc2l0RGF0ZTticmVhaztjYXNlIGJpLlR5cGUuRGF0ZU1pbGxpc2Vjb25kOm49ZS52aXNpdERhdGVNaWxsaXNlY29uZHx8ZS52aXNpdERhdGU7YnJlYWs7Y2FzZSBiaS5UeXBlLlRpbWVzdGFtcDpuPWUudmlzaXRUaW1lc3RhbXA7YnJlYWs7Y2FzZSBiaS5UeXBlLlRpbWVzdGFtcFNlY29uZDpuPWUudmlzaXRUaW1lc3RhbXBTZWNvbmR8fGUudmlzaXRUaW1lc3RhbXA7YnJlYWs7Y2FzZSBiaS5UeXBlLlRpbWVzdGFtcE1pbGxpc2Vjb25kOm49ZS52aXNpdFRpbWVzdGFtcE1pbGxpc2Vjb25kfHxlLnZpc2l0VGltZXN0YW1wO2JyZWFrO2Nhc2UgYmkuVHlwZS5UaW1lc3RhbXBNaWNyb3NlY29uZDpuPWUudmlzaXRUaW1lc3RhbXBNaWNyb3NlY29uZHx8ZS52aXNpdFRpbWVzdGFtcDticmVhaztjYXNlIGJpLlR5cGUuVGltZXN0YW1wTmFub3NlY29uZDpuPWUudmlzaXRUaW1lc3RhbXBOYW5vc2Vjb25kfHxlLnZpc2l0VGltZXN0YW1wO2JyZWFrO2Nhc2UgYmkuVHlwZS5UaW1lOm49ZS52aXNpdFRpbWU7YnJlYWs7Y2FzZSBiaS5UeXBlLlRpbWVTZWNvbmQ6bj1lLnZpc2l0VGltZVNlY29uZHx8ZS52aXNpdFRpbWU7YnJlYWs7Y2FzZSBiaS5UeXBlLlRpbWVNaWxsaXNlY29uZDpuPWUudmlzaXRUaW1lTWlsbGlzZWNvbmR8fGUudmlzaXRUaW1lO2JyZWFrO2Nhc2UgYmkuVHlwZS5UaW1lTWljcm9zZWNvbmQ6bj1lLnZpc2l0VGltZU1pY3Jvc2Vjb25kfHxlLnZpc2l0VGltZTticmVhaztjYXNlIGJpLlR5cGUuVGltZU5hbm9zZWNvbmQ6bj1lLnZpc2l0VGltZU5hbm9zZWNvbmR8fGUudmlzaXRUaW1lO2JyZWFrO2Nhc2UgYmkuVHlwZS5EZWNpbWFsOm49ZS52aXNpdERlY2ltYWw7YnJlYWs7Y2FzZSBiaS5UeXBlLkxpc3Q6bj1lLnZpc2l0TGlzdDticmVhaztjYXNlIGJpLlR5cGUuU3RydWN0Om49ZS52aXNpdFN0cnVjdDticmVhaztjYXNlIGJpLlR5cGUuVW5pb246bj1lLnZpc2l0VW5pb247YnJlYWs7Y2FzZSBiaS5UeXBlLkRlbnNlVW5pb246bj1lLnZpc2l0RGVuc2VVbmlvbnx8ZS52aXNpdFVuaW9uO2JyZWFrO2Nhc2UgYmkuVHlwZS5TcGFyc2VVbmlvbjpuPWUudmlzaXRTcGFyc2VVbmlvbnx8ZS52aXNpdFVuaW9uO2JyZWFrO2Nhc2UgYmkuVHlwZS5EaWN0aW9uYXJ5Om49ZS52aXNpdERpY3Rpb25hcnk7YnJlYWs7Y2FzZSBiaS5UeXBlLkludGVydmFsOm49ZS52aXNpdEludGVydmFsO2JyZWFrO2Nhc2UgYmkuVHlwZS5JbnRlcnZhbERheVRpbWU6bj1lLnZpc2l0SW50ZXJ2YWxEYXlUaW1lfHxlLnZpc2l0SW50ZXJ2YWw7YnJlYWs7Y2FzZSBiaS5UeXBlLkludGVydmFsWWVhck1vbnRoOm49ZS52aXNpdEludGVydmFsWWVhck1vbnRofHxlLnZpc2l0SW50ZXJ2YWw7YnJlYWs7Y2FzZSBiaS5UeXBlLkZpeGVkU2l6ZUxpc3Q6bj1lLnZpc2l0Rml4ZWRTaXplTGlzdDticmVhaztjYXNlIGJpLlR5cGUuTWFwOm49ZS52aXNpdE1hcH1pZigiZnVuY3Rpb24iPT10eXBlb2YgbilyZXR1cm4gbjtpZighcilyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH07dGhyb3cgbmV3IEVycm9yKCJVbnJlY29nbml6ZWQgdHlwZSAnIitiaS5UeXBlW2ldKyInIil9KHRoaXMsZSx0KX0sZS5wcm90b3R5cGUudmlzaXROdWxsPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxyPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl0W3ItMV09YXJndW1lbnRzW3JdO3JldHVybiBudWxsfSxlLnByb3RvdHlwZS52aXNpdEJvb2w9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXRbci0xXT1hcmd1bWVudHNbcl07cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLnZpc2l0SW50PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxyPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl0W3ItMV09YXJndW1lbnRzW3JdO3JldHVybiBudWxsfSxlLnByb3RvdHlwZS52aXNpdEZsb2F0PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxyPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl0W3ItMV09YXJndW1lbnRzW3JdO3JldHVybiBudWxsfSxlLnByb3RvdHlwZS52aXNpdFV0Zjg9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXRbci0xXT1hcmd1bWVudHNbcl07cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLnZpc2l0QmluYXJ5PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxyPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl0W3ItMV09YXJndW1lbnRzW3JdO3JldHVybiBudWxsfSxlLnByb3RvdHlwZS52aXNpdEZpeGVkU2l6ZUJpbmFyeT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10scj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspdFtyLTFdPWFyZ3VtZW50c1tyXTtyZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUudmlzaXREYXRlPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxyPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl0W3ItMV09YXJndW1lbnRzW3JdO3JldHVybiBudWxsfSxlLnByb3RvdHlwZS52aXNpdFRpbWVzdGFtcD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10scj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspdFtyLTFdPWFyZ3VtZW50c1tyXTtyZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUudmlzaXRUaW1lPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxyPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl0W3ItMV09YXJndW1lbnRzW3JdO3JldHVybiBudWxsfSxlLnByb3RvdHlwZS52aXNpdERlY2ltYWw9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXRbci0xXT1hcmd1bWVudHNbcl07cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLnZpc2l0TGlzdD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10scj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspdFtyLTFdPWFyZ3VtZW50c1tyXTtyZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUudmlzaXRTdHJ1Y3Q9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXRbci0xXT1hcmd1bWVudHNbcl07cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLnZpc2l0VW5pb249ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXRbci0xXT1hcmd1bWVudHNbcl07cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLnZpc2l0RGljdGlvbmFyeT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10scj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspdFtyLTFdPWFyZ3VtZW50c1tyXTtyZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUudmlzaXRJbnRlcnZhbD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10scj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspdFtyLTFdPWFyZ3VtZW50c1tyXTtyZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUudmlzaXRGaXhlZFNpemVMaXN0PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxyPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl0W3ItMV09YXJndW1lbnRzW3JdO3JldHVybiBudWxsfSxlLnByb3RvdHlwZS52aXNpdE1hcD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10scj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspdFtyLTFdPWFyZ3VtZW50c1tyXTtyZXR1cm4gbnVsbH0sZX0oKTtmdW5jdGlvbiBtaShlKXtzd2l0Y2goZS50eXBlSWQpe2Nhc2UgYmkuVHlwZS5OdWxsOnJldHVybiBiaS5UeXBlLk51bGw7Y2FzZSBiaS5UeXBlLkludDp2YXIgdD1lLHI9dC5iaXRXaWR0aCxuPXQuaXNTaWduZWQ7c3dpdGNoKHIpe2Nhc2UgODpyZXR1cm4gbj9iaS5UeXBlLkludDg6YmkuVHlwZS5VaW50ODtjYXNlIDE2OnJldHVybiBuP2JpLlR5cGUuSW50MTY6YmkuVHlwZS5VaW50MTY7Y2FzZSAzMjpyZXR1cm4gbj9iaS5UeXBlLkludDMyOmJpLlR5cGUuVWludDMyO2Nhc2UgNjQ6cmV0dXJuIG4/YmkuVHlwZS5JbnQ2NDpiaS5UeXBlLlVpbnQ2NH1yZXR1cm4gYmkuVHlwZS5JbnQ7Y2FzZSBiaS5UeXBlLkZsb2F0OnN3aXRjaChlLnByZWNpc2lvbil7Y2FzZSBiaS5QcmVjaXNpb24uSEFMRjpyZXR1cm4gYmkuVHlwZS5GbG9hdDE2O2Nhc2UgYmkuUHJlY2lzaW9uLlNJTkdMRTpyZXR1cm4gYmkuVHlwZS5GbG9hdDMyO2Nhc2UgYmkuUHJlY2lzaW9uLkRPVUJMRTpyZXR1cm4gYmkuVHlwZS5GbG9hdDY0fXJldHVybiBiaS5UeXBlLkZsb2F0O2Nhc2UgYmkuVHlwZS5CaW5hcnk6cmV0dXJuIGJpLlR5cGUuQmluYXJ5O2Nhc2UgYmkuVHlwZS5VdGY4OnJldHVybiBiaS5UeXBlLlV0Zjg7Y2FzZSBiaS5UeXBlLkJvb2w6cmV0dXJuIGJpLlR5cGUuQm9vbDtjYXNlIGJpLlR5cGUuRGVjaW1hbDpyZXR1cm4gYmkuVHlwZS5EZWNpbWFsO2Nhc2UgYmkuVHlwZS5UaW1lOnN3aXRjaChlLnVuaXQpe2Nhc2UgYmkuVGltZVVuaXQuU0VDT05EOnJldHVybiBiaS5UeXBlLlRpbWVTZWNvbmQ7Y2FzZSBiaS5UaW1lVW5pdC5NSUxMSVNFQ09ORDpyZXR1cm4gYmkuVHlwZS5UaW1lTWlsbGlzZWNvbmQ7Y2FzZSBiaS5UaW1lVW5pdC5NSUNST1NFQ09ORDpyZXR1cm4gYmkuVHlwZS5UaW1lTWljcm9zZWNvbmQ7Y2FzZSBiaS5UaW1lVW5pdC5OQU5PU0VDT05EOnJldHVybiBiaS5UeXBlLlRpbWVOYW5vc2Vjb25kfXJldHVybiBiaS5UeXBlLlRpbWU7Y2FzZSBiaS5UeXBlLlRpbWVzdGFtcDpzd2l0Y2goZS51bml0KXtjYXNlIGJpLlRpbWVVbml0LlNFQ09ORDpyZXR1cm4gYmkuVHlwZS5UaW1lc3RhbXBTZWNvbmQ7Y2FzZSBiaS5UaW1lVW5pdC5NSUxMSVNFQ09ORDpyZXR1cm4gYmkuVHlwZS5UaW1lc3RhbXBNaWxsaXNlY29uZDtjYXNlIGJpLlRpbWVVbml0Lk1JQ1JPU0VDT05EOnJldHVybiBiaS5UeXBlLlRpbWVzdGFtcE1pY3Jvc2Vjb25kO2Nhc2UgYmkuVGltZVVuaXQuTkFOT1NFQ09ORDpyZXR1cm4gYmkuVHlwZS5UaW1lc3RhbXBOYW5vc2Vjb25kfXJldHVybiBiaS5UeXBlLlRpbWVzdGFtcDtjYXNlIGJpLlR5cGUuRGF0ZTpzd2l0Y2goZS51bml0KXtjYXNlIGJpLkRhdGVVbml0LkRBWTpyZXR1cm4gYmkuVHlwZS5EYXRlRGF5O2Nhc2UgYmkuRGF0ZVVuaXQuTUlMTElTRUNPTkQ6cmV0dXJuIGJpLlR5cGUuRGF0ZU1pbGxpc2Vjb25kfXJldHVybiBiaS5UeXBlLkRhdGU7Y2FzZSBiaS5UeXBlLkludGVydmFsOnN3aXRjaChlLnVuaXQpe2Nhc2UgYmkuSW50ZXJ2YWxVbml0LkRBWV9USU1FOnJldHVybiBiaS5UeXBlLkludGVydmFsRGF5VGltZTtjYXNlIGJpLkludGVydmFsVW5pdC5ZRUFSX01PTlRIOnJldHVybiBiaS5UeXBlLkludGVydmFsWWVhck1vbnRofXJldHVybiBiaS5UeXBlLkludGVydmFsO2Nhc2UgYmkuVHlwZS5NYXA6cmV0dXJuIGJpLlR5cGUuTWFwO2Nhc2UgYmkuVHlwZS5MaXN0OnJldHVybiBiaS5UeXBlLkxpc3Q7Y2FzZSBiaS5UeXBlLlN0cnVjdDpyZXR1cm4gYmkuVHlwZS5TdHJ1Y3Q7Y2FzZSBiaS5UeXBlLlVuaW9uOnN3aXRjaChlLm1vZGUpe2Nhc2UgYmkuVW5pb25Nb2RlLkRlbnNlOnJldHVybiBiaS5UeXBlLkRlbnNlVW5pb247Y2FzZSBiaS5Vbmlvbk1vZGUuU3BhcnNlOnJldHVybiBiaS5UeXBlLlNwYXJzZVVuaW9ufXJldHVybiBiaS5UeXBlLlVuaW9uO2Nhc2UgYmkuVHlwZS5GaXhlZFNpemVCaW5hcnk6cmV0dXJuIGJpLlR5cGUuRml4ZWRTaXplQmluYXJ5O2Nhc2UgYmkuVHlwZS5GaXhlZFNpemVMaXN0OnJldHVybiBiaS5UeXBlLkZpeGVkU2l6ZUxpc3Q7Y2FzZSBiaS5UeXBlLkRpY3Rpb25hcnk6cmV0dXJuIGJpLlR5cGUuRGljdGlvbmFyeX10aHJvdyBuZXcgRXJyb3IoIlVucmVjb2duaXplZCB0eXBlICciK2JpLlR5cGVbZS50eXBlSWRdKyInIil9ZGkuVmlzaXRvcj1faSxfaS5wcm90b3R5cGUudmlzaXRJbnQ4PW51bGwsX2kucHJvdG90eXBlLnZpc2l0SW50MTY9bnVsbCxfaS5wcm90b3R5cGUudmlzaXRJbnQzMj1udWxsLF9pLnByb3RvdHlwZS52aXNpdEludDY0PW51bGwsX2kucHJvdG90eXBlLnZpc2l0VWludDg9bnVsbCxfaS5wcm90b3R5cGUudmlzaXRVaW50MTY9bnVsbCxfaS5wcm90b3R5cGUudmlzaXRVaW50MzI9bnVsbCxfaS5wcm90b3R5cGUudmlzaXRVaW50NjQ9bnVsbCxfaS5wcm90b3R5cGUudmlzaXRGbG9hdDE2PW51bGwsX2kucHJvdG90eXBlLnZpc2l0RmxvYXQzMj1udWxsLF9pLnByb3RvdHlwZS52aXNpdEZsb2F0NjQ9bnVsbCxfaS5wcm90b3R5cGUudmlzaXREYXRlRGF5PW51bGwsX2kucHJvdG90eXBlLnZpc2l0RGF0ZU1pbGxpc2Vjb25kPW51bGwsX2kucHJvdG90eXBlLnZpc2l0VGltZXN0YW1wU2Vjb25kPW51bGwsX2kucHJvdG90eXBlLnZpc2l0VGltZXN0YW1wTWlsbGlzZWNvbmQ9bnVsbCxfaS5wcm90b3R5cGUudmlzaXRUaW1lc3RhbXBNaWNyb3NlY29uZD1udWxsLF9pLnByb3RvdHlwZS52aXNpdFRpbWVzdGFtcE5hbm9zZWNvbmQ9bnVsbCxfaS5wcm90b3R5cGUudmlzaXRUaW1lU2Vjb25kPW51bGwsX2kucHJvdG90eXBlLnZpc2l0VGltZU1pbGxpc2Vjb25kPW51bGwsX2kucHJvdG90eXBlLnZpc2l0VGltZU1pY3Jvc2Vjb25kPW51bGwsX2kucHJvdG90eXBlLnZpc2l0VGltZU5hbm9zZWNvbmQ9bnVsbCxfaS5wcm90b3R5cGUudmlzaXREZW5zZVVuaW9uPW51bGwsX2kucHJvdG90eXBlLnZpc2l0U3BhcnNlVW5pb249bnVsbCxfaS5wcm90b3R5cGUudmlzaXRJbnRlcnZhbERheVRpbWU9bnVsbCxfaS5wcm90b3R5cGUudmlzaXRJbnRlcnZhbFllYXJNb250aD1udWxsLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmaSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZmkuaW5zdGFuY2U9ZmkuU2V0VmlzaXRvcj12b2lkIDA7dmFyIGdpPUguZXhwb3J0cyxCaT1fZSxUaT1LLElpPUJyLHdpPUcsT2k9Z2UsU2k9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIGdpLl9fZXh0ZW5kcyh0LGUpLHR9KGRpLlZpc2l0b3IpO2ZpLlNldFZpc2l0b3I9U2k7dmFyIEFpPWZ1bmN0aW9uKGUsdCxyKXtlW3RdPXIlNDI5NDk2NzI5NnwwLGVbdCsxXT1yLzQyOTQ5NjcyOTZ8MH0sRGk9ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGk9dCxvPWlbcl0sYT1pW3IrMV07bnVsbCE9byYmbnVsbCE9YSYmZS5zZXQobi5zdWJhcnJheSgwLGEtbyksbyl9LFZpPWZ1bmN0aW9uKGUsdCxyKXshZnVuY3Rpb24oZSx0LHIpe2VbdF09ci84NjRlNXwwfShlLnZhbHVlcyx0LHIudmFsdWVPZigpKX0sUGk9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUudmFsdWVzO0FpKG4sMip0LHIudmFsdWVPZigpKX0sTWk9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUuc3RyaWRlO2UudmFsdWVzW24qdF09cn0sRmk9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUuc3RyaWRlO2UudmFsdWVzW24qdF09SWkuZmxvYXQ2NFRvVWludDE2KHIpfSxVaT1mdW5jdGlvbihlLHQscil7c3dpdGNoKHR5cGVvZiByKXtjYXNlImJpZ2ludCI6ZS52YWx1ZXM2NFt0XT1yO2JyZWFrO2Nhc2UibnVtYmVyIjplLnZhbHVlc1t0KmUuc3RyaWRlXT1yO2JyZWFrO2RlZmF1bHQ6dmFyIG49cixpPWUuc3RyaWRlLG89ZS5BcnJheVR5cGUsYT13aS50b0FycmF5QnVmZmVyVmlldyhvLG4pO2UudmFsdWVzLnNldChhLnN1YmFycmF5KDAsaSksaSp0KX19LGppPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1lLnZhbHVlcztyZXR1cm4gQWkobiwyKnQsci8xZTMpfSx4aT1mdW5jdGlvbihlLHQscil7dmFyIG49ZS52YWx1ZXM7cmV0dXJuIEFpKG4sMip0LHIpfSxMaT1mdW5jdGlvbihlLHQscil7cmV0dXJuIGZ1bmN0aW9uKGUsdCxyKXtlW3RdPTFlMypyJTQyOTQ5NjcyOTZ8MCxlW3QrMV09MWUzKnIvNDI5NDk2NzI5NnwwfShlLnZhbHVlcywyKnQscil9LFJpPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZnVuY3Rpb24oZSx0LHIpe2VbdF09MWU2KnIlNDI5NDk2NzI5NnwwLGVbdCsxXT0xZTYqci80Mjk0OTY3Mjk2fDB9KGUudmFsdWVzLDIqdCxyKX0sTmk9ZnVuY3Rpb24oZSx0LHIpe2UudmFsdWVzW2Uuc3RyaWRlKnRdPXJ9LEVpPWZ1bmN0aW9uKGUsdCxyKXtlLnZhbHVlc1tlLnN0cmlkZSp0XT1yfSxDaT1mdW5jdGlvbihlLHQscil7ZS52YWx1ZXMuc2V0KHIuc3ViYXJyYXkoMCwyKSwyKnQpfSx6aT1mdW5jdGlvbihlLHQscil7ZS52YWx1ZXMuc2V0KHIuc3ViYXJyYXkoMCwyKSwyKnQpfSxraT1mdW5jdGlvbihlLHQscil7dmFyIG49ZS50eXBlSWRUb0NoaWxkSW5kZXhbZS50eXBlSWRzW3RdXSxpPWUuZ2V0Q2hpbGRBdChuKTtpJiZpLnNldChlLnZhbHVlT2Zmc2V0c1t0XSxyKX0sV2k9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUudHlwZUlkVG9DaGlsZEluZGV4W2UudHlwZUlkc1t0XV0saT1lLmdldENoaWxkQXQobik7aSYmaS5zZXQodCxyKX0sWWk9ZnVuY3Rpb24oZSx0LHIpe2UudmFsdWVzLnNldChyLnN1YmFycmF5KDAsMiksMip0KX0sSGk9ZnVuY3Rpb24oZSx0LHIpe2UudmFsdWVzW3RdPTEyKnJbMF0rclsxXSUxMn07U2kucHJvdG90eXBlLnZpc2l0Qm9vbD1mdW5jdGlvbihlLHQscil7dmFyIG49ZS5vZmZzZXQsaT1lLnZhbHVlcyxvPW4rdDtyP2lbbz4+M118PTE8PG8lODppW28+PjNdJj1+KDE8PG8lOCl9LFNpLnByb3RvdHlwZS52aXNpdEludD1mdW5jdGlvbihlLHQscil7ZS50eXBlLmJpdFdpZHRoPDY0P01pKGUsdCxyKTpVaShlLHQscil9LFNpLnByb3RvdHlwZS52aXNpdEludDg9TWksU2kucHJvdG90eXBlLnZpc2l0SW50MTY9TWksU2kucHJvdG90eXBlLnZpc2l0SW50MzI9TWksU2kucHJvdG90eXBlLnZpc2l0SW50NjQ9VWksU2kucHJvdG90eXBlLnZpc2l0VWludDg9TWksU2kucHJvdG90eXBlLnZpc2l0VWludDE2PU1pLFNpLnByb3RvdHlwZS52aXNpdFVpbnQzMj1NaSxTaS5wcm90b3R5cGUudmlzaXRVaW50NjQ9VWksU2kucHJvdG90eXBlLnZpc2l0RmxvYXQ9ZnVuY3Rpb24oZSx0LHIpe2UudHlwZS5wcmVjaXNpb24hPT1PaS5QcmVjaXNpb24uSEFMRj9NaShlLHQscik6RmkoZSx0LHIpfSxTaS5wcm90b3R5cGUudmlzaXRGbG9hdDE2PUZpLFNpLnByb3RvdHlwZS52aXNpdEZsb2F0MzI9TWksU2kucHJvdG90eXBlLnZpc2l0RmxvYXQ2ND1NaSxTaS5wcm90b3R5cGUudmlzaXRVdGY4PWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1lLnZhbHVlcyxpPWUudmFsdWVPZmZzZXRzO0RpKG4saSx0LFRpLmVuY29kZVV0ZjgocikpfSxTaS5wcm90b3R5cGUudmlzaXRCaW5hcnk9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUudmFsdWVzLGk9ZS52YWx1ZU9mZnNldHM7cmV0dXJuIERpKG4saSx0LHIpfSxTaS5wcm90b3R5cGUudmlzaXRGaXhlZFNpemVCaW5hcnk9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUuc3RyaWRlO2UudmFsdWVzLnNldChyLnN1YmFycmF5KDAsbiksbip0KX0sU2kucHJvdG90eXBlLnZpc2l0RGF0ZT1mdW5jdGlvbihlLHQscil7ZS50eXBlLnVuaXQ9PT1PaS5EYXRlVW5pdC5EQVk/VmkoZSx0LHIpOlBpKGUsdCxyKX0sU2kucHJvdG90eXBlLnZpc2l0RGF0ZURheT1WaSxTaS5wcm90b3R5cGUudmlzaXREYXRlTWlsbGlzZWNvbmQ9UGksU2kucHJvdG90eXBlLnZpc2l0VGltZXN0YW1wPWZ1bmN0aW9uKGUsdCxyKXtzd2l0Y2goZS50eXBlLnVuaXQpe2Nhc2UgT2kuVGltZVVuaXQuU0VDT05EOnJldHVybiBqaShlLHQscik7Y2FzZSBPaS5UaW1lVW5pdC5NSUxMSVNFQ09ORDpyZXR1cm4geGkoZSx0LHIpO2Nhc2UgT2kuVGltZVVuaXQuTUlDUk9TRUNPTkQ6cmV0dXJuIExpKGUsdCxyKTtjYXNlIE9pLlRpbWVVbml0Lk5BTk9TRUNPTkQ6cmV0dXJuIFJpKGUsdCxyKX19LFNpLnByb3RvdHlwZS52aXNpdFRpbWVzdGFtcFNlY29uZD1qaSxTaS5wcm90b3R5cGUudmlzaXRUaW1lc3RhbXBNaWxsaXNlY29uZD14aSxTaS5wcm90b3R5cGUudmlzaXRUaW1lc3RhbXBNaWNyb3NlY29uZD1MaSxTaS5wcm90b3R5cGUudmlzaXRUaW1lc3RhbXBOYW5vc2Vjb25kPVJpLFNpLnByb3RvdHlwZS52aXNpdFRpbWU9ZnVuY3Rpb24oZSx0LHIpe3N3aXRjaChlLnR5cGUudW5pdCl7Y2FzZSBPaS5UaW1lVW5pdC5TRUNPTkQ6cmV0dXJuIE5pKGUsdCxyKTtjYXNlIE9pLlRpbWVVbml0Lk1JTExJU0VDT05EOnJldHVybiBFaShlLHQscik7Y2FzZSBPaS5UaW1lVW5pdC5NSUNST1NFQ09ORDpyZXR1cm4gQ2koZSx0LHIpO2Nhc2UgT2kuVGltZVVuaXQuTkFOT1NFQ09ORDpyZXR1cm4gemkoZSx0LHIpfX0sU2kucHJvdG90eXBlLnZpc2l0VGltZVNlY29uZD1OaSxTaS5wcm90b3R5cGUudmlzaXRUaW1lTWlsbGlzZWNvbmQ9RWksU2kucHJvdG90eXBlLnZpc2l0VGltZU1pY3Jvc2Vjb25kPUNpLFNpLnByb3RvdHlwZS52aXNpdFRpbWVOYW5vc2Vjb25kPXppLFNpLnByb3RvdHlwZS52aXNpdERlY2ltYWw9ZnVuY3Rpb24oZSx0LHIpe2UudmFsdWVzLnNldChyLnN1YmFycmF5KDAsNCksNCp0KX0sU2kucHJvdG90eXBlLnZpc2l0TGlzdD1mdW5jdGlvbihlLHQscil7Zm9yKHZhciBuPWUuZ2V0Q2hpbGRBdCgwKSxpPWUudmFsdWVPZmZzZXRzLG89LTEsYT1pW3RdLHU9aVt0KzFdO2E8dTspbi5zZXQoYSsrLHIuZ2V0KCsrbykpfSxTaS5wcm90b3R5cGUudmlzaXRTdHJ1Y3Q9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuLGksbz1yIGluc3RhbmNlb2YgTWFwPyhuPXQsaT1yLGZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gbnVsbD09ZT92b2lkIDA6ZS5zZXQobixpLmdldCh0Lm5hbWUpKX0pOnIgaW5zdGFuY2VvZiBCaS5WZWN0b3I/ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24ocixuLGkpe3JldHVybiBudWxsPT1yP3ZvaWQgMDpyLnNldChlLHQuZ2V0KGkpKX19KHQscik6QXJyYXkuaXNBcnJheShyKT9mdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbihyLG4saSl7cmV0dXJuIG51bGw9PXI/dm9pZCAwOnIuc2V0KGUsdFtpXSl9fSh0LHIpOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKHIsbixpKXtyZXR1cm4gbnVsbD09cj92b2lkIDA6ci5zZXQoZSx0W24ubmFtZV0pfX0odCxyKTtlLnR5cGUuY2hpbGRyZW4uZm9yRWFjaCgoZnVuY3Rpb24odCxyKXtyZXR1cm4gbyhlLmdldENoaWxkQXQociksdCxyKX0pKX0sU2kucHJvdG90eXBlLnZpc2l0VW5pb249ZnVuY3Rpb24oZSx0LHIpe2UudHlwZS5tb2RlPT09T2kuVW5pb25Nb2RlLkRlbnNlP2tpKGUsdCxyKTpXaShlLHQscil9LFNpLnByb3RvdHlwZS52aXNpdERlbnNlVW5pb249a2ksU2kucHJvdG90eXBlLnZpc2l0U3BhcnNlVW5pb249V2ksU2kucHJvdG90eXBlLnZpc2l0RGljdGlvbmFyeT1mdW5jdGlvbihlLHQscil7dmFyIG49ZS5nZXRLZXkodCk7bnVsbCE9PW4mJmUuc2V0VmFsdWUobixyKX0sU2kucHJvdG90eXBlLnZpc2l0SW50ZXJ2YWw9ZnVuY3Rpb24oZSx0LHIpe2UudHlwZS51bml0PT09T2kuSW50ZXJ2YWxVbml0LkRBWV9USU1FP1lpKGUsdCxyKTpIaShlLHQscil9LFNpLnByb3RvdHlwZS52aXNpdEludGVydmFsRGF5VGltZT1ZaSxTaS5wcm90b3R5cGUudmlzaXRJbnRlcnZhbFllYXJNb250aD1IaSxTaS5wcm90b3R5cGUudmlzaXRGaXhlZFNpemVMaXN0PWZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIG49ZS5nZXRDaGlsZEF0KDApLGk9ZS5zdHJpZGUsbz0tMSxhPXQqaTsrK288aTspbi5zZXQoYStvLHIuZ2V0KG8pKX0sU2kucHJvdG90eXBlLnZpc2l0TWFwPWZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIG49ZS5nZXRDaGlsZEF0KDApLGk9ZS52YWx1ZU9mZnNldHMsbz1yIGluc3RhbmNlb2YgTWFwP2dpLl9fc3ByZWFkKHIpOk9iamVjdC5lbnRyaWVzKHIpLGE9LTEsdT1pW3RdLHM9aVt0KzFdO3U8czspbi5zZXQodSsrLG9bKythXSl9LGZpLmluc3RhbmNlPW5ldyBTaTt2YXIgR2k9e307T2JqZWN0LmRlZmluZVByb3BlcnR5KEdpLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxHaS5pbnN0YW5jZT1HaS5HZXRCdWlsZGVyQ3Rvcj12b2lkIDA7dmFyIEppPUguZXhwb3J0cyxaaT15bixLaT1xdCxYaT1pcixxaT1jcixRaT1kciwkaT12cixlbz16bix0bz1ncixybz1zbixubz1Qcixpbz13bixvbz1Kbixhbz10cix1bz1Rbixzbz1lbixjbz1Kcixsbz1uaSxmbz1wbixwbz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gSmkuX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUudmlzaXROdWxsPWZ1bmN0aW9uKCl7cmV0dXJuIGFvLk51bGxCdWlsZGVyfSx0LnByb3RvdHlwZS52aXNpdEJvb2w9ZnVuY3Rpb24oKXtyZXR1cm4gS2kuQm9vbEJ1aWxkZXJ9LHQucHJvdG90eXBlLnZpc2l0SW50PWZ1bmN0aW9uKCl7cmV0dXJuIG5vLkludEJ1aWxkZXJ9LHQucHJvdG90eXBlLnZpc2l0SW50OD1mdW5jdGlvbigpe3JldHVybiBuby5JbnQ4QnVpbGRlcn0sdC5wcm90b3R5cGUudmlzaXRJbnQxNj1mdW5jdGlvbigpe3JldHVybiBuby5JbnQxNkJ1aWxkZXJ9LHQucHJvdG90eXBlLnZpc2l0SW50MzI9ZnVuY3Rpb24oKXtyZXR1cm4gbm8uSW50MzJCdWlsZGVyfSx0LnByb3RvdHlwZS52aXNpdEludDY0PWZ1bmN0aW9uKCl7cmV0dXJuIG5vLkludDY0QnVpbGRlcn0sdC5wcm90b3R5cGUudmlzaXRVaW50OD1mdW5jdGlvbigpe3JldHVybiBuby5VaW50OEJ1aWxkZXJ9LHQucHJvdG90eXBlLnZpc2l0VWludDE2PWZ1bmN0aW9uKCl7cmV0dXJuIG5vLlVpbnQxNkJ1aWxkZXJ9LHQucHJvdG90eXBlLnZpc2l0VWludDMyPWZ1bmN0aW9uKCl7cmV0dXJuIG5vLlVpbnQzMkJ1aWxkZXJ9LHQucHJvdG90eXBlLnZpc2l0VWludDY0PWZ1bmN0aW9uKCl7cmV0dXJuIG5vLlVpbnQ2NEJ1aWxkZXJ9LHQucHJvdG90eXBlLnZpc2l0RmxvYXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdG8uRmxvYXRCdWlsZGVyfSx0LnByb3RvdHlwZS52aXNpdEZsb2F0MTY9ZnVuY3Rpb24oKXtyZXR1cm4gdG8uRmxvYXQxNkJ1aWxkZXJ9LHQucHJvdG90eXBlLnZpc2l0RmxvYXQzMj1mdW5jdGlvbigpe3JldHVybiB0by5GbG9hdDMyQnVpbGRlcn0sdC5wcm90b3R5cGUudmlzaXRGbG9hdDY0PWZ1bmN0aW9uKCl7cmV0dXJuIHRvLkZsb2F0NjRCdWlsZGVyfSx0LnByb3RvdHlwZS52aXNpdFV0Zjg9ZnVuY3Rpb24oKXtyZXR1cm4gZm8uVXRmOEJ1aWxkZXJ9LHQucHJvdG90eXBlLnZpc2l0QmluYXJ5PWZ1bmN0aW9uKCl7cmV0dXJuIFppLkJpbmFyeUJ1aWxkZXJ9LHQucHJvdG90eXBlLnZpc2l0Rml4ZWRTaXplQmluYXJ5PWZ1bmN0aW9uKCl7cmV0dXJuICRpLkZpeGVkU2l6ZUJpbmFyeUJ1aWxkZXJ9LHQucHJvdG90eXBlLnZpc2l0RGF0ZT1mdW5jdGlvbigpe3JldHVybiBYaS5EYXRlQnVpbGRlcn0sdC5wcm90b3R5cGUudmlzaXREYXRlRGF5PWZ1bmN0aW9uKCl7cmV0dXJuIFhpLkRhdGVEYXlCdWlsZGVyfSx0LnByb3RvdHlwZS52aXNpdERhdGVNaWxsaXNlY29uZD1mdW5jdGlvbigpe3JldHVybiBYaS5EYXRlTWlsbGlzZWNvbmRCdWlsZGVyfSx0LnByb3RvdHlwZS52aXNpdFRpbWVzdGFtcD1mdW5jdGlvbigpe3JldHVybiBzby5UaW1lc3RhbXBCdWlsZGVyfSx0LnByb3RvdHlwZS52aXNpdFRpbWVzdGFtcFNlY29uZD1mdW5jdGlvbigpe3JldHVybiBzby5UaW1lc3RhbXBTZWNvbmRCdWlsZGVyfSx0LnByb3RvdHlwZS52aXNpdFRpbWVzdGFtcE1pbGxpc2Vjb25kPWZ1bmN0aW9uKCl7cmV0dXJuIHNvLlRpbWVzdGFtcE1pbGxpc2Vjb25kQnVpbGRlcn0sdC5wcm90b3R5cGUudmlzaXRUaW1lc3RhbXBNaWNyb3NlY29uZD1mdW5jdGlvbigpe3JldHVybiBzby5UaW1lc3RhbXBNaWNyb3NlY29uZEJ1aWxkZXJ9LHQucHJvdG90eXBlLnZpc2l0VGltZXN0YW1wTmFub3NlY29uZD1mdW5jdGlvbigpe3JldHVybiBzby5UaW1lc3RhbXBOYW5vc2Vjb25kQnVpbGRlcn0sdC5wcm90b3R5cGUudmlzaXRUaW1lPWZ1bmN0aW9uKCl7cmV0dXJuIGNvLlRpbWVCdWlsZGVyfSx0LnByb3RvdHlwZS52aXNpdFRpbWVTZWNvbmQ9ZnVuY3Rpb24oKXtyZXR1cm4gY28uVGltZVNlY29uZEJ1aWxkZXJ9LHQucHJvdG90eXBlLnZpc2l0VGltZU1pbGxpc2Vjb25kPWZ1bmN0aW9uKCl7cmV0dXJuIGNvLlRpbWVNaWxsaXNlY29uZEJ1aWxkZXJ9LHQucHJvdG90eXBlLnZpc2l0VGltZU1pY3Jvc2Vjb25kPWZ1bmN0aW9uKCl7cmV0dXJuIGNvLlRpbWVNaWNyb3NlY29uZEJ1aWxkZXJ9LHQucHJvdG90eXBlLnZpc2l0VGltZU5hbm9zZWNvbmQ9ZnVuY3Rpb24oKXtyZXR1cm4gY28uVGltZU5hbm9zZWNvbmRCdWlsZGVyfSx0LnByb3RvdHlwZS52aXNpdERlY2ltYWw9ZnVuY3Rpb24oKXtyZXR1cm4gcWkuRGVjaW1hbEJ1aWxkZXJ9LHQucHJvdG90eXBlLnZpc2l0TGlzdD1mdW5jdGlvbigpe3JldHVybiBpby5MaXN0QnVpbGRlcn0sdC5wcm90b3R5cGUudmlzaXRTdHJ1Y3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdW8uU3RydWN0QnVpbGRlcn0sdC5wcm90b3R5cGUudmlzaXRVbmlvbj1mdW5jdGlvbigpe3JldHVybiBsby5VbmlvbkJ1aWxkZXJ9LHQucHJvdG90eXBlLnZpc2l0RGVuc2VVbmlvbj1mdW5jdGlvbigpe3JldHVybiBsby5EZW5zZVVuaW9uQnVpbGRlcn0sdC5wcm90b3R5cGUudmlzaXRTcGFyc2VVbmlvbj1mdW5jdGlvbigpe3JldHVybiBsby5TcGFyc2VVbmlvbkJ1aWxkZXJ9LHQucHJvdG90eXBlLnZpc2l0RGljdGlvbmFyeT1mdW5jdGlvbigpe3JldHVybiBRaS5EaWN0aW9uYXJ5QnVpbGRlcn0sdC5wcm90b3R5cGUudmlzaXRJbnRlcnZhbD1mdW5jdGlvbigpe3JldHVybiByby5JbnRlcnZhbEJ1aWxkZXJ9LHQucHJvdG90eXBlLnZpc2l0SW50ZXJ2YWxEYXlUaW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHJvLkludGVydmFsRGF5VGltZUJ1aWxkZXJ9LHQucHJvdG90eXBlLnZpc2l0SW50ZXJ2YWxZZWFyTW9udGg9ZnVuY3Rpb24oKXtyZXR1cm4gcm8uSW50ZXJ2YWxZZWFyTW9udGhCdWlsZGVyfSx0LnByb3RvdHlwZS52aXNpdEZpeGVkU2l6ZUxpc3Q9ZnVuY3Rpb24oKXtyZXR1cm4gZW8uRml4ZWRTaXplTGlzdEJ1aWxkZXJ9LHQucHJvdG90eXBlLnZpc2l0TWFwPWZ1bmN0aW9uKCl7cmV0dXJuIG9vLk1hcEJ1aWxkZXJ9LHR9KGRpLlZpc2l0b3IpO0dpLkdldEJ1aWxkZXJDdG9yPXBvLEdpLmluc3RhbmNlPW5ldyBwbyxmdW5jdGlvbihlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5EZW5zZVVuaW9uQnVpbGRlcj1lLlNwYXJzZVVuaW9uQnVpbGRlcj1lLlVuaW9uQnVpbGRlcj1lLlN0cnVjdEJ1aWxkZXI9ZS5NYXBCdWlsZGVyPWUuRml4ZWRTaXplTGlzdEJ1aWxkZXI9ZS5MaXN0QnVpbGRlcj1lLkJpbmFyeUJ1aWxkZXI9ZS5VdGY4QnVpbGRlcj1lLkludGVydmFsWWVhck1vbnRoQnVpbGRlcj1lLkludGVydmFsRGF5VGltZUJ1aWxkZXI9ZS5JbnRlcnZhbEJ1aWxkZXI9ZS5UaW1lc3RhbXBOYW5vc2Vjb25kQnVpbGRlcj1lLlRpbWVzdGFtcE1pY3Jvc2Vjb25kQnVpbGRlcj1lLlRpbWVzdGFtcE1pbGxpc2Vjb25kQnVpbGRlcj1lLlRpbWVzdGFtcFNlY29uZEJ1aWxkZXI9ZS5UaW1lc3RhbXBCdWlsZGVyPWUuVGltZU5hbm9zZWNvbmRCdWlsZGVyPWUuVGltZU1pY3Jvc2Vjb25kQnVpbGRlcj1lLlRpbWVNaWxsaXNlY29uZEJ1aWxkZXI9ZS5UaW1lU2Vjb25kQnVpbGRlcj1lLlRpbWVCdWlsZGVyPWUuVWludDY0QnVpbGRlcj1lLlVpbnQzMkJ1aWxkZXI9ZS5VaW50MTZCdWlsZGVyPWUuVWludDhCdWlsZGVyPWUuSW50NjRCdWlsZGVyPWUuSW50MzJCdWlsZGVyPWUuSW50MTZCdWlsZGVyPWUuSW50OEJ1aWxkZXI9ZS5JbnRCdWlsZGVyPWUuRmxvYXQ2NEJ1aWxkZXI9ZS5GbG9hdDMyQnVpbGRlcj1lLkZsb2F0MTZCdWlsZGVyPWUuRmxvYXRCdWlsZGVyPWUuRml4ZWRTaXplQmluYXJ5QnVpbGRlcj1lLkRpY3Rpb25hcnlCdWlsZGVyPWUuRGVjaW1hbEJ1aWxkZXI9ZS5EYXRlTWlsbGlzZWNvbmRCdWlsZGVyPWUuRGF0ZURheUJ1aWxkZXI9ZS5EYXRlQnVpbGRlcj1lLk51bGxCdWlsZGVyPWUuQm9vbEJ1aWxkZXI9ZS5CdWlsZGVyPXZvaWQgMDt2YXIgdD1ILmV4cG9ydHMscj12ZTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiQnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHIuQnVpbGRlcn19KTt2YXIgbj1xdDtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiQm9vbEJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBuLkJvb2xCdWlsZGVyfX0pO3ZhciBpPXRyO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJOdWxsQnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkuTnVsbEJ1aWxkZXJ9fSk7dmFyIG89aXI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkRhdGVCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gby5EYXRlQnVpbGRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRGF0ZURheUJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBvLkRhdGVEYXlCdWlsZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJEYXRlTWlsbGlzZWNvbmRCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gby5EYXRlTWlsbGlzZWNvbmRCdWlsZGVyfX0pO3ZhciBhPWNyO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJEZWNpbWFsQnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGEuRGVjaW1hbEJ1aWxkZXJ9fSk7dmFyIHU9ZHI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkRpY3Rpb25hcnlCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdS5EaWN0aW9uYXJ5QnVpbGRlcn19KTt2YXIgcz12cjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRml4ZWRTaXplQmluYXJ5QnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuRml4ZWRTaXplQmluYXJ5QnVpbGRlcn19KTt2YXIgYz1ncjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRmxvYXRCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYy5GbG9hdEJ1aWxkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkZsb2F0MTZCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYy5GbG9hdDE2QnVpbGRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRmxvYXQzMkJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBjLkZsb2F0MzJCdWlsZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJGbG9hdDY0QnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGMuRmxvYXQ2NEJ1aWxkZXJ9fSk7dmFyIGw9UHI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkludEJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsLkludEJ1aWxkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkludDhCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbC5JbnQ4QnVpbGRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiSW50MTZCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbC5JbnQxNkJ1aWxkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkludDMyQnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGwuSW50MzJCdWlsZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJJbnQ2NEJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsLkludDY0QnVpbGRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVWludDhCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbC5VaW50OEJ1aWxkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlVpbnQxNkJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsLlVpbnQxNkJ1aWxkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlVpbnQzMkJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsLlVpbnQzMkJ1aWxkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlVpbnQ2NEJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsLlVpbnQ2NEJ1aWxkZXJ9fSk7dmFyIGY9SnI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlRpbWVCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZi5UaW1lQnVpbGRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVGltZVNlY29uZEJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBmLlRpbWVTZWNvbmRCdWlsZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJUaW1lTWlsbGlzZWNvbmRCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZi5UaW1lTWlsbGlzZWNvbmRCdWlsZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJUaW1lTWljcm9zZWNvbmRCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZi5UaW1lTWljcm9zZWNvbmRCdWlsZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJUaW1lTmFub3NlY29uZEJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBmLlRpbWVOYW5vc2Vjb25kQnVpbGRlcn19KTt2YXIgZD1lbjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVGltZXN0YW1wQnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGQuVGltZXN0YW1wQnVpbGRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVGltZXN0YW1wU2Vjb25kQnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGQuVGltZXN0YW1wU2Vjb25kQnVpbGRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVGltZXN0YW1wTWlsbGlzZWNvbmRCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZC5UaW1lc3RhbXBNaWxsaXNlY29uZEJ1aWxkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlRpbWVzdGFtcE1pY3Jvc2Vjb25kQnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGQuVGltZXN0YW1wTWljcm9zZWNvbmRCdWlsZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJUaW1lc3RhbXBOYW5vc2Vjb25kQnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGQuVGltZXN0YW1wTmFub3NlY29uZEJ1aWxkZXJ9fSk7dmFyIHA9c247T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkludGVydmFsQnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHAuSW50ZXJ2YWxCdWlsZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJJbnRlcnZhbERheVRpbWVCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcC5JbnRlcnZhbERheVRpbWVCdWlsZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJJbnRlcnZhbFllYXJNb250aEJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBwLkludGVydmFsWWVhck1vbnRoQnVpbGRlcn19KTt2YXIgeT1wbjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVXRmOEJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB5LlV0ZjhCdWlsZGVyfX0pO3ZhciBoPXluO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJCaW5hcnlCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaC5CaW5hcnlCdWlsZGVyfX0pO3ZhciBiPXduO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJMaXN0QnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGIuTGlzdEJ1aWxkZXJ9fSk7dmFyIHY9em47T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkZpeGVkU2l6ZUxpc3RCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdi5GaXhlZFNpemVMaXN0QnVpbGRlcn19KTt2YXIgXz1KbjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiTWFwQnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIF8uTWFwQnVpbGRlcn19KTt2YXIgbT1RbjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiU3RydWN0QnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG0uU3RydWN0QnVpbGRlcn19KTt2YXIgZz1uaTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVW5pb25CdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZy5VbmlvbkJ1aWxkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlNwYXJzZVVuaW9uQnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGcuU3BhcnNlVW5pb25CdWlsZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJEZW5zZVVuaW9uQnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGcuRGVuc2VVbmlvbkJ1aWxkZXJ9fSk7dmFyIEI9Z2UsVD1wbixJPWZpLHc9R2k7dmUuQnVpbGRlci5uZXc9ZnVuY3Rpb24gZShyKXt2YXIgbj1yLnR5cGUsaT1uZXcody5pbnN0YW5jZS5nZXRWaXNpdEZuKG4pKCkpKHIpO2lmKG4uY2hpbGRyZW4mJm4uY2hpbGRyZW4ubGVuZ3RoPjApe3ZhciBvPXIuY2hpbGRyZW58fFtdLGE9e251bGxWYWx1ZXM6ci5udWxsVmFsdWVzfSx1PUFycmF5LmlzQXJyYXkobyk/ZnVuY3Rpb24oZSx0KXtyZXR1cm4gb1t0XXx8YX06ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5uYW1lO3JldHVybiBvW3RdfHxhfTtuLmNoaWxkcmVuLmZvckVhY2goKGZ1bmN0aW9uKHIsbil7dmFyIG89ci50eXBlLGE9dShyLG4pO2kuY2hpbGRyZW4ucHVzaChlKHQuX19hc3NpZ24odC5fX2Fzc2lnbih7fSxhKSx7dHlwZTpvfSkpKX0pKX1yZXR1cm4gaX0sT2JqZWN0LmtleXMoQi5UeXBlKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBCLlR5cGVbZV19KSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4ibnVtYmVyIj09dHlwZW9mIGUmJmUhPT1CLlR5cGUuTk9ORX0pKS5mb3JFYWNoKChmdW5jdGlvbihlKXt3Lmluc3RhbmNlLnZpc2l0KGUpLnByb3RvdHlwZS5fc2V0VmFsdWU9SS5pbnN0YW5jZS5nZXRWaXNpdEZuKGUpfSkpLFQuVXRmOEJ1aWxkZXIucHJvdG90eXBlLl9zZXRWYWx1ZT1JLmluc3RhbmNlLnZpc2l0QmluYXJ5fShiZSk7dmFyIHlvPXt9LGhvPXt9LGJvPXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShibywiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksYm8uQmxvY2s9Ym8uRm9vdGVyPXZvaWQgMDt2YXIgdm89Wixfbz1CZSxtbz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLmJiPW51bGwsdGhpcy5iYl9wb3M9MH1yZXR1cm4gZS5wcm90b3R5cGUuX19pbml0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuYmJfcG9zPWUsdGhpcy5iYj10LHRoaXN9LGUuZ2V0Um9vdEFzRm9vdGVyPWZ1bmN0aW9uKHQscil7cmV0dXJuKHJ8fG5ldyBlKS5fX2luaXQodC5yZWFkSW50MzIodC5wb3NpdGlvbigpKSt0LnBvc2l0aW9uKCksdCl9LGUuZ2V0U2l6ZVByZWZpeGVkUm9vdEFzRm9vdGVyPWZ1bmN0aW9uKHQscil7cmV0dXJuIHQuc2V0UG9zaXRpb24odC5wb3NpdGlvbigpK3ZvLmZsYXRidWZmZXJzLlNJWkVfUFJFRklYX0xFTkdUSCksKHJ8fG5ldyBlKS5fX2luaXQodC5yZWFkSW50MzIodC5wb3NpdGlvbigpKSt0LnBvc2l0aW9uKCksdCl9LGUucHJvdG90eXBlLnZlcnNpb249ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDQpO3JldHVybiBlP3RoaXMuYmIucmVhZEludDE2KHRoaXMuYmJfcG9zK2UpOl9vLk1ldGFkYXRhVmVyc2lvbi5WMX0sZS5wcm90b3R5cGUuc2NoZW1hPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsNik7cmV0dXJuIHQ/KGV8fG5ldyBfby5TY2hlbWEpLl9faW5pdCh0aGlzLmJiLl9faW5kaXJlY3QodGhpcy5iYl9wb3MrdCksdGhpcy5iYik6bnVsbH0sZS5wcm90b3R5cGUuZGljdGlvbmFyaWVzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3Bvcyw4KTtyZXR1cm4gcj8odHx8bmV3IGdvKS5fX2luaXQodGhpcy5iYi5fX3ZlY3Rvcih0aGlzLmJiX3BvcytyKSsyNCplLHRoaXMuYmIpOm51bGx9LGUucHJvdG90eXBlLmRpY3Rpb25hcmllc0xlbmd0aD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsOCk7cmV0dXJuIGU/dGhpcy5iYi5fX3ZlY3Rvcl9sZW4odGhpcy5iYl9wb3MrZSk6MH0sZS5wcm90b3R5cGUucmVjb3JkQmF0Y2hlcz1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsMTApO3JldHVybiByPyh0fHxuZXcgZ28pLl9faW5pdCh0aGlzLmJiLl9fdmVjdG9yKHRoaXMuYmJfcG9zK3IpKzI0KmUsdGhpcy5iYik6bnVsbH0sZS5wcm90b3R5cGUucmVjb3JkQmF0Y2hlc0xlbmd0aD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsMTApO3JldHVybiBlP3RoaXMuYmIuX192ZWN0b3JfbGVuKHRoaXMuYmJfcG9zK2UpOjB9LGUucHJvdG90eXBlLmN1c3RvbU1ldGFkYXRhPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3BvcywxMik7cmV0dXJuIHI/KHR8fG5ldyBfby5LZXlWYWx1ZSkuX19pbml0KHRoaXMuYmIuX19pbmRpcmVjdCh0aGlzLmJiLl9fdmVjdG9yKHRoaXMuYmJfcG9zK3IpKzQqZSksdGhpcy5iYik6bnVsbH0sZS5wcm90b3R5cGUuY3VzdG9tTWV0YWRhdGFMZW5ndGg9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDEyKTtyZXR1cm4gZT90aGlzLmJiLl9fdmVjdG9yX2xlbih0aGlzLmJiX3BvcytlKTowfSxlLnN0YXJ0Rm9vdGVyPWZ1bmN0aW9uKGUpe2Uuc3RhcnRPYmplY3QoNSl9LGUuYWRkVmVyc2lvbj1mdW5jdGlvbihlLHQpe2UuYWRkRmllbGRJbnQxNigwLHQsX28uTWV0YWRhdGFWZXJzaW9uLlYxKX0sZS5hZGRTY2hlbWE9ZnVuY3Rpb24oZSx0KXtlLmFkZEZpZWxkT2Zmc2V0KDEsdCwwKX0sZS5hZGREaWN0aW9uYXJpZXM9ZnVuY3Rpb24oZSx0KXtlLmFkZEZpZWxkT2Zmc2V0KDIsdCwwKX0sZS5zdGFydERpY3Rpb25hcmllc1ZlY3Rvcj1mdW5jdGlvbihlLHQpe2Uuc3RhcnRWZWN0b3IoMjQsdCw4KX0sZS5hZGRSZWNvcmRCYXRjaGVzPWZ1bmN0aW9uKGUsdCl7ZS5hZGRGaWVsZE9mZnNldCgzLHQsMCl9LGUuc3RhcnRSZWNvcmRCYXRjaGVzVmVjdG9yPWZ1bmN0aW9uKGUsdCl7ZS5zdGFydFZlY3RvcigyNCx0LDgpfSxlLmFkZEN1c3RvbU1ldGFkYXRhPWZ1bmN0aW9uKGUsdCl7ZS5hZGRGaWVsZE9mZnNldCg0LHQsMCl9LGUuY3JlYXRlQ3VzdG9tTWV0YWRhdGFWZWN0b3I9ZnVuY3Rpb24oZSx0KXtlLnN0YXJ0VmVjdG9yKDQsdC5sZW5ndGgsNCk7Zm9yKHZhciByPXQubGVuZ3RoLTE7cj49MDtyLS0pZS5hZGRPZmZzZXQodFtyXSk7cmV0dXJuIGUuZW5kVmVjdG9yKCl9LGUuc3RhcnRDdXN0b21NZXRhZGF0YVZlY3Rvcj1mdW5jdGlvbihlLHQpe2Uuc3RhcnRWZWN0b3IoNCx0LDQpfSxlLmVuZEZvb3Rlcj1mdW5jdGlvbihlKXtyZXR1cm4gZS5lbmRPYmplY3QoKX0sZS5maW5pc2hGb290ZXJCdWZmZXI9ZnVuY3Rpb24oZSx0KXtlLmZpbmlzaCh0KX0sZS5maW5pc2hTaXplUHJlZml4ZWRGb290ZXJCdWZmZXI9ZnVuY3Rpb24oZSx0KXtlLmZpbmlzaCh0LHZvaWQgMCwhMCl9LGUuY3JlYXRlRm9vdGVyPWZ1bmN0aW9uKHQscixuLGksbyxhKXtyZXR1cm4gZS5zdGFydEZvb3Rlcih0KSxlLmFkZFZlcnNpb24odCxyKSxlLmFkZFNjaGVtYSh0LG4pLGUuYWRkRGljdGlvbmFyaWVzKHQsaSksZS5hZGRSZWNvcmRCYXRjaGVzKHQsbyksZS5hZGRDdXN0b21NZXRhZGF0YSh0LGEpLGUuZW5kRm9vdGVyKHQpfSxlfSgpO2JvLkZvb3Rlcj1tbzt2YXIgZ289ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5iYj1udWxsLHRoaXMuYmJfcG9zPTB9cmV0dXJuIGUucHJvdG90eXBlLl9faW5pdD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmJiX3Bvcz1lLHRoaXMuYmI9dCx0aGlzfSxlLnByb3RvdHlwZS5vZmZzZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iYi5yZWFkSW50NjQodGhpcy5iYl9wb3MpfSxlLnByb3RvdHlwZS5tZXRhRGF0YUxlbmd0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJiLnJlYWRJbnQzMih0aGlzLmJiX3Bvcys4KX0sZS5wcm90b3R5cGUuYm9keUxlbmd0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJiLnJlYWRJbnQ2NCh0aGlzLmJiX3BvcysxNil9LGUuY3JlYXRlQmxvY2s9ZnVuY3Rpb24oZSx0LHIsbil7cmV0dXJuIGUucHJlcCg4LDI0KSxlLndyaXRlSW50NjQobiksZS5wYWQoNCksZS53cml0ZUludDMyKHIpLGUud3JpdGVJbnQ2NCh0KSxlLm9mZnNldCgpfSxlfSgpO2JvLkJsb2NrPWdvLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShobywiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksaG8uRmlsZUJsb2NrPWhvLkZvb3Rlcj12b2lkIDA7dmFyIEJvPUguZXhwb3J0cyxUbz1ibyxJbz1aLHdvPUlvLmZsYXRidWZmZXJzLkxvbmcsT289SW8uZmxhdGJ1ZmZlcnMuQnVpbGRlcixTbz1Jby5mbGF0YnVmZmVycy5CeXRlQnVmZmVyLEFvPURuLERvPWdlLFZvPUcsUG89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxyLG4pe3ZvaWQgMD09PXQmJih0PURvLk1ldGFkYXRhVmVyc2lvbi5WNCksdGhpcy5zY2hlbWE9ZSx0aGlzLnZlcnNpb249dCxyJiYodGhpcy5fcmVjb3JkQmF0Y2hlcz1yKSxuJiYodGhpcy5fZGljdGlvbmFyeUJhdGNoZXM9bil9cmV0dXJuIGUuZGVjb2RlPWZ1bmN0aW9uKGUpe2U9bmV3IFNvKFZvLnRvVWludDhBcnJheShlKSk7dmFyIHQ9VG8uRm9vdGVyLmdldFJvb3RBc0Zvb3RlcihlKSxyPUFvLlNjaGVtYS5kZWNvZGUodC5zY2hlbWEoKSk7cmV0dXJuIG5ldyBNbyhyLHQpfSxlLmVuY29kZT1mdW5jdGlvbihlKXt2YXIgdD1uZXcgT28scj1Bby5TY2hlbWEuZW5jb2RlKHQsZS5zY2hlbWEpO1RvLkZvb3Rlci5zdGFydFJlY29yZEJhdGNoZXNWZWN0b3IodCxlLm51bVJlY29yZEJhdGNoZXMpLEJvLl9fc3ByZWFkKGUucmVjb3JkQmF0Y2hlcygpKS5zbGljZSgpLnJldmVyc2UoKS5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gRm8uZW5jb2RlKHQsZSl9KSk7dmFyIG49dC5lbmRWZWN0b3IoKTtUby5Gb290ZXIuc3RhcnREaWN0aW9uYXJpZXNWZWN0b3IodCxlLm51bURpY3Rpb25hcmllcyksQm8uX19zcHJlYWQoZS5kaWN0aW9uYXJ5QmF0Y2hlcygpKS5zbGljZSgpLnJldmVyc2UoKS5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gRm8uZW5jb2RlKHQsZSl9KSk7dmFyIGk9dC5lbmRWZWN0b3IoKTtyZXR1cm4gVG8uRm9vdGVyLnN0YXJ0Rm9vdGVyKHQpLFRvLkZvb3Rlci5hZGRTY2hlbWEodCxyKSxUby5Gb290ZXIuYWRkVmVyc2lvbih0LERvLk1ldGFkYXRhVmVyc2lvbi5WNCksVG8uRm9vdGVyLmFkZFJlY29yZEJhdGNoZXModCxuKSxUby5Gb290ZXIuYWRkRGljdGlvbmFyaWVzKHQsaSksVG8uRm9vdGVyLmZpbmlzaEZvb3RlckJ1ZmZlcih0LFRvLkZvb3Rlci5lbmRGb290ZXIodCkpLHQuYXNVaW50OEFycmF5KCl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwibnVtUmVjb3JkQmF0Y2hlcyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZWNvcmRCYXRjaGVzLmxlbmd0aH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIm51bURpY3Rpb25hcmllcyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kaWN0aW9uYXJ5QmF0Y2hlcy5sZW5ndGh9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUucmVjb3JkQmF0Y2hlcz1mdW5jdGlvbigpe3ZhciBlLHQscjtyZXR1cm4gQm8uX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24obil7c3dpdGNoKG4ubGFiZWwpe2Nhc2UgMDplPXZvaWQgMCx0PS0xLHI9dGhpcy5udW1SZWNvcmRCYXRjaGVzLG4ubGFiZWw9MTtjYXNlIDE6cmV0dXJuKyt0PHI/KGU9dGhpcy5nZXRSZWNvcmRCYXRjaCh0KSk/WzQsZV06WzMsM106WzMsNF07Y2FzZSAyOm4uc2VudCgpLG4ubGFiZWw9MztjYXNlIDM6cmV0dXJuWzMsMV07Y2FzZSA0OnJldHVyblsyXX19KSl9LGUucHJvdG90eXBlLmRpY3Rpb25hcnlCYXRjaGVzPWZ1bmN0aW9uKCl7dmFyIGUsdCxyO3JldHVybiBCby5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbihuKXtzd2l0Y2gobi5sYWJlbCl7Y2FzZSAwOmU9dm9pZCAwLHQ9LTEscj10aGlzLm51bURpY3Rpb25hcmllcyxuLmxhYmVsPTE7Y2FzZSAxOnJldHVybisrdDxyPyhlPXRoaXMuZ2V0RGljdGlvbmFyeUJhdGNoKHQpKT9bNCxlXTpbMywzXTpbMyw0XTtjYXNlIDI6bi5zZW50KCksbi5sYWJlbD0zO2Nhc2UgMzpyZXR1cm5bMywxXTtjYXNlIDQ6cmV0dXJuWzJdfX0pKX0sZS5wcm90b3R5cGUuZ2V0UmVjb3JkQmF0Y2g9ZnVuY3Rpb24oZSl7cmV0dXJuIGU+PTAmJmU8dGhpcy5udW1SZWNvcmRCYXRjaGVzJiZ0aGlzLl9yZWNvcmRCYXRjaGVzW2VdfHxudWxsfSxlLnByb3RvdHlwZS5nZXREaWN0aW9uYXJ5QmF0Y2g9ZnVuY3Rpb24oZSl7cmV0dXJuIGU+PTAmJmU8dGhpcy5udW1EaWN0aW9uYXJpZXMmJnRoaXMuX2RpY3Rpb25hcnlCYXRjaGVzW2VdfHxudWxsfSxlfSgpO2hvLkZvb3Rlcj1Qbzt2YXIgTW89ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LHIpe3ZhciBuPWUuY2FsbCh0aGlzLHQsci52ZXJzaW9uKCkpfHx0aGlzO3JldHVybiBuLl9mb290ZXI9cixufXJldHVybiBCby5fX2V4dGVuZHModCxlKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsIm51bVJlY29yZEJhdGNoZXMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZm9vdGVyLnJlY29yZEJhdGNoZXNMZW5ndGgoKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsIm51bURpY3Rpb25hcmllcyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9mb290ZXIuZGljdGlvbmFyaWVzTGVuZ3RoKCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUuZ2V0UmVjb3JkQmF0Y2g9ZnVuY3Rpb24oZSl7aWYoZT49MCYmZTx0aGlzLm51bVJlY29yZEJhdGNoZXMpe3ZhciB0PXRoaXMuX2Zvb3Rlci5yZWNvcmRCYXRjaGVzKGUpO2lmKHQpcmV0dXJuIEZvLmRlY29kZSh0KX1yZXR1cm4gbnVsbH0sdC5wcm90b3R5cGUuZ2V0RGljdGlvbmFyeUJhdGNoPWZ1bmN0aW9uKGUpe2lmKGU+PTAmJmU8dGhpcy5udW1EaWN0aW9uYXJpZXMpe3ZhciB0PXRoaXMuX2Zvb3Rlci5kaWN0aW9uYXJpZXMoZSk7aWYodClyZXR1cm4gRm8uZGVjb2RlKHQpfXJldHVybiBudWxsfSx0fShQbyksRm89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxyKXt0aGlzLm1ldGFEYXRhTGVuZ3RoPWUsdGhpcy5vZmZzZXQ9Im51bWJlciI9PXR5cGVvZiByP3I6ci5sb3csdGhpcy5ib2R5TGVuZ3RoPSJudW1iZXIiPT10eXBlb2YgdD90OnQubG93fXJldHVybiBlLmRlY29kZT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IGUodC5tZXRhRGF0YUxlbmd0aCgpLHQuYm9keUxlbmd0aCgpLHQub2Zmc2V0KCkpfSxlLmVuY29kZT1mdW5jdGlvbihlLHQpe3ZhciByPXQubWV0YURhdGFMZW5ndGgsbj1uZXcgd28odC5vZmZzZXQsMCksaT1uZXcgd28odC5ib2R5TGVuZ3RoLDApO3JldHVybiBUby5CbG9jay5jcmVhdGVCbG9jayhlLG4scixpKX0sZX0oKTtoby5GaWxlQmxvY2s9Rm87dmFyIFVvPXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShVbywiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksVW8uQXN5bmNCeXRlU3RyZWFtPVVvLkJ5dGVTdHJlYW09VW8uQXN5bmNCeXRlUXVldWU9dm9pZCAwO3ZhciBqbz1ILmV4cG9ydHMseG89WSxMbz1LLFJvPSQsTm89RyxFbz1RLENvPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBqby5fX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbih0KXtpZigodD1Oby50b1VpbnQ4QXJyYXkodCkpLmJ5dGVMZW5ndGg+MClyZXR1cm4gZS5wcm90b3R5cGUud3JpdGUuY2FsbCh0aGlzLHQpfSx0LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9ITEpLGU/TG8uZGVjb2RlVXRmOCh0aGlzLnRvVWludDhBcnJheSghMCkpOnRoaXMudG9VaW50OEFycmF5KCExKS50aGVuKExvLmRlY29kZVV0ZjgpfSx0LnByb3RvdHlwZS50b1VpbnQ4QXJyYXk9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gdm9pZCAwPT09ZSYmKGU9ITEpLGU/Tm8uam9pblVpbnQ4QXJyYXlzKHRoaXMuX3ZhbHVlcylbMF06am8uX19hd2FpdGVyKHQsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgZSx0LHIsbixpLG8sYSx1O3JldHVybiBqby5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbihzKXtzd2l0Y2gocy5sYWJlbCl7Y2FzZSAwOmU9W10sdD0wLHMubGFiZWw9MTtjYXNlIDE6cy50cnlzLnB1c2goWzEsNiw3LDEyXSkscj1qby5fX2FzeW5jVmFsdWVzKHRoaXMpLHMubGFiZWw9MjtjYXNlIDI6cmV0dXJuWzQsci5uZXh0KCldO2Nhc2UgMzppZigobj1zLnNlbnQoKSkuZG9uZSlyZXR1cm5bMyw1XTtpPW4udmFsdWUsZS5wdXNoKGkpLHQrPWkuYnl0ZUxlbmd0aCxzLmxhYmVsPTQ7Y2FzZSA0OnJldHVyblszLDJdO2Nhc2UgNTpyZXR1cm5bMywxMl07Y2FzZSA2OnJldHVybiBvPXMuc2VudCgpLGE9e2Vycm9yOm99LFszLDEyXTtjYXNlIDc6cmV0dXJuIHMudHJ5cy5wdXNoKFs3LCwxMCwxMV0pLG4mJiFuLmRvbmUmJih1PXIucmV0dXJuKT9bNCx1LmNhbGwocildOlszLDldO2Nhc2UgODpzLnNlbnQoKSxzLmxhYmVsPTk7Y2FzZSA5OnJldHVyblszLDExXTtjYXNlIDEwOmlmKGEpdGhyb3cgYS5lcnJvcjtyZXR1cm5bN107Y2FzZSAxMTpyZXR1cm5bN107Y2FzZSAxMjpyZXR1cm5bMixOby5qb2luVWludDhBcnJheXMoZSx0KVswXV19fSkpfSkpfSx0fShSby5Bc3luY1F1ZXVlKTtVby5Bc3luY0J5dGVRdWV1ZT1Dbzt2YXIgem89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe2UmJih0aGlzLnNvdXJjZT1uZXcgV28oeG8uZGVmYXVsdC5mcm9tSXRlcmFibGUoZSkpKX1yZXR1cm4gZS5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxlLnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnNvdXJjZS5uZXh0KGUpfSxlLnByb3RvdHlwZS50aHJvdz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5zb3VyY2UudGhyb3coZSl9LGUucHJvdG90eXBlLnJldHVybj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5zb3VyY2UucmV0dXJuKGUpfSxlLnByb3RvdHlwZS5wZWVrPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnNvdXJjZS5wZWVrKGUpfSxlLnByb3RvdHlwZS5yZWFkPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnNvdXJjZS5yZWFkKGUpfSxlfSgpO1VvLkJ5dGVTdHJlYW09em87dmFyIGtvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXt0IGluc3RhbmNlb2YgZT90aGlzLnNvdXJjZT10LnNvdXJjZTp0IGluc3RhbmNlb2YgQ28/dGhpcy5zb3VyY2U9bmV3IFlvKHhvLmRlZmF1bHQuZnJvbUFzeW5jSXRlcmFibGUodCkpOkVvLmlzUmVhZGFibGVOb2RlU3RyZWFtKHQpP3RoaXMuc291cmNlPW5ldyBZbyh4by5kZWZhdWx0LmZyb21Ob2RlU3RyZWFtKHQpKTpFby5pc1JlYWRhYmxlRE9NU3RyZWFtKHQpP3RoaXMuc291cmNlPW5ldyBZbyh4by5kZWZhdWx0LmZyb21ET01TdHJlYW0odCkpOkVvLmlzRmV0Y2hSZXNwb25zZSh0KT90aGlzLnNvdXJjZT1uZXcgWW8oeG8uZGVmYXVsdC5mcm9tRE9NU3RyZWFtKHQuYm9keSkpOkVvLmlzSXRlcmFibGUodCk/dGhpcy5zb3VyY2U9bmV3IFlvKHhvLmRlZmF1bHQuZnJvbUl0ZXJhYmxlKHQpKTooRW8uaXNQcm9taXNlKHQpfHxFby5pc0FzeW5jSXRlcmFibGUodCkpJiYodGhpcy5zb3VyY2U9bmV3IFlvKHhvLmRlZmF1bHQuZnJvbUFzeW5jSXRlcmFibGUodCkpKX1yZXR1cm4gZS5wcm90b3R5cGVbU3ltYm9sLmFzeW5jSXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LGUucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuc291cmNlLm5leHQoZSl9LGUucHJvdG90eXBlLnRocm93PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnNvdXJjZS50aHJvdyhlKX0sZS5wcm90b3R5cGUucmV0dXJuPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnNvdXJjZS5yZXR1cm4oZSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiY2xvc2VkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc291cmNlLmNsb3NlZH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5jYW5jZWw9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuc291cmNlLmNhbmNlbChlKX0sZS5wcm90b3R5cGUucGVlaz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5zb3VyY2UucGVlayhlKX0sZS5wcm90b3R5cGUucmVhZD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5zb3VyY2UucmVhZChlKX0sZX0oKTtVby5Bc3luY0J5dGVTdHJlYW09a287dmFyIFdvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLnNvdXJjZT1lfXJldHVybiBlLnByb3RvdHlwZS5jYW5jZWw9ZnVuY3Rpb24oZSl7dGhpcy5yZXR1cm4oZSl9LGUucHJvdG90eXBlLnBlZWs9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubmV4dChlLCJwZWVrIikudmFsdWV9LGUucHJvdG90eXBlLnJlYWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubmV4dChlLCJyZWFkIikudmFsdWV9LGUucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9InJlYWQiKSx0aGlzLnNvdXJjZS5uZXh0KHtjbWQ6dCxzaXplOmV9KX0sZS5wcm90b3R5cGUudGhyb3c9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5jcmVhdGUodGhpcy5zb3VyY2UudGhyb3cmJnRoaXMuc291cmNlLnRocm93KGUpfHxSby5JVEVSQVRPUl9ET05FKX0sZS5wcm90b3R5cGUucmV0dXJuPWZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QuY3JlYXRlKHRoaXMuc291cmNlLnJldHVybiYmdGhpcy5zb3VyY2UucmV0dXJuKGUpfHxSby5JVEVSQVRPUl9ET05FKX0sZX0oKSxZbz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dmFyIHQ9dGhpczt0aGlzLnNvdXJjZT1lLHRoaXMuX2Nsb3NlZFByb21pc2U9bmV3IFByb21pc2UoKGZ1bmN0aW9uKGUpe3JldHVybiB0Ll9jbG9zZWRQcm9taXNlUmVzb2x2ZT1lfSkpfXJldHVybiBlLnByb3RvdHlwZS5jYW5jZWw9ZnVuY3Rpb24oZSl7cmV0dXJuIGpvLl9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIGpvLl9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5yZXR1cm4oZSldO2Nhc2UgMTpyZXR1cm4gdC5zZW50KCksWzJdfX0pKX0pKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJjbG9zZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2xvc2VkUHJvbWlzZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5yZWFkPWZ1bmN0aW9uKGUpe3JldHVybiBqby5fX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBqby5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMubmV4dChlLCJyZWFkIildO2Nhc2UgMTpyZXR1cm5bMix0LnNlbnQoKS52YWx1ZV19fSkpfSkpfSxlLnByb3RvdHlwZS5wZWVrPWZ1bmN0aW9uKGUpe3JldHVybiBqby5fX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBqby5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMubmV4dChlLCJwZWVrIildO2Nhc2UgMTpyZXR1cm5bMix0LnNlbnQoKS52YWx1ZV19fSkpfSkpfSxlLnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMD09PXQmJih0PSJyZWFkIiksam8uX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gam8uX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24ocil7c3dpdGNoKHIubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnNvdXJjZS5uZXh0KHtjbWQ6dCxzaXplOmV9KV07Y2FzZSAxOnJldHVyblsyLHIuc2VudCgpXX19KSl9KSl9LGUucHJvdG90eXBlLnRocm93PWZ1bmN0aW9uKGUpe3JldHVybiBqby5fX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciB0LHI7cmV0dXJuIGpvLl9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKG4pe3N3aXRjaChuLmxhYmVsKXtjYXNlIDA6cmV0dXJuKHI9dGhpcy5zb3VyY2UudGhyb3cpP1s0LHRoaXMuc291cmNlLnRocm93KGUpXTpbMywyXTtjYXNlIDE6cj1uLnNlbnQoKSxuLmxhYmVsPTI7Y2FzZSAyOnJldHVybiB0PXJ8fFJvLklURVJBVE9SX0RPTkUsdGhpcy5fY2xvc2VkUHJvbWlzZVJlc29sdmUmJnRoaXMuX2Nsb3NlZFByb21pc2VSZXNvbHZlKCksdGhpcy5fY2xvc2VkUHJvbWlzZVJlc29sdmU9dm9pZCAwLFsyLE9iamVjdC5jcmVhdGUodCldfX0pKX0pKX0sZS5wcm90b3R5cGUucmV0dXJuPWZ1bmN0aW9uKGUpe3JldHVybiBqby5fX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciB0LHI7cmV0dXJuIGpvLl9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKG4pe3N3aXRjaChuLmxhYmVsKXtjYXNlIDA6cmV0dXJuKHI9dGhpcy5zb3VyY2UucmV0dXJuKT9bNCx0aGlzLnNvdXJjZS5yZXR1cm4oZSldOlszLDJdO2Nhc2UgMTpyPW4uc2VudCgpLG4ubGFiZWw9MjtjYXNlIDI6cmV0dXJuIHQ9cnx8Um8uSVRFUkFUT1JfRE9ORSx0aGlzLl9jbG9zZWRQcm9taXNlUmVzb2x2ZSYmdGhpcy5fY2xvc2VkUHJvbWlzZVJlc29sdmUoKSx0aGlzLl9jbG9zZWRQcm9taXNlUmVzb2x2ZT12b2lkIDAsWzIsT2JqZWN0LmNyZWF0ZSh0KV19fSkpfSkpfSxlfSgpLEhvPXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShIbywiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksSG8uQXN5bmNSYW5kb21BY2Nlc3NGaWxlPUhvLlJhbmRvbUFjY2Vzc0ZpbGU9dm9pZCAwO3ZhciBHbz1ILmV4cG9ydHMsSm89VW8sWm89RyxLbz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQscil7dmFyIG49ZS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBuLnBvc2l0aW9uPTAsbi5idWZmZXI9Wm8udG9VaW50OEFycmF5KHQpLG4uc2l6ZT12b2lkIDA9PT1yP24uYnVmZmVyLmJ5dGVMZW5ndGg6cixufXJldHVybiBHby5fX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS5yZWFkSW50MzI9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5yZWFkQXQoZSw0KSxyPXQuYnVmZmVyLG49dC5ieXRlT2Zmc2V0O3JldHVybiBuZXcgRGF0YVZpZXcocixuKS5nZXRJbnQzMigwLCEwKX0sdC5wcm90b3R5cGUuc2Vlaz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wb3NpdGlvbj1NYXRoLm1pbihlLHRoaXMuc2l6ZSksZTx0aGlzLnNpemV9LHQucHJvdG90eXBlLnJlYWQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXQuYnVmZmVyLG49dC5zaXplLGk9dC5wb3NpdGlvbjtyZXR1cm4gciYmaTxuPygibnVtYmVyIiE9dHlwZW9mIGUmJihlPTEvMCksdGhpcy5wb3NpdGlvbj1NYXRoLm1pbihuLGkrTWF0aC5taW4obi1pLGUpKSxyLnN1YmFycmF5KGksdGhpcy5wb3NpdGlvbikpOm51bGx9LHQucHJvdG90eXBlLnJlYWRBdD1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuYnVmZmVyLG49TWF0aC5taW4odGhpcy5zaXplLGUrdCk7cmV0dXJuIHI/ci5zdWJhcnJheShlLG4pOm5ldyBVaW50OEFycmF5KHQpfSx0LnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpe3RoaXMuYnVmZmVyJiYodGhpcy5idWZmZXI9bnVsbCl9LHQucHJvdG90eXBlLnRocm93PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmNsb3NlKCkse2RvbmU6ITAsdmFsdWU6ZX19LHQucHJvdG90eXBlLnJldHVybj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jbG9zZSgpLHtkb25lOiEwLHZhbHVlOmV9fSx0fShKby5CeXRlU3RyZWFtKTtIby5SYW5kb21BY2Nlc3NGaWxlPUtvO3ZhciBYbz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQscil7dmFyIG49ZS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBuLnBvc2l0aW9uPTAsbi5faGFuZGxlPXQsIm51bWJlciI9PXR5cGVvZiByP24uc2l6ZT1yOm4uX3BlbmRpbmc9R28uX19hd2FpdGVyKG4sdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gR28uX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24ocil7c3dpdGNoKHIubGFiZWwpe2Nhc2UgMDpyZXR1cm4gZT10aGlzLFs0LHQuc3RhdCgpXTtjYXNlIDE6cmV0dXJuIGUuc2l6ZT1yLnNlbnQoKS5zaXplLGRlbGV0ZSB0aGlzLl9wZW5kaW5nLFsyXX19KSl9KSksbn1yZXR1cm4gR28uX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUucmVhZEludDMyPWZ1bmN0aW9uKGUpe3JldHVybiBHby5fX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciB0LHIsbjtyZXR1cm4gR28uX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24oaSl7c3dpdGNoKGkubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnJlYWRBdChlLDQpXTtjYXNlIDE6cmV0dXJuIHQ9aS5zZW50KCkscj10LmJ1ZmZlcixuPXQuYnl0ZU9mZnNldCxbMixuZXcgRGF0YVZpZXcocixuKS5nZXRJbnQzMigwLCEwKV19fSkpfSkpfSx0LnByb3RvdHlwZS5zZWVrPWZ1bmN0aW9uKGUpe3JldHVybiBHby5fX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBHby5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybiB0aGlzLl9wZW5kaW5nP1s0LHRoaXMuX3BlbmRpbmddOlszLDJdO2Nhc2UgMTp0LnNlbnQoKSx0LmxhYmVsPTI7Y2FzZSAyOnJldHVybiB0aGlzLnBvc2l0aW9uPU1hdGgubWluKGUsdGhpcy5zaXplKSxbMixlPHRoaXMuc2l6ZV19fSkpfSkpfSx0LnByb3RvdHlwZS5yZWFkPWZ1bmN0aW9uKGUpe3JldHVybiBHby5fX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciB0LHIsbixpLG8sYSx1LHMsYztyZXR1cm4gR28uX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24obCl7c3dpdGNoKGwubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdGhpcy5fcGVuZGluZz9bNCx0aGlzLl9wZW5kaW5nXTpbMywyXTtjYXNlIDE6bC5zZW50KCksbC5sYWJlbD0yO2Nhc2UgMjppZihyPSh0PXRoaXMpLl9oYW5kbGUsbj10LnNpemUsaT10LnBvc2l0aW9uLCEociYmaTxuKSlyZXR1cm5bMyw2XTsibnVtYmVyIiE9dHlwZW9mIGUmJihlPTEvMCksbz1pLGE9MCx1PTAscz1NYXRoLm1pbihuLG8rTWF0aC5taW4obi1vLGUpKSxjPW5ldyBVaW50OEFycmF5KE1hdGgubWF4KDAsKHRoaXMucG9zaXRpb249cyktbykpLGwubGFiZWw9MztjYXNlIDM6cmV0dXJuKG8rPXUpPHMmJihhKz11KTxjLmJ5dGVMZW5ndGg/WzQsci5yZWFkKGMsYSxjLmJ5dGVMZW5ndGgtYSxvKV06WzMsNV07Y2FzZSA0OnJldHVybiB1PWwuc2VudCgpLmJ5dGVzUmVhZCxbMywzXTtjYXNlIDU6cmV0dXJuWzIsY107Y2FzZSA2OnJldHVyblsyLG51bGxdfX0pKX0pKX0sdC5wcm90b3R5cGUucmVhZEF0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIEdvLl9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHIsbixpLG8sYTtyZXR1cm4gR28uX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24odSl7c3dpdGNoKHUubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdGhpcy5fcGVuZGluZz9bNCx0aGlzLl9wZW5kaW5nXTpbMywyXTtjYXNlIDE6dS5zZW50KCksdS5sYWJlbD0yO2Nhc2UgMjpyZXR1cm4gbj0ocj10aGlzKS5faGFuZGxlLGk9ci5zaXplLG4mJmUrdDxpPyhvPU1hdGgubWluKGksZSt0KSxhPW5ldyBVaW50OEFycmF5KG8tZSksWzQsbi5yZWFkKGEsMCx0LGUpXSk6WzMsNF07Y2FzZSAzOnJldHVyblsyLHUuc2VudCgpLmJ1ZmZlcl07Y2FzZSA0OnJldHVyblsyLG5ldyBVaW50OEFycmF5KHQpXX19KSl9KSl9LHQucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKCl7cmV0dXJuIEdvLl9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIEdvLl9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuIGU9dGhpcy5faGFuZGxlLHRoaXMuX2hhbmRsZT1udWxsLGU/WzQsZS5jbG9zZSgpXTpbMywyXTtjYXNlIDE6dC5zZW50KCksdC5sYWJlbD0yO2Nhc2UgMjpyZXR1cm5bMl19fSkpfSkpfSx0LnByb3RvdHlwZS50aHJvdz1mdW5jdGlvbihlKXtyZXR1cm4gR28uX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gR28uX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmNsb3NlKCldO2Nhc2UgMTpyZXR1cm4gdC5zZW50KCksWzIse2RvbmU6ITAsdmFsdWU6ZX1dfX0pKX0pKX0sdC5wcm90b3R5cGUucmV0dXJuPWZ1bmN0aW9uKGUpe3JldHVybiBHby5fX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBHby5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuY2xvc2UoKV07Y2FzZSAxOnJldHVybiB0LnNlbnQoKSxbMix7ZG9uZTohMCx2YWx1ZTplfV19fSkpfSkpfSx0fShKby5Bc3luY0J5dGVTdHJlYW0pO0hvLkFzeW5jUmFuZG9tQWNjZXNzRmlsZT1Ybzt2YXIgcW89e30sUW89e307T2JqZWN0LmRlZmluZVByb3BlcnR5KFFvLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxRby5JbnQxMjg9UW8uSW50NjQ9UW8uVWludDY0PVFvLkJhc2VJbnQ2ND12b2lkIDA7dmFyICRvPUguZXhwb3J0cztmdW5jdGlvbiBlYShlKXtyZXR1cm4gZTwwJiYoZT00Mjk0OTY3Mjk1K2UrMSksIjB4IitlLnRvU3RyaW5nKDE2KX12YXIgdGE9WzEsMTAsMTAwLDFlMywxZTQsMWU1LDFlNiwxZTcsMWU4XSxyYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy5idWZmZXI9ZX1yZXR1cm4gZS5wcm90b3R5cGUuaGlnaD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJ1ZmZlclsxXX0sZS5wcm90b3R5cGUubG93PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYnVmZmVyWzBdfSxlLnByb3RvdHlwZS5fdGltZXM9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IFVpbnQzMkFycmF5KFt0aGlzLmJ1ZmZlclsxXT4+PjE2LDY1NTM1JnRoaXMuYnVmZmVyWzFdLHRoaXMuYnVmZmVyWzBdPj4+MTYsNjU1MzUmdGhpcy5idWZmZXJbMF1dKSxyPW5ldyBVaW50MzJBcnJheShbZS5idWZmZXJbMV0+Pj4xNiw2NTUzNSZlLmJ1ZmZlclsxXSxlLmJ1ZmZlclswXT4+PjE2LDY1NTM1JmUuYnVmZmVyWzBdXSksbj10WzNdKnJbM107dGhpcy5idWZmZXJbMF09NjU1MzUmbjt2YXIgaT1uPj4+MTY7cmV0dXJuIGkrPW49dFsyXSpyWzNdLGkrPW49dFszXSpyWzJdPj4+MCx0aGlzLmJ1ZmZlclswXSs9aTw8MTYsdGhpcy5idWZmZXJbMV09aT4+PjA8bj82NTUzNjowLHRoaXMuYnVmZmVyWzFdKz1pPj4+MTYsdGhpcy5idWZmZXJbMV0rPXRbMV0qclszXSt0WzJdKnJbMl0rdFszXSpyWzFdLHRoaXMuYnVmZmVyWzFdKz10WzBdKnJbM10rdFsxXSpyWzJdK3RbMl0qclsxXSt0WzNdKnJbMF08PDE2LHRoaXN9LGUucHJvdG90eXBlLl9wbHVzPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuYnVmZmVyWzBdK2UuYnVmZmVyWzBdPj4+MDt0aGlzLmJ1ZmZlclsxXSs9ZS5idWZmZXJbMV0sdDx0aGlzLmJ1ZmZlclswXT4+PjAmJisrdGhpcy5idWZmZXJbMV0sdGhpcy5idWZmZXJbMF09dH0sZS5wcm90b3R5cGUubGVzc1RoYW49ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYnVmZmVyWzFdPGUuYnVmZmVyWzFdfHx0aGlzLmJ1ZmZlclsxXT09PWUuYnVmZmVyWzFdJiZ0aGlzLmJ1ZmZlclswXTxlLmJ1ZmZlclswXX0sZS5wcm90b3R5cGUuZXF1YWxzPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmJ1ZmZlclsxXT09PWUuYnVmZmVyWzFdJiZ0aGlzLmJ1ZmZlclswXT09ZS5idWZmZXJbMF19LGUucHJvdG90eXBlLmdyZWF0ZXJUaGFuPWZ1bmN0aW9uKGUpe3JldHVybiBlLmxlc3NUaGFuKHRoaXMpfSxlLnByb3RvdHlwZS5oZXg9ZnVuY3Rpb24oKXtyZXR1cm4gZWEodGhpcy5idWZmZXJbMV0pKyIgIitlYSh0aGlzLmJ1ZmZlclswXSl9LGV9KCk7UW8uQmFzZUludDY0PXJhO3ZhciBuYT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gJG8uX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUudGltZXM9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3RpbWVzKGUpLHRoaXN9LHQucHJvdG90eXBlLnBsdXM9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3BsdXMoZSksdGhpc30sdC5mcm9tPWZ1bmN0aW9uKGUscil7cmV0dXJuIHZvaWQgMD09PXImJihyPW5ldyBVaW50MzJBcnJheSgyKSksdC5mcm9tU3RyaW5nKCJzdHJpbmciPT10eXBlb2YgZT9lOmUudG9TdHJpbmcoKSxyKX0sdC5mcm9tTnVtYmVyPWZ1bmN0aW9uKGUscil7cmV0dXJuIHZvaWQgMD09PXImJihyPW5ldyBVaW50MzJBcnJheSgyKSksdC5mcm9tU3RyaW5nKGUudG9TdHJpbmcoKSxyKX0sdC5mcm9tU3RyaW5nPWZ1bmN0aW9uKGUscil7dm9pZCAwPT09ciYmKHI9bmV3IFVpbnQzMkFycmF5KDIpKTtmb3IodmFyIG49ZS5sZW5ndGgsaT1uZXcgdChyKSxvPTA7bzxuOyl7dmFyIGE9ODxuLW8/ODpuLW8sdT1uZXcgdChuZXcgVWludDMyQXJyYXkoW3BhcnNlSW50KGUuc3Vic3RyKG8sYSksMTApLDBdKSkscz1uZXcgdChuZXcgVWludDMyQXJyYXkoW3RhW2FdLDBdKSk7aS50aW1lcyhzKSxpLnBsdXModSksbys9YX1yZXR1cm4gaX0sdC5jb252ZXJ0QXJyYXk9ZnVuY3Rpb24oZSl7Zm9yKHZhciByPW5ldyBVaW50MzJBcnJheSgyKmUubGVuZ3RoKSxuPS0xLGk9ZS5sZW5ndGg7KytuPGk7KXQuZnJvbShlW25dLG5ldyBVaW50MzJBcnJheShyLmJ1ZmZlcixyLmJ5dGVPZmZzZXQrMipuKjQsMikpO3JldHVybiByfSx0Lm11bHRpcGx5PWZ1bmN0aW9uKGUscil7cmV0dXJuIG5ldyB0KG5ldyBVaW50MzJBcnJheShlLmJ1ZmZlcikpLnRpbWVzKHIpfSx0LmFkZD1mdW5jdGlvbihlLHIpe3JldHVybiBuZXcgdChuZXcgVWludDMyQXJyYXkoZS5idWZmZXIpKS5wbHVzKHIpfSx0fShyYSk7UW8uVWludDY0PW5hO3ZhciBpYT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gJG8uX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUubmVnYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYnVmZmVyWzBdPTErfnRoaXMuYnVmZmVyWzBdLHRoaXMuYnVmZmVyWzFdPX50aGlzLmJ1ZmZlclsxXSwwPT10aGlzLmJ1ZmZlclswXSYmKyt0aGlzLmJ1ZmZlclsxXSx0aGlzfSx0LnByb3RvdHlwZS50aW1lcz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fdGltZXMoZSksdGhpc30sdC5wcm90b3R5cGUucGx1cz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fcGx1cyhlKSx0aGlzfSx0LnByb3RvdHlwZS5sZXNzVGhhbj1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmJ1ZmZlclsxXTw8MCxyPWUuYnVmZmVyWzFdPDwwO3JldHVybiB0PHJ8fHQ9PT1yJiZ0aGlzLmJ1ZmZlclswXTxlLmJ1ZmZlclswXX0sdC5mcm9tPWZ1bmN0aW9uKGUscil7cmV0dXJuIHZvaWQgMD09PXImJihyPW5ldyBVaW50MzJBcnJheSgyKSksdC5mcm9tU3RyaW5nKCJzdHJpbmciPT10eXBlb2YgZT9lOmUudG9TdHJpbmcoKSxyKX0sdC5mcm9tTnVtYmVyPWZ1bmN0aW9uKGUscil7cmV0dXJuIHZvaWQgMD09PXImJihyPW5ldyBVaW50MzJBcnJheSgyKSksdC5mcm9tU3RyaW5nKGUudG9TdHJpbmcoKSxyKX0sdC5mcm9tU3RyaW5nPWZ1bmN0aW9uKGUscil7dm9pZCAwPT09ciYmKHI9bmV3IFVpbnQzMkFycmF5KDIpKTtmb3IodmFyIG49ZS5zdGFydHNXaXRoKCItIiksaT1lLmxlbmd0aCxvPW5ldyB0KHIpLGE9bj8xOjA7YTxpOyl7dmFyIHU9ODxpLWE/ODppLWEscz1uZXcgdChuZXcgVWludDMyQXJyYXkoW3BhcnNlSW50KGUuc3Vic3RyKGEsdSksMTApLDBdKSksYz1uZXcgdChuZXcgVWludDMyQXJyYXkoW3RhW3VdLDBdKSk7by50aW1lcyhjKSxvLnBsdXMocyksYSs9dX1yZXR1cm4gbj9vLm5lZ2F0ZSgpOm99LHQuY29udmVydEFycmF5PWZ1bmN0aW9uKGUpe2Zvcih2YXIgcj1uZXcgVWludDMyQXJyYXkoMiplLmxlbmd0aCksbj0tMSxpPWUubGVuZ3RoOysrbjxpOyl0LmZyb20oZVtuXSxuZXcgVWludDMyQXJyYXkoci5idWZmZXIsci5ieXRlT2Zmc2V0KzIqbio0LDIpKTtyZXR1cm4gcn0sdC5tdWx0aXBseT1mdW5jdGlvbihlLHIpe3JldHVybiBuZXcgdChuZXcgVWludDMyQXJyYXkoZS5idWZmZXIpKS50aW1lcyhyKX0sdC5hZGQ9ZnVuY3Rpb24oZSxyKXtyZXR1cm4gbmV3IHQobmV3IFVpbnQzMkFycmF5KGUuYnVmZmVyKSkucGx1cyhyKX0sdH0ocmEpO1FvLkludDY0PWlhO3ZhciBvYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy5idWZmZXI9ZX1yZXR1cm4gZS5wcm90b3R5cGUuaGlnaD1mdW5jdGlvbigpe3JldHVybiBuZXcgaWEobmV3IFVpbnQzMkFycmF5KHRoaXMuYnVmZmVyLmJ1ZmZlcix0aGlzLmJ1ZmZlci5ieXRlT2Zmc2V0KzgsMikpfSxlLnByb3RvdHlwZS5sb3c9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGlhKG5ldyBVaW50MzJBcnJheSh0aGlzLmJ1ZmZlci5idWZmZXIsdGhpcy5idWZmZXIuYnl0ZU9mZnNldCwyKSl9LGUucHJvdG90eXBlLm5lZ2F0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJ1ZmZlclswXT0xK350aGlzLmJ1ZmZlclswXSx0aGlzLmJ1ZmZlclsxXT1+dGhpcy5idWZmZXJbMV0sdGhpcy5idWZmZXJbMl09fnRoaXMuYnVmZmVyWzJdLHRoaXMuYnVmZmVyWzNdPX50aGlzLmJ1ZmZlclszXSwwPT10aGlzLmJ1ZmZlclswXSYmKyt0aGlzLmJ1ZmZlclsxXSwwPT10aGlzLmJ1ZmZlclsxXSYmKyt0aGlzLmJ1ZmZlclsyXSwwPT10aGlzLmJ1ZmZlclsyXSYmKyt0aGlzLmJ1ZmZlclszXSx0aGlzfSxlLnByb3RvdHlwZS50aW1lcz1mdW5jdGlvbihlKXt2YXIgdD1uZXcgbmEobmV3IFVpbnQzMkFycmF5KFt0aGlzLmJ1ZmZlclszXSwwXSkpLHI9bmV3IG5hKG5ldyBVaW50MzJBcnJheShbdGhpcy5idWZmZXJbMl0sMF0pKSxuPW5ldyBuYShuZXcgVWludDMyQXJyYXkoW3RoaXMuYnVmZmVyWzFdLDBdKSksaT1uZXcgbmEobmV3IFVpbnQzMkFycmF5KFt0aGlzLmJ1ZmZlclswXSwwXSkpLG89bmV3IG5hKG5ldyBVaW50MzJBcnJheShbZS5idWZmZXJbM10sMF0pKSxhPW5ldyBuYShuZXcgVWludDMyQXJyYXkoW2UuYnVmZmVyWzJdLDBdKSksdT1uZXcgbmEobmV3IFVpbnQzMkFycmF5KFtlLmJ1ZmZlclsxXSwwXSkpLHM9bmV3IG5hKG5ldyBVaW50MzJBcnJheShbZS5idWZmZXJbMF0sMF0pKSxjPW5hLm11bHRpcGx5KGkscyk7dGhpcy5idWZmZXJbMF09Yy5sb3coKTt2YXIgbD1uZXcgbmEobmV3IFVpbnQzMkFycmF5KFtjLmhpZ2goKSwwXSkpO3JldHVybiBjPW5hLm11bHRpcGx5KG4scyksbC5wbHVzKGMpLGM9bmEubXVsdGlwbHkoaSx1KSxsLnBsdXMoYyksdGhpcy5idWZmZXJbMV09bC5sb3coKSx0aGlzLmJ1ZmZlclszXT1sLmxlc3NUaGFuKGMpPzE6MCx0aGlzLmJ1ZmZlclsyXT1sLmhpZ2goKSxuZXcgbmEobmV3IFVpbnQzMkFycmF5KHRoaXMuYnVmZmVyLmJ1ZmZlcix0aGlzLmJ1ZmZlci5ieXRlT2Zmc2V0KzgsMikpLnBsdXMobmEubXVsdGlwbHkocixzKSkucGx1cyhuYS5tdWx0aXBseShuLHUpKS5wbHVzKG5hLm11bHRpcGx5KGksYSkpLHRoaXMuYnVmZmVyWzNdKz1uYS5tdWx0aXBseSh0LHMpLnBsdXMobmEubXVsdGlwbHkocix1KSkucGx1cyhuYS5tdWx0aXBseShuLGEpKS5wbHVzKG5hLm11bHRpcGx5KGksbykpLmxvdygpLHRoaXN9LGUucHJvdG90eXBlLnBsdXM9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IFVpbnQzMkFycmF5KDQpO3JldHVybiB0WzNdPXRoaXMuYnVmZmVyWzNdK2UuYnVmZmVyWzNdPj4+MCx0WzJdPXRoaXMuYnVmZmVyWzJdK2UuYnVmZmVyWzJdPj4+MCx0WzFdPXRoaXMuYnVmZmVyWzFdK2UuYnVmZmVyWzFdPj4+MCx0WzBdPXRoaXMuYnVmZmVyWzBdK2UuYnVmZmVyWzBdPj4+MCx0WzBdPHRoaXMuYnVmZmVyWzBdPj4+MCYmKyt0WzFdLHRbMV08dGhpcy5idWZmZXJbMV0+Pj4wJiYrK3RbMl0sdFsyXTx0aGlzLmJ1ZmZlclsyXT4+PjAmJisrdFszXSx0aGlzLmJ1ZmZlclszXT10WzNdLHRoaXMuYnVmZmVyWzJdPXRbMl0sdGhpcy5idWZmZXJbMV09dFsxXSx0aGlzLmJ1ZmZlclswXT10WzBdLHRoaXN9LGUucHJvdG90eXBlLmhleD1mdW5jdGlvbigpe3JldHVybiBlYSh0aGlzLmJ1ZmZlclszXSkrIiAiK2VhKHRoaXMuYnVmZmVyWzJdKSsiICIrZWEodGhpcy5idWZmZXJbMV0pKyIgIitlYSh0aGlzLmJ1ZmZlclswXSl9LGUubXVsdGlwbHk9ZnVuY3Rpb24odCxyKXtyZXR1cm4gbmV3IGUobmV3IFVpbnQzMkFycmF5KHQuYnVmZmVyKSkudGltZXMocil9LGUuYWRkPWZ1bmN0aW9uKHQscil7cmV0dXJuIG5ldyBlKG5ldyBVaW50MzJBcnJheSh0LmJ1ZmZlcikpLnBsdXMocil9LGUuZnJvbT1mdW5jdGlvbih0LHIpe3JldHVybiB2b2lkIDA9PT1yJiYocj1uZXcgVWludDMyQXJyYXkoNCkpLGUuZnJvbVN0cmluZygic3RyaW5nIj09dHlwZW9mIHQ/dDp0LnRvU3RyaW5nKCkscil9LGUuZnJvbU51bWJlcj1mdW5jdGlvbih0LHIpe3JldHVybiB2b2lkIDA9PT1yJiYocj1uZXcgVWludDMyQXJyYXkoNCkpLGUuZnJvbVN0cmluZyh0LnRvU3RyaW5nKCkscil9LGUuZnJvbVN0cmluZz1mdW5jdGlvbih0LHIpe3ZvaWQgMD09PXImJihyPW5ldyBVaW50MzJBcnJheSg0KSk7Zm9yKHZhciBuPXQuc3RhcnRzV2l0aCgiLSIpLGk9dC5sZW5ndGgsbz1uZXcgZShyKSxhPW4/MTowO2E8aTspe3ZhciB1PTg8aS1hPzg6aS1hLHM9bmV3IGUobmV3IFVpbnQzMkFycmF5KFtwYXJzZUludCh0LnN1YnN0cihhLHUpLDEwKSwwLDAsMF0pKSxjPW5ldyBlKG5ldyBVaW50MzJBcnJheShbdGFbdV0sMCwwLDBdKSk7by50aW1lcyhjKSxvLnBsdXMocyksYSs9dX1yZXR1cm4gbj9vLm5lZ2F0ZSgpOm99LGUuY29udmVydEFycmF5PWZ1bmN0aW9uKHQpe2Zvcih2YXIgcj1uZXcgVWludDMyQXJyYXkoNCp0Lmxlbmd0aCksbj0tMSxpPXQubGVuZ3RoOysrbjxpOyllLmZyb20odFtuXSxuZXcgVWludDMyQXJyYXkoci5idWZmZXIsci5ieXRlT2Zmc2V0KzE2Km4sNCkpO3JldHVybiByfSxlfSgpO1FvLkludDEyOD1vYSxPYmplY3QuZGVmaW5lUHJvcGVydHkocW8sIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHFvLkpTT05WZWN0b3JMb2FkZXI9cW8uVmVjdG9yTG9hZGVyPXZvaWQgMDt2YXIgYWE9SC5leHBvcnRzLHVhPUllLHNhPURuLGNhPUZlLGxhPXdlLGZhPUssZGE9UW8scGE9Z2UseWE9RyxoYT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQscixuLGkpe3ZhciBvPWUuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gby5ub2Rlc0luZGV4PS0xLG8uYnVmZmVyc0luZGV4PS0xLG8uYnl0ZXM9dCxvLm5vZGVzPXIsby5idWZmZXJzPW4sby5kaWN0aW9uYXJpZXM9aSxvfXJldHVybiBhYS5fX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS52aXNpdD1mdW5jdGlvbih0KXtyZXR1cm4gZS5wcm90b3R5cGUudmlzaXQuY2FsbCh0aGlzLHQgaW5zdGFuY2VvZiBzYS5GaWVsZD90LnR5cGU6dCl9LHQucHJvdG90eXBlLnZpc2l0TnVsbD1mdW5jdGlvbihlLHQpe3ZhciByPSh2b2lkIDA9PT10P3RoaXMubmV4dEZpZWxkTm9kZSgpOnQpLmxlbmd0aDtyZXR1cm4gdWEuRGF0YS5OdWxsKGUsMCxyKX0sdC5wcm90b3R5cGUudmlzaXRCb29sPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dm9pZCAwPT09dD90aGlzLm5leHRGaWVsZE5vZGUoKTp0LG49ci5sZW5ndGgsaT1yLm51bGxDb3VudDtyZXR1cm4gdWEuRGF0YS5Cb29sKGUsMCxuLGksdGhpcy5yZWFkTnVsbEJpdG1hcChlLGkpLHRoaXMucmVhZERhdGEoZSkpfSx0LnByb3RvdHlwZS52aXNpdEludD1mdW5jdGlvbihlLHQpe3ZhciByPXZvaWQgMD09PXQ/dGhpcy5uZXh0RmllbGROb2RlKCk6dCxuPXIubGVuZ3RoLGk9ci5udWxsQ291bnQ7cmV0dXJuIHVhLkRhdGEuSW50KGUsMCxuLGksdGhpcy5yZWFkTnVsbEJpdG1hcChlLGkpLHRoaXMucmVhZERhdGEoZSkpfSx0LnByb3RvdHlwZS52aXNpdEZsb2F0PWZ1bmN0aW9uKGUsdCl7dmFyIHI9dm9pZCAwPT09dD90aGlzLm5leHRGaWVsZE5vZGUoKTp0LG49ci5sZW5ndGgsaT1yLm51bGxDb3VudDtyZXR1cm4gdWEuRGF0YS5GbG9hdChlLDAsbixpLHRoaXMucmVhZE51bGxCaXRtYXAoZSxpKSx0aGlzLnJlYWREYXRhKGUpKX0sdC5wcm90b3R5cGUudmlzaXRVdGY4PWZ1bmN0aW9uKGUsdCl7dmFyIHI9dm9pZCAwPT09dD90aGlzLm5leHRGaWVsZE5vZGUoKTp0LG49ci5sZW5ndGgsaT1yLm51bGxDb3VudDtyZXR1cm4gdWEuRGF0YS5VdGY4KGUsMCxuLGksdGhpcy5yZWFkTnVsbEJpdG1hcChlLGkpLHRoaXMucmVhZE9mZnNldHMoZSksdGhpcy5yZWFkRGF0YShlKSl9LHQucHJvdG90eXBlLnZpc2l0QmluYXJ5PWZ1bmN0aW9uKGUsdCl7dmFyIHI9dm9pZCAwPT09dD90aGlzLm5leHRGaWVsZE5vZGUoKTp0LG49ci5sZW5ndGgsaT1yLm51bGxDb3VudDtyZXR1cm4gdWEuRGF0YS5CaW5hcnkoZSwwLG4saSx0aGlzLnJlYWROdWxsQml0bWFwKGUsaSksdGhpcy5yZWFkT2Zmc2V0cyhlKSx0aGlzLnJlYWREYXRhKGUpKX0sdC5wcm90b3R5cGUudmlzaXRGaXhlZFNpemVCaW5hcnk9ZnVuY3Rpb24oZSx0KXt2YXIgcj12b2lkIDA9PT10P3RoaXMubmV4dEZpZWxkTm9kZSgpOnQsbj1yLmxlbmd0aCxpPXIubnVsbENvdW50O3JldHVybiB1YS5EYXRhLkZpeGVkU2l6ZUJpbmFyeShlLDAsbixpLHRoaXMucmVhZE51bGxCaXRtYXAoZSxpKSx0aGlzLnJlYWREYXRhKGUpKX0sdC5wcm90b3R5cGUudmlzaXREYXRlPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dm9pZCAwPT09dD90aGlzLm5leHRGaWVsZE5vZGUoKTp0LG49ci5sZW5ndGgsaT1yLm51bGxDb3VudDtyZXR1cm4gdWEuRGF0YS5EYXRlKGUsMCxuLGksdGhpcy5yZWFkTnVsbEJpdG1hcChlLGkpLHRoaXMucmVhZERhdGEoZSkpfSx0LnByb3RvdHlwZS52aXNpdFRpbWVzdGFtcD1mdW5jdGlvbihlLHQpe3ZhciByPXZvaWQgMD09PXQ/dGhpcy5uZXh0RmllbGROb2RlKCk6dCxuPXIubGVuZ3RoLGk9ci5udWxsQ291bnQ7cmV0dXJuIHVhLkRhdGEuVGltZXN0YW1wKGUsMCxuLGksdGhpcy5yZWFkTnVsbEJpdG1hcChlLGkpLHRoaXMucmVhZERhdGEoZSkpfSx0LnByb3RvdHlwZS52aXNpdFRpbWU9ZnVuY3Rpb24oZSx0KXt2YXIgcj12b2lkIDA9PT10P3RoaXMubmV4dEZpZWxkTm9kZSgpOnQsbj1yLmxlbmd0aCxpPXIubnVsbENvdW50O3JldHVybiB1YS5EYXRhLlRpbWUoZSwwLG4saSx0aGlzLnJlYWROdWxsQml0bWFwKGUsaSksdGhpcy5yZWFkRGF0YShlKSl9LHQucHJvdG90eXBlLnZpc2l0RGVjaW1hbD1mdW5jdGlvbihlLHQpe3ZhciByPXZvaWQgMD09PXQ/dGhpcy5uZXh0RmllbGROb2RlKCk6dCxuPXIubGVuZ3RoLGk9ci5udWxsQ291bnQ7cmV0dXJuIHVhLkRhdGEuRGVjaW1hbChlLDAsbixpLHRoaXMucmVhZE51bGxCaXRtYXAoZSxpKSx0aGlzLnJlYWREYXRhKGUpKX0sdC5wcm90b3R5cGUudmlzaXRMaXN0PWZ1bmN0aW9uKGUsdCl7dmFyIHI9dm9pZCAwPT09dD90aGlzLm5leHRGaWVsZE5vZGUoKTp0LG49ci5sZW5ndGgsaT1yLm51bGxDb3VudDtyZXR1cm4gdWEuRGF0YS5MaXN0KGUsMCxuLGksdGhpcy5yZWFkTnVsbEJpdG1hcChlLGkpLHRoaXMucmVhZE9mZnNldHMoZSksdGhpcy52aXNpdChlLmNoaWxkcmVuWzBdKSl9LHQucHJvdG90eXBlLnZpc2l0U3RydWN0PWZ1bmN0aW9uKGUsdCl7dmFyIHI9dm9pZCAwPT09dD90aGlzLm5leHRGaWVsZE5vZGUoKTp0LG49ci5sZW5ndGgsaT1yLm51bGxDb3VudDtyZXR1cm4gdWEuRGF0YS5TdHJ1Y3QoZSwwLG4saSx0aGlzLnJlYWROdWxsQml0bWFwKGUsaSksdGhpcy52aXNpdE1hbnkoZS5jaGlsZHJlbikpfSx0LnByb3RvdHlwZS52aXNpdFVuaW9uPWZ1bmN0aW9uKGUpe3JldHVybiBlLm1vZGU9PT1wYS5Vbmlvbk1vZGUuU3BhcnNlP3RoaXMudmlzaXRTcGFyc2VVbmlvbihlKTp0aGlzLnZpc2l0RGVuc2VVbmlvbihlKX0sdC5wcm90b3R5cGUudmlzaXREZW5zZVVuaW9uPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dm9pZCAwPT09dD90aGlzLm5leHRGaWVsZE5vZGUoKTp0LG49ci5sZW5ndGgsaT1yLm51bGxDb3VudDtyZXR1cm4gdWEuRGF0YS5VbmlvbihlLDAsbixpLHRoaXMucmVhZE51bGxCaXRtYXAoZSxpKSx0aGlzLnJlYWRUeXBlSWRzKGUpLHRoaXMucmVhZE9mZnNldHMoZSksdGhpcy52aXNpdE1hbnkoZS5jaGlsZHJlbikpfSx0LnByb3RvdHlwZS52aXNpdFNwYXJzZVVuaW9uPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dm9pZCAwPT09dD90aGlzLm5leHRGaWVsZE5vZGUoKTp0LG49ci5sZW5ndGgsaT1yLm51bGxDb3VudDtyZXR1cm4gdWEuRGF0YS5VbmlvbihlLDAsbixpLHRoaXMucmVhZE51bGxCaXRtYXAoZSxpKSx0aGlzLnJlYWRUeXBlSWRzKGUpLHRoaXMudmlzaXRNYW55KGUuY2hpbGRyZW4pKX0sdC5wcm90b3R5cGUudmlzaXREaWN0aW9uYXJ5PWZ1bmN0aW9uKGUsdCl7dmFyIHI9dm9pZCAwPT09dD90aGlzLm5leHRGaWVsZE5vZGUoKTp0LG49ci5sZW5ndGgsaT1yLm51bGxDb3VudDtyZXR1cm4gdWEuRGF0YS5EaWN0aW9uYXJ5KGUsMCxuLGksdGhpcy5yZWFkTnVsbEJpdG1hcChlLGkpLHRoaXMucmVhZERhdGEoZS5pbmRpY2VzKSx0aGlzLnJlYWREaWN0aW9uYXJ5KGUpKX0sdC5wcm90b3R5cGUudmlzaXRJbnRlcnZhbD1mdW5jdGlvbihlLHQpe3ZhciByPXZvaWQgMD09PXQ/dGhpcy5uZXh0RmllbGROb2RlKCk6dCxuPXIubGVuZ3RoLGk9ci5udWxsQ291bnQ7cmV0dXJuIHVhLkRhdGEuSW50ZXJ2YWwoZSwwLG4saSx0aGlzLnJlYWROdWxsQml0bWFwKGUsaSksdGhpcy5yZWFkRGF0YShlKSl9LHQucHJvdG90eXBlLnZpc2l0Rml4ZWRTaXplTGlzdD1mdW5jdGlvbihlLHQpe3ZhciByPXZvaWQgMD09PXQ/dGhpcy5uZXh0RmllbGROb2RlKCk6dCxuPXIubGVuZ3RoLGk9ci5udWxsQ291bnQ7cmV0dXJuIHVhLkRhdGEuRml4ZWRTaXplTGlzdChlLDAsbixpLHRoaXMucmVhZE51bGxCaXRtYXAoZSxpKSx0aGlzLnZpc2l0KGUuY2hpbGRyZW5bMF0pKX0sdC5wcm90b3R5cGUudmlzaXRNYXA9ZnVuY3Rpb24oZSx0KXt2YXIgcj12b2lkIDA9PT10P3RoaXMubmV4dEZpZWxkTm9kZSgpOnQsbj1yLmxlbmd0aCxpPXIubnVsbENvdW50O3JldHVybiB1YS5EYXRhLk1hcChlLDAsbixpLHRoaXMucmVhZE51bGxCaXRtYXAoZSxpKSx0aGlzLnJlYWRPZmZzZXRzKGUpLHRoaXMudmlzaXQoZS5jaGlsZHJlblswXSkpfSx0LnByb3RvdHlwZS5uZXh0RmllbGROb2RlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubm9kZXNbKyt0aGlzLm5vZGVzSW5kZXhdfSx0LnByb3RvdHlwZS5uZXh0QnVmZmVyUmFuZ2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5idWZmZXJzWysrdGhpcy5idWZmZXJzSW5kZXhdfSx0LnByb3RvdHlwZS5yZWFkTnVsbEJpdG1hcD1mdW5jdGlvbihlLHQscil7cmV0dXJuIHZvaWQgMD09PXImJihyPXRoaXMubmV4dEJ1ZmZlclJhbmdlKCkpLHQ+MCYmdGhpcy5yZWFkRGF0YShlLHIpfHxuZXcgVWludDhBcnJheSgwKX0sdC5wcm90b3R5cGUucmVhZE9mZnNldHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5yZWFkRGF0YShlLHQpfSx0LnByb3RvdHlwZS5yZWFkVHlwZUlkcz1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLnJlYWREYXRhKGUsdCl9LHQucHJvdG90eXBlLnJlYWREYXRhPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dm9pZCAwPT09dD90aGlzLm5leHRCdWZmZXJSYW5nZSgpOnQsbj1yLmxlbmd0aCxpPXIub2Zmc2V0O3JldHVybiB0aGlzLmJ5dGVzLnN1YmFycmF5KGksaStuKX0sdC5wcm90b3R5cGUucmVhZERpY3Rpb25hcnk9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZGljdGlvbmFyaWVzLmdldChlLmlkKX0sdH0oZGkuVmlzaXRvcik7cW8uVmVjdG9yTG9hZGVyPWhhO3ZhciBiYT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQscixuLGkpe3ZhciBvPWUuY2FsbCh0aGlzLG5ldyBVaW50OEFycmF5KDApLHIsbixpKXx8dGhpcztyZXR1cm4gby5zb3VyY2VzPXQsb31yZXR1cm4gYWEuX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUucmVhZE51bGxCaXRtYXA9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPSh2b2lkIDA9PT1yP3RoaXMubmV4dEJ1ZmZlclJhbmdlKCk6cikub2Zmc2V0O3JldHVybiB0PD0wP25ldyBVaW50OEFycmF5KDApOmxhLnBhY2tCb29scyh0aGlzLnNvdXJjZXNbbl0pfSx0LnByb3RvdHlwZS5yZWFkT2Zmc2V0cz1mdW5jdGlvbihlLHQpe3ZhciByPSh2b2lkIDA9PT10P3RoaXMubmV4dEJ1ZmZlclJhbmdlKCk6dCkub2Zmc2V0O3JldHVybiB5YS50b0FycmF5QnVmZmVyVmlldyhVaW50OEFycmF5LHlhLnRvQXJyYXlCdWZmZXJWaWV3KEludDMyQXJyYXksdGhpcy5zb3VyY2VzW3JdKSl9LHQucHJvdG90eXBlLnJlYWRUeXBlSWRzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9KHZvaWQgMD09PXQ/dGhpcy5uZXh0QnVmZmVyUmFuZ2UoKTp0KS5vZmZzZXQ7cmV0dXJuIHlhLnRvQXJyYXlCdWZmZXJWaWV3KFVpbnQ4QXJyYXkseWEudG9BcnJheUJ1ZmZlclZpZXcoZS5BcnJheVR5cGUsdGhpcy5zb3VyY2VzW3JdKSl9LHQucHJvdG90eXBlLnJlYWREYXRhPWZ1bmN0aW9uKGUsdCl7dmFyIHI9KHZvaWQgMD09PXQ/dGhpcy5uZXh0QnVmZmVyUmFuZ2UoKTp0KS5vZmZzZXQsbj10aGlzLnNvdXJjZXM7cmV0dXJuIGNhLkRhdGFUeXBlLmlzVGltZXN0YW1wKGUpfHwoY2EuRGF0YVR5cGUuaXNJbnQoZSl8fGNhLkRhdGFUeXBlLmlzVGltZShlKSkmJjY0PT09ZS5iaXRXaWR0aHx8Y2EuRGF0YVR5cGUuaXNEYXRlKGUpJiZlLnVuaXQ9PT1wYS5EYXRlVW5pdC5NSUxMSVNFQ09ORD95YS50b0FycmF5QnVmZmVyVmlldyhVaW50OEFycmF5LGRhLkludDY0LmNvbnZlcnRBcnJheShuW3JdKSk6Y2EuRGF0YVR5cGUuaXNEZWNpbWFsKGUpP3lhLnRvQXJyYXlCdWZmZXJWaWV3KFVpbnQ4QXJyYXksZGEuSW50MTI4LmNvbnZlcnRBcnJheShuW3JdKSk6Y2EuRGF0YVR5cGUuaXNCaW5hcnkoZSl8fGNhLkRhdGFUeXBlLmlzRml4ZWRTaXplQmluYXJ5KGUpP2Z1bmN0aW9uKGUpe2Zvcih2YXIgdD1lLmpvaW4oIiIpLHI9bmV3IFVpbnQ4QXJyYXkodC5sZW5ndGgvMiksbj0wO248dC5sZW5ndGg7bis9MilyW24+PjFdPXBhcnNlSW50KHQuc3Vic3RyKG4sMiksMTYpO3JldHVybiByfShuW3JdKTpjYS5EYXRhVHlwZS5pc0Jvb2woZSk/bGEucGFja0Jvb2xzKG5bcl0pOmNhLkRhdGFUeXBlLmlzVXRmOChlKT9mYS5lbmNvZGVVdGY4KG5bcl0uam9pbigiIikpOnlhLnRvQXJyYXlCdWZmZXJWaWV3KFVpbnQ4QXJyYXkseWEudG9BcnJheUJ1ZmZlclZpZXcoZS5BcnJheVR5cGUsbltyXS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybitlfSkpKSl9LHR9KGhhKTtxby5KU09OVmVjdG9yTG9hZGVyPWJhO3ZhciB2YT17fSxfYT17fSxtYT17fSxnYT17fSxCYT17fSxUYT17fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoVGEsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLFRhLlN0cnVjdFJvdz1UYS5NYXBSb3c9dm9pZCAwO3ZhciBJYT1ILmV4cG9ydHMsd2E9RHQsT2E9U3ltYm9sLmZvcigicGFyZW50IiksU2E9U3ltYm9sLmZvcigicm93SW5kZXgiKSxBYT1TeW1ib2wuZm9yKCJrZXlUb0lkeCIpLERhPVN5bWJvbC5mb3IoImlkeFRvVmFsIiksVmE9U3ltYm9sLmZvcigibm9kZWpzLnV0aWwuaW5zcGVjdC5jdXN0b20iKSxQYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt0aGlzW09hXT1lLHRoaXMuc2l6ZT10fXZhciB0LHI7cmV0dXJuIGUucHJvdG90eXBlLmVudHJpZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc1tTeW1ib2wuaXRlcmF0b3JdKCl9LGUucHJvdG90eXBlLmhhcz1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT09dGhpcy5nZXQoZSl9LGUucHJvdG90eXBlLmdldD1mdW5jdGlvbihlKXt2YXIgdD12b2lkIDA7aWYobnVsbCE9ZSl7dmFyIHI9dGhpc1tBYV18fCh0aGlzW0FhXT1uZXcgTWFwKSxuPXIuZ2V0KGUpO2lmKHZvaWQgMCE9PW4pdm9pZCAwIT09KHQ9KGk9dGhpc1tEYV18fCh0aGlzW0RhXT1uZXcgQXJyYXkodGhpcy5zaXplKSkpW25dKXx8KGlbbl09dD10aGlzLmdldFZhbHVlKG4pKTtlbHNlIGlmKChuPXRoaXMuZ2V0SW5kZXgoZSkpPi0xKXt2YXIgaTtyLnNldChlLG4pLHZvaWQgMCE9PSh0PShpPXRoaXNbRGFdfHwodGhpc1tEYV09bmV3IEFycmF5KHRoaXMuc2l6ZSkpKVtuXSl8fChpW25dPXQ9dGhpcy5nZXRWYWx1ZShuKSl9fXJldHVybiB0fSxlLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oZSx0KXtpZihudWxsIT1lKXt2YXIgcj10aGlzW0FhXXx8KHRoaXNbQWFdPW5ldyBNYXApLG49ci5nZXQoZSk7aWYodm9pZCAwPT09biYmci5zZXQoZSxuPXRoaXMuZ2V0SW5kZXgoZSkpLG4+LTEpKHRoaXNbRGFdfHwodGhpc1tEYV09bmV3IEFycmF5KHRoaXMuc2l6ZSkpKVtuXT10aGlzLnNldFZhbHVlKG4sdCl9cmV0dXJuIHRoaXN9LGUucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKCJDbGVhcmluZyAiK3RoaXNbU3ltYm9sLnRvU3RyaW5nVGFnXSsiIG5vdCBzdXBwb3J0ZWQuIil9LGUucHJvdG90eXBlLmRlbGV0ZT1mdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoIkRlbGV0aW5nICIrdGhpc1tTeW1ib2wudG9TdHJpbmdUYWddKyIgdmFsdWVzIG5vdCBzdXBwb3J0ZWQuIil9LGUucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXt2YXIgZSx0LHIsbixpLG8sYSx1LHM7cmV0dXJuIElhLl9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKGMpe3N3aXRjaChjLmxhYmVsKXtjYXNlIDA6ZT10aGlzLmtleXMoKSx0PXRoaXMudmFsdWVzKCkscj10aGlzW0FhXXx8KHRoaXNbQWFdPW5ldyBNYXApLG49dGhpc1tEYV18fCh0aGlzW0RhXT1uZXcgQXJyYXkodGhpcy5zaXplKSksaT12b2lkIDAsbz12b2lkIDAsYT0wLHU9dm9pZCAwLHM9dm9pZCAwLGMubGFiZWw9MTtjYXNlIDE6cmV0dXJuKHU9ZS5uZXh0KCkpLmRvbmV8fChzPXQubmV4dCgpKS5kb25lP1szLDRdOihpPXUudmFsdWUsbz1zLnZhbHVlLG5bYV09byxyLmhhcyhpKXx8ci5zZXQoaSxhKSxbNCxbaSxvXV0pO2Nhc2UgMjpjLnNlbnQoKSxjLmxhYmVsPTM7Y2FzZSAzOnJldHVybisrYSxbMywxXTtjYXNlIDQ6cmV0dXJuWzJdfX0pKX0sZS5wcm90b3R5cGUuZm9yRWFjaD1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj10aGlzLmtleXMoKSxuPXRoaXMudmFsdWVzKCksaT12b2lkIDA9PT10P2U6ZnVuY3Rpb24ocixuLGkpe3JldHVybiBlLmNhbGwodCxyLG4saSl9LG89dGhpc1tBYV18fCh0aGlzW0FhXT1uZXcgTWFwKSxhPXRoaXNbRGFdfHwodGhpc1tEYV09bmV3IEFycmF5KHRoaXMuc2l6ZSkpLHU9dm9pZCAwLHM9dm9pZCAwLGM9MCxsPXZvaWQgMCxmPXZvaWQgMDshKGw9ci5uZXh0KCkpLmRvbmUmJiEoZj1uLm5leHQoKSkuZG9uZTsrK2MpdT1sLnZhbHVlLHM9Zi52YWx1ZSxhW2NdPXMsby5oYXModSl8fG8uc2V0KHUsYyksaShzLHUsdGhpcyl9LGUucHJvdG90eXBlLnRvQXJyYXk9ZnVuY3Rpb24oKXtyZXR1cm4gSWEuX19zcHJlYWQodGhpcy52YWx1ZXMoKSl9LGUucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3ZhciBlPXt9O3JldHVybiB0aGlzLmZvckVhY2goKGZ1bmN0aW9uKHQscil7cmV0dXJuIGVbcl09dH0pKSxlfSxlLnByb3RvdHlwZS5pbnNwZWN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudG9TdHJpbmcoKX0sZS5wcm90b3R5cGVbVmFdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudG9TdHJpbmcoKX0sZS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXt2YXIgZT1bXTtyZXR1cm4gdGhpcy5mb3JFYWNoKChmdW5jdGlvbih0LHIpe3I9d2EudmFsdWVUb1N0cmluZyhyKSx0PXdhLnZhbHVlVG9TdHJpbmcodCksZS5wdXNoKHIrIjogIit0KX0pKSwieyAiK2Uuam9pbigiLCAiKSsiIH0ifSxlW1N5bWJvbC50b1N0cmluZ1RhZ109KHQ9ZS5wcm90b3R5cGUsT2JqZWN0LmRlZmluZVByb3BlcnRpZXModCwoKHI9e3NpemU6e3dyaXRhYmxlOiEwLGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiExLHZhbHVlOjB9fSlbT2FdPXt3cml0YWJsZTohMCxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMSx2YWx1ZTpudWxsfSxyW1NhXT17d3JpdGFibGU6ITAsZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITEsdmFsdWU6LTF9LHIpKSx0W1N5bWJvbC50b1N0cmluZ1RhZ109IlJvdyIpLGV9KCksTWE9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXt2YXIgcj1lLmNhbGwodGhpcyx0LHQubGVuZ3RoKXx8dGhpcztyZXR1cm4geGEocil9cmV0dXJuIElhLl9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLmtleXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc1tPYV0uZ2V0Q2hpbGRBdCgwKVtTeW1ib2wuaXRlcmF0b3JdKCl9LHQucHJvdG90eXBlLnZhbHVlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzW09hXS5nZXRDaGlsZEF0KDEpW1N5bWJvbC5pdGVyYXRvcl0oKX0sdC5wcm90b3R5cGUuZ2V0S2V5PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzW09hXS5nZXRDaGlsZEF0KDApLmdldChlKX0sdC5wcm90b3R5cGUuZ2V0SW5kZXg9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXNbT2FdLmdldENoaWxkQXQoMCkuaW5kZXhPZihlKX0sdC5wcm90b3R5cGUuZ2V0VmFsdWU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXNbT2FdLmdldENoaWxkQXQoMSkuZ2V0KGUpfSx0LnByb3RvdHlwZS5zZXRWYWx1ZT1mdW5jdGlvbihlLHQpe3RoaXNbT2FdLmdldENoaWxkQXQoMSkuc2V0KGUsdCl9LHR9KFBhKTtUYS5NYXBSb3c9TWE7dmFyIEZhPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCl7dmFyIHI9ZS5jYWxsKHRoaXMsdCx0LnR5cGUuY2hpbGRyZW4ubGVuZ3RoKXx8dGhpcztyZXR1cm4gamEocil9cmV0dXJuIElhLl9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLmtleXM9ZnVuY3Rpb24oKXt2YXIgZSx0LHIsbixpO3JldHVybiBJYS5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbihvKXtzd2l0Y2goby5sYWJlbCl7Y2FzZSAwOm8udHJ5cy5wdXNoKFswLDUsNiw3XSksZT1JYS5fX3ZhbHVlcyh0aGlzW09hXS50eXBlLmNoaWxkcmVuKSx0PWUubmV4dCgpLG8ubGFiZWw9MTtjYXNlIDE6cmV0dXJuIHQuZG9uZT9bMyw0XTpbNCx0LnZhbHVlLm5hbWVdO2Nhc2UgMjpvLnNlbnQoKSxvLmxhYmVsPTM7Y2FzZSAzOnJldHVybiB0PWUubmV4dCgpLFszLDFdO2Nhc2UgNDpyZXR1cm5bMyw3XTtjYXNlIDU6cmV0dXJuIHI9by5zZW50KCksbj17ZXJyb3I6cn0sWzMsN107Y2FzZSA2OnRyeXt0JiYhdC5kb25lJiYoaT1lLnJldHVybikmJmkuY2FsbChlKX1maW5hbGx5e2lmKG4pdGhyb3cgbi5lcnJvcn1yZXR1cm5bN107Y2FzZSA3OnJldHVyblsyXX19KSl9LHQucHJvdG90eXBlLnZhbHVlcz1mdW5jdGlvbigpe3ZhciBlLHQscixuLGk7cmV0dXJuIElhLl9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKG8pe3N3aXRjaChvLmxhYmVsKXtjYXNlIDA6by50cnlzLnB1c2goWzAsNSw2LDddKSxlPUlhLl9fdmFsdWVzKHRoaXNbT2FdLnR5cGUuY2hpbGRyZW4pLHQ9ZS5uZXh0KCksby5sYWJlbD0xO2Nhc2UgMTpyZXR1cm4gdC5kb25lP1szLDRdOls0LHRoaXNbdC52YWx1ZS5uYW1lXV07Y2FzZSAyOm8uc2VudCgpLG8ubGFiZWw9MztjYXNlIDM6cmV0dXJuIHQ9ZS5uZXh0KCksWzMsMV07Y2FzZSA0OnJldHVyblszLDddO2Nhc2UgNTpyZXR1cm4gcj1vLnNlbnQoKSxuPXtlcnJvcjpyfSxbMyw3XTtjYXNlIDY6dHJ5e3QmJiF0LmRvbmUmJihpPWUucmV0dXJuKSYmaS5jYWxsKGUpfWZpbmFsbHl7aWYobil0aHJvdyBuLmVycm9yfXJldHVybls3XTtjYXNlIDc6cmV0dXJuWzJdfX0pKX0sdC5wcm90b3R5cGUuZ2V0S2V5PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzW09hXS50eXBlLmNoaWxkcmVuW2VdLm5hbWV9LHQucHJvdG90eXBlLmdldEluZGV4PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzW09hXS50eXBlLmNoaWxkcmVuLmZpbmRJbmRleCgoZnVuY3Rpb24odCl7cmV0dXJuIHQubmFtZT09PWV9KSl9LHQucHJvdG90eXBlLmdldFZhbHVlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzW09hXS5nZXRDaGlsZEF0KGUpLmdldCh0aGlzW1NhXSl9LHQucHJvdG90eXBlLnNldFZhbHVlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXNbT2FdLmdldENoaWxkQXQoZSkuc2V0KHRoaXNbU2FdLHQpfSx0fShQYSk7VGEuU3RydWN0Um93PUZhLE9iamVjdC5zZXRQcm90b3R5cGVPZihQYS5wcm90b3R5cGUsTWFwLnByb3RvdHlwZSk7dmFyIFVhLGphPShVYT17ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITEsZ2V0Om51bGwsc2V0Om51bGx9LGZ1bmN0aW9uKGUpe3ZhciB0LHIsbj0tMSxpPWVbQWFdfHwoZVtBYV09bmV3IE1hcCksbz1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoZSl9fSxhPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zZXQoZSx0KX19O3RyeXtmb3IodmFyIHU9SWEuX192YWx1ZXMoZS5rZXlzKCkpLHM9dS5uZXh0KCk7IXMuZG9uZTtzPXUubmV4dCgpKXt2YXIgYz1zLnZhbHVlO2kuc2V0KGMsKytuKSxVYS5nZXQ9byhjKSxVYS5zZXQ9YShjKSxPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxjKXx8KFVhLmVudW1lcmFibGU9ITAsT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsYyxVYSkpLE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLG4pfHwoVWEuZW51bWVyYWJsZT0hMSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLFVhKSl9fWNhdGNoKGwpe3Q9e2Vycm9yOmx9fWZpbmFsbHl7dHJ5e3MmJiFzLmRvbmUmJihyPXUucmV0dXJuKSYmci5jYWxsKHUpfWZpbmFsbHl7aWYodCl0aHJvdyB0LmVycm9yfX1yZXR1cm4gVWEuZ2V0PVVhLnNldD1udWxsLGV9KSx4YT1mdW5jdGlvbigpe2lmKCJ1bmRlZmluZWQiPT10eXBlb2YgUHJveHkpcmV0dXJuIGphO3ZhciBlPVBhLnByb3RvdHlwZS5oYXMsdD1QYS5wcm90b3R5cGUuZ2V0LHI9UGEucHJvdG90eXBlLnNldCxuPVBhLnByb3RvdHlwZS5nZXRLZXksaT17aXNFeHRlbnNpYmxlOmZ1bmN0aW9uKCl7cmV0dXJuITF9LGRlbGV0ZVByb3BlcnR5OmZ1bmN0aW9uKCl7cmV0dXJuITF9LHByZXZlbnRFeHRlbnNpb25zOmZ1bmN0aW9uKCl7cmV0dXJuITB9LG93bktleXM6ZnVuY3Rpb24oZSl7cmV0dXJuIElhLl9fc3ByZWFkKGUua2V5cygpKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiIiK2V9KSl9LGhhczpmdW5jdGlvbihlLHQpe3N3aXRjaCh0KXtjYXNlImdldEtleSI6Y2FzZSJnZXRJbmRleCI6Y2FzZSJnZXRWYWx1ZSI6Y2FzZSJzZXRWYWx1ZSI6Y2FzZSJ0b0FycmF5IjpjYXNlInRvSlNPTiI6Y2FzZSJpbnNwZWN0IjpjYXNlImNvbnN0cnVjdG9yIjpjYXNlImlzUHJvdG90eXBlT2YiOmNhc2UicHJvcGVydHlJc0VudW1lcmFibGUiOmNhc2UidG9TdHJpbmciOmNhc2UidG9Mb2NhbGVTdHJpbmciOmNhc2UidmFsdWVPZiI6Y2FzZSJzaXplIjpjYXNlImhhcyI6Y2FzZSJnZXQiOmNhc2Uic2V0IjpjYXNlImNsZWFyIjpjYXNlImRlbGV0ZSI6Y2FzZSJrZXlzIjpjYXNlInZhbHVlcyI6Y2FzZSJlbnRyaWVzIjpjYXNlImZvckVhY2giOmNhc2UiX19wcm90b19fIjpjYXNlIl9fZGVmaW5lR2V0dGVyX18iOmNhc2UiX19kZWZpbmVTZXR0ZXJfXyI6Y2FzZSJoYXNPd25Qcm9wZXJ0eSI6Y2FzZSJfX2xvb2t1cEdldHRlcl9fIjpjYXNlIl9fbG9va3VwU2V0dGVyX18iOmNhc2UgU3ltYm9sLml0ZXJhdG9yOmNhc2UgU3ltYm9sLnRvU3RyaW5nVGFnOmNhc2UgT2E6Y2FzZSBTYTpjYXNlIERhOmNhc2UgQWE6Y2FzZSBWYTpyZXR1cm4hMH1yZXR1cm4ibnVtYmVyIiE9dHlwZW9mIHR8fGUuaGFzKHQpfHwodD1lLmdldEtleSh0KSksZS5oYXModCl9LGdldDpmdW5jdGlvbihyLGksbyl7c3dpdGNoKGkpe2Nhc2UiZ2V0S2V5IjpjYXNlImdldEluZGV4IjpjYXNlImdldFZhbHVlIjpjYXNlInNldFZhbHVlIjpjYXNlInRvQXJyYXkiOmNhc2UidG9KU09OIjpjYXNlImluc3BlY3QiOmNhc2UiY29uc3RydWN0b3IiOmNhc2UiaXNQcm90b3R5cGVPZiI6Y2FzZSJwcm9wZXJ0eUlzRW51bWVyYWJsZSI6Y2FzZSJ0b1N0cmluZyI6Y2FzZSJ0b0xvY2FsZVN0cmluZyI6Y2FzZSJ2YWx1ZU9mIjpjYXNlInNpemUiOmNhc2UiaGFzIjpjYXNlImdldCI6Y2FzZSJzZXQiOmNhc2UiY2xlYXIiOmNhc2UiZGVsZXRlIjpjYXNlImtleXMiOmNhc2UidmFsdWVzIjpjYXNlImVudHJpZXMiOmNhc2UiZm9yRWFjaCI6Y2FzZSJfX3Byb3RvX18iOmNhc2UiX19kZWZpbmVHZXR0ZXJfXyI6Y2FzZSJfX2RlZmluZVNldHRlcl9fIjpjYXNlImhhc093blByb3BlcnR5IjpjYXNlIl9fbG9va3VwR2V0dGVyX18iOmNhc2UiX19sb29rdXBTZXR0ZXJfXyI6Y2FzZSBTeW1ib2wuaXRlcmF0b3I6Y2FzZSBTeW1ib2wudG9TdHJpbmdUYWc6Y2FzZSBPYTpjYXNlIFNhOmNhc2UgRGE6Y2FzZSBBYTpjYXNlIFZhOnJldHVybiBSZWZsZWN0LmdldChyLGksbyl9cmV0dXJuIm51bWJlciIhPXR5cGVvZiBpfHxlLmNhbGwobyxpKXx8KGk9bi5jYWxsKG8saSkpLHQuY2FsbChvLGkpfSxzZXQ6ZnVuY3Rpb24odCxpLG8sYSl7c3dpdGNoKGkpe2Nhc2UgT2E6Y2FzZSBTYTpjYXNlIERhOmNhc2UgQWE6cmV0dXJuIFJlZmxlY3Quc2V0KHQsaSxvLGEpO2Nhc2UiZ2V0S2V5IjpjYXNlImdldEluZGV4IjpjYXNlImdldFZhbHVlIjpjYXNlInNldFZhbHVlIjpjYXNlInRvQXJyYXkiOmNhc2UidG9KU09OIjpjYXNlImluc3BlY3QiOmNhc2UiY29uc3RydWN0b3IiOmNhc2UiaXNQcm90b3R5cGVPZiI6Y2FzZSJwcm9wZXJ0eUlzRW51bWVyYWJsZSI6Y2FzZSJ0b1N0cmluZyI6Y2FzZSJ0b0xvY2FsZVN0cmluZyI6Y2FzZSJ2YWx1ZU9mIjpjYXNlInNpemUiOmNhc2UiaGFzIjpjYXNlImdldCI6Y2FzZSJzZXQiOmNhc2UiY2xlYXIiOmNhc2UiZGVsZXRlIjpjYXNlImtleXMiOmNhc2UidmFsdWVzIjpjYXNlImVudHJpZXMiOmNhc2UiZm9yRWFjaCI6Y2FzZSJfX3Byb3RvX18iOmNhc2UiX19kZWZpbmVHZXR0ZXJfXyI6Y2FzZSJfX2RlZmluZVNldHRlcl9fIjpjYXNlImhhc093blByb3BlcnR5IjpjYXNlIl9fbG9va3VwR2V0dGVyX18iOmNhc2UiX19sb29rdXBTZXR0ZXJfXyI6Y2FzZSBTeW1ib2wuaXRlcmF0b3I6Y2FzZSBTeW1ib2wudG9TdHJpbmdUYWc6cmV0dXJuITF9cmV0dXJuIm51bWJlciIhPXR5cGVvZiBpfHxlLmNhbGwoYSxpKXx8KGk9bi5jYWxsKGEsaSkpLCEhZS5jYWxsKGEsaSkmJiEhci5jYWxsKGEsaSxvKX19O3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gbmV3IFByb3h5KGUsaSl9fSgpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShCYSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksQmEuY3JlYXRlRWxlbWVudENvbXBhcmF0b3I9QmEuY2xhbXBSYW5nZT1CYS5jbGFtcEluZGV4PXZvaWQgMDt2YXIgTGEsUmE9X2UsTmE9VGEsRWE9RyxDYT1RO0JhLmNsYW1wSW5kZXg9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUubGVuZ3RoLGk9dD4tMT90Om4rdCVuO3JldHVybiByP3IoZSxpKTppfSxCYS5jbGFtcFJhbmdlPWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBpPWUubGVuZ3RoLG89dm9pZCAwPT09aT8wOmksYT0ibnVtYmVyIiE9dHlwZW9mIHQ/MDp0LHU9Im51bWJlciIhPXR5cGVvZiByP286cjtyZXR1cm4gYTwwJiYoYT0oYSVvK28pJW8pLHU8MCYmKHU9KHUlbytvKSVvKSx1PGEmJihMYT1hLGE9dSx1PUxhKSx1Pm8mJih1PW8pLG4/bihlLGEsdSk6W2EsdV19O3ZhciB6YT1DYS5CaWdJbnRBdmFpbGFibGU/Q2EuQmlnSW50KDApOjAsa2E9ZnVuY3Rpb24oZSl7cmV0dXJuIGUhPWV9O2Z1bmN0aW9uIFdhKGUpe3ZhciB0LHIsbj10eXBlb2YgZTtpZigib2JqZWN0IiE9PW58fG51bGw9PT1lKXJldHVybiBrYShlKT9rYToiYmlnaW50IiE9PW4/ZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT1lfTpmdW5jdGlvbih0KXtyZXR1cm4gemErdD09PWV9O2lmKGUgaW5zdGFuY2VvZiBEYXRlKXt2YXIgaT1lLnZhbHVlT2YoKTtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBEYXRlJiZlLnZhbHVlT2YoKT09PWl9fXJldHVybiBBcnJheUJ1ZmZlci5pc1ZpZXcoZSk/ZnVuY3Rpb24odCl7cmV0dXJuISF0JiZFYS5jb21wYXJlQXJyYXlMaWtlKGUsdCl9OmUgaW5zdGFuY2VvZiBNYXA/KHQ9LTEscj1bXSxlLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiByWysrdF09V2EoZSl9KSksWWEocikpOkFycmF5LmlzQXJyYXkoZSk/ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLHI9LTEsbj1lLmxlbmd0aDsrK3I8bjspdFtyXT1XYShlW3JdKTtyZXR1cm4gWWEodCl9KGUpOmUgaW5zdGFuY2VvZiBSYS5WZWN0b3I/ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLHI9LTEsbj1lLmxlbmd0aDsrK3I8bjspdFtyXT1XYShlLmdldChyKSk7cmV0dXJuIFlhKHQpfShlKTpmdW5jdGlvbihlKXt2YXIgdD1PYmplY3Qua2V5cyhlKTtpZigwPT09dC5sZW5ndGgpcmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuITF9O2Zvcih2YXIgcj1bXSxuPS0xLGk9dC5sZW5ndGg7KytuPGk7KXJbbl09V2EoZVt0W25dXSk7cmV0dXJuIFlhKHIsdCl9KGUpfWZ1bmN0aW9uIFlhKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKHIpe2lmKCFyfHwib2JqZWN0IiE9dHlwZW9mIHIpcmV0dXJuITE7c3dpdGNoKHIuY29uc3RydWN0b3Ipe2Nhc2UgQXJyYXk6cmV0dXJuIGZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5sZW5ndGg7aWYodC5sZW5ndGghPT1yKXJldHVybiExO2Zvcih2YXIgbj0tMTsrK248cjspaWYoIWVbbl0odFtuXSkpcmV0dXJuITE7cmV0dXJuITB9KGUscik7Y2FzZSBNYXA6Y2FzZSBOYS5NYXBSb3c6Y2FzZSBOYS5TdHJ1Y3RSb3c6cmV0dXJuIEhhKGUscixyLmtleXMoKSk7Y2FzZSBPYmplY3Q6Y2FzZSB2b2lkIDA6cmV0dXJuIEhhKGUscix0fHxPYmplY3Qua2V5cyhyKSl9cmV0dXJuIHIgaW5zdGFuY2VvZiBSYS5WZWN0b3ImJmZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5sZW5ndGg7aWYodC5sZW5ndGghPT1yKXJldHVybiExO2Zvcih2YXIgbj0tMTsrK248cjspaWYoIWVbbl0odC5nZXQobikpKXJldHVybiExO3JldHVybiEwfShlLHIpfX1mdW5jdGlvbiBIYShlLHQscil7Zm9yKHZhciBuPXJbU3ltYm9sLml0ZXJhdG9yXSgpLGk9dCBpbnN0YW5jZW9mIE1hcD90LmtleXMoKTpPYmplY3Qua2V5cyh0KVtTeW1ib2wuaXRlcmF0b3JdKCksbz10IGluc3RhbmNlb2YgTWFwP3QudmFsdWVzKCk6T2JqZWN0LnZhbHVlcyh0KVtTeW1ib2wuaXRlcmF0b3JdKCksYT0wLHU9ZS5sZW5ndGgscz1vLm5leHQoKSxjPW4ubmV4dCgpLGw9aS5uZXh0KCk7YTx1JiYhYy5kb25lJiYhbC5kb25lJiYhcy5kb25lJiYoYy52YWx1ZT09PWwudmFsdWUmJmVbYV0ocy52YWx1ZSkpOysrYSxjPW4ubmV4dCgpLGw9aS5uZXh0KCkscz1vLm5leHQoKSk7cmV0dXJuISEoYT09PXUmJmMuZG9uZSYmbC5kb25lJiZzLmRvbmUpfHwobi5yZXR1cm4mJm4ucmV0dXJuKCksaS5yZXR1cm4mJmkucmV0dXJuKCksby5yZXR1cm4mJm8ucmV0dXJuKCksITEpfUJhLmNyZWF0ZUVsZW1lbnRDb21wYXJhdG9yPVdhO3ZhciBHYT17fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoR2EsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLEdhLnNlbGVjdENvbHVtbkNoaWxkcmVuQXJncz1HYS5zZWxlY3RWZWN0b3JDaGlsZHJlbkFyZ3M9R2Euc2VsZWN0Q2h1bmtBcmdzPUdhLnNlbGVjdEZpZWxkQXJncz1HYS5zZWxlY3RDb2x1bW5BcmdzPUdhLnNlbGVjdEFyZ3M9R2EuYXJyYXlUeXBlVG9EYXRhVHlwZT1HYS5pc1R5cGVkQXJyYXk9dm9pZCAwO3ZhciBKYT1ILmV4cG9ydHMsWmE9SWUsS2E9RG4sWGE9bWEscWE9X2UsUWE9RmUsJGE9Z2EsZXU9QXJyYXkuaXNBcnJheTtmdW5jdGlvbiB0dShlKXtyZXR1cm4gQXJyYXlCdWZmZXIuaXNWaWV3KGUpJiYiQllURVNfUEVSX0VMRU1FTlQiaW4gZX1mdW5jdGlvbiBydShlKXtzd2l0Y2goZSl7Y2FzZSBJbnQ4QXJyYXk6cmV0dXJuIFFhLkludDg7Y2FzZSBJbnQxNkFycmF5OnJldHVybiBRYS5JbnQxNjtjYXNlIEludDMyQXJyYXk6cmV0dXJuIFFhLkludDMyO2Nhc2UgQmlnSW50NjRBcnJheTpyZXR1cm4gUWEuSW50NjQ7Y2FzZSBVaW50OEFycmF5OnJldHVybiBRYS5VaW50ODtjYXNlIFVpbnQxNkFycmF5OnJldHVybiBRYS5VaW50MTY7Y2FzZSBVaW50MzJBcnJheTpyZXR1cm4gUWEuVWludDMyO2Nhc2UgQmlnVWludDY0QXJyYXk6cmV0dXJuIFFhLlVpbnQ2NDtjYXNlIEZsb2F0MzJBcnJheTpyZXR1cm4gUWEuRmxvYXQzMjtjYXNlIEZsb2F0NjRBcnJheTpyZXR1cm4gUWEuRmxvYXQ2NDtkZWZhdWx0OnJldHVybiBudWxsfX1mdW5jdGlvbiBudShlLHQscixuKXtmb3IodmFyIGksbz1uLGE9LTEsdT10Lmxlbmd0aDsrK2E8dTspZXUoaT10W2FdKT9vPW51KGUsaSxyLG8pLmxlbmd0aDppIGluc3RhbmNlb2YgZSYmKHJbbysrXT1pKTtyZXR1cm4gcn1mdW5jdGlvbiBpdShlLHQscixuKXtmb3IodmFyIGksbz1uLGE9LTEsdT10Lmxlbmd0aDsrK2E8dTspZXUoaT10W2FdKT9vPWl1KGUsaSxyLG8pLmxlbmd0aDppIGluc3RhbmNlb2YgJGEuQ2h1bmtlZD9vPWl1KGUsaS5jaHVua3MscixvKS5sZW5ndGg6aSBpbnN0YW5jZW9mIGUmJihyW28rK109aSk7cmV0dXJuIHJ9ZnVuY3Rpb24gb3UoZSx0LHIsbil7Zm9yKHZhciBpLG89bixhPS0xLHU9dC5sZW5ndGg7KythPHU7KWV1KGk9dFthXSk/bz1vdShlLGkscixvKS5sZW5ndGg6aSBpbnN0YW5jZW9mIGU/bz1udShxYS5WZWN0b3IsaS5zY2hlbWEuZmllbGRzLm1hcCgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gaS5nZXRDaGlsZEF0KHQpfSkpLHIsbykubGVuZ3RoOmkgaW5zdGFuY2VvZiBxYS5WZWN0b3ImJihyW28rK109aSk7cmV0dXJuIHJ9ZnVuY3Rpb24gYXUoZSx0LHIsbil7Zm9yKHZhciBpLG89bixhPS0xLHU9dC5sZW5ndGg7KythPHU7KWV1KGk9dFthXSk/bz1hdShlLGkscixvKS5sZW5ndGg6aSBpbnN0YW5jZW9mIGU/bz1udShYYS5Db2x1bW4saS5zY2hlbWEuZmllbGRzLm1hcCgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gWGEuQ29sdW1uLm5ldyhlLGkuZ2V0Q2hpbGRBdCh0KSl9KSkscixvKS5sZW5ndGg6aSBpbnN0YW5jZW9mIFhhLkNvbHVtbiYmKHJbbysrXT1pKTtyZXR1cm4gcn1HYS5pc1R5cGVkQXJyYXk9dHUsR2EuYXJyYXlUeXBlVG9EYXRhVHlwZT1ydSxHYS5zZWxlY3RBcmdzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG51KGUsdCxbXSwwKX0sR2Euc2VsZWN0Q29sdW1uQXJncz1mdW5jdGlvbihlKXt2YXIgdD1KYS5fX3JlYWQoc3UoZSxbW10sW11dKSwyKSxyPXRbMF07cmV0dXJuIHRbMV0ubWFwKChmdW5jdGlvbihlLHQpe3JldHVybiBlIGluc3RhbmNlb2YgWGEuQ29sdW1uP1hhLkNvbHVtbi5uZXcoZS5maWVsZC5jbG9uZShyW3RdKSxlKTplIGluc3RhbmNlb2YgcWEuVmVjdG9yP1hhLkNvbHVtbi5uZXcoclt0XSxlKTp0dShlKT9YYS5Db2x1bW4ubmV3KHJbdF0sZnVuY3Rpb24oZSl7dmFyIHQ9cnUoZS5jb25zdHJ1Y3Rvcik7aWYoIXQpdGhyb3cgbmV3IFR5cGVFcnJvcigiVW5yZWNvZ25pemVkIEFycmF5IGlucHV0Iik7dmFyIHI9bmV3IHQsbj1aYS5EYXRhLm5ldyhyLDAsZS5sZW5ndGgsMCxbdm9pZCAwLGVdKTtyZXR1cm4gcWEuVmVjdG9yLm5ldyhuKX0oZSkpOlhhLkNvbHVtbi5uZXcoclt0XSxbXSl9KSl9LEdhLnNlbGVjdEZpZWxkQXJncz1mdW5jdGlvbihlKXtyZXR1cm4gc3UoZSxbW10sW11dKX0sR2Euc2VsZWN0Q2h1bmtBcmdzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGl1KGUsdCxbXSwwKX0sR2Euc2VsZWN0VmVjdG9yQ2hpbGRyZW5BcmdzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG91KGUsdCxbXSwwKX0sR2Euc2VsZWN0Q29sdW1uQ2hpbGRyZW5BcmdzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGF1KGUsdCxbXSwwKX07dmFyIHV1PWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1KYS5fX3JlYWQodCwyKSxpPW5bMF0sbz1uWzFdO3JldHVybiBlWzBdW3JdPWksZVsxXVtyXT1vLGV9O2Z1bmN0aW9uIHN1KGUsdCl7dmFyIHIsbixpLG87c3dpdGNoKG89ZS5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gdDtjYXNlIDE6aWYoaT10WzBdLCFlWzBdKXJldHVybiB0O2lmKGV1KGVbMF0pKXJldHVybiBzdShlWzBdLHQpO2VbMF1pbnN0YW5jZW9mIFphLkRhdGF8fGVbMF1pbnN0YW5jZW9mIHFhLlZlY3Rvcnx8dHUoZVswXSl8fGVbMF1pbnN0YW5jZW9mIFFhLkRhdGFUeXBlfHwoaT0ocj1KYS5fX3JlYWQoT2JqZWN0LmVudHJpZXMoZVswXSkucmVkdWNlKHV1LHQpLDIpKVswXSxlPXJbMV0pO2JyZWFrO2RlZmF1bHQ6ZXUoaT1lW28tMV0pP2U9ZXUoZVswXSk/ZVswXTplLnNsaWNlKDAsby0xKTooZT1ldShlWzBdKT9lWzBdOmUsaT1bXSl9Zm9yKHZhciBhLHUscz0tMSxjPS0xLGw9LTEsZj1lLmxlbmd0aCxkPUphLl9fcmVhZCh0LDIpLHA9ZFswXSx5PWRbMV07KytsPGY7KSh1PWVbbF0paW5zdGFuY2VvZiBYYS5Db2x1bW4mJih5WysrY109dSk/cFsrK3NdPXUuZmllbGQuY2xvbmUoaVtsXSx1LnR5cGUsITApOihhPXZvaWQgMD09PShuPWlbbF0pP2w6bix1IGluc3RhbmNlb2YgUWEuRGF0YVR5cGUmJih5WysrY109dSk/cFsrK3NdPUthLkZpZWxkLm5ldyhhLHUsITApOihudWxsPT11P3ZvaWQgMDp1LnR5cGUpJiYoeVsrK2NdPXUpJiYodSBpbnN0YW5jZW9mIFphLkRhdGEmJih5W2NdPXU9cWEuVmVjdG9yLm5ldyh1KSkscFsrK3NdPUthLkZpZWxkLm5ldyhhLHUudHlwZSwhMCkpKTtyZXR1cm4gdH1PYmplY3QuZGVmaW5lUHJvcGVydHkoZ2EsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGdhLkNodW5rZWQ9dm9pZCAwO3ZhciBjdT1ILmV4cG9ydHMsbHU9QmEsZnU9RmUsZHU9R2EscHU9X2UseXU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuY2h1bmtzPWUsdGhpcy5jaHVua0luZGV4PTAsdGhpcy5jaHVua0l0ZXJhdG9yPXRoaXMuZ2V0Q2h1bmtJdGVyYXRvcigpfXJldHVybiBlLnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKCl7Zm9yKDt0aGlzLmNodW5rSW5kZXg8dGhpcy5jaHVua3MubGVuZ3RoOyl7dmFyIGU9dGhpcy5jaHVua0l0ZXJhdG9yLm5leHQoKTtpZighZS5kb25lKXJldHVybiBlOysrdGhpcy5jaHVua0luZGV4PHRoaXMuY2h1bmtzLmxlbmd0aCYmKHRoaXMuY2h1bmtJdGVyYXRvcj10aGlzLmdldENodW5rSXRlcmF0b3IoKSl9cmV0dXJue2RvbmU6ITAsdmFsdWU6bnVsbH19LGUucHJvdG90eXBlLmdldENodW5rSXRlcmF0b3I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jaHVua3NbdGhpcy5jaHVua0luZGV4XVtTeW1ib2wuaXRlcmF0b3JdKCl9LGUucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sZX0oKSxodT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQscixuKXt2b2lkIDA9PT1yJiYocj1bXSksdm9pZCAwPT09biYmKG49ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PW5ldyBVaW50MzJBcnJheSgoZXx8W10pLmxlbmd0aCsxKSxyPXRbMF09MCxuPXQubGVuZ3RoLGk9MDsrK2k8bjspdFtpXT1yKz1lW2ktMV0ubGVuZ3RoO3JldHVybiB0fShyKSk7dmFyIGk9ZS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBpLl9udWxsQ291bnQ9LTEsaS5fdHlwZT10LGkuX2NodW5rcz1yLGkuX2NodW5rT2Zmc2V0cz1uLGkuX2xlbmd0aD1uW24ubGVuZ3RoLTFdLGkuX251bUNoaWxkcmVuPShpLl90eXBlLmNoaWxkcmVufHxbXSkubGVuZ3RoLGl9cmV0dXJuIGN1Ll9fZXh0ZW5kcyh0LGUpLHQuZmxhdHRlbj1mdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyllW3RdPWFyZ3VtZW50c1t0XTtyZXR1cm4gZHUuc2VsZWN0Q2h1bmtBcmdzKHB1LlZlY3RvcixlKX0sdC5jb25jYXQ9ZnVuY3Rpb24oKXtmb3IodmFyIGU9W10scj0wO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspZVtyXT1hcmd1bWVudHNbcl07dmFyIG49dC5mbGF0dGVuLmFwcGx5KHQsY3UuX19zcHJlYWQoZSkpO3JldHVybiBuZXcgdChuWzBdLnR5cGUsbil9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwidHlwZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90eXBlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwibGVuZ3RoIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xlbmd0aH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsImNodW5rcyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaHVua3N9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJ0eXBlSWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdHlwZS50eXBlSWR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJWZWN0b3JOYW1lIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIkNodW5rZWQ8Iit0aGlzLl90eXBlKyI+In0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsImRhdGEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2h1bmtzWzBdP3RoaXMuX2NodW5rc1swXS5kYXRhOm51bGx9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJBcnJheVR5cGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdHlwZS5BcnJheVR5cGV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJudW1DaGlsZHJlbiIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9udW1DaGlsZHJlbn0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsInN0cmlkZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaHVua3NbMF0/dGhpcy5fY2h1bmtzWzBdLnN0cmlkZToxfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwiYnl0ZUxlbmd0aCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaHVua3MucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiBlK3QuYnl0ZUxlbmd0aH0pLDApfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwibnVsbENvdW50Iix7Z2V0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fbnVsbENvdW50O3JldHVybiBlPDAmJih0aGlzLl9udWxsQ291bnQ9ZT10aGlzLl9jaHVua3MucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiBlK3QubnVsbENvdW50fSksMCkpLGV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJpbmRpY2VzIix7Z2V0OmZ1bmN0aW9uKCl7aWYoZnUuRGF0YVR5cGUuaXNEaWN0aW9uYXJ5KHRoaXMuX3R5cGUpKXtpZighdGhpcy5faW5kaWNlcyl7dmFyIGU9dGhpcy5fY2h1bmtzO3RoaXMuX2luZGljZXM9MT09PWUubGVuZ3RoP2VbMF0uaW5kaWNlczp0LmNvbmNhdC5hcHBseSh0LGN1Ll9fc3ByZWFkKGUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5pbmRpY2VzfSkpKSl9cmV0dXJuIHRoaXMuX2luZGljZXN9cmV0dXJuIG51bGx9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJkaWN0aW9uYXJ5Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGZ1LkRhdGFUeXBlLmlzRGljdGlvbmFyeSh0aGlzLl90eXBlKT90aGlzLl9jaHVua3NbdGhpcy5fY2h1bmtzLmxlbmd0aC0xXS5kYXRhLmRpY3Rpb25hcnk6bnVsbH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB5dSh0aGlzLl9jaHVua3MpfSx0LnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9dGhpcy5fY2h1bmtzKSxuZXcgdCh0aGlzLl90eXBlLGUpfSx0LnByb3RvdHlwZS5jb25jYXQ9ZnVuY3Rpb24oKXtmb3IodmFyIGU9W10scj0wO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspZVtyXT1hcmd1bWVudHNbcl07cmV0dXJuIHRoaXMuY2xvbmUodC5mbGF0dGVuLmFwcGx5KHQsY3UuX19zcHJlYWQoW3RoaXNdLGUpKSl9LHQucHJvdG90eXBlLnNsaWNlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGx1LmNsYW1wUmFuZ2UodGhpcyxlLHQsdGhpcy5fc2xpY2VJbnRlcm5hbCl9LHQucHJvdG90eXBlLmdldENoaWxkQXQ9ZnVuY3Rpb24oZSl7aWYoZTwwfHxlPj10aGlzLl9udW1DaGlsZHJlbilyZXR1cm4gbnVsbDt2YXIgcixuLGksbz10aGlzLl9jaGlsZHJlbnx8KHRoaXMuX2NoaWxkcmVuPVtdKTtyZXR1cm4ocj1vW2VdKT9yOihuPSh0aGlzLl90eXBlLmNoaWxkcmVufHxbXSlbZV0pJiYoaT10aGlzLl9jaHVua3MubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5nZXRDaGlsZEF0KGUpfSkpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPWV9KSkpLmxlbmd0aD4wP29bZV09bmV3IHQobi50eXBlLGkpOm51bGx9LHQucHJvdG90eXBlLnNlYXJjaD1mdW5jdGlvbihlLHQpe3ZhciByPWUsbj10aGlzLl9jaHVua09mZnNldHMsaT1uLmxlbmd0aC0xO2lmKHI8MClyZXR1cm4gbnVsbDtpZihyPj1uW2ldKXJldHVybiBudWxsO2lmKGk8PTEpcmV0dXJuIHQ/dCh0aGlzLDAscik6WzAscl07dmFyIG89MCxhPTAsdT0wO2Rve2lmKG8rMT09PWkpcmV0dXJuIHQ/dCh0aGlzLG8sci1hKTpbbyxyLWFdO3I+PW5bdT1vKyhpLW8pLzJ8MF0/bz11Omk9dX13aGlsZShyPG5baV0mJnI+PShhPW5bb10pKTtyZXR1cm4gbnVsbH0sdC5wcm90b3R5cGUuaXNWYWxpZD1mdW5jdGlvbihlKXtyZXR1cm4hIXRoaXMuc2VhcmNoKGUsdGhpcy5pc1ZhbGlkSW50ZXJuYWwpfSx0LnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuc2VhcmNoKGUsdGhpcy5nZXRJbnRlcm5hbCl9LHQucHJvdG90eXBlLnNldD1mdW5jdGlvbihlLHQpe3RoaXMuc2VhcmNoKGUsKGZ1bmN0aW9uKGUscixuKXtyZXR1cm4gZS5jaHVua3Nbcl0uc2V0KG4sdCl9KSl9LHQucHJvdG90eXBlLmluZGV4T2Y9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3JldHVybiB0JiYibnVtYmVyIj09dHlwZW9mIHQ/dGhpcy5zZWFyY2godCwoZnVuY3Rpb24odCxuLGkpe3JldHVybiByLmluZGV4T2ZJbnRlcm5hbCh0LG4saSxlKX0pKTp0aGlzLmluZGV4T2ZJbnRlcm5hbCh0aGlzLDAsTWF0aC5tYXgoMCx0fHwwKSxlKX0sdC5wcm90b3R5cGUudG9BcnJheT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuY2h1bmtzLHQ9ZS5sZW5ndGgscj10aGlzLl90eXBlLkFycmF5VHlwZTtpZih0PD0wKXJldHVybiBuZXcgcigwKTtpZih0PD0xKXJldHVybiBlWzBdLnRvQXJyYXkoKTtmb3IodmFyIG49MCxpPW5ldyBBcnJheSh0KSxvPS0xOysrbzx0OyluKz0oaVtvXT1lW29dLnRvQXJyYXkoKSkubGVuZ3RoO3IhPT1pWzBdLmNvbnN0cnVjdG9yJiYocj1pWzBdLmNvbnN0cnVjdG9yKTtmb3IodmFyIGE9bmV3IHIobiksdT1yPT09QXJyYXk/dnU6YnUscz0obz0tMSwwKTsrK288dDspcz11KGlbb10sYSxzKTtyZXR1cm4gYX0sdC5wcm90b3R5cGUuZ2V0SW50ZXJuYWw9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlLl9jaHVua3NbdF0uZ2V0KHIpfSx0LnByb3RvdHlwZS5pc1ZhbGlkSW50ZXJuYWw9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlLl9jaHVua3NbdF0uaXNWYWxpZChyKX0sdC5wcm90b3R5cGUuaW5kZXhPZkludGVybmFsPWZ1bmN0aW9uKGUsdCxyLG4pe2Zvcih2YXIgaT1lLl9jaHVua3Msbz10LTEsYT1pLmxlbmd0aCx1PXIscz0wLGM9LTE7KytvPGE7KXtpZih+KGM9aVtvXS5pbmRleE9mKG4sdSkpKXJldHVybiBzK2M7dT0wLHMrPWlbb10ubGVuZ3RofXJldHVybi0xfSx0LnByb3RvdHlwZS5fc2xpY2VJbnRlcm5hbD1mdW5jdGlvbihlLHQscil7Zm9yKHZhciBuPVtdLGk9ZS5jaHVua3Msbz1lLl9jaHVua09mZnNldHMsYT0tMSx1PWkubGVuZ3RoOysrYTx1Oyl7dmFyIHM9aVthXSxjPXMubGVuZ3RoLGw9b1thXTtpZihsPj1yKWJyZWFrO2lmKCEodD49bCtjKSlpZihsPj10JiZsK2M8PXIpbi5wdXNoKHMpO2Vsc2V7dmFyIGY9TWF0aC5tYXgoMCx0LWwpLGQ9TWF0aC5taW4oci1sLGMpO24ucHVzaChzLnNsaWNlKGYsZCkpfX1yZXR1cm4gZS5jbG9uZShuKX0sdH0ocHUuQWJzdHJhY3RWZWN0b3IpO2dhLkNodW5rZWQ9aHU7dmFyIGJ1PWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gdC5zZXQoZSxyKSxyK2UubGVuZ3RofSx2dT1mdW5jdGlvbihlLHQscil7Zm9yKHZhciBuPXIsaT0tMSxvPWUubGVuZ3RoOysraTxvOyl0W24rK109ZVtpXTtyZXR1cm4gbn07T2JqZWN0LmRlZmluZVByb3BlcnR5KG1hLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxtYS5Db2x1bW49dm9pZCAwO3ZhciBfdT1ILmV4cG9ydHMsbXU9RG4sZ3U9X2UsQnU9Z2EsVHU9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LHIsbil7dm9pZCAwPT09ciYmKHI9W10pO3ZhciBpPXRoaXM7cmV0dXJuIHI9QnUuQ2h1bmtlZC5mbGF0dGVuLmFwcGx5KEJ1LkNodW5rZWQsX3UuX19zcHJlYWQocikpLChpPWUuY2FsbCh0aGlzLHQudHlwZSxyLG4pfHx0aGlzKS5fZmllbGQ9dCwxIT09ci5sZW5ndGh8fGkgaW5zdGFuY2VvZiBJdT9pOm5ldyBJdSh0LHJbMF0saS5fY2h1bmtPZmZzZXRzKX1yZXR1cm4gX3UuX19leHRlbmRzKHQsZSksdC5uZXc9ZnVuY3Rpb24oKXtmb3IodmFyIGU9W10scj0wO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspZVtyXT1hcmd1bWVudHNbcl07dmFyIG49X3UuX19yZWFkKGUpLGk9blswXSxvPW5bMV0sYT1uLnNsaWNlKDIpOyJzdHJpbmciPT10eXBlb2YgaXx8aSBpbnN0YW5jZW9mIG11LkZpZWxkfHwobz1pLGk9IiIpO3ZhciB1PUJ1LkNodW5rZWQuZmxhdHRlbihBcnJheS5pc0FycmF5KG8pP191Ll9fc3ByZWFkKG8sYSk6byBpbnN0YW5jZW9mIGd1LlZlY3Rvcj9fdS5fX3NwcmVhZChbb10sYSk6W2d1LlZlY3Rvci5uZXcuYXBwbHkoZ3UuVmVjdG9yLF91Ll9fc3ByZWFkKFtvXSxhKSldKTtpZigic3RyaW5nIj09dHlwZW9mIGkpe3ZhciBzPXVbMF0uZGF0YS50eXBlO2k9bmV3IG11LkZpZWxkKGkscywhMCl9ZWxzZSFpLm51bGxhYmxlJiZ1LnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiBlLm51bGxDb3VudD4wfSkpJiYoaT1pLmNsb25lKHtudWxsYWJsZTohMH0pKTtyZXR1cm4gbmV3IHQoaSx1KX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJmaWVsZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9maWVsZH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsIm5hbWUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZmllbGQubmFtZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsIm51bGxhYmxlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZpZWxkLm51bGxhYmxlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwibWV0YWRhdGEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZmllbGQubWV0YWRhdGF9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPXRoaXMuX2NodW5rcyksbmV3IHQodGhpcy5fZmllbGQsZSl9LHQucHJvdG90eXBlLmdldENoaWxkQXQ9ZnVuY3Rpb24oZSl7aWYoZTwwfHxlPj10aGlzLm51bUNoaWxkcmVuKXJldHVybiBudWxsO3ZhciByLG4saSxvPXRoaXMuX2NoaWxkcmVufHwodGhpcy5fY2hpbGRyZW49W10pO3JldHVybihyPW9bZV0pP3I6KG49KHRoaXMudHlwZS5jaGlsZHJlbnx8W10pW2VdKSYmKGk9dGhpcy5fY2h1bmtzLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZ2V0Q2hpbGRBdChlKX0pKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBudWxsIT1lfSkpKS5sZW5ndGg+MD9vW2VdPW5ldyB0KG4saSk6bnVsbH0sdH0oQnUuQ2h1bmtlZCk7bWEuQ29sdW1uPVR1O3ZhciBJdT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQscixuKXt2YXIgaT1lLmNhbGwodGhpcyx0LFtyXSxuKXx8dGhpcztyZXR1cm4gaS5fY2h1bms9cixpfXJldHVybiBfdS5fX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS5zZWFyY2g9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD90KHRoaXMsMCxlKTpbMCxlXX0sdC5wcm90b3R5cGUuaXNWYWxpZD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fY2h1bmsuaXNWYWxpZChlKX0sdC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9jaHVuay5nZXQoZSl9LHQucHJvdG90eXBlLnNldD1mdW5jdGlvbihlLHQpe3RoaXMuX2NodW5rLnNldChlLHQpfSx0LnByb3RvdHlwZS5pbmRleE9mPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX2NodW5rLmluZGV4T2YoZSx0KX0sdH0oVHUpLHd1PXt9LE91PXt9LFN1PXt9LEF1PXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShBdSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksQXUuaW5zdGFuY2U9QXUuVHlwZUFzc2VtYmxlcj12b2lkIDA7dmFyIER1PUguZXhwb3J0cyxWdT1aLmZsYXRidWZmZXJzLkxvbmcsUHU9QmUsTXU9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIER1Ll9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLnZpc2l0PWZ1bmN0aW9uKHQscil7cmV0dXJuIG51bGw9PXR8fG51bGw9PXI/dm9pZCAwOmUucHJvdG90eXBlLnZpc2l0LmNhbGwodGhpcyx0LHIpfSx0LnByb3RvdHlwZS52aXNpdE51bGw9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gUHUuTnVsbC5zdGFydE51bGwodCksUHUuTnVsbC5lbmROdWxsKHQpfSx0LnByb3RvdHlwZS52aXNpdEludD1mdW5jdGlvbihlLHQpe3JldHVybiBQdS5JbnQuc3RhcnRJbnQodCksUHUuSW50LmFkZEJpdFdpZHRoKHQsZS5iaXRXaWR0aCksUHUuSW50LmFkZElzU2lnbmVkKHQsZS5pc1NpZ25lZCksUHUuSW50LmVuZEludCh0KX0sdC5wcm90b3R5cGUudmlzaXRGbG9hdD1mdW5jdGlvbihlLHQpe3JldHVybiBQdS5GbG9hdGluZ1BvaW50LnN0YXJ0RmxvYXRpbmdQb2ludCh0KSxQdS5GbG9hdGluZ1BvaW50LmFkZFByZWNpc2lvbih0LGUucHJlY2lzaW9uKSxQdS5GbG9hdGluZ1BvaW50LmVuZEZsb2F0aW5nUG9pbnQodCl9LHQucHJvdG90eXBlLnZpc2l0QmluYXJ5PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIFB1LkJpbmFyeS5zdGFydEJpbmFyeSh0KSxQdS5CaW5hcnkuZW5kQmluYXJ5KHQpfSx0LnByb3RvdHlwZS52aXNpdEJvb2w9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gUHUuQm9vbC5zdGFydEJvb2wodCksUHUuQm9vbC5lbmRCb29sKHQpfSx0LnByb3RvdHlwZS52aXNpdFV0Zjg9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gUHUuVXRmOC5zdGFydFV0ZjgodCksUHUuVXRmOC5lbmRVdGY4KHQpfSx0LnByb3RvdHlwZS52aXNpdERlY2ltYWw9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gUHUuRGVjaW1hbC5zdGFydERlY2ltYWwodCksUHUuRGVjaW1hbC5hZGRTY2FsZSh0LGUuc2NhbGUpLFB1LkRlY2ltYWwuYWRkUHJlY2lzaW9uKHQsZS5wcmVjaXNpb24pLFB1LkRlY2ltYWwuZW5kRGVjaW1hbCh0KX0sdC5wcm90b3R5cGUudmlzaXREYXRlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIFB1LkRhdGUuc3RhcnREYXRlKHQpLFB1LkRhdGUuYWRkVW5pdCh0LGUudW5pdCksUHUuRGF0ZS5lbmREYXRlKHQpfSx0LnByb3RvdHlwZS52aXNpdFRpbWU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gUHUuVGltZS5zdGFydFRpbWUodCksUHUuVGltZS5hZGRVbml0KHQsZS51bml0KSxQdS5UaW1lLmFkZEJpdFdpZHRoKHQsZS5iaXRXaWR0aCksUHUuVGltZS5lbmRUaW1lKHQpfSx0LnByb3RvdHlwZS52aXNpdFRpbWVzdGFtcD1mdW5jdGlvbihlLHQpe3ZhciByPWUudGltZXpvbmUmJnQuY3JlYXRlU3RyaW5nKGUudGltZXpvbmUpfHx2b2lkIDA7cmV0dXJuIFB1LlRpbWVzdGFtcC5zdGFydFRpbWVzdGFtcCh0KSxQdS5UaW1lc3RhbXAuYWRkVW5pdCh0LGUudW5pdCksdm9pZCAwIT09ciYmUHUuVGltZXN0YW1wLmFkZFRpbWV6b25lKHQsciksUHUuVGltZXN0YW1wLmVuZFRpbWVzdGFtcCh0KX0sdC5wcm90b3R5cGUudmlzaXRJbnRlcnZhbD1mdW5jdGlvbihlLHQpe3JldHVybiBQdS5JbnRlcnZhbC5zdGFydEludGVydmFsKHQpLFB1LkludGVydmFsLmFkZFVuaXQodCxlLnVuaXQpLFB1LkludGVydmFsLmVuZEludGVydmFsKHQpfSx0LnByb3RvdHlwZS52aXNpdExpc3Q9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gUHUuTGlzdC5zdGFydExpc3QodCksUHUuTGlzdC5lbmRMaXN0KHQpfSx0LnByb3RvdHlwZS52aXNpdFN0cnVjdD1mdW5jdGlvbihlLHQpe3JldHVybiBQdS5TdHJ1Y3RfLnN0YXJ0U3RydWN0Xyh0KSxQdS5TdHJ1Y3RfLmVuZFN0cnVjdF8odCl9LHQucHJvdG90eXBlLnZpc2l0VW5pb249ZnVuY3Rpb24oZSx0KXtQdS5Vbmlvbi5zdGFydFR5cGVJZHNWZWN0b3IodCxlLnR5cGVJZHMubGVuZ3RoKTt2YXIgcj1QdS5Vbmlvbi5jcmVhdGVUeXBlSWRzVmVjdG9yKHQsZS50eXBlSWRzKTtyZXR1cm4gUHUuVW5pb24uc3RhcnRVbmlvbih0KSxQdS5Vbmlvbi5hZGRNb2RlKHQsZS5tb2RlKSxQdS5Vbmlvbi5hZGRUeXBlSWRzKHQsciksUHUuVW5pb24uZW5kVW5pb24odCl9LHQucHJvdG90eXBlLnZpc2l0RGljdGlvbmFyeT1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMudmlzaXQoZS5pbmRpY2VzLHQpO3JldHVybiBQdS5EaWN0aW9uYXJ5RW5jb2Rpbmcuc3RhcnREaWN0aW9uYXJ5RW5jb2RpbmcodCksUHUuRGljdGlvbmFyeUVuY29kaW5nLmFkZElkKHQsbmV3IFZ1KGUuaWQsMCkpLFB1LkRpY3Rpb25hcnlFbmNvZGluZy5hZGRJc09yZGVyZWQodCxlLmlzT3JkZXJlZCksdm9pZCAwIT09ciYmUHUuRGljdGlvbmFyeUVuY29kaW5nLmFkZEluZGV4VHlwZSh0LHIpLFB1LkRpY3Rpb25hcnlFbmNvZGluZy5lbmREaWN0aW9uYXJ5RW5jb2RpbmcodCl9LHQucHJvdG90eXBlLnZpc2l0Rml4ZWRTaXplQmluYXJ5PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIFB1LkZpeGVkU2l6ZUJpbmFyeS5zdGFydEZpeGVkU2l6ZUJpbmFyeSh0KSxQdS5GaXhlZFNpemVCaW5hcnkuYWRkQnl0ZVdpZHRoKHQsZS5ieXRlV2lkdGgpLFB1LkZpeGVkU2l6ZUJpbmFyeS5lbmRGaXhlZFNpemVCaW5hcnkodCl9LHQucHJvdG90eXBlLnZpc2l0Rml4ZWRTaXplTGlzdD1mdW5jdGlvbihlLHQpe3JldHVybiBQdS5GaXhlZFNpemVMaXN0LnN0YXJ0Rml4ZWRTaXplTGlzdCh0KSxQdS5GaXhlZFNpemVMaXN0LmFkZExpc3RTaXplKHQsZS5saXN0U2l6ZSksUHUuRml4ZWRTaXplTGlzdC5lbmRGaXhlZFNpemVMaXN0KHQpfSx0LnByb3RvdHlwZS52aXNpdE1hcD1mdW5jdGlvbihlLHQpe3JldHVybiBQdS5NYXAuc3RhcnRNYXAodCksUHUuTWFwLmFkZEtleXNTb3J0ZWQodCxlLmtleXNTb3J0ZWQpLFB1Lk1hcC5lbmRNYXAodCl9LHR9KGRpLlZpc2l0b3IpO0F1LlR5cGVBc3NlbWJsZXI9TXUsQXUuaW5zdGFuY2U9bmV3IE11O3ZhciBGdT17fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoRnUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLEZ1LmZpZWxkRnJvbUpTT049RnUuZGljdGlvbmFyeUJhdGNoRnJvbUpTT049RnUucmVjb3JkQmF0Y2hGcm9tSlNPTj1GdS5zY2hlbWFGcm9tSlNPTj12b2lkIDA7dmFyIFV1PUguZXhwb3J0cyxqdT1Ebix4dT1GZSxMdT1TdSxSdT1nZTtmdW5jdGlvbiBOdShlKXtyZXR1cm4gbmV3IEx1LlJlY29yZEJhdGNoKGUuY291bnQsQ3UoZS5jb2x1bW5zKSx6dShlLmNvbHVtbnMpKX1mdW5jdGlvbiBFdShlLHQpe3JldHVybihlLmNoaWxkcmVufHxbXSkuZmlsdGVyKEJvb2xlYW4pLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGp1LkZpZWxkLmZyb21KU09OKGUsdCl9KSl9ZnVuY3Rpb24gQ3UoZSl7cmV0dXJuKGV8fFtdKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIFV1Ll9fc3ByZWFkKGUsW25ldyBMdS5GaWVsZE5vZGUodC5jb3VudCwocj10LlZBTElESVRZLChyfHxbXSkucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiBlKyArKDA9PT10KX0pLDApKSldLEN1KHQuY2hpbGRyZW4pKTt2YXIgcn0pLFtdKX1mdW5jdGlvbiB6dShlLHQpe3ZvaWQgMD09PXQmJih0PVtdKTtmb3IodmFyIHI9LTEsbj0oZXx8W10pLmxlbmd0aDsrK3I8bjspe3ZhciBpPWVbcl07aS5WQUxJRElUWSYmdC5wdXNoKG5ldyBMdS5CdWZmZXJSZWdpb24odC5sZW5ndGgsaS5WQUxJRElUWS5sZW5ndGgpKSxpLlRZUEUmJnQucHVzaChuZXcgTHUuQnVmZmVyUmVnaW9uKHQubGVuZ3RoLGkuVFlQRS5sZW5ndGgpKSxpLk9GRlNFVCYmdC5wdXNoKG5ldyBMdS5CdWZmZXJSZWdpb24odC5sZW5ndGgsaS5PRkZTRVQubGVuZ3RoKSksaS5EQVRBJiZ0LnB1c2gobmV3IEx1LkJ1ZmZlclJlZ2lvbih0Lmxlbmd0aCxpLkRBVEEubGVuZ3RoKSksdD16dShpLmNoaWxkcmVuLHQpfXJldHVybiB0fWZ1bmN0aW9uIGt1KGUpe3JldHVybiBuZXcgTWFwKE9iamVjdC5lbnRyaWVzKGV8fHt9KSl9ZnVuY3Rpb24gV3UoZSl7cmV0dXJuIG5ldyB4dS5JbnQoZS5pc1NpZ25lZCxlLmJpdFdpZHRoKX1mdW5jdGlvbiBZdShlLHQpe3ZhciByPWUudHlwZS5uYW1lO3N3aXRjaChyKXtjYXNlIk5PTkUiOmNhc2UibnVsbCI6cmV0dXJuIG5ldyB4dS5OdWxsO2Nhc2UiYmluYXJ5IjpyZXR1cm4gbmV3IHh1LkJpbmFyeTtjYXNlInV0ZjgiOnJldHVybiBuZXcgeHUuVXRmODtjYXNlImJvb2wiOnJldHVybiBuZXcgeHUuQm9vbDtjYXNlImxpc3QiOnJldHVybiBuZXcgeHUuTGlzdCgodHx8W10pWzBdKTtjYXNlInN0cnVjdCI6Y2FzZSJzdHJ1Y3RfIjpyZXR1cm4gbmV3IHh1LlN0cnVjdCh0fHxbXSl9c3dpdGNoKHIpe2Nhc2UiaW50Ijp2YXIgbj1lLnR5cGU7cmV0dXJuIG5ldyB4dS5JbnQobi5pc1NpZ25lZCxuLmJpdFdpZHRoKTtjYXNlImZsb2F0aW5ncG9pbnQiOm49ZS50eXBlO3JldHVybiBuZXcgeHUuRmxvYXQoUnUuUHJlY2lzaW9uW24ucHJlY2lzaW9uXSk7Y2FzZSJkZWNpbWFsIjpuPWUudHlwZTtyZXR1cm4gbmV3IHh1LkRlY2ltYWwobi5zY2FsZSxuLnByZWNpc2lvbik7Y2FzZSJkYXRlIjpuPWUudHlwZTtyZXR1cm4gbmV3IHh1LkRhdGVfKFJ1LkRhdGVVbml0W24udW5pdF0pO2Nhc2UidGltZSI6bj1lLnR5cGU7cmV0dXJuIG5ldyB4dS5UaW1lKFJ1LlRpbWVVbml0W24udW5pdF0sbi5iaXRXaWR0aCk7Y2FzZSJ0aW1lc3RhbXAiOm49ZS50eXBlO3JldHVybiBuZXcgeHUuVGltZXN0YW1wKFJ1LlRpbWVVbml0W24udW5pdF0sbi50aW1lem9uZSk7Y2FzZSJpbnRlcnZhbCI6bj1lLnR5cGU7cmV0dXJuIG5ldyB4dS5JbnRlcnZhbChSdS5JbnRlcnZhbFVuaXRbbi51bml0XSk7Y2FzZSJ1bmlvbiI6bj1lLnR5cGU7cmV0dXJuIG5ldyB4dS5VbmlvbihSdS5Vbmlvbk1vZGVbbi5tb2RlXSxuLnR5cGVJZHN8fFtdLHR8fFtdKTtjYXNlImZpeGVkc2l6ZWJpbmFyeSI6bj1lLnR5cGU7cmV0dXJuIG5ldyB4dS5GaXhlZFNpemVCaW5hcnkobi5ieXRlV2lkdGgpO2Nhc2UiZml4ZWRzaXplbGlzdCI6bj1lLnR5cGU7cmV0dXJuIG5ldyB4dS5GaXhlZFNpemVMaXN0KG4ubGlzdFNpemUsKHR8fFtdKVswXSk7Y2FzZSJtYXAiOm49ZS50eXBlO3JldHVybiBuZXcgeHUuTWFwXygodHx8W10pWzBdLG4ua2V5c1NvcnRlZCl9dGhyb3cgbmV3IEVycm9yKCdVbnJlY29nbml6ZWQgdHlwZTogIicrcisnIicpfUZ1LnNjaGVtYUZyb21KU09OPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMD09PXQmJih0PW5ldyBNYXApLG5ldyBqdS5TY2hlbWEoZnVuY3Rpb24oZSx0KXtyZXR1cm4oZS5maWVsZHN8fFtdKS5maWx0ZXIoQm9vbGVhbikubWFwKChmdW5jdGlvbihlKXtyZXR1cm4ganUuRmllbGQuZnJvbUpTT04oZSx0KX0pKX0oZSx0KSxrdShlLmN1c3RvbU1ldGFkYXRhKSx0KX0sRnUucmVjb3JkQmF0Y2hGcm9tSlNPTj1OdSxGdS5kaWN0aW9uYXJ5QmF0Y2hGcm9tSlNPTj1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IEx1LkRpY3Rpb25hcnlCYXRjaChOdShlLmRhdGEpLGUuaWQsZS5pc0RlbHRhKX0sRnUuZmllbGRGcm9tSlNPTj1mdW5jdGlvbihlLHQpe3ZhciByLG4saSxvLGEsdTtyZXR1cm4gdCYmKG89ZS5kaWN0aW9uYXJ5KT90LmhhcyhyPW8uaWQpPyhuPShuPW8uaW5kZXhUeXBlKT9XdShuKTpuZXcgeHUuSW50MzIsdT1uZXcgeHUuRGljdGlvbmFyeSh0LmdldChyKSxuLHIsby5pc09yZGVyZWQpLGk9bmV3IGp1LkZpZWxkKGUubmFtZSx1LGUubnVsbGFibGUsa3UoZS5jdXN0b21NZXRhZGF0YSkpKToobj0obj1vLmluZGV4VHlwZSk/V3Uobik6bmV3IHh1LkludDMyLHQuc2V0KHIsYT1ZdShlLEV1KGUsdCkpKSx1PW5ldyB4dS5EaWN0aW9uYXJ5KGEsbixyLG8uaXNPcmRlcmVkKSxpPW5ldyBqdS5GaWVsZChlLm5hbWUsdSxlLm51bGxhYmxlLGt1KGUuY3VzdG9tTWV0YWRhdGEpKSk6KGE9WXUoZSxFdShlLHQpKSxpPW5ldyBqdS5GaWVsZChlLm5hbWUsYSxlLm51bGxhYmxlLGt1KGUuY3VzdG9tTWV0YWRhdGEpKSksaXx8bnVsbH0sT2JqZWN0LmRlZmluZVByb3BlcnR5KFN1LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxTdS5GaWVsZE5vZGU9U3UuQnVmZmVyUmVnaW9uPVN1LkRpY3Rpb25hcnlCYXRjaD1TdS5SZWNvcmRCYXRjaD1TdS5NZXNzYWdlPXZvaWQgMDt2YXIgSHU9SC5leHBvcnRzLEd1PVosSnU9QmUsWnU9VGUsS3U9RG4sWHU9RyxxdT1nZSxRdT1BdSwkdT1GdSxlcz1HdS5mbGF0YnVmZmVycy5Mb25nLHRzPUd1LmZsYXRidWZmZXJzLkJ1aWxkZXIscnM9R3UuZmxhdGJ1ZmZlcnMuQnl0ZUJ1ZmZlcixucz1GZSxpcz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LHIsbil7dGhpcy5fdmVyc2lvbj10LHRoaXMuX2hlYWRlclR5cGU9cix0aGlzLmJvZHk9bmV3IFVpbnQ4QXJyYXkoMCksbiYmKHRoaXMuX2NyZWF0ZUhlYWRlcj1mdW5jdGlvbigpe3JldHVybiBufSksdGhpcy5fYm9keUxlbmd0aD0ibnVtYmVyIj09dHlwZW9mIGU/ZTplLmxvd31yZXR1cm4gZS5mcm9tSlNPTj1mdW5jdGlvbih0LHIpe3ZhciBuPW5ldyBlKDAscXUuTWV0YWRhdGFWZXJzaW9uLlY0LHIpO3JldHVybiBuLl9jcmVhdGVIZWFkZXI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24oKXtzd2l0Y2godCl7Y2FzZSBxdS5NZXNzYWdlSGVhZGVyLlNjaGVtYTpyZXR1cm4gS3UuU2NoZW1hLmZyb21KU09OKGUpO2Nhc2UgcXUuTWVzc2FnZUhlYWRlci5SZWNvcmRCYXRjaDpyZXR1cm4gb3MuZnJvbUpTT04oZSk7Y2FzZSBxdS5NZXNzYWdlSGVhZGVyLkRpY3Rpb25hcnlCYXRjaDpyZXR1cm4gYXMuZnJvbUpTT04oZSl9dGhyb3cgbmV3IEVycm9yKCJVbnJlY29nbml6ZWQgTWVzc2FnZSB0eXBlOiB7IG5hbWU6ICIrcXUuTWVzc2FnZUhlYWRlclt0XSsiLCB0eXBlOiAiK3QrIiB9Iil9fSh0LHIpLG59LGUuZGVjb2RlPWZ1bmN0aW9uKHQpe3Q9bmV3IHJzKFh1LnRvVWludDhBcnJheSh0KSk7dmFyIHI9WnUuTWVzc2FnZS5nZXRSb290QXNNZXNzYWdlKHQpLG49ci5ib2R5TGVuZ3RoKCksaT1yLnZlcnNpb24oKSxvPXIuaGVhZGVyVHlwZSgpLGE9bmV3IGUobixpLG8pO3JldHVybiBhLl9jcmVhdGVIZWFkZXI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24oKXtzd2l0Y2godCl7Y2FzZSBxdS5NZXNzYWdlSGVhZGVyLlNjaGVtYTpyZXR1cm4gS3UuU2NoZW1hLmRlY29kZShlLmhlYWRlcihuZXcgSnUuU2NoZW1hKSk7Y2FzZSBxdS5NZXNzYWdlSGVhZGVyLlJlY29yZEJhdGNoOnJldHVybiBvcy5kZWNvZGUoZS5oZWFkZXIobmV3IFp1LlJlY29yZEJhdGNoKSxlLnZlcnNpb24oKSk7Y2FzZSBxdS5NZXNzYWdlSGVhZGVyLkRpY3Rpb25hcnlCYXRjaDpyZXR1cm4gYXMuZGVjb2RlKGUuaGVhZGVyKG5ldyBadS5EaWN0aW9uYXJ5QmF0Y2gpLGUudmVyc2lvbigpKX10aHJvdyBuZXcgRXJyb3IoIlVucmVjb2duaXplZCBNZXNzYWdlIHR5cGU6IHsgbmFtZTogIitxdS5NZXNzYWdlSGVhZGVyW3RdKyIsIHR5cGU6ICIrdCsiIH0iKX19KHIsbyksYX0sZS5lbmNvZGU9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IHRzLHI9LTE7cmV0dXJuIGUuaXNTY2hlbWEoKT9yPUt1LlNjaGVtYS5lbmNvZGUodCxlLmhlYWRlcigpKTplLmlzUmVjb3JkQmF0Y2goKT9yPW9zLmVuY29kZSh0LGUuaGVhZGVyKCkpOmUuaXNEaWN0aW9uYXJ5QmF0Y2goKSYmKHI9YXMuZW5jb2RlKHQsZS5oZWFkZXIoKSkpLFp1Lk1lc3NhZ2Uuc3RhcnRNZXNzYWdlKHQpLFp1Lk1lc3NhZ2UuYWRkVmVyc2lvbih0LHF1Lk1ldGFkYXRhVmVyc2lvbi5WNCksWnUuTWVzc2FnZS5hZGRIZWFkZXIodCxyKSxadS5NZXNzYWdlLmFkZEhlYWRlclR5cGUodCxlLmhlYWRlclR5cGUpLFp1Lk1lc3NhZ2UuYWRkQm9keUxlbmd0aCh0LG5ldyBlcyhlLmJvZHlMZW5ndGgsMCkpLFp1Lk1lc3NhZ2UuZmluaXNoTWVzc2FnZUJ1ZmZlcih0LFp1Lk1lc3NhZ2UuZW5kTWVzc2FnZSh0KSksdC5hc1VpbnQ4QXJyYXkoKX0sZS5mcm9tPWZ1bmN0aW9uKHQscil7aWYodm9pZCAwPT09ciYmKHI9MCksdCBpbnN0YW5jZW9mIEt1LlNjaGVtYSlyZXR1cm4gbmV3IGUoMCxxdS5NZXRhZGF0YVZlcnNpb24uVjQscXUuTWVzc2FnZUhlYWRlci5TY2hlbWEsdCk7aWYodCBpbnN0YW5jZW9mIG9zKXJldHVybiBuZXcgZShyLHF1Lk1ldGFkYXRhVmVyc2lvbi5WNCxxdS5NZXNzYWdlSGVhZGVyLlJlY29yZEJhdGNoLHQpO2lmKHQgaW5zdGFuY2VvZiBhcylyZXR1cm4gbmV3IGUocixxdS5NZXRhZGF0YVZlcnNpb24uVjQscXUuTWVzc2FnZUhlYWRlci5EaWN0aW9uYXJ5QmF0Y2gsdCk7dGhyb3cgbmV3IEVycm9yKCJVbnJlY29nbml6ZWQgTWVzc2FnZSBoZWFkZXI6ICIrdCl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwidHlwZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmhlYWRlclR5cGV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJ2ZXJzaW9uIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZlcnNpb259LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJoZWFkZXJUeXBlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2hlYWRlclR5cGV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJib2R5TGVuZ3RoIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2JvZHlMZW5ndGh9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuaGVhZGVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NyZWF0ZUhlYWRlcigpfSxlLnByb3RvdHlwZS5pc1NjaGVtYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhlYWRlclR5cGU9PT1xdS5NZXNzYWdlSGVhZGVyLlNjaGVtYX0sZS5wcm90b3R5cGUuaXNSZWNvcmRCYXRjaD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhlYWRlclR5cGU9PT1xdS5NZXNzYWdlSGVhZGVyLlJlY29yZEJhdGNofSxlLnByb3RvdHlwZS5pc0RpY3Rpb25hcnlCYXRjaD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhlYWRlclR5cGU9PT1xdS5NZXNzYWdlSGVhZGVyLkRpY3Rpb25hcnlCYXRjaH0sZX0oKTtTdS5NZXNzYWdlPWlzO3ZhciBvcz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LHIpe3RoaXMuX25vZGVzPXQsdGhpcy5fYnVmZmVycz1yLHRoaXMuX2xlbmd0aD0ibnVtYmVyIj09dHlwZW9mIGU/ZTplLmxvd31yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJub2RlcyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9ub2Rlc30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImxlbmd0aCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9sZW5ndGh9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJidWZmZXJzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2J1ZmZlcnN9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZX0oKTtTdS5SZWNvcmRCYXRjaD1vczt2YXIgYXM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxyKXt2b2lkIDA9PT1yJiYocj0hMSksdGhpcy5fZGF0YT1lLHRoaXMuX2lzRGVsdGE9cix0aGlzLl9pZD0ibnVtYmVyIj09dHlwZW9mIHQ/dDp0Lmxvd31yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJpZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pZH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImRhdGEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImlzRGVsdGEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNEZWx0YX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImxlbmd0aCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGEubGVuZ3RofSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwibm9kZXMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhLm5vZGVzfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiYnVmZmVycyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGEuYnVmZmVyc30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlfSgpO1N1LkRpY3Rpb25hcnlCYXRjaD1hczt2YXIgdXM9ZnVuY3Rpb24oZSx0KXt0aGlzLm9mZnNldD0ibnVtYmVyIj09dHlwZW9mIGU/ZTplLmxvdyx0aGlzLmxlbmd0aD0ibnVtYmVyIj09dHlwZW9mIHQ/dDp0Lmxvd307U3UuQnVmZmVyUmVnaW9uPXVzO3ZhciBzcz1mdW5jdGlvbihlLHQpe3RoaXMubGVuZ3RoPSJudW1iZXIiPT10eXBlb2YgZT9lOmUubG93LHRoaXMubnVsbENvdW50PSJudW1iZXIiPT10eXBlb2YgdD90OnQubG93fTtmdW5jdGlvbiBjcyhlLHQpe2Zvcih2YXIgcj1bXSxuPXZvaWQgMCxpPS0xLG89LTEsYT1lLmNoaWxkcmVuTGVuZ3RoKCk7KytpPGE7KShuPWUuY2hpbGRyZW4oaSkpJiYoclsrK29dPUt1LkZpZWxkLmRlY29kZShuLHQpKTtyZXR1cm4gcn1mdW5jdGlvbiBscyhlKXt2YXIgdD1uZXcgTWFwO2lmKGUpZm9yKHZhciByPXZvaWQgMCxuPXZvaWQgMCxpPS0xLG89MHxlLmN1c3RvbU1ldGFkYXRhTGVuZ3RoKCk7KytpPG87KShyPWUuY3VzdG9tTWV0YWRhdGEoaSkpJiZudWxsIT0obj1yLmtleSgpKSYmdC5zZXQobixyLnZhbHVlKCkpO3JldHVybiB0fWZ1bmN0aW9uIGZzKGUpe3JldHVybiBuZXcgbnMuSW50KGUuaXNTaWduZWQoKSxlLmJpdFdpZHRoKCkpfWZ1bmN0aW9uIGRzKGUsdCl7dmFyIHI9ZS50eXBlVHlwZSgpO3N3aXRjaChyKXtjYXNlIEp1LlR5cGUuTk9ORTpjYXNlIEp1LlR5cGUuTnVsbDpyZXR1cm4gbmV3IG5zLk51bGw7Y2FzZSBKdS5UeXBlLkJpbmFyeTpyZXR1cm4gbmV3IG5zLkJpbmFyeTtjYXNlIEp1LlR5cGUuVXRmODpyZXR1cm4gbmV3IG5zLlV0Zjg7Y2FzZSBKdS5UeXBlLkJvb2w6cmV0dXJuIG5ldyBucy5Cb29sO2Nhc2UgSnUuVHlwZS5MaXN0OnJldHVybiBuZXcgbnMuTGlzdCgodHx8W10pWzBdKTtjYXNlIEp1LlR5cGUuU3RydWN0XzpyZXR1cm4gbmV3IG5zLlN0cnVjdCh0fHxbXSl9c3dpdGNoKHIpe2Nhc2UgSnUuVHlwZS5JbnQ6dmFyIG49ZS50eXBlKG5ldyBKdS5JbnQpO3JldHVybiBuZXcgbnMuSW50KG4uaXNTaWduZWQoKSxuLmJpdFdpZHRoKCkpO2Nhc2UgSnUuVHlwZS5GbG9hdGluZ1BvaW50Om49ZS50eXBlKG5ldyBKdS5GbG9hdGluZ1BvaW50KTtyZXR1cm4gbmV3IG5zLkZsb2F0KG4ucHJlY2lzaW9uKCkpO2Nhc2UgSnUuVHlwZS5EZWNpbWFsOm49ZS50eXBlKG5ldyBKdS5EZWNpbWFsKTtyZXR1cm4gbmV3IG5zLkRlY2ltYWwobi5zY2FsZSgpLG4ucHJlY2lzaW9uKCkpO2Nhc2UgSnUuVHlwZS5EYXRlOm49ZS50eXBlKG5ldyBKdS5EYXRlKTtyZXR1cm4gbmV3IG5zLkRhdGVfKG4udW5pdCgpKTtjYXNlIEp1LlR5cGUuVGltZTpuPWUudHlwZShuZXcgSnUuVGltZSk7cmV0dXJuIG5ldyBucy5UaW1lKG4udW5pdCgpLG4uYml0V2lkdGgoKSk7Y2FzZSBKdS5UeXBlLlRpbWVzdGFtcDpuPWUudHlwZShuZXcgSnUuVGltZXN0YW1wKTtyZXR1cm4gbmV3IG5zLlRpbWVzdGFtcChuLnVuaXQoKSxuLnRpbWV6b25lKCkpO2Nhc2UgSnUuVHlwZS5JbnRlcnZhbDpuPWUudHlwZShuZXcgSnUuSW50ZXJ2YWwpO3JldHVybiBuZXcgbnMuSW50ZXJ2YWwobi51bml0KCkpO2Nhc2UgSnUuVHlwZS5VbmlvbjpuPWUudHlwZShuZXcgSnUuVW5pb24pO3JldHVybiBuZXcgbnMuVW5pb24obi5tb2RlKCksbi50eXBlSWRzQXJyYXkoKXx8W10sdHx8W10pO2Nhc2UgSnUuVHlwZS5GaXhlZFNpemVCaW5hcnk6bj1lLnR5cGUobmV3IEp1LkZpeGVkU2l6ZUJpbmFyeSk7cmV0dXJuIG5ldyBucy5GaXhlZFNpemVCaW5hcnkobi5ieXRlV2lkdGgoKSk7Y2FzZSBKdS5UeXBlLkZpeGVkU2l6ZUxpc3Q6bj1lLnR5cGUobmV3IEp1LkZpeGVkU2l6ZUxpc3QpO3JldHVybiBuZXcgbnMuRml4ZWRTaXplTGlzdChuLmxpc3RTaXplKCksKHR8fFtdKVswXSk7Y2FzZSBKdS5UeXBlLk1hcDpuPWUudHlwZShuZXcgSnUuTWFwKTtyZXR1cm4gbmV3IG5zLk1hcF8oKHR8fFtdKVswXSxuLmtleXNTb3J0ZWQoKSl9dGhyb3cgbmV3IEVycm9yKCdVbnJlY29nbml6ZWQgdHlwZTogIicrSnUuVHlwZVtyXSsnIiAoJytyKyIpIil9U3UuRmllbGROb2RlPXNzLEt1LkZpZWxkLmVuY29kZT1mdW5jdGlvbihlLHQpe3ZhciByPS0xLG49LTEsaT0tMSxvPXQudHlwZSxhPXQudHlwZUlkO25zLkRhdGFUeXBlLmlzRGljdGlvbmFyeShvKT8oYT1vLmRpY3Rpb25hcnkudHlwZUlkLGk9UXUuaW5zdGFuY2UudmlzaXQobyxlKSxuPVF1Lmluc3RhbmNlLnZpc2l0KG8uZGljdGlvbmFyeSxlKSk6bj1RdS5pbnN0YW5jZS52aXNpdChvLGUpO3ZhciB1PShvLmNoaWxkcmVufHxbXSkubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gS3UuRmllbGQuZW5jb2RlKGUsdCl9KSkscz1KdS5GaWVsZC5jcmVhdGVDaGlsZHJlblZlY3RvcihlLHUpLGM9dC5tZXRhZGF0YSYmdC5tZXRhZGF0YS5zaXplPjA/SnUuRmllbGQuY3JlYXRlQ3VzdG9tTWV0YWRhdGFWZWN0b3IoZSxIdS5fX3NwcmVhZCh0Lm1ldGFkYXRhKS5tYXAoKGZ1bmN0aW9uKHQpe3ZhciByPUh1Ll9fcmVhZCh0LDIpLG49clswXSxpPXJbMV0sbz1lLmNyZWF0ZVN0cmluZygiIituKSxhPWUuY3JlYXRlU3RyaW5nKCIiK2kpO3JldHVybiBKdS5LZXlWYWx1ZS5zdGFydEtleVZhbHVlKGUpLEp1LktleVZhbHVlLmFkZEtleShlLG8pLEp1LktleVZhbHVlLmFkZFZhbHVlKGUsYSksSnUuS2V5VmFsdWUuZW5kS2V5VmFsdWUoZSl9KSkpOi0xO3QubmFtZSYmKHI9ZS5jcmVhdGVTdHJpbmcodC5uYW1lKSk7SnUuRmllbGQuc3RhcnRGaWVsZChlKSxKdS5GaWVsZC5hZGRUeXBlKGUsbiksSnUuRmllbGQuYWRkVHlwZVR5cGUoZSxhKSxKdS5GaWVsZC5hZGRDaGlsZHJlbihlLHMpLEp1LkZpZWxkLmFkZE51bGxhYmxlKGUsISF0Lm51bGxhYmxlKSwtMSE9PXImJkp1LkZpZWxkLmFkZE5hbWUoZSxyKTstMSE9PWkmJkp1LkZpZWxkLmFkZERpY3Rpb25hcnkoZSxpKTstMSE9PWMmJkp1LkZpZWxkLmFkZEN1c3RvbU1ldGFkYXRhKGUsYyk7cmV0dXJuIEp1LkZpZWxkLmVuZEZpZWxkKGUpfSxLdS5GaWVsZC5kZWNvZGU9ZnVuY3Rpb24oZSx0KXt2YXIgcixuLGksbyxhLHU7dCYmKHU9ZS5kaWN0aW9uYXJ5KCkpP3QuaGFzKHI9dS5pZCgpLmxvdyk/KG89KG89dS5pbmRleFR5cGUoKSk/ZnMobyk6bmV3IG5zLkludDMyLGE9bmV3IG5zLkRpY3Rpb25hcnkodC5nZXQociksbyxyLHUuaXNPcmRlcmVkKCkpLG49bmV3IEt1LkZpZWxkKGUubmFtZSgpLGEsZS5udWxsYWJsZSgpLGxzKGUpKSk6KG89KG89dS5pbmRleFR5cGUoKSk/ZnMobyk6bmV3IG5zLkludDMyLHQuc2V0KHIsaT1kcyhlLGNzKGUsdCkpKSxhPW5ldyBucy5EaWN0aW9uYXJ5KGksbyxyLHUuaXNPcmRlcmVkKCkpLG49bmV3IEt1LkZpZWxkKGUubmFtZSgpLGEsZS5udWxsYWJsZSgpLGxzKGUpKSk6KGk9ZHMoZSxjcyhlLHQpKSxuPW5ldyBLdS5GaWVsZChlLm5hbWUoKSxpLGUubnVsbGFibGUoKSxscyhlKSkpO3JldHVybiBufHxudWxsfSxLdS5GaWVsZC5mcm9tSlNPTj0kdS5maWVsZEZyb21KU09OLEt1LlNjaGVtYS5lbmNvZGU9ZnVuY3Rpb24oZSx0KXt2YXIgcj10LmZpZWxkcy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBLdS5GaWVsZC5lbmNvZGUoZSx0KX0pKTtKdS5TY2hlbWEuc3RhcnRGaWVsZHNWZWN0b3IoZSxyLmxlbmd0aCk7dmFyIG49SnUuU2NoZW1hLmNyZWF0ZUZpZWxkc1ZlY3RvcihlLHIpLGk9dC5tZXRhZGF0YSYmdC5tZXRhZGF0YS5zaXplPjA/SnUuU2NoZW1hLmNyZWF0ZUN1c3RvbU1ldGFkYXRhVmVjdG9yKGUsSHUuX19zcHJlYWQodC5tZXRhZGF0YSkubWFwKChmdW5jdGlvbih0KXt2YXIgcj1IdS5fX3JlYWQodCwyKSxuPXJbMF0saT1yWzFdLG89ZS5jcmVhdGVTdHJpbmcoIiIrbiksYT1lLmNyZWF0ZVN0cmluZygiIitpKTtyZXR1cm4gSnUuS2V5VmFsdWUuc3RhcnRLZXlWYWx1ZShlKSxKdS5LZXlWYWx1ZS5hZGRLZXkoZSxvKSxKdS5LZXlWYWx1ZS5hZGRWYWx1ZShlLGEpLEp1LktleVZhbHVlLmVuZEtleVZhbHVlKGUpfSkpKTotMTtKdS5TY2hlbWEuc3RhcnRTY2hlbWEoZSksSnUuU2NoZW1hLmFkZEZpZWxkcyhlLG4pLEp1LlNjaGVtYS5hZGRFbmRpYW5uZXNzKGUseXM/SnUuRW5kaWFubmVzcy5MaXR0bGU6SnUuRW5kaWFubmVzcy5CaWcpLC0xIT09aSYmSnUuU2NoZW1hLmFkZEN1c3RvbU1ldGFkYXRhKGUsaSk7cmV0dXJuIEp1LlNjaGVtYS5lbmRTY2hlbWEoZSl9LEt1LlNjaGVtYS5kZWNvZGU9ZnVuY3Rpb24oZSx0KXt2b2lkIDA9PT10JiYodD1uZXcgTWFwKTt2YXIgcj1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj1bXSxuPXZvaWQgMCxpPS0xLG89LTEsYT1lLmZpZWxkc0xlbmd0aCgpOysraTxhOykobj1lLmZpZWxkcyhpKSkmJihyWysrb109S3UuRmllbGQuZGVjb2RlKG4sdCkpO3JldHVybiByfShlLHQpO3JldHVybiBuZXcgS3UuU2NoZW1hKHIsbHMoZSksdCl9LEt1LlNjaGVtYS5mcm9tSlNPTj0kdS5zY2hlbWFGcm9tSlNPTixvcy5lbmNvZGU9ZnVuY3Rpb24oZSx0KXt2YXIgcj10Lm5vZGVzfHxbXSxuPXQuYnVmZmVyc3x8W107WnUuUmVjb3JkQmF0Y2guc3RhcnROb2Rlc1ZlY3RvcihlLHIubGVuZ3RoKSxyLnNsaWNlKCkucmV2ZXJzZSgpLmZvckVhY2goKGZ1bmN0aW9uKHQpe3JldHVybiBzcy5lbmNvZGUoZSx0KX0pKTt2YXIgaT1lLmVuZFZlY3RvcigpO1p1LlJlY29yZEJhdGNoLnN0YXJ0QnVmZmVyc1ZlY3RvcihlLG4ubGVuZ3RoKSxuLnNsaWNlKCkucmV2ZXJzZSgpLmZvckVhY2goKGZ1bmN0aW9uKHQpe3JldHVybiB1cy5lbmNvZGUoZSx0KX0pKTt2YXIgbz1lLmVuZFZlY3RvcigpO3JldHVybiBadS5SZWNvcmRCYXRjaC5zdGFydFJlY29yZEJhdGNoKGUpLFp1LlJlY29yZEJhdGNoLmFkZExlbmd0aChlLG5ldyBlcyh0Lmxlbmd0aCwwKSksWnUuUmVjb3JkQmF0Y2guYWRkTm9kZXMoZSxpKSxadS5SZWNvcmRCYXRjaC5hZGRCdWZmZXJzKGUsbyksWnUuUmVjb3JkQmF0Y2guZW5kUmVjb3JkQmF0Y2goZSl9LG9zLmRlY29kZT1mdW5jdGlvbihlLHQpe3ZvaWQgMD09PXQmJih0PXF1Lk1ldGFkYXRhVmVyc2lvbi5WNCk7cmV0dXJuIG5ldyBvcyhlLmxlbmd0aCgpLGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxyPXZvaWQgMCxuPS0xLGk9LTEsbz1lLm5vZGVzTGVuZ3RoKCk7KytuPG87KShyPWUubm9kZXMobikpJiYodFsrK2ldPXNzLmRlY29kZShyKSk7cmV0dXJuIHR9KGUpLGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPVtdLG49dm9pZCAwLGk9LTEsbz0tMSxhPWUuYnVmZmVyc0xlbmd0aCgpOysraTxhOykobj1lLmJ1ZmZlcnMoaSkpJiYodDxxdS5NZXRhZGF0YVZlcnNpb24uVjQmJihuLmJiX3Bvcys9OCooaSsxKSksclsrK29dPXVzLmRlY29kZShuKSk7cmV0dXJuIHJ9KGUsdCkpfSxvcy5mcm9tSlNPTj0kdS5yZWNvcmRCYXRjaEZyb21KU09OLGFzLmVuY29kZT1mdW5jdGlvbihlLHQpe3ZhciByPW9zLmVuY29kZShlLHQuZGF0YSk7cmV0dXJuIFp1LkRpY3Rpb25hcnlCYXRjaC5zdGFydERpY3Rpb25hcnlCYXRjaChlKSxadS5EaWN0aW9uYXJ5QmF0Y2guYWRkSWQoZSxuZXcgZXModC5pZCwwKSksWnUuRGljdGlvbmFyeUJhdGNoLmFkZElzRGVsdGEoZSx0LmlzRGVsdGEpLFp1LkRpY3Rpb25hcnlCYXRjaC5hZGREYXRhKGUsciksWnUuRGljdGlvbmFyeUJhdGNoLmVuZERpY3Rpb25hcnlCYXRjaChlKX0sYXMuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7dm9pZCAwPT09dCYmKHQ9cXUuTWV0YWRhdGFWZXJzaW9uLlY0KTtyZXR1cm4gbmV3IGFzKG9zLmRlY29kZShlLmRhdGEoKSx0KSxlLmlkKCksZS5pc0RlbHRhKCkpfSxhcy5mcm9tSlNPTj0kdS5kaWN0aW9uYXJ5QmF0Y2hGcm9tSlNPTixzcy5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gWnUuRmllbGROb2RlLmNyZWF0ZUZpZWxkTm9kZShlLG5ldyBlcyh0Lmxlbmd0aCwwKSxuZXcgZXModC5udWxsQ291bnQsMCkpfSxzcy5kZWNvZGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBzcyhlLmxlbmd0aCgpLGUubnVsbENvdW50KCkpfSx1cy5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gSnUuQnVmZmVyLmNyZWF0ZUJ1ZmZlcihlLG5ldyBlcyh0Lm9mZnNldCwwKSxuZXcgZXModC5sZW5ndGgsMCkpfSx1cy5kZWNvZGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyB1cyhlLm9mZnNldCgpLGUubGVuZ3RoKCkpfTt2YXIgcHMseXM9KHBzPW5ldyBBcnJheUJ1ZmZlcigyKSxuZXcgRGF0YVZpZXcocHMpLnNldEludDE2KDAsMjU2LCEwKSwyNTY9PT1uZXcgSW50MTZBcnJheShwcylbMF0pOyFmdW5jdGlvbihlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5tYWdpY1gyQW5kUGFkZGluZz1lLm1hZ2ljQW5kUGFkZGluZz1lLm1hZ2ljTGVuZ3RoPWUuY2hlY2tGb3JNYWdpY0Fycm93U3RyaW5nPWUuTUFHSUM9ZS5NQUdJQ19TVFI9ZS5QQURESU5HPWUuSlNPTk1lc3NhZ2VSZWFkZXI9ZS5Bc3luY01lc3NhZ2VSZWFkZXI9ZS5NZXNzYWdlUmVhZGVyPXZvaWQgMDt2YXIgdD1ILmV4cG9ydHMscj1nZSxuPVouZmxhdGJ1ZmZlcnMuQnl0ZUJ1ZmZlcixpPVN1LG89USxhPUhvLHU9RyxzPVVvLGM9JCxsPWZ1bmN0aW9uKGUpe3JldHVybiJFeHBlY3RlZCAiK3IuTWVzc2FnZUhlYWRlcltlXSsiIE1lc3NhZ2UgaW4gc3RyZWFtLCBidXQgd2FzIG51bGwgb3IgbGVuZ3RoIDAuIn0sZj1mdW5jdGlvbihlKXtyZXR1cm4iSGVhZGVyIHBvaW50ZXIgb2YgZmxhdGJ1ZmZlci1lbmNvZGVkICIrci5NZXNzYWdlSGVhZGVyW2VdKyIgTWVzc2FnZSBpcyBudWxsIG9yIGxlbmd0aCAwLiJ9LGQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4iRXhwZWN0ZWQgdG8gcmVhZCAiK2UrIiBtZXRhZGF0YSBieXRlcywgYnV0IG9ubHkgcmVhZCAiK3QrIi4ifSxwPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIkV4cGVjdGVkIHRvIHJlYWQgIitlKyIgYnl0ZXMgZm9yIG1lc3NhZ2UgYm9keSwgYnV0IG9ubHkgcmVhZCAiK3QrIi4ifSx5PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXt0aGlzLnNvdXJjZT1lIGluc3RhbmNlb2Ygcy5CeXRlU3RyZWFtP2U6bmV3IHMuQnl0ZVN0cmVhbShlKX1yZXR1cm4gdC5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSx0LnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuKGU9dGhpcy5yZWFkTWV0YWRhdGFMZW5ndGgoKSkuZG9uZXx8LTE9PT1lLnZhbHVlJiYoZT10aGlzLnJlYWRNZXRhZGF0YUxlbmd0aCgpKS5kb25lfHwoZT10aGlzLnJlYWRNZXRhZGF0YShlLnZhbHVlKSkuZG9uZT9jLklURVJBVE9SX0RPTkU6ZX0sdC5wcm90b3R5cGUudGhyb3c9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuc291cmNlLnRocm93KGUpfSx0LnByb3RvdHlwZS5yZXR1cm49ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuc291cmNlLnJldHVybihlKX0sdC5wcm90b3R5cGUucmVhZE1lc3NhZ2U9ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoKHQ9dGhpcy5uZXh0KCkpLmRvbmUpcmV0dXJuIG51bGw7aWYobnVsbCE9ZSYmdC52YWx1ZS5oZWFkZXJUeXBlIT09ZSl0aHJvdyBuZXcgRXJyb3IobChlKSk7cmV0dXJuIHQudmFsdWV9LHQucHJvdG90eXBlLnJlYWRNZXNzYWdlQm9keT1mdW5jdGlvbihlKXtpZihlPD0wKXJldHVybiBuZXcgVWludDhBcnJheSgwKTt2YXIgdD11LnRvVWludDhBcnJheSh0aGlzLnNvdXJjZS5yZWFkKGUpKTtpZih0LmJ5dGVMZW5ndGg8ZSl0aHJvdyBuZXcgRXJyb3IocChlLHQuYnl0ZUxlbmd0aCkpO3JldHVybiB0LmJ5dGVPZmZzZXQlOD09MCYmdC5ieXRlT2Zmc2V0K3QuYnl0ZUxlbmd0aDw9dC5idWZmZXIuYnl0ZUxlbmd0aD90OnQuc2xpY2UoKX0sdC5wcm90b3R5cGUucmVhZFNjaGVtYT1mdW5jdGlvbihlKXt2b2lkIDA9PT1lJiYoZT0hMSk7dmFyIHQ9ci5NZXNzYWdlSGVhZGVyLlNjaGVtYSxuPXRoaXMucmVhZE1lc3NhZ2UodCksaT1udWxsPT1uP3ZvaWQgMDpuLmhlYWRlcigpO2lmKGUmJiFpKXRocm93IG5ldyBFcnJvcihmKHQpKTtyZXR1cm4gaX0sdC5wcm90b3R5cGUucmVhZE1ldGFkYXRhTGVuZ3RoPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zb3VyY2UucmVhZChlLlBBRERJTkcpLHI9dCYmbmV3IG4odCksaT0obnVsbD09cj92b2lkIDA6ci5yZWFkSW50MzIoMCkpfHwwO3JldHVybntkb25lOjA9PT1pLHZhbHVlOml9fSx0LnByb3RvdHlwZS5yZWFkTWV0YWRhdGE9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5zb3VyY2UucmVhZChlKTtpZighdClyZXR1cm4gYy5JVEVSQVRPUl9ET05FO2lmKHQuYnl0ZUxlbmd0aDxlKXRocm93IG5ldyBFcnJvcihkKGUsdC5ieXRlTGVuZ3RoKSk7cmV0dXJue2RvbmU6ITEsdmFsdWU6aS5NZXNzYWdlLmRlY29kZSh0KX19LHR9KCk7ZS5NZXNzYWdlUmVhZGVyPXk7dmFyIGg9ZnVuY3Rpb24oKXtmdW5jdGlvbiB5KGUsdCl7dGhpcy5zb3VyY2U9ZSBpbnN0YW5jZW9mIHMuQXN5bmNCeXRlU3RyZWFtP2U6by5pc0ZpbGVIYW5kbGUoZSk/bmV3IGEuQXN5bmNSYW5kb21BY2Nlc3NGaWxlKGUsdCk6bmV3IHMuQXN5bmNCeXRlU3RyZWFtKGUpfXJldHVybiB5LnByb3RvdHlwZVtTeW1ib2wuYXN5bmNJdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30seS5wcm90b3R5cGUubmV4dD1mdW5jdGlvbigpe3JldHVybiB0Ll9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGUscjtyZXR1cm4gdC5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMucmVhZE1ldGFkYXRhTGVuZ3RoKCldO2Nhc2UgMTpyZXR1cm4oZT10LnNlbnQoKSkuZG9uZT9bMixjLklURVJBVE9SX0RPTkVdOihyPS0xPT09ZS52YWx1ZSk/WzQsdGhpcy5yZWFkTWV0YWRhdGFMZW5ndGgoKV06WzMsM107Y2FzZSAyOnI9KGU9dC5zZW50KCkpLmRvbmUsdC5sYWJlbD0zO2Nhc2UgMzpyZXR1cm4gcj9bMixjLklURVJBVE9SX0RPTkVdOls0LHRoaXMucmVhZE1ldGFkYXRhKGUudmFsdWUpXTtjYXNlIDQ6cmV0dXJuKGU9dC5zZW50KCkpLmRvbmU/WzIsYy5JVEVSQVRPUl9ET05FXTpbMixlXX19KSl9KSl9LHkucHJvdG90eXBlLnRocm93PWZ1bmN0aW9uKGUpe3JldHVybiB0Ll9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIHQuX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnNvdXJjZS50aHJvdyhlKV07Y2FzZSAxOnJldHVyblsyLHQuc2VudCgpXX19KSl9KSl9LHkucHJvdG90eXBlLnJldHVybj1mdW5jdGlvbihlKXtyZXR1cm4gdC5fX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiB0Ll9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zb3VyY2UucmV0dXJuKGUpXTtjYXNlIDE6cmV0dXJuWzIsdC5zZW50KCldfX0pKX0pKX0seS5wcm90b3R5cGUucmVhZE1lc3NhZ2U9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgcjtyZXR1cm4gdC5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMubmV4dCgpXTtjYXNlIDE6aWYoKHI9dC5zZW50KCkpLmRvbmUpcmV0dXJuWzIsbnVsbF07aWYobnVsbCE9ZSYmci52YWx1ZS5oZWFkZXJUeXBlIT09ZSl0aHJvdyBuZXcgRXJyb3IobChlKSk7cmV0dXJuWzIsci52YWx1ZV19fSkpfSkpfSx5LnByb3RvdHlwZS5yZWFkTWVzc2FnZUJvZHk9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgcixuO3JldHVybiB0Ll9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuIGU8PTA/WzIsbmV3IFVpbnQ4QXJyYXkoMCldOihuPXUudG9VaW50OEFycmF5LFs0LHRoaXMuc291cmNlLnJlYWQoZSldKTtjYXNlIDE6aWYoKHI9bi5hcHBseSh2b2lkIDAsW3Quc2VudCgpXSkpLmJ5dGVMZW5ndGg8ZSl0aHJvdyBuZXcgRXJyb3IocChlLHIuYnl0ZUxlbmd0aCkpO3JldHVyblsyLHIuYnl0ZU9mZnNldCU4PT0wJiZyLmJ5dGVPZmZzZXQrci5ieXRlTGVuZ3RoPD1yLmJ1ZmZlci5ieXRlTGVuZ3RoP3I6ci5zbGljZSgpXX19KSl9KSl9LHkucHJvdG90eXBlLnJlYWRTY2hlbWE9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPSExKSx0Ll9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIG4saSxvO3JldHVybiB0Ll9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuIG49ci5NZXNzYWdlSGVhZGVyLlNjaGVtYSxbNCx0aGlzLnJlYWRNZXNzYWdlKG4pXTtjYXNlIDE6aWYoaT10LnNlbnQoKSxvPW51bGw9PWk/dm9pZCAwOmkuaGVhZGVyKCksZSYmIW8pdGhyb3cgbmV3IEVycm9yKGYobikpO3JldHVyblsyLG9dfX0pKX0pKX0seS5wcm90b3R5cGUucmVhZE1ldGFkYXRhTGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIHQuX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgcixpLG87cmV0dXJuIHQuX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnNvdXJjZS5yZWFkKGUuUEFERElORyldO2Nhc2UgMTpyZXR1cm4gcj10LnNlbnQoKSxpPXImJm5ldyBuKHIpLFsyLHtkb25lOjA9PT0obz0obnVsbD09aT92b2lkIDA6aS5yZWFkSW50MzIoMCkpfHwwKSx2YWx1ZTpvfV19fSkpfSkpfSx5LnByb3RvdHlwZS5yZWFkTWV0YWRhdGE9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgcjtyZXR1cm4gdC5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc291cmNlLnJlYWQoZSldO2Nhc2UgMTppZighKHI9dC5zZW50KCkpKXJldHVyblsyLGMuSVRFUkFUT1JfRE9ORV07aWYoci5ieXRlTGVuZ3RoPGUpdGhyb3cgbmV3IEVycm9yKGQoZSxyLmJ5dGVMZW5ndGgpKTtyZXR1cm5bMix7ZG9uZTohMSx2YWx1ZTppLk1lc3NhZ2UuZGVjb2RlKHIpfV19fSkpfSkpfSx5fSgpO2UuQXN5bmNNZXNzYWdlUmVhZGVyPWg7dmFyIGI9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gbih0KXt2YXIgcj1lLmNhbGwodGhpcyxuZXcgVWludDhBcnJheSgwKSl8fHRoaXM7cmV0dXJuIHIuX3NjaGVtYT0hMSxyLl9ib2R5PVtdLHIuX2JhdGNoSW5kZXg9MCxyLl9kaWN0aW9uYXJ5SW5kZXg9MCxyLl9qc29uPXQgaW5zdGFuY2VvZiBjLkFycm93SlNPTj90Om5ldyBjLkFycm93SlNPTih0KSxyfXJldHVybiB0Ll9fZXh0ZW5kcyhuLGUpLG4ucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9qc29uO2lmKCF0aGlzLl9zY2hlbWEpcmV0dXJuIHRoaXMuX3NjaGVtYT0hMCx7ZG9uZTohMSx2YWx1ZTppLk1lc3NhZ2UuZnJvbUpTT04oZS5zY2hlbWEsci5NZXNzYWdlSGVhZGVyLlNjaGVtYSl9O2lmKHRoaXMuX2RpY3Rpb25hcnlJbmRleDxlLmRpY3Rpb25hcmllcy5sZW5ndGgpe3ZhciB0PWUuZGljdGlvbmFyaWVzW3RoaXMuX2RpY3Rpb25hcnlJbmRleCsrXTtyZXR1cm4gdGhpcy5fYm9keT10LmRhdGEuY29sdW1ucyx7ZG9uZTohMSx2YWx1ZTppLk1lc3NhZ2UuZnJvbUpTT04odCxyLk1lc3NhZ2VIZWFkZXIuRGljdGlvbmFyeUJhdGNoKX19aWYodGhpcy5fYmF0Y2hJbmRleDxlLmJhdGNoZXMubGVuZ3RoKXt0PWUuYmF0Y2hlc1t0aGlzLl9iYXRjaEluZGV4KytdO3JldHVybiB0aGlzLl9ib2R5PXQuY29sdW1ucyx7ZG9uZTohMSx2YWx1ZTppLk1lc3NhZ2UuZnJvbUpTT04odCxyLk1lc3NhZ2VIZWFkZXIuUmVjb3JkQmF0Y2gpfX1yZXR1cm4gdGhpcy5fYm9keT1bXSxjLklURVJBVE9SX0RPTkV9LG4ucHJvdG90eXBlLnJlYWRNZXNzYWdlQm9keT1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24gZShyKXtyZXR1cm4ocnx8W10pLnJlZHVjZSgoZnVuY3Rpb24ocixuKXtyZXR1cm4gdC5fX3NwcmVhZChyLG4uVkFMSURJVFkmJltuLlZBTElESVRZXXx8W10sbi5UWVBFJiZbbi5UWVBFXXx8W10sbi5PRkZTRVQmJltuLk9GRlNFVF18fFtdLG4uREFUQSYmW24uREFUQV18fFtdLGUobi5jaGlsZHJlbikpfSksW10pfSh0aGlzLl9ib2R5KX0sbi5wcm90b3R5cGUucmVhZE1lc3NhZ2U9ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoKHQ9dGhpcy5uZXh0KCkpLmRvbmUpcmV0dXJuIG51bGw7aWYobnVsbCE9ZSYmdC52YWx1ZS5oZWFkZXJUeXBlIT09ZSl0aHJvdyBuZXcgRXJyb3IobChlKSk7cmV0dXJuIHQudmFsdWV9LG4ucHJvdG90eXBlLnJlYWRTY2hlbWE9ZnVuY3Rpb24oKXt2YXIgZT1yLk1lc3NhZ2VIZWFkZXIuU2NoZW1hLHQ9dGhpcy5yZWFkTWVzc2FnZShlKSxuPW51bGw9PXQ/dm9pZCAwOnQuaGVhZGVyKCk7aWYoIXR8fCFuKXRocm93IG5ldyBFcnJvcihmKGUpKTtyZXR1cm4gbn0sbn0oeSk7ZS5KU09OTWVzc2FnZVJlYWRlcj1iLGUuUEFERElORz00LGUuTUFHSUNfU1RSPSJBUlJPVzEiLGUuTUFHSUM9bmV3IFVpbnQ4QXJyYXkoZS5NQUdJQ19TVFIubGVuZ3RoKTtmb3IodmFyIHY9MDt2PGUuTUFHSUNfU1RSLmxlbmd0aDt2Kz0xKWUuTUFHSUNbdl09ZS5NQUdJQ19TVFIuY2hhckNvZGVBdCh2KTtlLmNoZWNrRm9yTWFnaWNBcnJvd1N0cmluZz1mdW5jdGlvbih0LHIpe3ZvaWQgMD09PXImJihyPTApO2Zvcih2YXIgbj0tMSxpPWUuTUFHSUMubGVuZ3RoOysrbjxpOylpZihlLk1BR0lDW25dIT09dFtyK25dKXJldHVybiExO3JldHVybiEwfSxlLm1hZ2ljTGVuZ3RoPWUuTUFHSUMubGVuZ3RoLGUubWFnaWNBbmRQYWRkaW5nPWUubWFnaWNMZW5ndGgrZS5QQURESU5HLGUubWFnaWNYMkFuZFBhZGRpbmc9MiplLm1hZ2ljTGVuZ3RoK2UuUEFERElOR30oT3UpO3ZhciBocz17fTshZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuY29tcGFyZVR5cGVzPWUuY29tcGFyZUZpZWxkcz1lLmNvbXBhcmVTY2hlbWFzPWUuaW5zdGFuY2U9ZS5UeXBlQ29tcGFyYXRvcj12b2lkIDA7dmFyIHQ9SC5leHBvcnRzLHI9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gcigpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIHQuX19leHRlbmRzKHIsZSksci5wcm90b3R5cGUuY29tcGFyZVNjaGVtYXM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT09PXR8fHQgaW5zdGFuY2VvZiBlLmNvbnN0cnVjdG9yJiZ0aGlzLmNvbXBhcmVNYW55RmllbGRzKGUuZmllbGRzLHQuZmllbGRzKX0sci5wcm90b3R5cGUuY29tcGFyZU1hbnlGaWVsZHM9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3JldHVybiBlPT09dHx8QXJyYXkuaXNBcnJheShlKSYmQXJyYXkuaXNBcnJheSh0KSYmZS5sZW5ndGg9PT10Lmxlbmd0aCYmZS5ldmVyeSgoZnVuY3Rpb24oZSxuKXtyZXR1cm4gci5jb21wYXJlRmllbGRzKGUsdFtuXSl9KSl9LHIucHJvdG90eXBlLmNvbXBhcmVGaWVsZHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT09PXR8fHQgaW5zdGFuY2VvZiBlLmNvbnN0cnVjdG9yJiZlLm5hbWU9PT10Lm5hbWUmJmUubnVsbGFibGU9PT10Lm51bGxhYmxlJiZ0aGlzLnZpc2l0KGUudHlwZSx0LnR5cGUpfSxyfShkaS5WaXNpdG9yKTtmdW5jdGlvbiBuKGUsdCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBlLmNvbnN0cnVjdG9yfWZ1bmN0aW9uIGkoZSx0KXtyZXR1cm4gZT09PXR8fG4oZSx0KX1mdW5jdGlvbiBvKGUsdCl7cmV0dXJuIGU9PT10fHxuKGUsdCkmJmUuYml0V2lkdGg9PT10LmJpdFdpZHRoJiZlLmlzU2lnbmVkPT09dC5pc1NpZ25lZH1mdW5jdGlvbiBhKGUsdCl7cmV0dXJuIGU9PT10fHxuKGUsdCkmJmUucHJlY2lzaW9uPT09dC5wcmVjaXNpb259ZnVuY3Rpb24gdShlLHQpe3JldHVybiBlPT09dHx8bihlLHQpJiZlLnVuaXQ9PT10LnVuaXR9ZnVuY3Rpb24gcyhlLHQpe3JldHVybiBlPT09dHx8bihlLHQpJiZlLnVuaXQ9PT10LnVuaXQmJmUudGltZXpvbmU9PT10LnRpbWV6b25lfWZ1bmN0aW9uIGMoZSx0KXtyZXR1cm4gZT09PXR8fG4oZSx0KSYmZS51bml0PT09dC51bml0JiZlLmJpdFdpZHRoPT09dC5iaXRXaWR0aH1mdW5jdGlvbiBsKHQscil7cmV0dXJuIHQ9PT1yfHxuKHQscikmJnQubW9kZT09PXIubW9kZSYmdC50eXBlSWRzLmV2ZXJ5KChmdW5jdGlvbihlLHQpe3JldHVybiBlPT09ci50eXBlSWRzW3RdfSkpJiZlLmluc3RhbmNlLmNvbXBhcmVNYW55RmllbGRzKHQuY2hpbGRyZW4sci5jaGlsZHJlbil9ZnVuY3Rpb24gZihlLHQpe3JldHVybiBlPT09dHx8bihlLHQpJiZlLnVuaXQ9PT10LnVuaXR9ZS5UeXBlQ29tcGFyYXRvcj1yLHIucHJvdG90eXBlLnZpc2l0TnVsbD1pLHIucHJvdG90eXBlLnZpc2l0Qm9vbD1pLHIucHJvdG90eXBlLnZpc2l0SW50PW8sci5wcm90b3R5cGUudmlzaXRJbnQ4PW8sci5wcm90b3R5cGUudmlzaXRJbnQxNj1vLHIucHJvdG90eXBlLnZpc2l0SW50MzI9byxyLnByb3RvdHlwZS52aXNpdEludDY0PW8sci5wcm90b3R5cGUudmlzaXRVaW50OD1vLHIucHJvdG90eXBlLnZpc2l0VWludDE2PW8sci5wcm90b3R5cGUudmlzaXRVaW50MzI9byxyLnByb3RvdHlwZS52aXNpdFVpbnQ2ND1vLHIucHJvdG90eXBlLnZpc2l0RmxvYXQ9YSxyLnByb3RvdHlwZS52aXNpdEZsb2F0MTY9YSxyLnByb3RvdHlwZS52aXNpdEZsb2F0MzI9YSxyLnByb3RvdHlwZS52aXNpdEZsb2F0NjQ9YSxyLnByb3RvdHlwZS52aXNpdFV0Zjg9aSxyLnByb3RvdHlwZS52aXNpdEJpbmFyeT1pLHIucHJvdG90eXBlLnZpc2l0Rml4ZWRTaXplQmluYXJ5PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9PT10fHxuKGUsdCkmJmUuYnl0ZVdpZHRoPT09dC5ieXRlV2lkdGh9LHIucHJvdG90eXBlLnZpc2l0RGF0ZT11LHIucHJvdG90eXBlLnZpc2l0RGF0ZURheT11LHIucHJvdG90eXBlLnZpc2l0RGF0ZU1pbGxpc2Vjb25kPXUsci5wcm90b3R5cGUudmlzaXRUaW1lc3RhbXA9cyxyLnByb3RvdHlwZS52aXNpdFRpbWVzdGFtcFNlY29uZD1zLHIucHJvdG90eXBlLnZpc2l0VGltZXN0YW1wTWlsbGlzZWNvbmQ9cyxyLnByb3RvdHlwZS52aXNpdFRpbWVzdGFtcE1pY3Jvc2Vjb25kPXMsci5wcm90b3R5cGUudmlzaXRUaW1lc3RhbXBOYW5vc2Vjb25kPXMsci5wcm90b3R5cGUudmlzaXRUaW1lPWMsci5wcm90b3R5cGUudmlzaXRUaW1lU2Vjb25kPWMsci5wcm90b3R5cGUudmlzaXRUaW1lTWlsbGlzZWNvbmQ9YyxyLnByb3RvdHlwZS52aXNpdFRpbWVNaWNyb3NlY29uZD1jLHIucHJvdG90eXBlLnZpc2l0VGltZU5hbm9zZWNvbmQ9YyxyLnByb3RvdHlwZS52aXNpdERlY2ltYWw9aSxyLnByb3RvdHlwZS52aXNpdExpc3Q9ZnVuY3Rpb24odCxyKXtyZXR1cm4gdD09PXJ8fG4odCxyKSYmdC5jaGlsZHJlbi5sZW5ndGg9PT1yLmNoaWxkcmVuLmxlbmd0aCYmZS5pbnN0YW5jZS5jb21wYXJlTWFueUZpZWxkcyh0LmNoaWxkcmVuLHIuY2hpbGRyZW4pfSxyLnByb3RvdHlwZS52aXNpdFN0cnVjdD1mdW5jdGlvbih0LHIpe3JldHVybiB0PT09cnx8bih0LHIpJiZ0LmNoaWxkcmVuLmxlbmd0aD09PXIuY2hpbGRyZW4ubGVuZ3RoJiZlLmluc3RhbmNlLmNvbXBhcmVNYW55RmllbGRzKHQuY2hpbGRyZW4sci5jaGlsZHJlbil9LHIucHJvdG90eXBlLnZpc2l0VW5pb249bCxyLnByb3RvdHlwZS52aXNpdERlbnNlVW5pb249bCxyLnByb3RvdHlwZS52aXNpdFNwYXJzZVVuaW9uPWwsci5wcm90b3R5cGUudmlzaXREaWN0aW9uYXJ5PWZ1bmN0aW9uKHQscil7cmV0dXJuIHQ9PT1yfHxuKHQscikmJnQuaWQ9PT1yLmlkJiZ0LmlzT3JkZXJlZD09PXIuaXNPcmRlcmVkJiZlLmluc3RhbmNlLnZpc2l0KHQuaW5kaWNlcyxyLmluZGljZXMpJiZlLmluc3RhbmNlLnZpc2l0KHQuZGljdGlvbmFyeSxyLmRpY3Rpb25hcnkpfSxyLnByb3RvdHlwZS52aXNpdEludGVydmFsPWYsci5wcm90b3R5cGUudmlzaXRJbnRlcnZhbERheVRpbWU9ZixyLnByb3RvdHlwZS52aXNpdEludGVydmFsWWVhck1vbnRoPWYsci5wcm90b3R5cGUudmlzaXRGaXhlZFNpemVMaXN0PWZ1bmN0aW9uKHQscil7cmV0dXJuIHQ9PT1yfHxuKHQscikmJnQubGlzdFNpemU9PT1yLmxpc3RTaXplJiZ0LmNoaWxkcmVuLmxlbmd0aD09PXIuY2hpbGRyZW4ubGVuZ3RoJiZlLmluc3RhbmNlLmNvbXBhcmVNYW55RmllbGRzKHQuY2hpbGRyZW4sci5jaGlsZHJlbil9LHIucHJvdG90eXBlLnZpc2l0TWFwPWZ1bmN0aW9uKHQscil7cmV0dXJuIHQ9PT1yfHxuKHQscikmJnQua2V5c1NvcnRlZD09PXIua2V5c1NvcnRlZCYmdC5jaGlsZHJlbi5sZW5ndGg9PT1yLmNoaWxkcmVuLmxlbmd0aCYmZS5pbnN0YW5jZS5jb21wYXJlTWFueUZpZWxkcyh0LmNoaWxkcmVuLHIuY2hpbGRyZW4pfSxlLmluc3RhbmNlPW5ldyByLGUuY29tcGFyZVNjaGVtYXM9ZnVuY3Rpb24odCxyKXtyZXR1cm4gZS5pbnN0YW5jZS5jb21wYXJlU2NoZW1hcyh0LHIpfSxlLmNvbXBhcmVGaWVsZHM9ZnVuY3Rpb24odCxyKXtyZXR1cm4gZS5pbnN0YW5jZS5jb21wYXJlRmllbGRzKHQscil9LGUuY29tcGFyZVR5cGVzPWZ1bmN0aW9uKHQscil7cmV0dXJuIGUuaW5zdGFuY2UudmlzaXQodCxyKX19KGhzKTt2YXIgYnM9e307T2JqZWN0LmRlZmluZVByb3BlcnR5KGJzLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxicy5WZWN0b3JBc3NlbWJsZXI9dm9pZCAwO3ZhciB2cz1ILmV4cG9ydHMsX3M9Z2UsbXM9dmEsZ3M9RyxCcz13ZSxUcz1HYSxJcz1TdSx3cz1GZSxPcz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7dmFyIHQ9ZS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiB0Ll9ieXRlTGVuZ3RoPTAsdC5fbm9kZXM9W10sdC5fYnVmZmVycz1bXSx0Ll9idWZmZXJSZWdpb25zPVtdLHR9cmV0dXJuIHZzLl9fZXh0ZW5kcyh0LGUpLHQuYXNzZW1ibGU9ZnVuY3Rpb24oKXtmb3IodmFyIGU9W10scj0wO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspZVtyXT1hcmd1bWVudHNbcl07dmFyIG49bmV3IHQsaT1Ucy5zZWxlY3RWZWN0b3JDaGlsZHJlbkFyZ3MobXMuUmVjb3JkQmF0Y2gsZSksbz12cy5fX3JlYWQobi52aXNpdE1hbnkoaSksMSksYT1vWzBdLHU9dm9pZCAwPT09YT9uOmE7cmV0dXJuIHV9LHQucHJvdG90eXBlLnZpc2l0PWZ1bmN0aW9uKHQpe2lmKCF3cy5EYXRhVHlwZS5pc0RpY3Rpb25hcnkodC50eXBlKSl7dmFyIHI9dC5kYXRhLG49dC5sZW5ndGgsaT10Lm51bGxDb3VudDtpZihuPjIxNDc0ODM2NDcpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkNhbm5vdCB3cml0ZSBhcnJheXMgbGFyZ2VyIHRoYW4gMl4zMSAtIDEgaW4gbGVuZ3RoIik7d3MuRGF0YVR5cGUuaXNOdWxsKHQudHlwZSl8fFNzLmNhbGwodGhpcyxpPD0wP25ldyBVaW50OEFycmF5KDApOkJzLnRydW5jYXRlQml0bWFwKHIub2Zmc2V0LG4sci5udWxsQml0bWFwKSksdGhpcy5ub2Rlcy5wdXNoKG5ldyBJcy5GaWVsZE5vZGUobixpKSl9cmV0dXJuIGUucHJvdG90eXBlLnZpc2l0LmNhbGwodGhpcyx0KX0sdC5wcm90b3R5cGUudmlzaXROdWxsPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzfSx0LnByb3RvdHlwZS52aXNpdERpY3Rpb25hcnk9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudmlzaXQoZS5pbmRpY2VzKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJub2RlcyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9ub2Rlc30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsImJ1ZmZlcnMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYnVmZmVyc30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsImJ5dGVMZW5ndGgiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYnl0ZUxlbmd0aH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsImJ1ZmZlclJlZ2lvbnMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYnVmZmVyUmVnaW9uc30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0fShkaS5WaXNpdG9yKTtmdW5jdGlvbiBTcyhlKXt2YXIgdD1lLmJ5dGVMZW5ndGgrNyYtODtyZXR1cm4gdGhpcy5idWZmZXJzLnB1c2goZSksdGhpcy5idWZmZXJSZWdpb25zLnB1c2gobmV3IElzLkJ1ZmZlclJlZ2lvbih0aGlzLl9ieXRlTGVuZ3RoLHQpKSx0aGlzLl9ieXRlTGVuZ3RoKz10LHRoaXN9ZnVuY3Rpb24gQXMoZSl7cmV0dXJuIFNzLmNhbGwodGhpcyxlLnZhbHVlcy5zdWJhcnJheSgwLGUubGVuZ3RoKmUuc3RyaWRlKSl9ZnVuY3Rpb24gRHMoZSl7dmFyIHQ9ZS5sZW5ndGgscj1lLnZhbHVlcyxuPWUudmFsdWVPZmZzZXRzLGk9blswXSxvPW5bdF0sYT1NYXRoLm1pbihvLWksci5ieXRlTGVuZ3RoLWkpO3JldHVybiBTcy5jYWxsKHRoaXMsZ3MucmViYXNlVmFsdWVPZmZzZXRzKC1uWzBdLHQsbikpLFNzLmNhbGwodGhpcyxyLnN1YmFycmF5KGksaSthKSksdGhpc31mdW5jdGlvbiBWcyhlKXt2YXIgdD1lLmxlbmd0aCxyPWUudmFsdWVPZmZzZXRzO3JldHVybiByJiZTcy5jYWxsKHRoaXMsZ3MucmViYXNlVmFsdWVPZmZzZXRzKHJbMF0sdCxyKSksdGhpcy52aXNpdChlLmdldENoaWxkQXQoMCkpfWZ1bmN0aW9uIFBzKGUpe3JldHVybiB0aGlzLnZpc2l0TWFueShlLnR5cGUuY2hpbGRyZW4ubWFwKChmdW5jdGlvbih0LHIpe3JldHVybiBlLmdldENoaWxkQXQocil9KSkuZmlsdGVyKEJvb2xlYW4pKVswXX1icy5WZWN0b3JBc3NlbWJsZXI9T3MsT3MucHJvdG90eXBlLnZpc2l0Qm9vbD1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gZS5udWxsQ291bnQ+PWUubGVuZ3RoP1NzLmNhbGwodGhpcyxuZXcgVWludDhBcnJheSgwKSk6KHQ9ZS52YWx1ZXMpaW5zdGFuY2VvZiBVaW50OEFycmF5P1NzLmNhbGwodGhpcyxCcy50cnVuY2F0ZUJpdG1hcChlLm9mZnNldCxlLmxlbmd0aCx0KSk6U3MuY2FsbCh0aGlzLEJzLnBhY2tCb29scyhlKSl9LE9zLnByb3RvdHlwZS52aXNpdEludD1BcyxPcy5wcm90b3R5cGUudmlzaXRGbG9hdD1BcyxPcy5wcm90b3R5cGUudmlzaXRVdGY4PURzLE9zLnByb3RvdHlwZS52aXNpdEJpbmFyeT1EcyxPcy5wcm90b3R5cGUudmlzaXRGaXhlZFNpemVCaW5hcnk9QXMsT3MucHJvdG90eXBlLnZpc2l0RGF0ZT1BcyxPcy5wcm90b3R5cGUudmlzaXRUaW1lc3RhbXA9QXMsT3MucHJvdG90eXBlLnZpc2l0VGltZT1BcyxPcy5wcm90b3R5cGUudmlzaXREZWNpbWFsPUFzLE9zLnByb3RvdHlwZS52aXNpdExpc3Q9VnMsT3MucHJvdG90eXBlLnZpc2l0U3RydWN0PVBzLE9zLnByb3RvdHlwZS52aXNpdFVuaW9uPWZ1bmN0aW9uKGUpe3ZhciB0PWUudHlwZSxyPWUubGVuZ3RoLG49ZS50eXBlSWRzLGk9ZS52YWx1ZU9mZnNldHM7aWYoU3MuY2FsbCh0aGlzLG4pLHQubW9kZT09PV9zLlVuaW9uTW9kZS5TcGFyc2UpcmV0dXJuIFBzLmNhbGwodGhpcyxlKTtpZih0Lm1vZGU9PT1fcy5Vbmlvbk1vZGUuRGVuc2Upe2lmKGUub2Zmc2V0PD0wKXJldHVybiBTcy5jYWxsKHRoaXMsaSksUHMuY2FsbCh0aGlzLGUpO2Zvcih2YXIgbz1uLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gTWF0aC5tYXgoZSx0KX0pLG5bMF0pLGE9bmV3IEludDMyQXJyYXkobysxKSx1PW5ldyBJbnQzMkFycmF5KG8rMSkuZmlsbCgtMSkscz1uZXcgSW50MzJBcnJheShyKSxjPWdzLnJlYmFzZVZhbHVlT2Zmc2V0cygtaVswXSxyLGkpLGw9dm9pZCAwLGY9dm9pZCAwLGQ9LTE7KytkPHI7KS0xPT09KGY9dVtsPW5bZF1dKSYmKGY9dVtsXT1jW2xdKSxzW2RdPWNbZF0tZiwrK2FbbF07U3MuY2FsbCh0aGlzLHMpO2Zvcih2YXIgcD12b2lkIDAseT0tMSxoPXQuY2hpbGRyZW4ubGVuZ3RoOysreTxoOylpZihwPWUuZ2V0Q2hpbGRBdCh5KSl7bD10LnR5cGVJZHNbeV07dmFyIGI9TWF0aC5taW4ocixhW2xdKTt0aGlzLnZpc2l0KHAuc2xpY2UodVtsXSxiKSl9fXJldHVybiB0aGlzfSxPcy5wcm90b3R5cGUudmlzaXRJbnRlcnZhbD1BcyxPcy5wcm90b3R5cGUudmlzaXRGaXhlZFNpemVMaXN0PVZzLE9zLnByb3RvdHlwZS52aXNpdE1hcD1Wczt2YXIgTXM9e307T2JqZWN0LmRlZmluZVByb3BlcnR5KE1zLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxNcy5KU09OVHlwZUFzc2VtYmxlcj12b2lkIDA7dmFyIEZzPUguZXhwb3J0cyxVcz1CZSxqcz1nZSx4cz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gRnMuX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUudmlzaXQ9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGw9PXQ/dm9pZCAwOmUucHJvdG90eXBlLnZpc2l0LmNhbGwodGhpcyx0KX0sdC5wcm90b3R5cGUudmlzaXROdWxsPWZ1bmN0aW9uKGUpe3ZhciB0PWUudHlwZUlkO3JldHVybntuYW1lOlVzLlR5cGVbdF0udG9Mb3dlckNhc2UoKX19LHQucHJvdG90eXBlLnZpc2l0SW50PWZ1bmN0aW9uKGUpe3ZhciB0PWUudHlwZUlkLHI9ZS5iaXRXaWR0aCxuPWUuaXNTaWduZWQ7cmV0dXJue25hbWU6VXMuVHlwZVt0XS50b0xvd2VyQ2FzZSgpLGJpdFdpZHRoOnIsaXNTaWduZWQ6bn19LHQucHJvdG90eXBlLnZpc2l0RmxvYXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50eXBlSWQscj1lLnByZWNpc2lvbjtyZXR1cm57bmFtZTpVcy5UeXBlW3RdLnRvTG93ZXJDYXNlKCkscHJlY2lzaW9uOmpzLlByZWNpc2lvbltyXX19LHQucHJvdG90eXBlLnZpc2l0QmluYXJ5PWZ1bmN0aW9uKGUpe3ZhciB0PWUudHlwZUlkO3JldHVybntuYW1lOlVzLlR5cGVbdF0udG9Mb3dlckNhc2UoKX19LHQucHJvdG90eXBlLnZpc2l0Qm9vbD1mdW5jdGlvbihlKXt2YXIgdD1lLnR5cGVJZDtyZXR1cm57bmFtZTpVcy5UeXBlW3RdLnRvTG93ZXJDYXNlKCl9fSx0LnByb3RvdHlwZS52aXNpdFV0Zjg9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50eXBlSWQ7cmV0dXJue25hbWU6VXMuVHlwZVt0XS50b0xvd2VyQ2FzZSgpfX0sdC5wcm90b3R5cGUudmlzaXREZWNpbWFsPWZ1bmN0aW9uKGUpe3ZhciB0PWUudHlwZUlkLHI9ZS5zY2FsZSxuPWUucHJlY2lzaW9uO3JldHVybntuYW1lOlVzLlR5cGVbdF0udG9Mb3dlckNhc2UoKSxzY2FsZTpyLHByZWNpc2lvbjpufX0sdC5wcm90b3R5cGUudmlzaXREYXRlPWZ1bmN0aW9uKGUpe3ZhciB0PWUudHlwZUlkLHI9ZS51bml0O3JldHVybntuYW1lOlVzLlR5cGVbdF0udG9Mb3dlckNhc2UoKSx1bml0OmpzLkRhdGVVbml0W3JdfX0sdC5wcm90b3R5cGUudmlzaXRUaW1lPWZ1bmN0aW9uKGUpe3ZhciB0PWUudHlwZUlkLHI9ZS51bml0LG49ZS5iaXRXaWR0aDtyZXR1cm57bmFtZTpVcy5UeXBlW3RdLnRvTG93ZXJDYXNlKCksdW5pdDpqcy5UaW1lVW5pdFtyXSxiaXRXaWR0aDpufX0sdC5wcm90b3R5cGUudmlzaXRUaW1lc3RhbXA9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50eXBlSWQscj1lLnRpbWV6b25lLG49ZS51bml0O3JldHVybntuYW1lOlVzLlR5cGVbdF0udG9Mb3dlckNhc2UoKSx1bml0OmpzLlRpbWVVbml0W25dLHRpbWV6b25lOnJ9fSx0LnByb3RvdHlwZS52aXNpdEludGVydmFsPWZ1bmN0aW9uKGUpe3ZhciB0PWUudHlwZUlkLHI9ZS51bml0O3JldHVybntuYW1lOlVzLlR5cGVbdF0udG9Mb3dlckNhc2UoKSx1bml0OmpzLkludGVydmFsVW5pdFtyXX19LHQucHJvdG90eXBlLnZpc2l0TGlzdD1mdW5jdGlvbihlKXt2YXIgdD1lLnR5cGVJZDtyZXR1cm57bmFtZTpVcy5UeXBlW3RdLnRvTG93ZXJDYXNlKCl9fSx0LnByb3RvdHlwZS52aXNpdFN0cnVjdD1mdW5jdGlvbihlKXt2YXIgdD1lLnR5cGVJZDtyZXR1cm57bmFtZTpVcy5UeXBlW3RdLnRvTG93ZXJDYXNlKCl9fSx0LnByb3RvdHlwZS52aXNpdFVuaW9uPWZ1bmN0aW9uKGUpe3ZhciB0PWUudHlwZUlkLHI9ZS5tb2RlLG49ZS50eXBlSWRzO3JldHVybntuYW1lOlVzLlR5cGVbdF0udG9Mb3dlckNhc2UoKSxtb2RlOmpzLlVuaW9uTW9kZVtyXSx0eXBlSWRzOkZzLl9fc3ByZWFkKG4pfX0sdC5wcm90b3R5cGUudmlzaXREaWN0aW9uYXJ5PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnZpc2l0KGUuZGljdGlvbmFyeSl9LHQucHJvdG90eXBlLnZpc2l0Rml4ZWRTaXplQmluYXJ5PWZ1bmN0aW9uKGUpe3ZhciB0PWUudHlwZUlkLHI9ZS5ieXRlV2lkdGg7cmV0dXJue25hbWU6VXMuVHlwZVt0XS50b0xvd2VyQ2FzZSgpLGJ5dGVXaWR0aDpyfX0sdC5wcm90b3R5cGUudmlzaXRGaXhlZFNpemVMaXN0PWZ1bmN0aW9uKGUpe3ZhciB0PWUudHlwZUlkLHI9ZS5saXN0U2l6ZTtyZXR1cm57bmFtZTpVcy5UeXBlW3RdLnRvTG93ZXJDYXNlKCksbGlzdFNpemU6cn19LHQucHJvdG90eXBlLnZpc2l0TWFwPWZ1bmN0aW9uKGUpe3ZhciB0PWUudHlwZUlkLHI9ZS5rZXlzU29ydGVkO3JldHVybntuYW1lOlVzLlR5cGVbdF0udG9Mb3dlckNhc2UoKSxrZXlzU29ydGVkOnJ9fSx0fShkaS5WaXNpdG9yKTtNcy5KU09OVHlwZUFzc2VtYmxlcj14czt2YXIgTHM9e307T2JqZWN0LmRlZmluZVByb3BlcnR5KExzLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxMcy5KU09OVmVjdG9yQXNzZW1ibGVyPXZvaWQgMDt2YXIgUnM9SC5leHBvcnRzLE5zPU1yLEVzPW1hLENzPV9lLHpzPWdlLGtzPXZhLFdzPWdlLFlzPXdlLEhzPUdhLEdzPUZlLEpzPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBScy5fX2V4dGVuZHModCxlKSx0LmFzc2VtYmxlPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdLHI9MDtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKWVbcl09YXJndW1lbnRzW3JdO3JldHVybihuZXcgdCkudmlzaXRNYW55KEhzLnNlbGVjdENvbHVtbkNoaWxkcmVuQXJncyhrcy5SZWNvcmRCYXRjaCxlKSl9LHQucHJvdG90eXBlLnZpc2l0PWZ1bmN0aW9uKHQpe3ZhciByLG49dC5kYXRhLGk9dC5uYW1lLG89dC5sZW5ndGgsYT1uLm9mZnNldCx1PW4ubnVsbENvdW50LHM9bi5udWxsQml0bWFwLGM9R3MuRGF0YVR5cGUuaXNEaWN0aW9uYXJ5KHQudHlwZSk/dC50eXBlLmluZGljZXM6dC50eXBlLGw9T2JqZWN0LmFzc2lnbihbXSxuLmJ1ZmZlcnMsKChyPXt9KVt6cy5CdWZmZXJUeXBlLlZBTElESVRZXT12b2lkIDAscikpO3JldHVybiBScy5fX2Fzc2lnbih7bmFtZTppLGNvdW50Om8sVkFMSURJVFk6R3MuRGF0YVR5cGUuaXNOdWxsKGMpP3ZvaWQgMDp1PD0wP0FycmF5LmZyb20oe2xlbmd0aDpvfSwoZnVuY3Rpb24oKXtyZXR1cm4gMX0pKTpScy5fX3NwcmVhZChuZXcgWXMuQml0SXRlcmF0b3IocyxhLG8sbnVsbCxZcy5nZXRCaXQpKX0sZS5wcm90b3R5cGUudmlzaXQuY2FsbCh0aGlzLENzLlZlY3Rvci5uZXcobi5jbG9uZShjLGEsbywwLGwpKSkpfSx0LnByb3RvdHlwZS52aXNpdE51bGw9ZnVuY3Rpb24oKXtyZXR1cm57fX0sdC5wcm90b3R5cGUudmlzaXRCb29sPWZ1bmN0aW9uKGUpe3ZhciB0PWUudmFsdWVzLHI9ZS5vZmZzZXQsbj1lLmxlbmd0aDtyZXR1cm57REFUQTpScy5fX3NwcmVhZChuZXcgWXMuQml0SXRlcmF0b3IodCxyLG4sbnVsbCxZcy5nZXRCb29sKSl9fSx0LnByb3RvdHlwZS52aXNpdEludD1mdW5jdGlvbihlKXtyZXR1cm57REFUQTplLnR5cGUuYml0V2lkdGg8NjQ/UnMuX19zcHJlYWQoZS52YWx1ZXMpOlJzLl9fc3ByZWFkKEtzKGUudmFsdWVzLDIpKX19LHQucHJvdG90eXBlLnZpc2l0RmxvYXQ9ZnVuY3Rpb24oZSl7cmV0dXJue0RBVEE6UnMuX19zcHJlYWQoZS52YWx1ZXMpfX0sdC5wcm90b3R5cGUudmlzaXRVdGY4PWZ1bmN0aW9uKGUpe3JldHVybntEQVRBOlJzLl9fc3ByZWFkKGUpLE9GRlNFVDpScy5fX3NwcmVhZChlLnZhbHVlT2Zmc2V0cyl9fSx0LnByb3RvdHlwZS52aXNpdEJpbmFyeT1mdW5jdGlvbihlKXtyZXR1cm57REFUQTpScy5fX3NwcmVhZChacyhlKSksT0ZGU0VUOlJzLl9fc3ByZWFkKGUudmFsdWVPZmZzZXRzKX19LHQucHJvdG90eXBlLnZpc2l0Rml4ZWRTaXplQmluYXJ5PWZ1bmN0aW9uKGUpe3JldHVybntEQVRBOlJzLl9fc3ByZWFkKFpzKGUpKX19LHQucHJvdG90eXBlLnZpc2l0RGF0ZT1mdW5jdGlvbihlKXtyZXR1cm57REFUQTplLnR5cGUudW5pdD09PVdzLkRhdGVVbml0LkRBWT9Scy5fX3NwcmVhZChlLnZhbHVlcyk6UnMuX19zcHJlYWQoS3MoZS52YWx1ZXMsMikpfX0sdC5wcm90b3R5cGUudmlzaXRUaW1lc3RhbXA9ZnVuY3Rpb24oZSl7cmV0dXJue0RBVEE6UnMuX19zcHJlYWQoS3MoZS52YWx1ZXMsMikpfX0sdC5wcm90b3R5cGUudmlzaXRUaW1lPWZ1bmN0aW9uKGUpe3JldHVybntEQVRBOmUudHlwZS51bml0PFdzLlRpbWVVbml0Lk1JQ1JPU0VDT05EP1JzLl9fc3ByZWFkKGUudmFsdWVzKTpScy5fX3NwcmVhZChLcyhlLnZhbHVlcywyKSl9fSx0LnByb3RvdHlwZS52aXNpdERlY2ltYWw9ZnVuY3Rpb24oZSl7cmV0dXJue0RBVEE6UnMuX19zcHJlYWQoS3MoZS52YWx1ZXMsNCkpfX0sdC5wcm90b3R5cGUudmlzaXRMaXN0PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJue09GRlNFVDpScy5fX3NwcmVhZChlLnZhbHVlT2Zmc2V0cyksY2hpbGRyZW46ZS50eXBlLmNoaWxkcmVuLm1hcCgoZnVuY3Rpb24ocixuKXtyZXR1cm4gdC52aXNpdChuZXcgRXMuQ29sdW1uKHIsW2UuZ2V0Q2hpbGRBdChuKV0pKX0pKX19LHQucHJvdG90eXBlLnZpc2l0U3RydWN0PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJue2NoaWxkcmVuOmUudHlwZS5jaGlsZHJlbi5tYXAoKGZ1bmN0aW9uKHIsbil7cmV0dXJuIHQudmlzaXQobmV3IEVzLkNvbHVtbihyLFtlLmdldENoaWxkQXQobildKSl9KSl9fSx0LnByb3RvdHlwZS52aXNpdFVuaW9uPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJue1RZUEU6UnMuX19zcHJlYWQoZS50eXBlSWRzKSxPRkZTRVQ6ZS50eXBlLm1vZGU9PT1Xcy5Vbmlvbk1vZGUuRGVuc2U/UnMuX19zcHJlYWQoZS52YWx1ZU9mZnNldHMpOnZvaWQgMCxjaGlsZHJlbjplLnR5cGUuY2hpbGRyZW4ubWFwKChmdW5jdGlvbihyLG4pe3JldHVybiB0LnZpc2l0KG5ldyBFcy5Db2x1bW4ocixbZS5nZXRDaGlsZEF0KG4pXSkpfSkpfX0sdC5wcm90b3R5cGUudmlzaXRJbnRlcnZhbD1mdW5jdGlvbihlKXtyZXR1cm57REFUQTpScy5fX3NwcmVhZChlLnZhbHVlcyl9fSx0LnByb3RvdHlwZS52aXNpdEZpeGVkU2l6ZUxpc3Q9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm57Y2hpbGRyZW46ZS50eXBlLmNoaWxkcmVuLm1hcCgoZnVuY3Rpb24ocixuKXtyZXR1cm4gdC52aXNpdChuZXcgRXMuQ29sdW1uKHIsW2UuZ2V0Q2hpbGRBdChuKV0pKX0pKX19LHQucHJvdG90eXBlLnZpc2l0TWFwPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJue09GRlNFVDpScy5fX3NwcmVhZChlLnZhbHVlT2Zmc2V0cyksY2hpbGRyZW46ZS50eXBlLmNoaWxkcmVuLm1hcCgoZnVuY3Rpb24ocixuKXtyZXR1cm4gdC52aXNpdChuZXcgRXMuQ29sdW1uKHIsW2UuZ2V0Q2hpbGRBdChuKV0pKX0pKX19LHR9KGRpLlZpc2l0b3IpO2Z1bmN0aW9uIFpzKGUpe3ZhciB0LHIsbixpLG87cmV0dXJuIFJzLl9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKGEpe3N3aXRjaChhLmxhYmVsKXtjYXNlIDA6YS50cnlzLnB1c2goWzAsNSw2LDddKSx0PVJzLl9fdmFsdWVzKGUpLHI9dC5uZXh0KCksYS5sYWJlbD0xO2Nhc2UgMTpyZXR1cm4gci5kb25lP1szLDRdOls0LHIudmFsdWUucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiIiK2UrKCIwIisoMjU1JnQpLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTIpfSksIiIpLnRvVXBwZXJDYXNlKCldO2Nhc2UgMjphLnNlbnQoKSxhLmxhYmVsPTM7Y2FzZSAzOnJldHVybiByPXQubmV4dCgpLFszLDFdO2Nhc2UgNDpyZXR1cm5bMyw3XTtjYXNlIDU6cmV0dXJuIG49YS5zZW50KCksaT17ZXJyb3I6bn0sWzMsN107Y2FzZSA2OnRyeXtyJiYhci5kb25lJiYobz10LnJldHVybikmJm8uY2FsbCh0KX1maW5hbGx5e2lmKGkpdGhyb3cgaS5lcnJvcn1yZXR1cm5bN107Y2FzZSA3OnJldHVyblsyXX19KSl9ZnVuY3Rpb24gS3MoZSx0KXt2YXIgcixuO3JldHVybiBScy5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbihpKXtzd2l0Y2goaS5sYWJlbCl7Y2FzZSAwOnI9LTEsbj1lLmxlbmd0aC90LGkubGFiZWw9MTtjYXNlIDE6cmV0dXJuKytyPG4/WzQsIiIrTnMuQk4ubmV3KGUuc3ViYXJyYXkoKHIrMCkqdCwocisxKSp0KSwhMSldOlszLDRdO2Nhc2UgMjppLnNlbnQoKSxpLmxhYmVsPTM7Y2FzZSAzOnJldHVyblszLDFdO2Nhc2UgNDpyZXR1cm5bMl19fSkpfUxzLkpTT05WZWN0b3JBc3NlbWJsZXI9SnMsT2JqZWN0LmRlZmluZVByb3BlcnR5KHd1LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx3dS5SZWNvcmRCYXRjaEpTT05Xcml0ZXI9d3UuUmVjb3JkQmF0Y2hGaWxlV3JpdGVyPXd1LlJlY29yZEJhdGNoU3RyZWFtV3JpdGVyPXd1LlJlY29yZEJhdGNoV3JpdGVyPXZvaWQgMDt2YXIgWHM9SC5leHBvcnRzLHFzPV9hLFFzPU91LCRzPW1hLGVjPUZlLHRjPURuLHJjPVN1LG5jPVN1LGljPWhvLG9jPWdlLGFjPWhzLHVjPVVvLHNjPWJzLGNjPU1zLGxjPUxzLGZjPUcsZGM9dmEscGM9USx5Yz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe3ZhciByPWUuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gci5fcG9zaXRpb249MCxyLl9zdGFydGVkPSExLHIuX3Npbms9bmV3IHVjLkFzeW5jQnl0ZVF1ZXVlLHIuX3NjaGVtYT1udWxsLHIuX2RpY3Rpb25hcnlCbG9ja3M9W10sci5fcmVjb3JkQmF0Y2hCbG9ja3M9W10sci5fZGljdGlvbmFyeURlbHRhT2Zmc2V0cz1uZXcgTWFwLHBjLmlzT2JqZWN0KHQpfHwodD17YXV0b0Rlc3Ryb3k6ITAsd3JpdGVMZWdhY3lJcGNGb3JtYXQ6ITF9KSxyLl9hdXRvRGVzdHJveT0iYm9vbGVhbiIhPXR5cGVvZiB0LmF1dG9EZXN0cm95fHx0LmF1dG9EZXN0cm95LHIuX3dyaXRlTGVnYWN5SXBjRm9ybWF0PSJib29sZWFuIj09dHlwZW9mIHQud3JpdGVMZWdhY3lJcGNGb3JtYXQmJnQud3JpdGVMZWdhY3lJcGNGb3JtYXQscn1yZXR1cm4gWHMuX19leHRlbmRzKHQsZSksdC50aHJvdWdoTm9kZT1mdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoJyJ0aHJvdWdoTm9kZSIgbm90IGF2YWlsYWJsZSBpbiB0aGlzIGVudmlyb25tZW50Jyl9LHQudGhyb3VnaERPTT1mdW5jdGlvbihlLHQpe3Rocm93IG5ldyBFcnJvcignInRocm91Z2hET00iIG5vdCBhdmFpbGFibGUgaW4gdGhpcyBlbnZpcm9ubWVudCcpfSx0LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9ITEpLHRoaXMuX3NpbmsudG9TdHJpbmcoZSl9LHQucHJvdG90eXBlLnRvVWludDhBcnJheT1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9ITEpLHRoaXMuX3NpbmsudG9VaW50OEFycmF5KGUpfSx0LnByb3RvdHlwZS53cml0ZUFsbD1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBwYy5pc1Byb21pc2UoZSk/ZS50aGVuKChmdW5jdGlvbihlKXtyZXR1cm4gdC53cml0ZUFsbChlKX0pKTpwYy5pc0FzeW5jSXRlcmFibGUoZSk/bWModGhpcyxlKTpfYyh0aGlzLGUpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsImNsb3NlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaW5rLmNsb3NlZH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZVtTeW1ib2wuYXN5bmNJdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2lua1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0oKX0sdC5wcm90b3R5cGUudG9ET01TdHJlYW09ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3NpbmsudG9ET01TdHJlYW0oZSl9LHQucHJvdG90eXBlLnRvTm9kZVN0cmVhbT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fc2luay50b05vZGVTdHJlYW0oZSl9LHQucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVzZXQoKS5fc2luay5jbG9zZSgpfSx0LnByb3RvdHlwZS5hYm9ydD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5yZXNldCgpLl9zaW5rLmFib3J0KGUpfSx0LnByb3RvdHlwZS5maW5pc2g9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXV0b0Rlc3Ryb3k/dGhpcy5jbG9zZSgpOnRoaXMucmVzZXQodGhpcy5fc2luayx0aGlzLl9zY2hlbWEpLHRoaXN9LHQucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMD09PWUmJihlPXRoaXMuX3NpbmspLHZvaWQgMD09PXQmJih0PW51bGwpLGU9PT10aGlzLl9zaW5rfHxlIGluc3RhbmNlb2YgdWMuQXN5bmNCeXRlUXVldWU/dGhpcy5fc2luaz1lOih0aGlzLl9zaW5rPW5ldyB1Yy5Bc3luY0J5dGVRdWV1ZSxlJiZwYy5pc1dyaXRhYmxlRE9NU3RyZWFtKGUpP3RoaXMudG9ET01TdHJlYW0oe3R5cGU6ImJ5dGVzIn0pLnBpcGVUbyhlKTplJiZwYy5pc1dyaXRhYmxlTm9kZVN0cmVhbShlKSYmdGhpcy50b05vZGVTdHJlYW0oe29iamVjdE1vZGU6ITF9KS5waXBlKGUpKSx0aGlzLl9zdGFydGVkJiZ0aGlzLl9zY2hlbWEmJnRoaXMuX3dyaXRlRm9vdGVyKHRoaXMuX3NjaGVtYSksdGhpcy5fc3RhcnRlZD0hMSx0aGlzLl9kaWN0aW9uYXJ5QmxvY2tzPVtdLHRoaXMuX3JlY29yZEJhdGNoQmxvY2tzPVtdLHRoaXMuX2RpY3Rpb25hcnlEZWx0YU9mZnNldHM9bmV3IE1hcCx0JiZhYy5jb21wYXJlU2NoZW1hcyh0LHRoaXMuX3NjaGVtYSl8fChudWxsPT09dD8odGhpcy5fcG9zaXRpb249MCx0aGlzLl9zY2hlbWE9bnVsbCk6KHRoaXMuX3N0YXJ0ZWQ9ITAsdGhpcy5fc2NoZW1hPXQsdGhpcy5fd3JpdGVTY2hlbWEodCkpKSx0aGlzfSx0LnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbihlKXt2YXIgdD1udWxsO2lmKCF0aGlzLl9zaW5rKXRocm93IG5ldyBFcnJvcigiUmVjb3JkQmF0Y2hXcml0ZXIgaXMgY2xvc2VkIik7aWYobnVsbD09ZSlyZXR1cm4gdGhpcy5maW5pc2goKSYmdm9pZCAwO2lmKGUgaW5zdGFuY2VvZiBxcy5UYWJsZSYmISh0PWUuc2NoZW1hKSlyZXR1cm4gdGhpcy5maW5pc2goKSYmdm9pZCAwO2lmKGUgaW5zdGFuY2VvZiBkYy5SZWNvcmRCYXRjaCYmISh0PWUuc2NoZW1hKSlyZXR1cm4gdGhpcy5maW5pc2goKSYmdm9pZCAwO2lmKHQmJiFhYy5jb21wYXJlU2NoZW1hcyh0LHRoaXMuX3NjaGVtYSkpe2lmKHRoaXMuX3N0YXJ0ZWQmJnRoaXMuX2F1dG9EZXN0cm95KXJldHVybiB0aGlzLmNsb3NlKCk7dGhpcy5yZXNldCh0aGlzLl9zaW5rLHQpfWUgaW5zdGFuY2VvZiBkYy5SZWNvcmRCYXRjaD9lIGluc3RhbmNlb2YgZGMuX0ludGVybmFsRW1wdHlQbGFjZWhvbGRlclJlY29yZEJhdGNofHx0aGlzLl93cml0ZVJlY29yZEJhdGNoKGUpOmUgaW5zdGFuY2VvZiBxcy5UYWJsZT90aGlzLndyaXRlQWxsKGUuY2h1bmtzKTpwYy5pc0l0ZXJhYmxlKGUpJiZ0aGlzLndyaXRlQWxsKGUpfSx0LnByb3RvdHlwZS5fd3JpdGVNZXNzYWdlPWZ1bmN0aW9uKGUsdCl7dm9pZCAwPT09dCYmKHQ9OCk7dmFyIHI9dC0xLG49cmMuTWVzc2FnZS5lbmNvZGUoZSksaT1uLmJ5dGVMZW5ndGgsbz10aGlzLl93cml0ZUxlZ2FjeUlwY0Zvcm1hdD80OjgsYT1pK28rciZ+cix1PWEtaS1vO3JldHVybiBlLmhlYWRlclR5cGU9PT1vYy5NZXNzYWdlSGVhZGVyLlJlY29yZEJhdGNoP3RoaXMuX3JlY29yZEJhdGNoQmxvY2tzLnB1c2gobmV3IGljLkZpbGVCbG9jayhhLGUuYm9keUxlbmd0aCx0aGlzLl9wb3NpdGlvbikpOmUuaGVhZGVyVHlwZT09PW9jLk1lc3NhZ2VIZWFkZXIuRGljdGlvbmFyeUJhdGNoJiZ0aGlzLl9kaWN0aW9uYXJ5QmxvY2tzLnB1c2gobmV3IGljLkZpbGVCbG9jayhhLGUuYm9keUxlbmd0aCx0aGlzLl9wb3NpdGlvbikpLHRoaXMuX3dyaXRlTGVnYWN5SXBjRm9ybWF0fHx0aGlzLl93cml0ZShJbnQzMkFycmF5Lm9mKC0xKSksdGhpcy5fd3JpdGUoSW50MzJBcnJheS5vZihhLW8pKSxpPjAmJnRoaXMuX3dyaXRlKG4pLHRoaXMuX3dyaXRlUGFkZGluZyh1KX0sdC5wcm90b3R5cGUuX3dyaXRlPWZ1bmN0aW9uKGUpe2lmKHRoaXMuX3N0YXJ0ZWQpe3ZhciB0PWZjLnRvVWludDhBcnJheShlKTt0JiZ0LmJ5dGVMZW5ndGg+MCYmKHRoaXMuX3Npbmsud3JpdGUodCksdGhpcy5fcG9zaXRpb24rPXQuYnl0ZUxlbmd0aCl9cmV0dXJuIHRoaXN9LHQucHJvdG90eXBlLl93cml0ZVNjaGVtYT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fd3JpdGVNZXNzYWdlKHJjLk1lc3NhZ2UuZnJvbShlKSl9LHQucHJvdG90eXBlLl93cml0ZUZvb3Rlcj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fd3JpdGVMZWdhY3lJcGNGb3JtYXQ/dGhpcy5fd3JpdGUoSW50MzJBcnJheS5vZigwKSk6dGhpcy5fd3JpdGUoSW50MzJBcnJheS5vZigtMSwwKSl9LHQucHJvdG90eXBlLl93cml0ZU1hZ2ljPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dyaXRlKFFzLk1BR0lDKX0sdC5wcm90b3R5cGUuX3dyaXRlUGFkZGluZz1mdW5jdGlvbihlKXtyZXR1cm4gZT4wP3RoaXMuX3dyaXRlKG5ldyBVaW50OEFycmF5KGUpKTp0aGlzfSx0LnByb3RvdHlwZS5fd3JpdGVSZWNvcmRCYXRjaD1mdW5jdGlvbihlKXt2YXIgdD1zYy5WZWN0b3JBc3NlbWJsZXIuYXNzZW1ibGUoZSkscj10LmJ5dGVMZW5ndGgsbj10Lm5vZGVzLGk9dC5idWZmZXJSZWdpb25zLG89dC5idWZmZXJzLGE9bmV3IG5jLlJlY29yZEJhdGNoKGUubGVuZ3RoLG4saSksdT1yYy5NZXNzYWdlLmZyb20oYSxyKTtyZXR1cm4gdGhpcy5fd3JpdGVEaWN0aW9uYXJpZXMoZSkuX3dyaXRlTWVzc2FnZSh1KS5fd3JpdGVCb2R5QnVmZmVycyhvKX0sdC5wcm90b3R5cGUuX3dyaXRlRGljdGlvbmFyeUJhdGNoPWZ1bmN0aW9uKGUsdCxyKXt2b2lkIDA9PT1yJiYocj0hMSksdGhpcy5fZGljdGlvbmFyeURlbHRhT2Zmc2V0cy5zZXQodCxlLmxlbmd0aCsodGhpcy5fZGljdGlvbmFyeURlbHRhT2Zmc2V0cy5nZXQodCl8fDApKTt2YXIgbj1zYy5WZWN0b3JBc3NlbWJsZXIuYXNzZW1ibGUoZSksaT1uLmJ5dGVMZW5ndGgsbz1uLm5vZGVzLGE9bi5idWZmZXJSZWdpb25zLHU9bi5idWZmZXJzLHM9bmV3IG5jLlJlY29yZEJhdGNoKGUubGVuZ3RoLG8sYSksYz1uZXcgbmMuRGljdGlvbmFyeUJhdGNoKHMsdCxyKSxsPXJjLk1lc3NhZ2UuZnJvbShjLGkpO3JldHVybiB0aGlzLl93cml0ZU1lc3NhZ2UobCkuX3dyaXRlQm9keUJ1ZmZlcnModSl9LHQucHJvdG90eXBlLl93cml0ZUJvZHlCdWZmZXJzPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyLG4saT0tMSxvPWUubGVuZ3RoOysraTxvOykodD1lW2ldKSYmKHI9dC5ieXRlTGVuZ3RoKT4wJiYodGhpcy5fd3JpdGUodCksKG49KHIrNyYtOCktcik+MCYmdGhpcy5fd3JpdGVQYWRkaW5nKG4pKTtyZXR1cm4gdGhpc30sdC5wcm90b3R5cGUuX3dyaXRlRGljdGlvbmFyaWVzPWZ1bmN0aW9uKGUpe3ZhciB0LHIsbixpO3RyeXtmb3IodmFyIG89WHMuX192YWx1ZXMoZS5kaWN0aW9uYXJpZXMpLGE9by5uZXh0KCk7IWEuZG9uZTthPW8ubmV4dCgpKXt2YXIgdT1Ycy5fX3JlYWQoYS52YWx1ZSwyKSxzPXVbMF0sYz11WzFdLGw9dGhpcy5fZGljdGlvbmFyeURlbHRhT2Zmc2V0cy5nZXQocyl8fDA7aWYoMD09PWx8fChjPWMuc2xpY2UobCkpLmxlbmd0aD4wKXt2YXIgZj0iY2h1bmtzImluIGM/Yy5jaHVua3M6W2NdO3RyeXtmb3IodmFyIGQ9KG49dm9pZCAwLFhzLl9fdmFsdWVzKGYpKSxwPWQubmV4dCgpOyFwLmRvbmU7cD1kLm5leHQoKSl7dmFyIHk9cC52YWx1ZTt0aGlzLl93cml0ZURpY3Rpb25hcnlCYXRjaCh5LHMsbD4wKSxsKz15Lmxlbmd0aH19Y2F0Y2goaCl7bj17ZXJyb3I6aH19ZmluYWxseXt0cnl7cCYmIXAuZG9uZSYmKGk9ZC5yZXR1cm4pJiZpLmNhbGwoZCl9ZmluYWxseXtpZihuKXRocm93IG4uZXJyb3J9fX19fWNhdGNoKGIpe3Q9e2Vycm9yOmJ9fWZpbmFsbHl7dHJ5e2EmJiFhLmRvbmUmJihyPW8ucmV0dXJuKSYmci5jYWxsKG8pfWZpbmFsbHl7aWYodCl0aHJvdyB0LmVycm9yfX1yZXR1cm4gdGhpc30sdH0oJC5SZWFkYWJsZUludGVyb3ApO3d1LlJlY29yZEJhdGNoV3JpdGVyPXljO3ZhciBoYz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gWHMuX19leHRlbmRzKHQsZSksdC53cml0ZUFsbD1mdW5jdGlvbihlLHIpe3ZhciBuPW5ldyB0KHIpO3JldHVybiBwYy5pc1Byb21pc2UoZSk/ZS50aGVuKChmdW5jdGlvbihlKXtyZXR1cm4gbi53cml0ZUFsbChlKX0pKTpwYy5pc0FzeW5jSXRlcmFibGUoZSk/bWMobixlKTpfYyhuLGUpfSx0fSh5Yyk7d3UuUmVjb3JkQmF0Y2hTdHJlYW1Xcml0ZXI9aGM7dmFyIGJjPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXt2YXIgdD1lLmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIHQuX2F1dG9EZXN0cm95PSEwLHR9cmV0dXJuIFhzLl9fZXh0ZW5kcyh0LGUpLHQud3JpdGVBbGw9ZnVuY3Rpb24oZSl7dmFyIHI9bmV3IHQ7cmV0dXJuIHBjLmlzUHJvbWlzZShlKT9lLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiByLndyaXRlQWxsKGUpfSkpOnBjLmlzQXN5bmNJdGVyYWJsZShlKT9tYyhyLGUpOl9jKHIsZSl9LHQucHJvdG90eXBlLl93cml0ZVNjaGVtYT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fd3JpdGVNYWdpYygpLl93cml0ZVBhZGRpbmcoMil9LHQucHJvdG90eXBlLl93cml0ZUZvb3Rlcj1mdW5jdGlvbih0KXt2YXIgcj1pYy5Gb290ZXIuZW5jb2RlKG5ldyBpYy5Gb290ZXIodCxvYy5NZXRhZGF0YVZlcnNpb24uVjQsdGhpcy5fcmVjb3JkQmF0Y2hCbG9ja3MsdGhpcy5fZGljdGlvbmFyeUJsb2NrcykpO3JldHVybiBlLnByb3RvdHlwZS5fd3JpdGVGb290ZXIuY2FsbCh0aGlzLHQpLl93cml0ZShyKS5fd3JpdGUoSW50MzJBcnJheS5vZihyLmJ5dGVMZW5ndGgpKS5fd3JpdGVNYWdpYygpfSx0fSh5Yyk7d3UuUmVjb3JkQmF0Y2hGaWxlV3JpdGVyPWJjO3ZhciB2Yz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7dmFyIHQ9ZS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiB0Ll9hdXRvRGVzdHJveT0hMCx0Ll9yZWNvcmRCYXRjaGVzPVtdLHQuX2RpY3Rpb25hcmllcz1bXSx0fXJldHVybiBYcy5fX2V4dGVuZHModCxlKSx0LndyaXRlQWxsPWZ1bmN0aW9uKGUpe3JldHVybihuZXcgdCkud3JpdGVBbGwoZSl9LHQucHJvdG90eXBlLl93cml0ZU1lc3NhZ2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sdC5wcm90b3R5cGUuX3dyaXRlRm9vdGVyPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzfSx0LnByb3RvdHlwZS5fd3JpdGVTY2hlbWE9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3dyaXRlKCd7XG4gICJzY2hlbWEiOiAnK0pTT04uc3RyaW5naWZ5KHtmaWVsZHM6ZS5maWVsZHMubWFwKGdjKX0sbnVsbCwyKSl9LHQucHJvdG90eXBlLl93cml0ZURpY3Rpb25hcmllcz1mdW5jdGlvbihlKXtyZXR1cm4gZS5kaWN0aW9uYXJpZXMuc2l6ZT4wJiZ0aGlzLl9kaWN0aW9uYXJpZXMucHVzaChlKSx0aGlzfSx0LnByb3RvdHlwZS5fd3JpdGVEaWN0aW9uYXJ5QmF0Y2g9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB2b2lkIDA9PT1yJiYocj0hMSksdGhpcy5fZGljdGlvbmFyeURlbHRhT2Zmc2V0cy5zZXQodCxlLmxlbmd0aCsodGhpcy5fZGljdGlvbmFyeURlbHRhT2Zmc2V0cy5nZXQodCl8fDApKSx0aGlzLl93cml0ZSgwPT09dGhpcy5fZGljdGlvbmFyeUJsb2Nrcy5sZW5ndGg/IiAgICAiOiIsXG4gICAgIiksdGhpcy5fd3JpdGUoIiIrZnVuY3Rpb24oZSx0LHIpe3ZvaWQgMD09PXImJihyPSExKTt2YXIgbj1uZXcgdGMuRmllbGQoIiIrdCxlLnR5cGUsZS5udWxsQ291bnQ+MCksaT1sYy5KU09OVmVjdG9yQXNzZW1ibGVyLmFzc2VtYmxlKG5ldyAkcy5Db2x1bW4obixbZV0pKTtyZXR1cm4gSlNPTi5zdHJpbmdpZnkoe2lkOnQsaXNEZWx0YTpyLGRhdGE6e2NvdW50OmUubGVuZ3RoLGNvbHVtbnM6aX19LG51bGwsMil9KGUsdCxyKSksdGhpcy5fZGljdGlvbmFyeUJsb2Nrcy5wdXNoKG5ldyBpYy5GaWxlQmxvY2soMCwwLDApKSx0aGlzfSx0LnByb3RvdHlwZS5fd3JpdGVSZWNvcmRCYXRjaD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fd3JpdGVEaWN0aW9uYXJpZXMoZSksdGhpcy5fcmVjb3JkQmF0Y2hlcy5wdXNoKGUpLHRoaXN9LHQucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKCl7dmFyIHQscixuO2lmKHRoaXMuX2RpY3Rpb25hcmllcy5sZW5ndGg+MCl7dGhpcy5fd3JpdGUoJyxcbiAgImRpY3Rpb25hcmllcyI6IFtcbicpO3RyeXtmb3IodmFyIGk9WHMuX192YWx1ZXModGhpcy5fZGljdGlvbmFyaWVzKSxvPWkubmV4dCgpOyFvLmRvbmU7bz1pLm5leHQoKSl7dmFyIGE9by52YWx1ZTtlLnByb3RvdHlwZS5fd3JpdGVEaWN0aW9uYXJpZXMuY2FsbCh0aGlzLGEpfX1jYXRjaChjKXt0PXtlcnJvcjpjfX1maW5hbGx5e3RyeXtvJiYhby5kb25lJiYocj1pLnJldHVybikmJnIuY2FsbChpKX1maW5hbGx5e2lmKHQpdGhyb3cgdC5lcnJvcn19dGhpcy5fd3JpdGUoIlxuICBdIil9aWYodGhpcy5fcmVjb3JkQmF0Y2hlcy5sZW5ndGg+MCl7Zm9yKHZhciB1PS0xLHM9dGhpcy5fcmVjb3JkQmF0Y2hlcy5sZW5ndGg7Kyt1PHM7KXRoaXMuX3dyaXRlKDA9PT11PycsXG4gICJiYXRjaGVzIjogW1xuICAgICc6IixcbiAgICAiKSx0aGlzLl93cml0ZSgiIisobj10aGlzLl9yZWNvcmRCYXRjaGVzW3VdLEpTT04uc3RyaW5naWZ5KHtjb3VudDpuLmxlbmd0aCxjb2x1bW5zOmxjLkpTT05WZWN0b3JBc3NlbWJsZXIuYXNzZW1ibGUobil9LG51bGwsMikpKSx0aGlzLl9yZWNvcmRCYXRjaEJsb2Nrcy5wdXNoKG5ldyBpYy5GaWxlQmxvY2soMCwwLDApKTt0aGlzLl93cml0ZSgiXG4gIF0iKX1yZXR1cm4gdGhpcy5fc2NoZW1hJiZ0aGlzLl93cml0ZSgiXG59IiksdGhpcy5fZGljdGlvbmFyaWVzPVtdLHRoaXMuX3JlY29yZEJhdGNoZXM9W10sZS5wcm90b3R5cGUuY2xvc2UuY2FsbCh0aGlzKX0sdH0oeWMpO2Z1bmN0aW9uIF9jKGUsdCl7dmFyIHIsbixpPXQ7dCBpbnN0YW5jZW9mIHFzLlRhYmxlJiYoaT10LmNodW5rcyxlLnJlc2V0KHZvaWQgMCx0LnNjaGVtYSkpO3RyeXtmb3IodmFyIG89WHMuX192YWx1ZXMoaSksYT1vLm5leHQoKTshYS5kb25lO2E9by5uZXh0KCkpe3ZhciB1PWEudmFsdWU7ZS53cml0ZSh1KX19Y2F0Y2gocyl7cj17ZXJyb3I6c319ZmluYWxseXt0cnl7YSYmIWEuZG9uZSYmKG49by5yZXR1cm4pJiZuLmNhbGwobyl9ZmluYWxseXtpZihyKXRocm93IHIuZXJyb3J9fXJldHVybiBlLmZpbmlzaCgpfWZ1bmN0aW9uIG1jKGUsdCl7dmFyIHIsbixpLG87cmV0dXJuIFhzLl9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGEsdTtyZXR1cm4gWHMuX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24ocyl7c3dpdGNoKHMubGFiZWwpe2Nhc2UgMDpzLnRyeXMucHVzaChbMCw1LDYsMTFdKSxyPVhzLl9fYXN5bmNWYWx1ZXModCkscy5sYWJlbD0xO2Nhc2UgMTpyZXR1cm5bNCxyLm5leHQoKV07Y2FzZSAyOmlmKChuPXMuc2VudCgpKS5kb25lKXJldHVyblszLDRdO2E9bi52YWx1ZSxlLndyaXRlKGEpLHMubGFiZWw9MztjYXNlIDM6cmV0dXJuWzMsMV07Y2FzZSA0OnJldHVyblszLDExXTtjYXNlIDU6cmV0dXJuIHU9cy5zZW50KCksaT17ZXJyb3I6dX0sWzMsMTFdO2Nhc2UgNjpyZXR1cm4gcy50cnlzLnB1c2goWzYsLDksMTBdKSxuJiYhbi5kb25lJiYobz1yLnJldHVybik/WzQsby5jYWxsKHIpXTpbMyw4XTtjYXNlIDc6cy5zZW50KCkscy5sYWJlbD04O2Nhc2UgODpyZXR1cm5bMywxMF07Y2FzZSA5OmlmKGkpdGhyb3cgaS5lcnJvcjtyZXR1cm5bN107Y2FzZSAxMDpyZXR1cm5bN107Y2FzZSAxMTpyZXR1cm5bMixlLmZpbmlzaCgpXX19KSl9KSl9ZnVuY3Rpb24gZ2MoZSl7dmFyIHQ9ZS5uYW1lLHI9ZS50eXBlLG49ZS5udWxsYWJsZSxpPW5ldyBjYy5KU09OVHlwZUFzc2VtYmxlcjtyZXR1cm57bmFtZTp0LG51bGxhYmxlOm4sdHlwZTppLnZpc2l0KHIpLGNoaWxkcmVuOihyLmNoaWxkcmVufHxbXSkubWFwKGdjKSxkaWN0aW9uYXJ5OmVjLkRhdGFUeXBlLmlzRGljdGlvbmFyeShyKT97aWQ6ci5pZCxpc09yZGVyZWQ6ci5pc09yZGVyZWQsaW5kZXhUeXBlOmkudmlzaXQoci5pbmRpY2VzKX06dm9pZCAwfX13dS5SZWNvcmRCYXRjaEpTT05Xcml0ZXI9dmM7dmFyIEJjPXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShCYywiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksQmMuZGlzdHJpYnV0ZVZlY3RvcnNJbnRvUmVjb3JkQmF0Y2hlcz1CYy5kaXN0cmlidXRlQ29sdW1uc0ludG9SZWNvcmRCYXRjaGVzPUJjLmVuc3VyZVNhbWVMZW5ndGhEYXRhPXZvaWQgMDt2YXIgVGM9SC5leHBvcnRzLEljPUllLHdjPURuLE9jPWdhLFNjPXZhLEFjPW5ldyBVaW50OEFycmF5KDApLERjPWZ1bmN0aW9uKGUpe3JldHVybltBYyxBYyxuZXcgVWludDhBcnJheShlKSxBY119O2Z1bmN0aW9uIFZjKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7dmFyIHIsbj1UYy5fX3NwcmVhZChlLmZpZWxkcyksaT1bXSxvPXtudW1CYXRjaGVzOnQucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiBNYXRoLm1heChlLHQubGVuZ3RoKX0pLDApfSxhPTAsdT0wLHM9LTEsYz10Lmxlbmd0aCxsPVtdO2Zvcig7by5udW1CYXRjaGVzLS0gPjA7KXtmb3IodT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkscz0tMTsrK3M8YzspbFtzXT1yPXRbc10uc2hpZnQoKSx1PU1hdGgubWluKHUscj9yLmxlbmd0aDp1KTtpc0Zpbml0ZSh1KSYmKGw9UGMobix1LGwsdCxvKSx1PjAmJihpW2ErK109W3UsbC5zbGljZSgpXSkpfXJldHVybltlPW5ldyB3Yy5TY2hlbWEobixlLm1ldGFkYXRhKSxpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIG5ldyhTYy5SZWNvcmRCYXRjaC5iaW5kLmFwcGx5KFNjLlJlY29yZEJhdGNoLFRjLl9fc3ByZWFkKFt2b2lkIDAsZV0sdCkpKX0pKV19KGUsdC5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgT2MuQ2h1bmtlZD9lLmNodW5rcy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmRhdGF9KSk6W2UuZGF0YV19KSkpfWZ1bmN0aW9uIFBjKGUsdCxyLG4saSl7Zm9yKHZhciBvLGEsdT0wLHM9LTEsYz1uLmxlbmd0aCxsPSh0KzYzJi02NCk+PjM7KytzPGM7KShvPXJbc10pJiYodT1vLmxlbmd0aCk+PXQ/dT09PXQ/cltzXT1vOihyW3NdPW8uc2xpY2UoMCx0KSxvPW8uc2xpY2UodCx1LXQpLGkubnVtQmF0Y2hlcz1NYXRoLm1heChpLm51bUJhdGNoZXMsbltzXS51bnNoaWZ0KG8pKSk6KChhPWVbc10pLm51bGxhYmxlfHwoZVtzXT1hLmNsb25lKHtudWxsYWJsZTohMH0pKSxyW3NdPW8/by5fY2hhbmdlTGVuZ3RoQW5kQmFja2ZpbGxOdWxsQml0bWFwKHQpOkljLkRhdGEubmV3KGEudHlwZSwwLHQsdCxEYyhsKSkpO3JldHVybiByfUJjLmVuc3VyZVNhbWVMZW5ndGhEYXRhPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbixpO3ZvaWQgMD09PXImJihyPXQucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiBNYXRoLm1heChlLHQubGVuZ3RoKX0pLDApKTtmb3IodmFyIG89LTEsYT10Lmxlbmd0aCx1PVRjLl9fc3ByZWFkKGUuZmllbGRzKSxzPVtdLGM9KHIrNjMmLTY0KT4+MzsrK288YTspKG49dFtvXSkmJm4ubGVuZ3RoPT09cj9zW29dPW46KChpPXVbb10pLm51bGxhYmxlfHwodVtvXT11W29dLmNsb25lKHtudWxsYWJsZTohMH0pKSxzW29dPW4/bi5fY2hhbmdlTGVuZ3RoQW5kQmFja2ZpbGxOdWxsQml0bWFwKHIpOkljLkRhdGEubmV3KGkudHlwZSwwLHIscixEYyhjKSkpO3JldHVybltuZXcgd2MuU2NoZW1hKHUpLHIsc119LEJjLmRpc3RyaWJ1dGVDb2x1bW5zSW50b1JlY29yZEJhdGNoZXM9ZnVuY3Rpb24oZSl7cmV0dXJuIFZjKG5ldyB3Yy5TY2hlbWEoZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmZpZWxkfSkpKSxlKX0sQmMuZGlzdHJpYnV0ZVZlY3RvcnNJbnRvUmVjb3JkQmF0Y2hlcz1WYzt2YXIgTWM9e30sRmM9e307T2JqZWN0LmRlZmluZVByb3BlcnR5KEZjLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxGYy5CYXNlVmVjdG9yPXZvaWQgMDt2YXIgVWM9SC5leHBvcnRzLGpjPWdlLHhjPWdhLExjPUJhLFJjPV9lLE5jPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxyKXt2YXIgbj1lLmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIG4uX2NoaWxkcmVuPXIsbi5udW1DaGlsZHJlbj10LmNoaWxkRGF0YS5sZW5ndGgsbi5fYmluZERhdGFBY2Nlc3NvcnMobi5kYXRhPXQpLG59cmV0dXJuIFVjLl9fZXh0ZW5kcyh0LGUpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwidHlwZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGEudHlwZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsInR5cGVJZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGEudHlwZUlkfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwibGVuZ3RoIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YS5sZW5ndGh9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJvZmZzZXQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhLm9mZnNldH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsInN0cmlkZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGEuc3RyaWRlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwibnVsbENvdW50Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YS5udWxsQ291bnR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJieXRlTGVuZ3RoIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YS5ieXRlTGVuZ3RofSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwiVmVjdG9yTmFtZSIse2dldDpmdW5jdGlvbigpe3JldHVybiBqYy5UeXBlW3RoaXMudHlwZUlkXSsiVmVjdG9yIn0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsIkFycmF5VHlwZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnR5cGUuQXJyYXlUeXBlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwidmFsdWVzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YS52YWx1ZXN9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJ0eXBlSWRzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YS50eXBlSWRzfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwibnVsbEJpdG1hcCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGEubnVsbEJpdG1hcH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsInZhbHVlT2Zmc2V0cyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGEudmFsdWVPZmZzZXRzfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxTeW1ib2wudG9TdHJpbmdUYWcse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLlZlY3Rvck5hbWUrIjwiK3RoaXMudHlwZVtTeW1ib2wudG9TdHJpbmdUYWddKyI+In0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDA9PT10JiYodD10aGlzLl9jaGlsZHJlbiksUmMuVmVjdG9yLm5ldyhlLHQpfSx0LnByb3RvdHlwZS5jb25jYXQ9ZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspZVt0XT1hcmd1bWVudHNbdF07cmV0dXJuIHhjLkNodW5rZWQuY29uY2F0LmFwcGx5KHhjLkNodW5rZWQsVWMuX19zcHJlYWQoW3RoaXNdLGUpKX0sdC5wcm90b3R5cGUuc2xpY2U9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gTGMuY2xhbXBSYW5nZSh0aGlzLGUsdCx0aGlzLl9zbGljZUludGVybmFsKX0sdC5wcm90b3R5cGUuaXNWYWxpZD1mdW5jdGlvbihlKXtpZih0aGlzLm51bGxDb3VudD4wKXt2YXIgdD10aGlzLm9mZnNldCtlO3JldHVybiAwIT09KHRoaXMubnVsbEJpdG1hcFt0Pj4zXSYxPDx0JTgpfXJldHVybiEwfSx0LnByb3RvdHlwZS5nZXRDaGlsZEF0PWZ1bmN0aW9uKGUpe3JldHVybiBlPDB8fGU+PXRoaXMubnVtQ2hpbGRyZW4/bnVsbDoodGhpcy5fY2hpbGRyZW58fCh0aGlzLl9jaGlsZHJlbj1bXSkpW2VdfHwodGhpcy5fY2hpbGRyZW5bZV09UmMuVmVjdG9yLm5ldyh0aGlzLmRhdGEuY2hpbGREYXRhW2VdKSl9LHQucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiBVYy5fX3NwcmVhZCh0aGlzKX0sdC5wcm90b3R5cGUuX3NsaWNlSW50ZXJuYWw9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlLmNsb25lKGUuZGF0YS5zbGljZSh0LHItdCksbnVsbCl9LHQucHJvdG90eXBlLl9iaW5kRGF0YUFjY2Vzc29ycz1mdW5jdGlvbihlKXt9LHR9KFJjLkFic3RyYWN0VmVjdG9yKTtGYy5CYXNlVmVjdG9yPU5jLE5jLnByb3RvdHlwZVtTeW1ib2wuaXNDb25jYXRTcHJlYWRhYmxlXT0hMDt2YXIgRWM9e307T2JqZWN0LmRlZmluZVByb3BlcnR5KEVjLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxFYy5CaW5hcnlWZWN0b3I9dm9pZCAwO3ZhciBDYz1ILmV4cG9ydHMsemM9X2Usa2M9RmUsV2M9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIENjLl9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLmFzVXRmOD1mdW5jdGlvbigpe3JldHVybiB6Yy5WZWN0b3IubmV3KHRoaXMuZGF0YS5jbG9uZShuZXcga2MuVXRmOCkpfSx0fShGYy5CYXNlVmVjdG9yKTtFYy5CaW5hcnlWZWN0b3I9V2M7dmFyIFljPXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShZYywiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksWWMuQm9vbFZlY3Rvcj12b2lkIDA7dmFyIEhjPUguZXhwb3J0cyxHYz1GZSxKYz1NYyxaYz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gSGMuX19leHRlbmRzKHQsZSksdC5mcm9tPWZ1bmN0aW9uKGUpe3JldHVybiBKYy52ZWN0b3JGcm9tVmFsdWVzV2l0aFR5cGUoKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBHYy5Cb29sfSksZSl9LHR9KEZjLkJhc2VWZWN0b3IpO1ljLkJvb2xWZWN0b3I9WmM7dmFyIEtjPXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShLYywiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksS2MuRGF0ZU1pbGxpc2Vjb25kVmVjdG9yPUtjLkRhdGVEYXlWZWN0b3I9S2MuRGF0ZVZlY3Rvcj12b2lkIDA7dmFyIFhjPUguZXhwb3J0cyxxYz1nZSxRYz1NYywkYz1GZSxlbD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gWGMuX19leHRlbmRzKHQsZSksdC5mcm9tPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdLHQ9MDt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKWVbdF09YXJndW1lbnRzW3RdO3JldHVybiAyPT09ZS5sZW5ndGg/UWMudmVjdG9yRnJvbVZhbHVlc1dpdGhUeXBlKChmdW5jdGlvbigpe3JldHVybiBlWzFdPT09cWMuRGF0ZVVuaXQuREFZP25ldyAkYy5EYXRlRGF5Om5ldyAkYy5EYXRlTWlsbGlzZWNvbmR9KSxlWzBdKTpRYy52ZWN0b3JGcm9tVmFsdWVzV2l0aFR5cGUoKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyAkYy5EYXRlTWlsbGlzZWNvbmR9KSxlWzBdKX0sdH0oRmMuQmFzZVZlY3Rvcik7S2MuRGF0ZVZlY3Rvcj1lbDt2YXIgdGw9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIFhjLl9fZXh0ZW5kcyh0LGUpLHR9KGVsKTtLYy5EYXRlRGF5VmVjdG9yPXRsO3ZhciBybD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gWGMuX19leHRlbmRzKHQsZSksdH0oZWwpO0tjLkRhdGVNaWxsaXNlY29uZFZlY3Rvcj1ybDt2YXIgbmw9e307T2JqZWN0LmRlZmluZVByb3BlcnR5KG5sLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxubC5EZWNpbWFsVmVjdG9yPXZvaWQgMDt2YXIgaWw9SC5leHBvcnRzLG9sPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBpbC5fX2V4dGVuZHModCxlKSx0fShGYy5CYXNlVmVjdG9yKTtubC5EZWNpbWFsVmVjdG9yPW9sO3ZhciBhbD17fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYWwsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGFsLkRpY3Rpb25hcnlWZWN0b3I9dm9pZCAwO3ZhciB1bD1ILmV4cG9ydHMsc2w9SWUsY2w9X2UsbGw9TWMsZmw9RmUsZGw9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXt2YXIgcj1lLmNhbGwodGhpcyx0KXx8dGhpcztyZXR1cm4gci5pbmRpY2VzPWNsLlZlY3Rvci5uZXcodC5jbG9uZShyLnR5cGUuaW5kaWNlcykpLHJ9cmV0dXJuIHVsLl9fZXh0ZW5kcyh0LGUpLHQuZnJvbT1mdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyllW3RdPWFyZ3VtZW50c1t0XTtpZigzPT09ZS5sZW5ndGgpe3ZhciByPXVsLl9fcmVhZChlLDMpLG49clswXSxpPXJbMV0sbz1yWzJdLGE9bmV3IGZsLkRpY3Rpb25hcnkobi50eXBlLGksbnVsbCxudWxsKTtyZXR1cm4gY2wuVmVjdG9yLm5ldyhzbC5EYXRhLkRpY3Rpb25hcnkoYSwwLG8ubGVuZ3RoLDAsbnVsbCxvLG4pKX1yZXR1cm4gbGwudmVjdG9yRnJvbVZhbHVlc1dpdGhUeXBlKChmdW5jdGlvbigpe3JldHVybiBlWzBdLnR5cGV9KSxlWzBdKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJkaWN0aW9uYXJ5Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YS5kaWN0aW9uYXJ5fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLnJldmVyc2VMb29rdXA9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZGljdGlvbmFyeS5pbmRleE9mKGUpfSx0LnByb3RvdHlwZS5nZXRLZXk9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuaW5kaWNlcy5nZXQoZSl9LHQucHJvdG90eXBlLmdldFZhbHVlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmRpY3Rpb25hcnkuZ2V0KGUpfSx0LnByb3RvdHlwZS5zZXRLZXk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5pbmRpY2VzLnNldChlLHQpfSx0LnByb3RvdHlwZS5zZXRWYWx1ZT1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmRpY3Rpb25hcnkuc2V0KGUsdCl9LHR9KEZjLkJhc2VWZWN0b3IpO2FsLkRpY3Rpb25hcnlWZWN0b3I9ZGwsZGwucHJvdG90eXBlLmluZGljZXM9bnVsbDt2YXIgcGw9e307T2JqZWN0LmRlZmluZVByb3BlcnR5KHBsLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxwbC5GaXhlZFNpemVCaW5hcnlWZWN0b3I9dm9pZCAwO3ZhciB5bD1ILmV4cG9ydHMsaGw9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIHlsLl9fZXh0ZW5kcyh0LGUpLHR9KEZjLkJhc2VWZWN0b3IpO3BsLkZpeGVkU2l6ZUJpbmFyeVZlY3Rvcj1obDt2YXIgYmw9e307T2JqZWN0LmRlZmluZVByb3BlcnR5KGJsLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxibC5GaXhlZFNpemVMaXN0VmVjdG9yPXZvaWQgMDt2YXIgdmw9SC5leHBvcnRzLF9sPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiB2bC5fX2V4dGVuZHModCxlKSx0fShGYy5CYXNlVmVjdG9yKTtibC5GaXhlZFNpemVMaXN0VmVjdG9yPV9sO3ZhciBtbD17fTtPYmplY3QuZGVmaW5lUHJvcGVydHkobWwsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLG1sLkZsb2F0NjRWZWN0b3I9bWwuRmxvYXQzMlZlY3Rvcj1tbC5GbG9hdDE2VmVjdG9yPW1sLkZsb2F0VmVjdG9yPXZvaWQgMDt2YXIgZ2w9SC5leHBvcnRzLEJsPUllLFRsPV9lLElsPU1jLHdsPUZlLE9sPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBnbC5fX2V4dGVuZHModCxlKSx0LmZyb209ZnVuY3Rpb24oZSl7dmFyIHQ9TWwodGhpcyk7aWYoZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyfHxBcnJheUJ1ZmZlci5pc1ZpZXcoZSkpe3ZhciByPVBsKGUuY29uc3RydWN0b3IpfHx0O2lmKG51bGw9PT10JiYodD1yKSx0JiZ0PT09cil7dmFyIG49bmV3IHQsaT1lLmJ5dGVMZW5ndGgvbi5BcnJheVR5cGUuQllURVNfUEVSX0VMRU1FTlQ7aWYoIVZsKHQsZS5jb25zdHJ1Y3RvcikpcmV0dXJuIFRsLlZlY3Rvci5uZXcoQmwuRGF0YS5GbG9hdChuLDAsaSwwLG51bGwsZSkpfX1pZih0KXJldHVybiBJbC52ZWN0b3JGcm9tVmFsdWVzV2l0aFR5cGUoKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0fSksZSk7aWYoZSBpbnN0YW5jZW9mIERhdGFWaWV3fHxlIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGluZmVyIGZsb2F0IHR5cGUgZnJvbSBpbnN0YW5jZSBvZiAiK2UuY29uc3RydWN0b3IubmFtZSk7dGhyb3cgbmV3IFR5cGVFcnJvcigiVW5yZWNvZ25pemVkIEZsb2F0VmVjdG9yIGlucHV0Iil9LHR9KEZjLkJhc2VWZWN0b3IpO21sLkZsb2F0VmVjdG9yPU9sO3ZhciBTbD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gZ2wuX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUudG9GbG9hdDMyQXJyYXk9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEZsb2F0MzJBcnJheSh0aGlzKX0sdC5wcm90b3R5cGUudG9GbG9hdDY0QXJyYXk9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEZsb2F0NjRBcnJheSh0aGlzKX0sdH0oT2wpO21sLkZsb2F0MTZWZWN0b3I9U2w7dmFyIEFsPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBnbC5fX2V4dGVuZHModCxlKSx0fShPbCk7bWwuRmxvYXQzMlZlY3Rvcj1BbDt2YXIgRGw9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIGdsLl9fZXh0ZW5kcyh0LGUpLHR9KE9sKTttbC5GbG9hdDY0VmVjdG9yPURsO3ZhciBWbD1mdW5jdGlvbihlLHQpe3JldHVybiBlPT09d2wuRmxvYXQxNiYmdCE9PVVpbnQxNkFycmF5fSxQbD1mdW5jdGlvbihlKXtzd2l0Y2goZSl7Y2FzZSBVaW50MTZBcnJheTpyZXR1cm4gd2wuRmxvYXQxNjtjYXNlIEZsb2F0MzJBcnJheTpyZXR1cm4gd2wuRmxvYXQzMjtjYXNlIEZsb2F0NjRBcnJheTpyZXR1cm4gd2wuRmxvYXQ2NDtkZWZhdWx0OnJldHVybiBudWxsfX0sTWw9ZnVuY3Rpb24oZSl7c3dpdGNoKGUpe2Nhc2UgU2w6cmV0dXJuIHdsLkZsb2F0MTY7Y2FzZSBBbDpyZXR1cm4gd2wuRmxvYXQzMjtjYXNlIERsOnJldHVybiB3bC5GbG9hdDY0O2RlZmF1bHQ6cmV0dXJuIG51bGx9fSxGbD17fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoRmwsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLEZsLkludGVydmFsWWVhck1vbnRoVmVjdG9yPUZsLkludGVydmFsRGF5VGltZVZlY3Rvcj1GbC5JbnRlcnZhbFZlY3Rvcj12b2lkIDA7dmFyIFVsPUguZXhwb3J0cyxqbD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gVWwuX19leHRlbmRzKHQsZSksdH0oRmMuQmFzZVZlY3Rvcik7RmwuSW50ZXJ2YWxWZWN0b3I9amw7dmFyIHhsPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBVbC5fX2V4dGVuZHModCxlKSx0fShqbCk7RmwuSW50ZXJ2YWxEYXlUaW1lVmVjdG9yPXhsO3ZhciBMbD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gVWwuX19leHRlbmRzKHQsZSksdH0oamwpO0ZsLkludGVydmFsWWVhck1vbnRoVmVjdG9yPUxsO3ZhciBSbD17fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoUmwsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLFJsLlVpbnQ2NFZlY3Rvcj1SbC5VaW50MzJWZWN0b3I9UmwuVWludDE2VmVjdG9yPVJsLlVpbnQ4VmVjdG9yPVJsLkludDY0VmVjdG9yPVJsLkludDMyVmVjdG9yPVJsLkludDE2VmVjdG9yPVJsLkludDhWZWN0b3I9UmwuSW50VmVjdG9yPXZvaWQgMDt2YXIgTmw9SC5leHBvcnRzLEVsPUllLENsPV9lLHpsPU1jLGtsPVEsV2w9RyxZbD1GZSxIbD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gTmwuX19leHRlbmRzKHQsZSksdC5mcm9tPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdLHQ9MDt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKWVbdF09YXJndW1lbnRzW3RdO3ZhciByPU5sLl9fcmVhZChlLDIpLG49clswXSxpPXJbMV0sbz12b2lkIDAhPT1pJiZpLGE9cmYodGhpcyxvKTtpZihuIGluc3RhbmNlb2YgQXJyYXlCdWZmZXJ8fEFycmF5QnVmZmVyLmlzVmlldyhuKSl7dmFyIHU9dGYobi5jb25zdHJ1Y3RvcixvKXx8YTtpZihudWxsPT09YSYmKGE9dSksYSYmYT09PXUpe3ZhciBzPW5ldyBhLGM9bi5ieXRlTGVuZ3RoL3MuQXJyYXlUeXBlLkJZVEVTX1BFUl9FTEVNRU5UO3JldHVybiBlZihhLG4uY29uc3RydWN0b3IpJiYoYyo9LjUpLENsLlZlY3Rvci5uZXcoRWwuRGF0YS5JbnQocywwLGMsMCxudWxsLG4pKX19aWYoYSlyZXR1cm4gemwudmVjdG9yRnJvbVZhbHVlc1dpdGhUeXBlKChmdW5jdGlvbigpe3JldHVybiBuZXcgYX0pLG4pO2lmKG4gaW5zdGFuY2VvZiBEYXRhVmlld3x8biBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBpbmZlciBpbnRlZ2VyIHR5cGUgZnJvbSBpbnN0YW5jZSBvZiAiK24uY29uc3RydWN0b3IubmFtZSk7dGhyb3cgbmV3IFR5cGVFcnJvcigiVW5yZWNvZ25pemVkIEludFZlY3RvciBpbnB1dCIpfSx0fShGYy5CYXNlVmVjdG9yKTtSbC5JbnRWZWN0b3I9SGw7dmFyIEdsPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBObC5fX2V4dGVuZHModCxlKSx0fShIbCk7UmwuSW50OFZlY3Rvcj1HbDt2YXIgSmw9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIE5sLl9fZXh0ZW5kcyh0LGUpLHR9KEhsKTtSbC5JbnQxNlZlY3Rvcj1KbDt2YXIgWmw9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIE5sLl9fZXh0ZW5kcyh0LGUpLHR9KEhsKTtSbC5JbnQzMlZlY3Rvcj1abDt2YXIgS2w9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIE5sLl9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLnRvQmlnSW50NjRBcnJheT1mdW5jdGlvbigpe3JldHVybiBXbC50b0JpZ0ludDY0QXJyYXkodGhpcy52YWx1ZXMpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsInZhbHVlczY0Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZhbHVlczY0fHwodGhpcy5fdmFsdWVzNjQ9dGhpcy50b0JpZ0ludDY0QXJyYXkoKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksdH0oSGwpO1JsLkludDY0VmVjdG9yPUtsO3ZhciBYbD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gTmwuX19leHRlbmRzKHQsZSksdH0oSGwpO1JsLlVpbnQ4VmVjdG9yPVhsO3ZhciBxbD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gTmwuX19leHRlbmRzKHQsZSksdH0oSGwpO1JsLlVpbnQxNlZlY3Rvcj1xbDt2YXIgUWw9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIE5sLl9fZXh0ZW5kcyh0LGUpLHR9KEhsKTtSbC5VaW50MzJWZWN0b3I9UWw7dmFyICRsPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBObC5fX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS50b0JpZ1VpbnQ2NEFycmF5PWZ1bmN0aW9uKCl7cmV0dXJuIFdsLnRvQmlnVWludDY0QXJyYXkodGhpcy52YWx1ZXMpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsInZhbHVlczY0Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZhbHVlczY0fHwodGhpcy5fdmFsdWVzNjQ9dGhpcy50b0JpZ1VpbnQ2NEFycmF5KCkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHR9KEhsKTtSbC5VaW50NjRWZWN0b3I9JGw7dmFyIGVmPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIShlIT09WWwuSW50NjQmJmUhPT1ZbC5VaW50NjR8fHQhPT1JbnQzMkFycmF5JiZ0IT09VWludDMyQXJyYXkpfSx0Zj1mdW5jdGlvbihlLHQpe3N3aXRjaChlKXtjYXNlIEludDhBcnJheTpyZXR1cm4gWWwuSW50ODtjYXNlIEludDE2QXJyYXk6cmV0dXJuIFlsLkludDE2O2Nhc2UgSW50MzJBcnJheTpyZXR1cm4gdD9ZbC5JbnQ2NDpZbC5JbnQzMjtjYXNlIGtsLkJpZ0ludDY0QXJyYXk6cmV0dXJuIFlsLkludDY0O2Nhc2UgVWludDhBcnJheTpyZXR1cm4gWWwuVWludDg7Y2FzZSBVaW50MTZBcnJheTpyZXR1cm4gWWwuVWludDE2O2Nhc2UgVWludDMyQXJyYXk6cmV0dXJuIHQ/WWwuVWludDY0OllsLlVpbnQzMjtjYXNlIGtsLkJpZ1VpbnQ2NEFycmF5OnJldHVybiBZbC5VaW50NjQ7ZGVmYXVsdDpyZXR1cm4gbnVsbH19LHJmPWZ1bmN0aW9uKGUsdCl7c3dpdGNoKGUpe2Nhc2UgR2w6cmV0dXJuIFlsLkludDg7Y2FzZSBKbDpyZXR1cm4gWWwuSW50MTY7Y2FzZSBabDpyZXR1cm4gdD9ZbC5JbnQ2NDpZbC5JbnQzMjtjYXNlIEtsOnJldHVybiBZbC5JbnQ2NDtjYXNlIFhsOnJldHVybiBZbC5VaW50ODtjYXNlIHFsOnJldHVybiBZbC5VaW50MTY7Y2FzZSBRbDpyZXR1cm4gdD9ZbC5VaW50NjQ6WWwuVWludDMyO2Nhc2UgJGw6cmV0dXJuIFlsLlVpbnQ2NDtkZWZhdWx0OnJldHVybiBudWxsfX0sbmY9e307T2JqZWN0LmRlZmluZVByb3BlcnR5KG5mLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxuZi5MaXN0VmVjdG9yPXZvaWQgMDt2YXIgb2Y9SC5leHBvcnRzLGFmPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBvZi5fX2V4dGVuZHModCxlKSx0fShGYy5CYXNlVmVjdG9yKTtuZi5MaXN0VmVjdG9yPWFmO3ZhciB1Zj17fTtPYmplY3QuZGVmaW5lUHJvcGVydHkodWYsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHVmLk1hcFZlY3Rvcj12b2lkIDA7dmFyIHNmPUguZXhwb3J0cyxjZj1UYSxsZj1fZSxmZj1GZSxkZj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gc2YuX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUuYXNMaXN0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy50eXBlLmNoaWxkcmVuWzBdO3JldHVybiBsZi5WZWN0b3IubmV3KHRoaXMuZGF0YS5jbG9uZShuZXcgZmYuTGlzdChlKSkpfSx0LnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZ2V0Q2hpbGRBdCgwKSxyPXRoaXMudmFsdWVPZmZzZXRzLG49cltlXSxpPXJbZSsxXTtyZXR1cm4gbmV3IGNmLk1hcFJvdyh0LnNsaWNlKG4saSkpfSx0fShGYy5CYXNlVmVjdG9yKTt1Zi5NYXBWZWN0b3I9ZGY7dmFyIHBmPXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShwZiwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSkscGYuTnVsbFZlY3Rvcj12b2lkIDA7dmFyIHlmPUguZXhwb3J0cyxoZj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4geWYuX19leHRlbmRzKHQsZSksdH0oRmMuQmFzZVZlY3Rvcik7cGYuTnVsbFZlY3Rvcj1oZjt2YXIgYmY9e307T2JqZWN0LmRlZmluZVByb3BlcnR5KGJmLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxiZi5TdHJ1Y3RWZWN0b3I9dm9pZCAwO3ZhciB2Zj1ILmV4cG9ydHMsX2Y9VGEsbWY9RmMsZ2Y9U3ltYm9sLmZvcigicm93SW5kZXgiKSxCZj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gdmYuX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUuYmluZD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9yb3d8fCh0aGlzLl9yb3c9bmV3IF9mLlN0cnVjdFJvdyh0aGlzKSkscj1PYmplY3QuY3JlYXRlKHQpO3JldHVybiByW2dmXT1lLHJ9LHR9KG1mLkJhc2VWZWN0b3IpO2JmLlN0cnVjdFZlY3Rvcj1CZjt2YXIgVGY9e307T2JqZWN0LmRlZmluZVByb3BlcnR5KFRmLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxUZi5UaW1lc3RhbXBOYW5vc2Vjb25kVmVjdG9yPVRmLlRpbWVzdGFtcE1pY3Jvc2Vjb25kVmVjdG9yPVRmLlRpbWVzdGFtcE1pbGxpc2Vjb25kVmVjdG9yPVRmLlRpbWVzdGFtcFNlY29uZFZlY3Rvcj1UZi5UaW1lc3RhbXBWZWN0b3I9dm9pZCAwO3ZhciBJZj1ILmV4cG9ydHMsd2Y9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIElmLl9fZXh0ZW5kcyh0LGUpLHR9KEZjLkJhc2VWZWN0b3IpO1RmLlRpbWVzdGFtcFZlY3Rvcj13Zjt2YXIgT2Y9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIElmLl9fZXh0ZW5kcyh0LGUpLHR9KHdmKTtUZi5UaW1lc3RhbXBTZWNvbmRWZWN0b3I9T2Y7dmFyIFNmPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBJZi5fX2V4dGVuZHModCxlKSx0fSh3Zik7VGYuVGltZXN0YW1wTWlsbGlzZWNvbmRWZWN0b3I9U2Y7dmFyIEFmPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBJZi5fX2V4dGVuZHModCxlKSx0fSh3Zik7VGYuVGltZXN0YW1wTWljcm9zZWNvbmRWZWN0b3I9QWY7dmFyIERmPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBJZi5fX2V4dGVuZHModCxlKSx0fSh3Zik7VGYuVGltZXN0YW1wTmFub3NlY29uZFZlY3Rvcj1EZjt2YXIgVmY9e307T2JqZWN0LmRlZmluZVByb3BlcnR5KFZmLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxWZi5UaW1lTmFub3NlY29uZFZlY3Rvcj1WZi5UaW1lTWljcm9zZWNvbmRWZWN0b3I9VmYuVGltZU1pbGxpc2Vjb25kVmVjdG9yPVZmLlRpbWVTZWNvbmRWZWN0b3I9VmYuVGltZVZlY3Rvcj12b2lkIDA7dmFyIFBmPUguZXhwb3J0cyxNZj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gUGYuX19leHRlbmRzKHQsZSksdH0oRmMuQmFzZVZlY3Rvcik7VmYuVGltZVZlY3Rvcj1NZjt2YXIgRmY9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIFBmLl9fZXh0ZW5kcyh0LGUpLHR9KE1mKTtWZi5UaW1lU2Vjb25kVmVjdG9yPUZmO3ZhciBVZj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gUGYuX19leHRlbmRzKHQsZSksdH0oTWYpO1ZmLlRpbWVNaWxsaXNlY29uZFZlY3Rvcj1VZjt2YXIgamY9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIFBmLl9fZXh0ZW5kcyh0LGUpLHR9KE1mKTtWZi5UaW1lTWljcm9zZWNvbmRWZWN0b3I9amY7dmFyIHhmPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBQZi5fX2V4dGVuZHModCxlKSx0fShNZik7VmYuVGltZU5hbm9zZWNvbmRWZWN0b3I9eGY7dmFyIExmPXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShMZiwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksTGYuU3BhcnNlVW5pb25WZWN0b3I9TGYuRGVuc2VVbmlvblZlY3Rvcj1MZi5VbmlvblZlY3Rvcj12b2lkIDA7dmFyIFJmPUguZXhwb3J0cyxOZj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gUmYuX19leHRlbmRzKHQsZSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJ0eXBlSWRUb0NoaWxkSW5kZXgiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhLnR5cGUudHlwZUlkVG9DaGlsZEluZGV4fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHR9KEZjLkJhc2VWZWN0b3IpO0xmLlVuaW9uVmVjdG9yPU5mO3ZhciBFZj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gUmYuX19leHRlbmRzKHQsZSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJ2YWx1ZU9mZnNldHMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhLnZhbHVlT2Zmc2V0c30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0fShOZik7TGYuRGVuc2VVbmlvblZlY3Rvcj1FZjt2YXIgQ2Y9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIFJmLl9fZXh0ZW5kcyh0LGUpLHR9KE5mKTtMZi5TcGFyc2VVbmlvblZlY3Rvcj1DZjt2YXIgemY9e307T2JqZWN0LmRlZmluZVByb3BlcnR5KHpmLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx6Zi5VdGY4VmVjdG9yPXZvaWQgMDt2YXIga2Y9SC5leHBvcnRzLFdmPV9lLFlmPUZlLEhmPU1jLEdmPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBrZi5fX2V4dGVuZHModCxlKSx0LmZyb209ZnVuY3Rpb24oZSl7cmV0dXJuIEhmLnZlY3RvckZyb21WYWx1ZXNXaXRoVHlwZSgoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFlmLlV0Zjh9KSxlKX0sdC5wcm90b3R5cGUuYXNCaW5hcnk9ZnVuY3Rpb24oKXtyZXR1cm4gV2YuVmVjdG9yLm5ldyh0aGlzLmRhdGEuY2xvbmUobmV3IFlmLkJpbmFyeSkpfSx0fShGYy5CYXNlVmVjdG9yKTt6Zi5VdGY4VmVjdG9yPUdmO3ZhciBKZj17fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoSmYsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLEpmLnBhcnRpYWwyPUpmLnBhcnRpYWwxPUpmLnBhcnRpYWwwPXZvaWQgMCxKZi5wYXJ0aWFsMD1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZSh0aGlzKX19LEpmLnBhcnRpYWwxPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gZSh0aGlzLHQpfX0sSmYucGFydGlhbDI9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQscil7cmV0dXJuIGUodGhpcyx0LHIpfX07dmFyIFpmPXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShaZiwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksWmYuaW5zdGFuY2U9WmYuR2V0VmlzaXRvcj12b2lkIDA7dmFyIEtmPUguZXhwb3J0cyxYZj1NcixxZj1LLFFmPUJyLCRmPWdlLGVkPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBLZi5fX2V4dGVuZHModCxlKSx0fShkaS5WaXNpdG9yKTtaZi5HZXRWaXNpdG9yPWVkO3ZhciB0ZD1mdW5jdGlvbihlLHQpe3JldHVybiA0Mjk0OTY3Mjk2KmVbdCsxXSsoZVt0XT4+PjApfSxyZD1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IERhdGUoZSl9LG5kPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10LGk9bltyXSxvPW5bcisxXTtyZXR1cm4gbnVsbCE9aSYmbnVsbCE9bz9lLnN1YmFycmF5KGksbyk6bnVsbH0saWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24oZSx0KXtyZXR1cm4gcmQoZnVuY3Rpb24oZSx0KXtyZXR1cm4gODY0ZTUqZVt0XX0oZSx0KSl9KGUudmFsdWVzLHQpfSxvZD1mdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbihlLHQpe3JldHVybiByZCh0ZChlLHQpKX0oZS52YWx1ZXMsMip0KX0sYWQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLnN0cmlkZTtyZXR1cm4gZS52YWx1ZXNbcip0XX0sdWQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLnN0cmlkZSxuPWUudmFsdWVzO3JldHVybiBRZi51aW50MTZUb0Zsb2F0NjQobltyKnRdKX0sc2Q9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLnN0cmlkZSxuPWUudmFsdWVzLGk9ZS50eXBlO3JldHVybiBYZi5CTi5uZXcobi5zdWJhcnJheShyKnQscioodCsxKSksaS5pc1NpZ25lZCl9LGNkPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS52YWx1ZXM7cmV0dXJuIDFlMyp0ZChyLDIqdCl9LGxkPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS52YWx1ZXM7cmV0dXJuIHRkKHIsMip0KX0sZmQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVt0KzFdLzFlMyo0Mjk0OTY3Mjk2KyhlW3RdPj4+MCkvMWUzfShlLnZhbHVlcywyKnQpfSxkZD1mdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbihlLHQpe3JldHVybiBlW3QrMV0vMWU2KjQyOTQ5NjcyOTYrKGVbdF0+Pj4wKS8xZTZ9KGUudmFsdWVzLDIqdCl9LHBkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUudmFsdWVzW2Uuc3RyaWRlKnRdfSx5ZD1mdW5jdGlvbihlLHQpe3JldHVybiBlLnZhbHVlc1tlLnN0cmlkZSp0XX0saGQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLnZhbHVlcztyZXR1cm4gWGYuQk4uc2lnbmVkKHIuc3ViYXJyYXkoMip0LDIqKHQrMSkpKX0sYmQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLnZhbHVlcztyZXR1cm4gWGYuQk4uc2lnbmVkKHIuc3ViYXJyYXkoMip0LDIqKHQrMSkpKX0sdmQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLnR5cGVJZFRvQ2hpbGRJbmRleFtlLnR5cGVJZHNbdF1dLG49ZS5nZXRDaGlsZEF0KHIpO3JldHVybiBuP24uZ2V0KGUudmFsdWVPZmZzZXRzW3RdKTpudWxsfSxfZD1mdW5jdGlvbihlLHQpe3ZhciByPWUudHlwZUlkVG9DaGlsZEluZGV4W2UudHlwZUlkc1t0XV0sbj1lLmdldENoaWxkQXQocik7cmV0dXJuIG4/bi5nZXQodCk6bnVsbH0sbWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS52YWx1ZXMuc3ViYXJyYXkoMip0LDIqKHQrMSkpfSxnZD1mdW5jdGlvbihlLHQpe3ZhciByPWUudmFsdWVzW3RdLG49bmV3IEludDMyQXJyYXkoMik7cmV0dXJuIG5bMF09ci8xMnwwLG5bMV09ciUxMnwwLG59O2VkLnByb3RvdHlwZS52aXNpdE51bGw9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbnVsbH0sZWQucHJvdG90eXBlLnZpc2l0Qm9vbD1mdW5jdGlvbihlLHQpe3ZhciByPWUub2Zmc2V0K3Q7cmV0dXJuIDAhPShlLnZhbHVlc1tyPj4zXSYxPDxyJTgpfSxlZC5wcm90b3R5cGUudmlzaXRJbnQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS50eXBlLmJpdFdpZHRoPDY0P2FkKGUsdCk6c2QoZSx0KX0sZWQucHJvdG90eXBlLnZpc2l0SW50OD1hZCxlZC5wcm90b3R5cGUudmlzaXRJbnQxNj1hZCxlZC5wcm90b3R5cGUudmlzaXRJbnQzMj1hZCxlZC5wcm90b3R5cGUudmlzaXRJbnQ2ND1zZCxlZC5wcm90b3R5cGUudmlzaXRVaW50OD1hZCxlZC5wcm90b3R5cGUudmlzaXRVaW50MTY9YWQsZWQucHJvdG90eXBlLnZpc2l0VWludDMyPWFkLGVkLnByb3RvdHlwZS52aXNpdFVpbnQ2ND1zZCxlZC5wcm90b3R5cGUudmlzaXRGbG9hdD1mdW5jdGlvbihlLHQpe3JldHVybiBlLnR5cGUucHJlY2lzaW9uIT09JGYuUHJlY2lzaW9uLkhBTEY/YWQoZSx0KTp1ZChlLHQpfSxlZC5wcm90b3R5cGUudmlzaXRGbG9hdDE2PXVkLGVkLnByb3RvdHlwZS52aXNpdEZsb2F0MzI9YWQsZWQucHJvdG90eXBlLnZpc2l0RmxvYXQ2ND1hZCxlZC5wcm90b3R5cGUudmlzaXRVdGY4PWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS52YWx1ZXMsbj1lLnZhbHVlT2Zmc2V0cyxpPW5kKHIsbix0KTtyZXR1cm4gbnVsbCE9PWk/cWYuZGVjb2RlVXRmOChpKTpudWxsfSxlZC5wcm90b3R5cGUudmlzaXRCaW5hcnk9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLnZhbHVlcyxuPWUudmFsdWVPZmZzZXRzO3JldHVybiBuZChyLG4sdCl9LGVkLnByb3RvdHlwZS52aXNpdEZpeGVkU2l6ZUJpbmFyeT1mdW5jdGlvbihlLHQpe3ZhciByPWUuc3RyaWRlO3JldHVybiBlLnZhbHVlcy5zdWJhcnJheShyKnQscioodCsxKSl9LGVkLnByb3RvdHlwZS52aXNpdERhdGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS50eXBlLnVuaXQ9PT0kZi5EYXRlVW5pdC5EQVk/aWQoZSx0KTpvZChlLHQpfSxlZC5wcm90b3R5cGUudmlzaXREYXRlRGF5PWlkLGVkLnByb3RvdHlwZS52aXNpdERhdGVNaWxsaXNlY29uZD1vZCxlZC5wcm90b3R5cGUudmlzaXRUaW1lc3RhbXA9ZnVuY3Rpb24oZSx0KXtzd2l0Y2goZS50eXBlLnVuaXQpe2Nhc2UgJGYuVGltZVVuaXQuU0VDT05EOnJldHVybiBjZChlLHQpO2Nhc2UgJGYuVGltZVVuaXQuTUlMTElTRUNPTkQ6cmV0dXJuIGxkKGUsdCk7Y2FzZSAkZi5UaW1lVW5pdC5NSUNST1NFQ09ORDpyZXR1cm4gZmQoZSx0KTtjYXNlICRmLlRpbWVVbml0Lk5BTk9TRUNPTkQ6cmV0dXJuIGRkKGUsdCl9fSxlZC5wcm90b3R5cGUudmlzaXRUaW1lc3RhbXBTZWNvbmQ9Y2QsZWQucHJvdG90eXBlLnZpc2l0VGltZXN0YW1wTWlsbGlzZWNvbmQ9bGQsZWQucHJvdG90eXBlLnZpc2l0VGltZXN0YW1wTWljcm9zZWNvbmQ9ZmQsZWQucHJvdG90eXBlLnZpc2l0VGltZXN0YW1wTmFub3NlY29uZD1kZCxlZC5wcm90b3R5cGUudmlzaXRUaW1lPWZ1bmN0aW9uKGUsdCl7c3dpdGNoKGUudHlwZS51bml0KXtjYXNlICRmLlRpbWVVbml0LlNFQ09ORDpyZXR1cm4gcGQoZSx0KTtjYXNlICRmLlRpbWVVbml0Lk1JTExJU0VDT05EOnJldHVybiB5ZChlLHQpO2Nhc2UgJGYuVGltZVVuaXQuTUlDUk9TRUNPTkQ6cmV0dXJuIGhkKGUsdCk7Y2FzZSAkZi5UaW1lVW5pdC5OQU5PU0VDT05EOnJldHVybiBiZChlLHQpfX0sZWQucHJvdG90eXBlLnZpc2l0VGltZVNlY29uZD1wZCxlZC5wcm90b3R5cGUudmlzaXRUaW1lTWlsbGlzZWNvbmQ9eWQsZWQucHJvdG90eXBlLnZpc2l0VGltZU1pY3Jvc2Vjb25kPWhkLGVkLnByb3RvdHlwZS52aXNpdFRpbWVOYW5vc2Vjb25kPWJkLGVkLnByb3RvdHlwZS52aXNpdERlY2ltYWw9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLnZhbHVlcztyZXR1cm4gWGYuQk4uZGVjaW1hbChyLnN1YmFycmF5KDQqdCw0Kih0KzEpKSl9LGVkLnByb3RvdHlwZS52aXNpdExpc3Q9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLmdldENoaWxkQXQoMCksbj1lLnZhbHVlT2Zmc2V0cyxpPWUuc3RyaWRlO3JldHVybiByLnNsaWNlKG5bdCppXSxuW3QqaSsxXSl9LGVkLnByb3RvdHlwZS52aXNpdFN0cnVjdD1mdW5jdGlvbihlLHQpe3JldHVybiBlLmJpbmQodCl9LGVkLnByb3RvdHlwZS52aXNpdFVuaW9uPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUudHlwZS5tb2RlPT09JGYuVW5pb25Nb2RlLkRlbnNlP3ZkKGUsdCk6X2QoZSx0KX0sZWQucHJvdG90eXBlLnZpc2l0RGVuc2VVbmlvbj12ZCxlZC5wcm90b3R5cGUudmlzaXRTcGFyc2VVbmlvbj1fZCxlZC5wcm90b3R5cGUudmlzaXREaWN0aW9uYXJ5PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuZ2V0VmFsdWUoZS5nZXRLZXkodCkpfSxlZC5wcm90b3R5cGUudmlzaXRJbnRlcnZhbD1mdW5jdGlvbihlLHQpe3JldHVybiBlLnR5cGUudW5pdD09PSRmLkludGVydmFsVW5pdC5EQVlfVElNRT9tZChlLHQpOmdkKGUsdCl9LGVkLnByb3RvdHlwZS52aXNpdEludGVydmFsRGF5VGltZT1tZCxlZC5wcm90b3R5cGUudmlzaXRJbnRlcnZhbFllYXJNb250aD1nZCxlZC5wcm90b3R5cGUudmlzaXRGaXhlZFNpemVMaXN0PWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5nZXRDaGlsZEF0KDApLG49ZS5zdHJpZGU7cmV0dXJuIHIuc2xpY2UodCpuLCh0KzEpKm4pfSxlZC5wcm90b3R5cGUudmlzaXRNYXA9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5iaW5kKHQpfSxaZi5pbnN0YW5jZT1uZXcgZWQ7dmFyIEJkPXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShCZCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksQmQuaW5zdGFuY2U9QmQuSW5kZXhPZlZpc2l0b3I9dm9pZCAwO3ZhciBUZD1ILmV4cG9ydHMsSWQ9d2Usd2Q9QmEsT2Q9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIFRkLl9fZXh0ZW5kcyh0LGUpLHR9KGRpLlZpc2l0b3IpO2Z1bmN0aW9uIFNkKGUsdCxyKXtpZih2b2lkIDA9PT10KXJldHVybi0xO2lmKG51bGw9PT10KXJldHVybiBmdW5jdGlvbihlLHQpe3ZhciByLG4saT1lLmRhdGEubnVsbEJpdG1hcDtpZighaXx8ZS5udWxsQ291bnQ8PTApcmV0dXJuLTE7dmFyIG89MDt0cnl7Zm9yKHZhciBhPVRkLl9fdmFsdWVzKG5ldyBJZC5CaXRJdGVyYXRvcihpLGUuZGF0YS5vZmZzZXQrKHR8fDApLGUubGVuZ3RoLGksSWQuZ2V0Qm9vbCkpLHU9YS5uZXh0KCk7IXUuZG9uZTt1PWEubmV4dCgpKXtpZighdS52YWx1ZSlyZXR1cm4gbzsrK299fWNhdGNoKHMpe3I9e2Vycm9yOnN9fWZpbmFsbHl7dHJ5e3UmJiF1LmRvbmUmJihuPWEucmV0dXJuKSYmbi5jYWxsKGEpfWZpbmFsbHl7aWYocil0aHJvdyByLmVycm9yfX1yZXR1cm4tMX0oZSxyKTtmb3IodmFyIG49d2QuY3JlYXRlRWxlbWVudENvbXBhcmF0b3IodCksaT0ocnx8MCktMSxvPWUubGVuZ3RoOysraTxvOylpZihuKGUuZ2V0KGkpKSlyZXR1cm4gaTtyZXR1cm4tMX1mdW5jdGlvbiBBZChlLHQscil7Zm9yKHZhciBuPXdkLmNyZWF0ZUVsZW1lbnRDb21wYXJhdG9yKHQpLGk9KHJ8fDApLTEsbz1lLmxlbmd0aDsrK2k8bzspaWYobihlLmdldChpKSkpcmV0dXJuIGk7cmV0dXJuLTF9QmQuSW5kZXhPZlZpc2l0b3I9T2QsT2QucHJvdG90eXBlLnZpc2l0TnVsbD1mdW5jdGlvbihlLHQpe3JldHVybiBudWxsPT09dCYmZS5sZW5ndGg+MD8wOi0xfSxPZC5wcm90b3R5cGUudmlzaXRCb29sPVNkLE9kLnByb3RvdHlwZS52aXNpdEludD1TZCxPZC5wcm90b3R5cGUudmlzaXRJbnQ4PVNkLE9kLnByb3RvdHlwZS52aXNpdEludDE2PVNkLE9kLnByb3RvdHlwZS52aXNpdEludDMyPVNkLE9kLnByb3RvdHlwZS52aXNpdEludDY0PVNkLE9kLnByb3RvdHlwZS52aXNpdFVpbnQ4PVNkLE9kLnByb3RvdHlwZS52aXNpdFVpbnQxNj1TZCxPZC5wcm90b3R5cGUudmlzaXRVaW50MzI9U2QsT2QucHJvdG90eXBlLnZpc2l0VWludDY0PVNkLE9kLnByb3RvdHlwZS52aXNpdEZsb2F0PVNkLE9kLnByb3RvdHlwZS52aXNpdEZsb2F0MTY9U2QsT2QucHJvdG90eXBlLnZpc2l0RmxvYXQzMj1TZCxPZC5wcm90b3R5cGUudmlzaXRGbG9hdDY0PVNkLE9kLnByb3RvdHlwZS52aXNpdFV0Zjg9U2QsT2QucHJvdG90eXBlLnZpc2l0QmluYXJ5PVNkLE9kLnByb3RvdHlwZS52aXNpdEZpeGVkU2l6ZUJpbmFyeT1TZCxPZC5wcm90b3R5cGUudmlzaXREYXRlPVNkLE9kLnByb3RvdHlwZS52aXNpdERhdGVEYXk9U2QsT2QucHJvdG90eXBlLnZpc2l0RGF0ZU1pbGxpc2Vjb25kPVNkLE9kLnByb3RvdHlwZS52aXNpdFRpbWVzdGFtcD1TZCxPZC5wcm90b3R5cGUudmlzaXRUaW1lc3RhbXBTZWNvbmQ9U2QsT2QucHJvdG90eXBlLnZpc2l0VGltZXN0YW1wTWlsbGlzZWNvbmQ9U2QsT2QucHJvdG90eXBlLnZpc2l0VGltZXN0YW1wTWljcm9zZWNvbmQ9U2QsT2QucHJvdG90eXBlLnZpc2l0VGltZXN0YW1wTmFub3NlY29uZD1TZCxPZC5wcm90b3R5cGUudmlzaXRUaW1lPVNkLE9kLnByb3RvdHlwZS52aXNpdFRpbWVTZWNvbmQ9U2QsT2QucHJvdG90eXBlLnZpc2l0VGltZU1pbGxpc2Vjb25kPVNkLE9kLnByb3RvdHlwZS52aXNpdFRpbWVNaWNyb3NlY29uZD1TZCxPZC5wcm90b3R5cGUudmlzaXRUaW1lTmFub3NlY29uZD1TZCxPZC5wcm90b3R5cGUudmlzaXREZWNpbWFsPVNkLE9kLnByb3RvdHlwZS52aXNpdExpc3Q9U2QsT2QucHJvdG90eXBlLnZpc2l0U3RydWN0PVNkLE9kLnByb3RvdHlwZS52aXNpdFVuaW9uPVNkLE9kLnByb3RvdHlwZS52aXNpdERlbnNlVW5pb249QWQsT2QucHJvdG90eXBlLnZpc2l0U3BhcnNlVW5pb249QWQsT2QucHJvdG90eXBlLnZpc2l0RGljdGlvbmFyeT1TZCxPZC5wcm90b3R5cGUudmlzaXRJbnRlcnZhbD1TZCxPZC5wcm90b3R5cGUudmlzaXRJbnRlcnZhbERheVRpbWU9U2QsT2QucHJvdG90eXBlLnZpc2l0SW50ZXJ2YWxZZWFyTW9udGg9U2QsT2QucHJvdG90eXBlLnZpc2l0Rml4ZWRTaXplTGlzdD1TZCxPZC5wcm90b3R5cGUudmlzaXRNYXA9U2QsQmQuaW5zdGFuY2U9bmV3IE9kO3ZhciBEZD17fSxWZD17fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoVmQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLFZkLmluc3RhbmNlPVZkLkl0ZXJhdG9yVmlzaXRvcj12b2lkIDA7dmFyIFBkPUguZXhwb3J0cyxNZD1nZSxGZD13ZSxVZD1aZixqZD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gUGQuX19leHRlbmRzKHQsZSksdH0oZGkuVmlzaXRvcik7VmQuSXRlcmF0b3JWaXNpdG9yPWpkO3ZhciB4ZD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt0aGlzLnZlY3Rvcj1lLHRoaXMuZ2V0Rm49dCx0aGlzLmluZGV4PTB9cmV0dXJuIGUucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbmRleDx0aGlzLnZlY3Rvci5sZW5ndGg/e3ZhbHVlOnRoaXMuZ2V0Rm4odGhpcy52ZWN0b3IsdGhpcy5pbmRleCsrKX06e2RvbmU6ITAsdmFsdWU6bnVsbH19LGUucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sZX0oKTtmdW5jdGlvbiBMZChlKXtpZihlLm51bGxDb3VudD4wKXJldHVybiBmdW5jdGlvbihlKXt2YXIgdD1VZC5pbnN0YW5jZS5nZXRWaXNpdEZuKGUpO3JldHVybiBuZXcgRmQuQml0SXRlcmF0b3IoZS5kYXRhLm51bGxCaXRtYXAsZS5kYXRhLm9mZnNldCxlLmxlbmd0aCxlLChmdW5jdGlvbihlLHIsbixpKXtyZXR1cm4gMCE9KG4mMTw8aSk/dChlLHIpOm51bGx9KSl9KGUpO3ZhciB0PWUudHlwZSxyPWUudHlwZUlkLG49ZS5sZW5ndGg7cmV0dXJuIDE9PT1lLnN0cmlkZSYmKHI9PT1NZC5UeXBlLlRpbWVzdGFtcHx8cj09PU1kLlR5cGUuSW50JiY2NCE9PXQuYml0V2lkdGh8fHI9PT1NZC5UeXBlLlRpbWUmJjY0IT09dC5iaXRXaWR0aHx8cj09PU1kLlR5cGUuRmxvYXQmJnQucHJlY2lzaW9uPjApP2UuZGF0YS52YWx1ZXMuc3ViYXJyYXkoMCxuKVtTeW1ib2wuaXRlcmF0b3JdKCk6bmV3IHhkKGUsVWQuaW5zdGFuY2UuZ2V0VmlzaXRGbihlKSl9amQucHJvdG90eXBlLnZpc2l0TnVsbD1MZCxqZC5wcm90b3R5cGUudmlzaXRCb29sPUxkLGpkLnByb3RvdHlwZS52aXNpdEludD1MZCxqZC5wcm90b3R5cGUudmlzaXRJbnQ4PUxkLGpkLnByb3RvdHlwZS52aXNpdEludDE2PUxkLGpkLnByb3RvdHlwZS52aXNpdEludDMyPUxkLGpkLnByb3RvdHlwZS52aXNpdEludDY0PUxkLGpkLnByb3RvdHlwZS52aXNpdFVpbnQ4PUxkLGpkLnByb3RvdHlwZS52aXNpdFVpbnQxNj1MZCxqZC5wcm90b3R5cGUudmlzaXRVaW50MzI9TGQsamQucHJvdG90eXBlLnZpc2l0VWludDY0PUxkLGpkLnByb3RvdHlwZS52aXNpdEZsb2F0PUxkLGpkLnByb3RvdHlwZS52aXNpdEZsb2F0MTY9TGQsamQucHJvdG90eXBlLnZpc2l0RmxvYXQzMj1MZCxqZC5wcm90b3R5cGUudmlzaXRGbG9hdDY0PUxkLGpkLnByb3RvdHlwZS52aXNpdFV0Zjg9TGQsamQucHJvdG90eXBlLnZpc2l0QmluYXJ5PUxkLGpkLnByb3RvdHlwZS52aXNpdEZpeGVkU2l6ZUJpbmFyeT1MZCxqZC5wcm90b3R5cGUudmlzaXREYXRlPUxkLGpkLnByb3RvdHlwZS52aXNpdERhdGVEYXk9TGQsamQucHJvdG90eXBlLnZpc2l0RGF0ZU1pbGxpc2Vjb25kPUxkLGpkLnByb3RvdHlwZS52aXNpdFRpbWVzdGFtcD1MZCxqZC5wcm90b3R5cGUudmlzaXRUaW1lc3RhbXBTZWNvbmQ9TGQsamQucHJvdG90eXBlLnZpc2l0VGltZXN0YW1wTWlsbGlzZWNvbmQ9TGQsamQucHJvdG90eXBlLnZpc2l0VGltZXN0YW1wTWljcm9zZWNvbmQ9TGQsamQucHJvdG90eXBlLnZpc2l0VGltZXN0YW1wTmFub3NlY29uZD1MZCxqZC5wcm90b3R5cGUudmlzaXRUaW1lPUxkLGpkLnByb3RvdHlwZS52aXNpdFRpbWVTZWNvbmQ9TGQsamQucHJvdG90eXBlLnZpc2l0VGltZU1pbGxpc2Vjb25kPUxkLGpkLnByb3RvdHlwZS52aXNpdFRpbWVNaWNyb3NlY29uZD1MZCxqZC5wcm90b3R5cGUudmlzaXRUaW1lTmFub3NlY29uZD1MZCxqZC5wcm90b3R5cGUudmlzaXREZWNpbWFsPUxkLGpkLnByb3RvdHlwZS52aXNpdExpc3Q9TGQsamQucHJvdG90eXBlLnZpc2l0U3RydWN0PUxkLGpkLnByb3RvdHlwZS52aXNpdFVuaW9uPUxkLGpkLnByb3RvdHlwZS52aXNpdERlbnNlVW5pb249TGQsamQucHJvdG90eXBlLnZpc2l0U3BhcnNlVW5pb249TGQsamQucHJvdG90eXBlLnZpc2l0RGljdGlvbmFyeT1MZCxqZC5wcm90b3R5cGUudmlzaXRJbnRlcnZhbD1MZCxqZC5wcm90b3R5cGUudmlzaXRJbnRlcnZhbERheVRpbWU9TGQsamQucHJvdG90eXBlLnZpc2l0SW50ZXJ2YWxZZWFyTW9udGg9TGQsamQucHJvdG90eXBlLnZpc2l0Rml4ZWRTaXplTGlzdD1MZCxqZC5wcm90b3R5cGUudmlzaXRNYXA9TGQsVmQuaW5zdGFuY2U9bmV3IGpkLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEZCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksRGQuaW5zdGFuY2U9RGQuVG9BcnJheVZpc2l0b3I9dm9pZCAwO3ZhciBSZD1ILmV4cG9ydHMsTmQ9Z2UsRWQ9VmQsQ2Q9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIFJkLl9fZXh0ZW5kcyh0LGUpLHR9KGRpLlZpc2l0b3IpO2Z1bmN0aW9uIHpkKGUpe3ZhciB0PWUudHlwZSxyPWUubGVuZ3RoLG49ZS5zdHJpZGU7c3dpdGNoKHQudHlwZUlkKXtjYXNlIE5kLlR5cGUuSW50OmNhc2UgTmQuVHlwZS5GbG9hdDpjYXNlIE5kLlR5cGUuRGVjaW1hbDpjYXNlIE5kLlR5cGUuVGltZTpjYXNlIE5kLlR5cGUuVGltZXN0YW1wOnJldHVybiBlLmRhdGEudmFsdWVzLnN1YmFycmF5KDAscipuKX1yZXR1cm4gUmQuX19zcHJlYWQoRWQuaW5zdGFuY2UudmlzaXQoZSkpfURkLlRvQXJyYXlWaXNpdG9yPUNkLENkLnByb3RvdHlwZS52aXNpdE51bGw9emQsQ2QucHJvdG90eXBlLnZpc2l0Qm9vbD16ZCxDZC5wcm90b3R5cGUudmlzaXRJbnQ9emQsQ2QucHJvdG90eXBlLnZpc2l0SW50OD16ZCxDZC5wcm90b3R5cGUudmlzaXRJbnQxNj16ZCxDZC5wcm90b3R5cGUudmlzaXRJbnQzMj16ZCxDZC5wcm90b3R5cGUudmlzaXRJbnQ2ND16ZCxDZC5wcm90b3R5cGUudmlzaXRVaW50OD16ZCxDZC5wcm90b3R5cGUudmlzaXRVaW50MTY9emQsQ2QucHJvdG90eXBlLnZpc2l0VWludDMyPXpkLENkLnByb3RvdHlwZS52aXNpdFVpbnQ2ND16ZCxDZC5wcm90b3R5cGUudmlzaXRGbG9hdD16ZCxDZC5wcm90b3R5cGUudmlzaXRGbG9hdDE2PXpkLENkLnByb3RvdHlwZS52aXNpdEZsb2F0MzI9emQsQ2QucHJvdG90eXBlLnZpc2l0RmxvYXQ2ND16ZCxDZC5wcm90b3R5cGUudmlzaXRVdGY4PXpkLENkLnByb3RvdHlwZS52aXNpdEJpbmFyeT16ZCxDZC5wcm90b3R5cGUudmlzaXRGaXhlZFNpemVCaW5hcnk9emQsQ2QucHJvdG90eXBlLnZpc2l0RGF0ZT16ZCxDZC5wcm90b3R5cGUudmlzaXREYXRlRGF5PXpkLENkLnByb3RvdHlwZS52aXNpdERhdGVNaWxsaXNlY29uZD16ZCxDZC5wcm90b3R5cGUudmlzaXRUaW1lc3RhbXA9emQsQ2QucHJvdG90eXBlLnZpc2l0VGltZXN0YW1wU2Vjb25kPXpkLENkLnByb3RvdHlwZS52aXNpdFRpbWVzdGFtcE1pbGxpc2Vjb25kPXpkLENkLnByb3RvdHlwZS52aXNpdFRpbWVzdGFtcE1pY3Jvc2Vjb25kPXpkLENkLnByb3RvdHlwZS52aXNpdFRpbWVzdGFtcE5hbm9zZWNvbmQ9emQsQ2QucHJvdG90eXBlLnZpc2l0VGltZT16ZCxDZC5wcm90b3R5cGUudmlzaXRUaW1lU2Vjb25kPXpkLENkLnByb3RvdHlwZS52aXNpdFRpbWVNaWxsaXNlY29uZD16ZCxDZC5wcm90b3R5cGUudmlzaXRUaW1lTWljcm9zZWNvbmQ9emQsQ2QucHJvdG90eXBlLnZpc2l0VGltZU5hbm9zZWNvbmQ9emQsQ2QucHJvdG90eXBlLnZpc2l0RGVjaW1hbD16ZCxDZC5wcm90b3R5cGUudmlzaXRMaXN0PXpkLENkLnByb3RvdHlwZS52aXNpdFN0cnVjdD16ZCxDZC5wcm90b3R5cGUudmlzaXRVbmlvbj16ZCxDZC5wcm90b3R5cGUudmlzaXREZW5zZVVuaW9uPXpkLENkLnByb3RvdHlwZS52aXNpdFNwYXJzZVVuaW9uPXpkLENkLnByb3RvdHlwZS52aXNpdERpY3Rpb25hcnk9emQsQ2QucHJvdG90eXBlLnZpc2l0SW50ZXJ2YWw9emQsQ2QucHJvdG90eXBlLnZpc2l0SW50ZXJ2YWxEYXlUaW1lPXpkLENkLnByb3RvdHlwZS52aXNpdEludGVydmFsWWVhck1vbnRoPXpkLENkLnByb3RvdHlwZS52aXNpdEZpeGVkU2l6ZUxpc3Q9emQsQ2QucHJvdG90eXBlLnZpc2l0TWFwPXpkLERkLmluc3RhbmNlPW5ldyBDZDt2YXIga2Q9e307T2JqZWN0LmRlZmluZVByb3BlcnR5KGtkLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxrZC5pbnN0YW5jZT1rZC5CeXRlV2lkdGhWaXNpdG9yPXZvaWQgMDt2YXIgV2Q9SC5leHBvcnRzLFlkPWdlLEhkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUrdH0sR2Q9ZnVuY3Rpb24oZSl7cmV0dXJuIkNhbm5vdCBjb21wdXRlIHRoZSBieXRlIHdpZHRoIG9mIHZhcmlhYmxlLXdpZHRoIGNvbHVtbiAiK2V9LEpkPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBXZC5fX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS52aXNpdE51bGw9ZnVuY3Rpb24oZSl7cmV0dXJuIDB9LHQucHJvdG90eXBlLnZpc2l0SW50PWZ1bmN0aW9uKGUpe3JldHVybiBlLmJpdFdpZHRoLzh9LHQucHJvdG90eXBlLnZpc2l0RmxvYXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuQXJyYXlUeXBlLkJZVEVTX1BFUl9FTEVNRU5UfSx0LnByb3RvdHlwZS52aXNpdEJpbmFyeT1mdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoR2QoZSkpfSx0LnByb3RvdHlwZS52aXNpdFV0Zjg9ZnVuY3Rpb24oZSl7dGhyb3cgbmV3IEVycm9yKEdkKGUpKX0sdC5wcm90b3R5cGUudmlzaXRCb29sPWZ1bmN0aW9uKGUpe3JldHVybiAxLzh9LHQucHJvdG90eXBlLnZpc2l0RGVjaW1hbD1mdW5jdGlvbihlKXtyZXR1cm4gMTZ9LHQucHJvdG90eXBlLnZpc2l0RGF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gNCooZS51bml0KzEpfSx0LnByb3RvdHlwZS52aXNpdFRpbWU9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuYml0V2lkdGgvOH0sdC5wcm90b3R5cGUudmlzaXRUaW1lc3RhbXA9ZnVuY3Rpb24oZSl7cmV0dXJuIGUudW5pdD09PVlkLlRpbWVVbml0LlNFQ09ORD80Ojh9LHQucHJvdG90eXBlLnZpc2l0SW50ZXJ2YWw9ZnVuY3Rpb24oZSl7cmV0dXJuIDQqKGUudW5pdCsxKX0sdC5wcm90b3R5cGUudmlzaXRMaXN0PWZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcihHZChlKSl9LHQucHJvdG90eXBlLnZpc2l0U3RydWN0PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnZpc2l0RmllbGRzKGUuY2hpbGRyZW4pLnJlZHVjZShIZCwwKX0sdC5wcm90b3R5cGUudmlzaXRVbmlvbj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy52aXNpdEZpZWxkcyhlLmNoaWxkcmVuKS5yZWR1Y2UoSGQsMCl9LHQucHJvdG90eXBlLnZpc2l0Rml4ZWRTaXplQmluYXJ5PWZ1bmN0aW9uKGUpe3JldHVybiBlLmJ5dGVXaWR0aH0sdC5wcm90b3R5cGUudmlzaXRGaXhlZFNpemVMaXN0PWZ1bmN0aW9uKGUpe3JldHVybiBlLmxpc3RTaXplKnRoaXMudmlzaXRGaWVsZHMoZS5jaGlsZHJlbikucmVkdWNlKEhkLDApfSx0LnByb3RvdHlwZS52aXNpdE1hcD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy52aXNpdEZpZWxkcyhlLmNoaWxkcmVuKS5yZWR1Y2UoSGQsMCl9LHQucHJvdG90eXBlLnZpc2l0RGljdGlvbmFyeT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy52aXNpdChlLmluZGljZXMpfSx0LnByb3RvdHlwZS52aXNpdEZpZWxkcz1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybihlfHxbXSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gdC52aXNpdChlLnR5cGUpfSkpfSx0LnByb3RvdHlwZS52aXNpdFNjaGVtYT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy52aXNpdEZpZWxkcyhlLmZpZWxkcykucmVkdWNlKEhkLDApfSx0fShkaS5WaXNpdG9yKTtrZC5CeXRlV2lkdGhWaXNpdG9yPUpkLGtkLmluc3RhbmNlPW5ldyBKZDt2YXIgWmQ9e307T2JqZWN0LmRlZmluZVByb3BlcnR5KFpkLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxaZC5pbnN0YW5jZT1aZC5HZXRWZWN0b3JDb25zdHJ1Y3Rvcj12b2lkIDA7dmFyIEtkPUguZXhwb3J0cyxYZD1FYyxxZD1ZYyxRZD1LYywkZD1ubCxlcD1hbCx0cD1wbCxycD1ibCxucD1tbCxpcD1GbCxvcD1SbCxhcD1uZix1cD11ZixzcD1wZixjcD1iZixscD1UZixmcD1WZixkcD1MZixwcD16Zix5cD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gS2QuX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUudmlzaXROdWxsPWZ1bmN0aW9uKCl7cmV0dXJuIHNwLk51bGxWZWN0b3J9LHQucHJvdG90eXBlLnZpc2l0Qm9vbD1mdW5jdGlvbigpe3JldHVybiBxZC5Cb29sVmVjdG9yfSx0LnByb3RvdHlwZS52aXNpdEludD1mdW5jdGlvbigpe3JldHVybiBvcC5JbnRWZWN0b3J9LHQucHJvdG90eXBlLnZpc2l0SW50OD1mdW5jdGlvbigpe3JldHVybiBvcC5JbnQ4VmVjdG9yfSx0LnByb3RvdHlwZS52aXNpdEludDE2PWZ1bmN0aW9uKCl7cmV0dXJuIG9wLkludDE2VmVjdG9yfSx0LnByb3RvdHlwZS52aXNpdEludDMyPWZ1bmN0aW9uKCl7cmV0dXJuIG9wLkludDMyVmVjdG9yfSx0LnByb3RvdHlwZS52aXNpdEludDY0PWZ1bmN0aW9uKCl7cmV0dXJuIG9wLkludDY0VmVjdG9yfSx0LnByb3RvdHlwZS52aXNpdFVpbnQ4PWZ1bmN0aW9uKCl7cmV0dXJuIG9wLlVpbnQ4VmVjdG9yfSx0LnByb3RvdHlwZS52aXNpdFVpbnQxNj1mdW5jdGlvbigpe3JldHVybiBvcC5VaW50MTZWZWN0b3J9LHQucHJvdG90eXBlLnZpc2l0VWludDMyPWZ1bmN0aW9uKCl7cmV0dXJuIG9wLlVpbnQzMlZlY3Rvcn0sdC5wcm90b3R5cGUudmlzaXRVaW50NjQ9ZnVuY3Rpb24oKXtyZXR1cm4gb3AuVWludDY0VmVjdG9yfSx0LnByb3RvdHlwZS52aXNpdEZsb2F0PWZ1bmN0aW9uKCl7cmV0dXJuIG5wLkZsb2F0VmVjdG9yfSx0LnByb3RvdHlwZS52aXNpdEZsb2F0MTY9ZnVuY3Rpb24oKXtyZXR1cm4gbnAuRmxvYXQxNlZlY3Rvcn0sdC5wcm90b3R5cGUudmlzaXRGbG9hdDMyPWZ1bmN0aW9uKCl7cmV0dXJuIG5wLkZsb2F0MzJWZWN0b3J9LHQucHJvdG90eXBlLnZpc2l0RmxvYXQ2ND1mdW5jdGlvbigpe3JldHVybiBucC5GbG9hdDY0VmVjdG9yfSx0LnByb3RvdHlwZS52aXNpdFV0Zjg9ZnVuY3Rpb24oKXtyZXR1cm4gcHAuVXRmOFZlY3Rvcn0sdC5wcm90b3R5cGUudmlzaXRCaW5hcnk9ZnVuY3Rpb24oKXtyZXR1cm4gWGQuQmluYXJ5VmVjdG9yfSx0LnByb3RvdHlwZS52aXNpdEZpeGVkU2l6ZUJpbmFyeT1mdW5jdGlvbigpe3JldHVybiB0cC5GaXhlZFNpemVCaW5hcnlWZWN0b3J9LHQucHJvdG90eXBlLnZpc2l0RGF0ZT1mdW5jdGlvbigpe3JldHVybiBRZC5EYXRlVmVjdG9yfSx0LnByb3RvdHlwZS52aXNpdERhdGVEYXk9ZnVuY3Rpb24oKXtyZXR1cm4gUWQuRGF0ZURheVZlY3Rvcn0sdC5wcm90b3R5cGUudmlzaXREYXRlTWlsbGlzZWNvbmQ9ZnVuY3Rpb24oKXtyZXR1cm4gUWQuRGF0ZU1pbGxpc2Vjb25kVmVjdG9yfSx0LnByb3RvdHlwZS52aXNpdFRpbWVzdGFtcD1mdW5jdGlvbigpe3JldHVybiBscC5UaW1lc3RhbXBWZWN0b3J9LHQucHJvdG90eXBlLnZpc2l0VGltZXN0YW1wU2Vjb25kPWZ1bmN0aW9uKCl7cmV0dXJuIGxwLlRpbWVzdGFtcFNlY29uZFZlY3Rvcn0sdC5wcm90b3R5cGUudmlzaXRUaW1lc3RhbXBNaWxsaXNlY29uZD1mdW5jdGlvbigpe3JldHVybiBscC5UaW1lc3RhbXBNaWxsaXNlY29uZFZlY3Rvcn0sdC5wcm90b3R5cGUudmlzaXRUaW1lc3RhbXBNaWNyb3NlY29uZD1mdW5jdGlvbigpe3JldHVybiBscC5UaW1lc3RhbXBNaWNyb3NlY29uZFZlY3Rvcn0sdC5wcm90b3R5cGUudmlzaXRUaW1lc3RhbXBOYW5vc2Vjb25kPWZ1bmN0aW9uKCl7cmV0dXJuIGxwLlRpbWVzdGFtcE5hbm9zZWNvbmRWZWN0b3J9LHQucHJvdG90eXBlLnZpc2l0VGltZT1mdW5jdGlvbigpe3JldHVybiBmcC5UaW1lVmVjdG9yfSx0LnByb3RvdHlwZS52aXNpdFRpbWVTZWNvbmQ9ZnVuY3Rpb24oKXtyZXR1cm4gZnAuVGltZVNlY29uZFZlY3Rvcn0sdC5wcm90b3R5cGUudmlzaXRUaW1lTWlsbGlzZWNvbmQ9ZnVuY3Rpb24oKXtyZXR1cm4gZnAuVGltZU1pbGxpc2Vjb25kVmVjdG9yfSx0LnByb3RvdHlwZS52aXNpdFRpbWVNaWNyb3NlY29uZD1mdW5jdGlvbigpe3JldHVybiBmcC5UaW1lTWljcm9zZWNvbmRWZWN0b3J9LHQucHJvdG90eXBlLnZpc2l0VGltZU5hbm9zZWNvbmQ9ZnVuY3Rpb24oKXtyZXR1cm4gZnAuVGltZU5hbm9zZWNvbmRWZWN0b3J9LHQucHJvdG90eXBlLnZpc2l0RGVjaW1hbD1mdW5jdGlvbigpe3JldHVybiAkZC5EZWNpbWFsVmVjdG9yfSx0LnByb3RvdHlwZS52aXNpdExpc3Q9ZnVuY3Rpb24oKXtyZXR1cm4gYXAuTGlzdFZlY3Rvcn0sdC5wcm90b3R5cGUudmlzaXRTdHJ1Y3Q9ZnVuY3Rpb24oKXtyZXR1cm4gY3AuU3RydWN0VmVjdG9yfSx0LnByb3RvdHlwZS52aXNpdFVuaW9uPWZ1bmN0aW9uKCl7cmV0dXJuIGRwLlVuaW9uVmVjdG9yfSx0LnByb3RvdHlwZS52aXNpdERlbnNlVW5pb249ZnVuY3Rpb24oKXtyZXR1cm4gZHAuRGVuc2VVbmlvblZlY3Rvcn0sdC5wcm90b3R5cGUudmlzaXRTcGFyc2VVbmlvbj1mdW5jdGlvbigpe3JldHVybiBkcC5TcGFyc2VVbmlvblZlY3Rvcn0sdC5wcm90b3R5cGUudmlzaXREaWN0aW9uYXJ5PWZ1bmN0aW9uKCl7cmV0dXJuIGVwLkRpY3Rpb25hcnlWZWN0b3J9LHQucHJvdG90eXBlLnZpc2l0SW50ZXJ2YWw9ZnVuY3Rpb24oKXtyZXR1cm4gaXAuSW50ZXJ2YWxWZWN0b3J9LHQucHJvdG90eXBlLnZpc2l0SW50ZXJ2YWxEYXlUaW1lPWZ1bmN0aW9uKCl7cmV0dXJuIGlwLkludGVydmFsRGF5VGltZVZlY3Rvcn0sdC5wcm90b3R5cGUudmlzaXRJbnRlcnZhbFllYXJNb250aD1mdW5jdGlvbigpe3JldHVybiBpcC5JbnRlcnZhbFllYXJNb250aFZlY3Rvcn0sdC5wcm90b3R5cGUudmlzaXRGaXhlZFNpemVMaXN0PWZ1bmN0aW9uKCl7cmV0dXJuIHJwLkZpeGVkU2l6ZUxpc3RWZWN0b3J9LHQucHJvdG90eXBlLnZpc2l0TWFwPWZ1bmN0aW9uKCl7cmV0dXJuIHVwLk1hcFZlY3Rvcn0sdH0oZGkuVmlzaXRvcik7WmQuR2V0VmVjdG9yQ29uc3RydWN0b3I9eXAsWmQuaW5zdGFuY2U9bmV3IHlwLGZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLnZlY3RvckZyb21WYWx1ZXNXaXRoVHlwZT1lLlN0cnVjdFJvdz1lLk1hcFJvdz1lLlV0ZjhWZWN0b3I9ZS5TcGFyc2VVbmlvblZlY3Rvcj1lLkRlbnNlVW5pb25WZWN0b3I9ZS5VbmlvblZlY3Rvcj1lLlRpbWVOYW5vc2Vjb25kVmVjdG9yPWUuVGltZU1pY3Jvc2Vjb25kVmVjdG9yPWUuVGltZU1pbGxpc2Vjb25kVmVjdG9yPWUuVGltZVNlY29uZFZlY3Rvcj1lLlRpbWVWZWN0b3I9ZS5UaW1lc3RhbXBOYW5vc2Vjb25kVmVjdG9yPWUuVGltZXN0YW1wTWljcm9zZWNvbmRWZWN0b3I9ZS5UaW1lc3RhbXBNaWxsaXNlY29uZFZlY3Rvcj1lLlRpbWVzdGFtcFNlY29uZFZlY3Rvcj1lLlRpbWVzdGFtcFZlY3Rvcj1lLlN0cnVjdFZlY3Rvcj1lLk51bGxWZWN0b3I9ZS5NYXBWZWN0b3I9ZS5MaXN0VmVjdG9yPWUuVWludDY0VmVjdG9yPWUuVWludDMyVmVjdG9yPWUuVWludDE2VmVjdG9yPWUuVWludDhWZWN0b3I9ZS5JbnQ2NFZlY3Rvcj1lLkludDMyVmVjdG9yPWUuSW50MTZWZWN0b3I9ZS5JbnQ4VmVjdG9yPWUuSW50VmVjdG9yPWUuSW50ZXJ2YWxZZWFyTW9udGhWZWN0b3I9ZS5JbnRlcnZhbERheVRpbWVWZWN0b3I9ZS5JbnRlcnZhbFZlY3Rvcj1lLkZsb2F0NjRWZWN0b3I9ZS5GbG9hdDMyVmVjdG9yPWUuRmxvYXQxNlZlY3Rvcj1lLkZsb2F0VmVjdG9yPWUuRml4ZWRTaXplTGlzdFZlY3Rvcj1lLkZpeGVkU2l6ZUJpbmFyeVZlY3Rvcj1lLkRpY3Rpb25hcnlWZWN0b3I9ZS5EZWNpbWFsVmVjdG9yPWUuRGF0ZU1pbGxpc2Vjb25kVmVjdG9yPWUuRGF0ZURheVZlY3Rvcj1lLkRhdGVWZWN0b3I9ZS5DaHVua2VkPWUuQm9vbFZlY3Rvcj1lLkJpbmFyeVZlY3Rvcj1lLkJhc2VWZWN0b3I9ZS5WZWN0b3I9dm9pZCAwO3ZhciB0PUguZXhwb3J0cyxyPV9lO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiByLlZlY3Rvcn19KTt2YXIgbj1GYztPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiQmFzZVZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG4uQmFzZVZlY3Rvcn19KTt2YXIgaT1FYztPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiQmluYXJ5VmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaS5CaW5hcnlWZWN0b3J9fSk7dmFyIG89WWM7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkJvb2xWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBvLkJvb2xWZWN0b3J9fSk7dmFyIGE9Z2E7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkNodW5rZWQiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBhLkNodW5rZWR9fSk7dmFyIHU9S2M7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkRhdGVWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB1LkRhdGVWZWN0b3J9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkRhdGVEYXlWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB1LkRhdGVEYXlWZWN0b3J9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkRhdGVNaWxsaXNlY29uZFZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHUuRGF0ZU1pbGxpc2Vjb25kVmVjdG9yfX0pO3ZhciBzPW5sO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJEZWNpbWFsVmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5EZWNpbWFsVmVjdG9yfX0pO3ZhciBjPWFsO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJEaWN0aW9uYXJ5VmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYy5EaWN0aW9uYXJ5VmVjdG9yfX0pO3ZhciBsPXBsO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJGaXhlZFNpemVCaW5hcnlWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsLkZpeGVkU2l6ZUJpbmFyeVZlY3Rvcn19KTt2YXIgZj1ibDtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRml4ZWRTaXplTGlzdFZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGYuRml4ZWRTaXplTGlzdFZlY3Rvcn19KTt2YXIgZD1tbDtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRmxvYXRWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBkLkZsb2F0VmVjdG9yfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJGbG9hdDE2VmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZC5GbG9hdDE2VmVjdG9yfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJGbG9hdDMyVmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZC5GbG9hdDMyVmVjdG9yfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJGbG9hdDY0VmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZC5GbG9hdDY0VmVjdG9yfX0pO3ZhciBwPUZsO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJJbnRlcnZhbFZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHAuSW50ZXJ2YWxWZWN0b3J9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkludGVydmFsRGF5VGltZVZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHAuSW50ZXJ2YWxEYXlUaW1lVmVjdG9yfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJJbnRlcnZhbFllYXJNb250aFZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHAuSW50ZXJ2YWxZZWFyTW9udGhWZWN0b3J9fSk7dmFyIHk9Umw7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkludFZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHkuSW50VmVjdG9yfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJJbnQ4VmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4geS5JbnQ4VmVjdG9yfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJJbnQxNlZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHkuSW50MTZWZWN0b3J9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkludDMyVmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4geS5JbnQzMlZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiSW50NjRWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB5LkludDY0VmVjdG9yfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJVaW50OFZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHkuVWludDhWZWN0b3J9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlVpbnQxNlZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHkuVWludDE2VmVjdG9yfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJVaW50MzJWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB5LlVpbnQzMlZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVWludDY0VmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4geS5VaW50NjRWZWN0b3J9fSk7dmFyIGg9bmY7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkxpc3RWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBoLkxpc3RWZWN0b3J9fSk7dmFyIGI9dWY7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIk1hcFZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGIuTWFwVmVjdG9yfX0pO3ZhciB2PXBmO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJOdWxsVmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdi5OdWxsVmVjdG9yfX0pO3ZhciBfPWJmO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJTdHJ1Y3RWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBfLlN0cnVjdFZlY3Rvcn19KTt2YXIgbT1UZjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVGltZXN0YW1wVmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbS5UaW1lc3RhbXBWZWN0b3J9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlRpbWVzdGFtcFNlY29uZFZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG0uVGltZXN0YW1wU2Vjb25kVmVjdG9yfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJUaW1lc3RhbXBNaWxsaXNlY29uZFZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG0uVGltZXN0YW1wTWlsbGlzZWNvbmRWZWN0b3J9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlRpbWVzdGFtcE1pY3Jvc2Vjb25kVmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbS5UaW1lc3RhbXBNaWNyb3NlY29uZFZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVGltZXN0YW1wTmFub3NlY29uZFZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG0uVGltZXN0YW1wTmFub3NlY29uZFZlY3Rvcn19KTt2YXIgZz1WZjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVGltZVZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGcuVGltZVZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVGltZVNlY29uZFZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGcuVGltZVNlY29uZFZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVGltZU1pbGxpc2Vjb25kVmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZy5UaW1lTWlsbGlzZWNvbmRWZWN0b3J9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlRpbWVNaWNyb3NlY29uZFZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGcuVGltZU1pY3Jvc2Vjb25kVmVjdG9yfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJUaW1lTmFub3NlY29uZFZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGcuVGltZU5hbm9zZWNvbmRWZWN0b3J9fSk7dmFyIEI9TGY7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlVuaW9uVmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gQi5VbmlvblZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRGVuc2VVbmlvblZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEIuRGVuc2VVbmlvblZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiU3BhcnNlVW5pb25WZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBCLlNwYXJzZVVuaW9uVmVjdG9yfX0pO3ZhciBUPXpmO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJVdGY4VmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gVC5VdGY4VmVjdG9yfX0pO3ZhciBJPVRhO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJNYXBSb3ciLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBJLk1hcFJvd319KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiU3RydWN0Um93Iix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gSS5TdHJ1Y3RSb3d9fSk7dmFyIHc9SmYsTz1nZSxTPV9lLEE9Z2EsRD1GYyxWPXdlLFA9USxNPXZlLEY9WmYsVT1maSxqPUJkLHg9RGQsTD1WZCxSPWtkLE49WmQ7Uy5WZWN0b3IubmV3PWZ1bmN0aW9uKGUpe2Zvcih2YXIgcixuPVtdLGk9MTtpPGFyZ3VtZW50cy5sZW5ndGg7aSsrKW5baS0xXT1hcmd1bWVudHNbaV07cmV0dXJuIG5ldygocj1OLmluc3RhbmNlLmdldFZpc2l0Rm4oZSkoKSkuYmluZC5hcHBseShyLHQuX19zcHJlYWQoW3ZvaWQgMCxlXSxuKSkpfSxTLlZlY3Rvci5mcm9tPWZ1bmN0aW9uKGUpe3ZhciByPXRoaXMsbj10Ll9fYXNzaWduKHtudWxsVmFsdWVzOltudWxsLHZvaWQgMF19LGUpLGk9bi52YWx1ZXMsbz12b2lkIDA9PT1pP1tdOmksYT10Ll9fcmVzdChuLFsidmFsdWVzIl0pO2lmKFAuaXNJdGVyYWJsZShvKSl7dmFyIHU9dC5fX3NwcmVhZChNLkJ1aWxkZXIudGhyb3VnaEl0ZXJhYmxlKGEpKG8pKTtyZXR1cm4gMT09PXUubGVuZ3RoP3VbMF06QS5DaHVua2VkLmNvbmNhdCh1KX1yZXR1cm4gcz1bXSx0Ll9fYXdhaXRlcihyLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGUscixuLGksdSxjLGw7cmV0dXJuIHQuX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24oZil7c3dpdGNoKGYubGFiZWwpe2Nhc2UgMDplPU0uQnVpbGRlci50aHJvdWdoQXN5bmNJdGVyYWJsZShhKSxmLmxhYmVsPTE7Y2FzZSAxOmYudHJ5cy5wdXNoKFsxLDYsNywxMl0pLHI9dC5fX2FzeW5jVmFsdWVzKGUobykpLGYubGFiZWw9MjtjYXNlIDI6cmV0dXJuWzQsci5uZXh0KCldO2Nhc2UgMzppZigobj1mLnNlbnQoKSkuZG9uZSlyZXR1cm5bMyw1XTtpPW4udmFsdWUscy5wdXNoKGkpLGYubGFiZWw9NDtjYXNlIDQ6cmV0dXJuWzMsMl07Y2FzZSA1OnJldHVyblszLDEyXTtjYXNlIDY6cmV0dXJuIHU9Zi5zZW50KCksYz17ZXJyb3I6dX0sWzMsMTJdO2Nhc2UgNzpyZXR1cm4gZi50cnlzLnB1c2goWzcsLDEwLDExXSksbiYmIW4uZG9uZSYmKGw9ci5yZXR1cm4pP1s0LGwuY2FsbChyKV06WzMsOV07Y2FzZSA4OmYuc2VudCgpLGYubGFiZWw9OTtjYXNlIDk6cmV0dXJuWzMsMTFdO2Nhc2UgMTA6aWYoYyl0aHJvdyBjLmVycm9yO3JldHVybls3XTtjYXNlIDExOnJldHVybls3XTtjYXNlIDEyOnJldHVyblsyLDE9PT1zLmxlbmd0aD9zWzBdOkEuQ2h1bmtlZC5jb25jYXQocyldfX0pKX0pKTt2YXIgc30sZS52ZWN0b3JGcm9tVmFsdWVzV2l0aFR5cGU9ZnVuY3Rpb24oZSxyKXtpZihQLmlzSXRlcmFibGUocikpcmV0dXJuIFMuVmVjdG9yLmZyb20oe251bGxWYWx1ZXM6W251bGwsdm9pZCAwXSx0eXBlOmUoKSx2YWx1ZXM6cn0pO2lmKFAuaXNBc3luY0l0ZXJhYmxlKHIpKXJldHVybiBTLlZlY3Rvci5mcm9tKHtudWxsVmFsdWVzOltudWxsLHZvaWQgMF0sdHlwZTplKCksdmFsdWVzOnJ9KTt2YXIgbj10Ll9fYXNzaWduKHt9LHIpLGk9bi52YWx1ZXMsbz12b2lkIDA9PT1pP1tdOmksYT1uLnR5cGUsdT12b2lkIDA9PT1hP2UoKTphLHM9bi5udWxsVmFsdWVzLGM9dm9pZCAwPT09cz9bbnVsbCx2b2lkIDBdOnM7cmV0dXJuIFAuaXNJdGVyYWJsZShvKSxTLlZlY3Rvci5mcm9tKHQuX19hc3NpZ24odC5fX2Fzc2lnbih7bnVsbFZhbHVlczpjfSxyKSx7dHlwZTp1fSkpfSxELkJhc2VWZWN0b3IucHJvdG90eXBlLmdldD1mdW5jdGlvbihlKXtyZXR1cm4gRi5pbnN0YW5jZS52aXNpdCh0aGlzLGUpfSxELkJhc2VWZWN0b3IucHJvdG90eXBlLnNldD1mdW5jdGlvbihlLHQpe3JldHVybiBVLmluc3RhbmNlLnZpc2l0KHRoaXMsZSx0KX0sRC5CYXNlVmVjdG9yLnByb3RvdHlwZS5pbmRleE9mPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGouaW5zdGFuY2UudmlzaXQodGhpcyxlLHQpfSxELkJhc2VWZWN0b3IucHJvdG90eXBlLnRvQXJyYXk9ZnVuY3Rpb24oKXtyZXR1cm4geC5pbnN0YW5jZS52aXNpdCh0aGlzKX0sRC5CYXNlVmVjdG9yLnByb3RvdHlwZS5nZXRCeXRlV2lkdGg9ZnVuY3Rpb24oKXtyZXR1cm4gUi5pbnN0YW5jZS52aXNpdCh0aGlzLnR5cGUpfSxELkJhc2VWZWN0b3IucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gTC5pbnN0YW5jZS52aXNpdCh0aGlzKX0sRC5CYXNlVmVjdG9yLnByb3RvdHlwZS5fYmluZERhdGFBY2Nlc3NvcnM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm51bGxCaXRtYXA7ZSYmZS5ieXRlTGVuZ3RoPjAmJih0aGlzLmdldD0odD10aGlzLmdldCxmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5pc1ZhbGlkKGUpP3QuY2FsbCh0aGlzLGUpOm51bGx9KSx0aGlzLnNldD1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxyKXtWLnNldEJvb2wodGhpcy5udWxsQml0bWFwLHRoaXMub2Zmc2V0K3QsIShudWxsPT1yKSkmJmUuY2FsbCh0aGlzLHQscil9fSh0aGlzLnNldCkpO3ZhciB0fSxPYmplY3Qua2V5cyhPLlR5cGUpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIE8uVHlwZVtlXX0pKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiJudW1iZXIiPT10eXBlb2YgZX0pKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlIT09Ty5UeXBlLk5PTkV9KSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQscj1OLmluc3RhbmNlLnZpc2l0KGUpO3IucHJvdG90eXBlLmdldD13LnBhcnRpYWwxKEYuaW5zdGFuY2UuZ2V0VmlzaXRGbihlKSksci5wcm90b3R5cGUuc2V0PXcucGFydGlhbDIoVS5pbnN0YW5jZS5nZXRWaXNpdEZuKGUpKSxyLnByb3RvdHlwZS5pbmRleE9mPXcucGFydGlhbDIoai5pbnN0YW5jZS5nZXRWaXNpdEZuKGUpKSxyLnByb3RvdHlwZS50b0FycmF5PXcucGFydGlhbDAoeC5pbnN0YW5jZS5nZXRWaXNpdEZuKGUpKSxyLnByb3RvdHlwZS5nZXRCeXRlV2lkdGg9KHQ9Ui5pbnN0YW5jZS5nZXRWaXNpdEZuKGUpLGZ1bmN0aW9uKCl7cmV0dXJuIHQodGhpcy50eXBlKX0pLHIucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl09dy5wYXJ0aWFsMChMLmluc3RhbmNlLmdldFZpc2l0Rm4oZSkpfSkpfShNYyksT2JqZWN0LmRlZmluZVByb3BlcnR5KF9hLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxfYS5UYWJsZT12b2lkIDA7dmFyIGhwPUguZXhwb3J0cyxicD1tYSx2cD15byxfcD13dSxtcD12YSxncD1EbixCcD1GZSxUcD1HYSxJcD1RLHdwPUJjLE9wPU1jLFNwPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtmb3IodmFyIHIsbj1bXSxpPTA7aTxhcmd1bWVudHMubGVuZ3RoO2krKyluW2ldPWFyZ3VtZW50c1tpXTt2YXIgbz10aGlzLGE9bnVsbDtuWzBdaW5zdGFuY2VvZiBncC5TY2hlbWEmJihhPW5bMF0pO3ZhciB1PW5bMF1pbnN0YW5jZW9mIHQ/blswXS5jaHVua3M6VHAuc2VsZWN0QXJncyhtcC5SZWNvcmRCYXRjaCxuKTtpZighYSYmIShhPW51bGw9PT0ocj11WzBdKXx8dm9pZCAwPT09cj92b2lkIDA6ci5zY2hlbWEpKXRocm93IG5ldyBUeXBlRXJyb3IoIlRhYmxlIG11c3QgYmUgaW5pdGlhbGl6ZWQgd2l0aCBhIFNjaGVtYSBvciBhdCBsZWFzdCBvbmUgUmVjb3JkQmF0Y2giKTtyZXR1cm4gdVswXXx8KHVbMF09bmV3IG1wLl9JbnRlcm5hbEVtcHR5UGxhY2Vob2xkZXJSZWNvcmRCYXRjaChhKSksKG89ZS5jYWxsKHRoaXMsbmV3IEJwLlN0cnVjdChhLmZpZWxkcyksdSl8fHRoaXMpLl9zY2hlbWE9YSxvLl9jaHVua3M9dSxvfXJldHVybiBocC5fX2V4dGVuZHModCxlKSx0LmVtcHR5PWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT1uZXcgZ3AuU2NoZW1hKFtdKSksbmV3IHQoZSxbXSl9LHQuZnJvbT1mdW5jdGlvbihlKXt2YXIgcj10aGlzO2lmKCFlKXJldHVybiB0LmVtcHR5KCk7aWYoIm9iamVjdCI9PXR5cGVvZiBlKXt2YXIgbj1JcC5pc0l0ZXJhYmxlKGUudmFsdWVzKT9mdW5jdGlvbihlKXtpZihlLnR5cGUgaW5zdGFuY2VvZiBCcC5TdHJ1Y3QpcmV0dXJuIFNwLmZyb21TdHJ1Y3QoT3AuU3RydWN0VmVjdG9yLmZyb20oZSkpO3JldHVybiBudWxsfShlKTpJcC5pc0FzeW5jSXRlcmFibGUoZS52YWx1ZXMpP2Z1bmN0aW9uKGUpe2lmKGUudHlwZSBpbnN0YW5jZW9mIEJwLlN0cnVjdClyZXR1cm4gT3AuU3RydWN0VmVjdG9yLmZyb20oZSkudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIFNwLmZyb21TdHJ1Y3QoZSl9KSk7cmV0dXJuIG51bGx9KGUpOm51bGw7aWYobnVsbCE9PW4pcmV0dXJuIG59dmFyIGksbz12cC5SZWNvcmRCYXRjaFJlYWRlci5mcm9tKGUpO3JldHVybiBJcC5pc1Byb21pc2Uobyk/aHAuX19hd2FpdGVyKHIsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgZSxyO3JldHVybiBocC5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbihuKXtzd2l0Y2gobi5sYWJlbCl7Y2FzZSAwOnJldHVybiByPShlPXQpLmZyb20sWzQsb107Y2FzZSAxOnJldHVybls0LHIuYXBwbHkoZSxbbi5zZW50KCldKV07Y2FzZSAyOnJldHVyblsyLG4uc2VudCgpXX19KSl9KSk6by5pc1N5bmMoKSYmKG89by5vcGVuKCkpP28uc2NoZW1hP25ldyB0KG8uc2NoZW1hLGhwLl9fc3ByZWFkKG8pKTp0LmVtcHR5KCk6KGk9by5vcGVuKCksaHAuX19hd2FpdGVyKHIsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgZSxyLG4sbyxhLHUscyxjLGw7cmV0dXJuIGhwLl9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKGYpe3N3aXRjaChmLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsaV07Y2FzZSAxOmlmKGU9Zi5zZW50KCkscj1lLnNjaGVtYSxuPVtdLCFyKXJldHVyblszLDE0XTtmLmxhYmVsPTI7Y2FzZSAyOmYudHJ5cy5wdXNoKFsyLDcsOCwxM10pLG89aHAuX19hc3luY1ZhbHVlcyhlKSxmLmxhYmVsPTM7Y2FzZSAzOnJldHVybls0LG8ubmV4dCgpXTtjYXNlIDQ6aWYoKGE9Zi5zZW50KCkpLmRvbmUpcmV0dXJuWzMsNl07dT1hLnZhbHVlLG4ucHVzaCh1KSxmLmxhYmVsPTU7Y2FzZSA1OnJldHVyblszLDNdO2Nhc2UgNjpyZXR1cm5bMywxM107Y2FzZSA3OnJldHVybiBzPWYuc2VudCgpLGM9e2Vycm9yOnN9LFszLDEzXTtjYXNlIDg6cmV0dXJuIGYudHJ5cy5wdXNoKFs4LCwxMSwxMl0pLGEmJiFhLmRvbmUmJihsPW8ucmV0dXJuKT9bNCxsLmNhbGwobyldOlszLDEwXTtjYXNlIDk6Zi5zZW50KCksZi5sYWJlbD0xMDtjYXNlIDEwOnJldHVyblszLDEyXTtjYXNlIDExOmlmKGMpdGhyb3cgYy5lcnJvcjtyZXR1cm5bN107Y2FzZSAxMjpyZXR1cm5bN107Y2FzZSAxMzpyZXR1cm5bMixuZXcgdChyLG4pXTtjYXNlIDE0OnJldHVyblsyLHQuZW1wdHkoKV19fSkpfSkpKX0sdC5mcm9tQXN5bmM9ZnVuY3Rpb24oZSl7cmV0dXJuIGhwLl9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIGhwLl9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKHIpe3N3aXRjaChyLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdC5mcm9tKGUpXTtjYXNlIDE6cmV0dXJuWzIsci5zZW50KCldfX0pKX0pKX0sdC5mcm9tU3RydWN0PWZ1bmN0aW9uKGUpe3JldHVybiB0Lm5ldyhlLmRhdGEuY2hpbGREYXRhLGUudHlwZS5jaGlsZHJlbil9LHQubmV3PWZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdLHI9MDtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKWVbcl09YXJndW1lbnRzW3JdO3JldHVybiBuZXcodC5iaW5kLmFwcGx5KHQsaHAuX19zcHJlYWQoW3ZvaWQgMF0sd3AuZGlzdHJpYnV0ZUNvbHVtbnNJbnRvUmVjb3JkQmF0Y2hlcyhUcC5zZWxlY3RDb2x1bW5BcmdzKGUpKSkpKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJzY2hlbWEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2NoZW1hfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwibGVuZ3RoIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xlbmd0aH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsImNodW5rcyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaHVua3N9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJudW1Db2xzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX251bUNoaWxkcmVufSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT10aGlzLl9jaHVua3MpLG5ldyB0KHRoaXMuX3NjaGVtYSxlKX0sdC5wcm90b3R5cGUuZ2V0Q29sdW1uPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmdldENvbHVtbkF0KHRoaXMuZ2V0Q29sdW1uSW5kZXgoZSkpfSx0LnByb3RvdHlwZS5nZXRDb2x1bW5BdD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5nZXRDaGlsZEF0KGUpfSx0LnByb3RvdHlwZS5nZXRDb2x1bW5JbmRleD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fc2NoZW1hLmZpZWxkcy5maW5kSW5kZXgoKGZ1bmN0aW9uKHQpe3JldHVybiB0Lm5hbWU9PT1lfSkpfSx0LnByb3RvdHlwZS5nZXRDaGlsZEF0PWZ1bmN0aW9uKGUpe2lmKGU8MHx8ZT49dGhpcy5udW1DaGlsZHJlbilyZXR1cm4gbnVsbDt2YXIgdCxyLG49dGhpcy5fc2NoZW1hLmZpZWxkcyxpPXRoaXMuX2NoaWxkcmVufHwodGhpcy5fY2hpbGRyZW49W10pO2lmKHI9aVtlXSlyZXR1cm4gcjtpZih0PW5bZV0pe3ZhciBvPXRoaXMuX2NodW5rcy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmdldENoaWxkQXQoZSl9KSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9ZX0pKTtpZihvLmxlbmd0aD4wKXJldHVybiBpW2VdPW5ldyBicC5Db2x1bW4odCxvKX1yZXR1cm4gbnVsbH0sdC5wcm90b3R5cGUuc2VyaWFsaXplPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMD09PXQmJih0PSEwKSwodD9fcC5SZWNvcmRCYXRjaFN0cmVhbVdyaXRlcjpfcC5SZWNvcmRCYXRjaEZpbGVXcml0ZXIpLndyaXRlQWxsKHRoaXMpLnRvVWludDhBcnJheSghMCl9LHQucHJvdG90eXBlLmNvdW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xlbmd0aH0sdC5wcm90b3R5cGUuc2VsZWN0PWZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdLHQ9MDt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKWVbdF09YXJndW1lbnRzW3RdO3ZhciByPXRoaXMuX3NjaGVtYS5maWVsZHMucmVkdWNlKChmdW5jdGlvbihlLHQscil7cmV0dXJuIGUuc2V0KHQubmFtZSxyKX0pLG5ldyBNYXApO3JldHVybiB0aGlzLnNlbGVjdEF0LmFwcGx5KHRoaXMsaHAuX19zcHJlYWQoZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiByLmdldChlKX0pKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlPi0xfSkpKSl9LHQucHJvdG90eXBlLnNlbGVjdEF0PWZ1bmN0aW9uKCl7Zm9yKHZhciBlLHI9W10sbj0wO248YXJndW1lbnRzLmxlbmd0aDtuKyspcltuXT1hcmd1bWVudHNbbl07dmFyIGk9KGU9dGhpcy5fc2NoZW1hKS5zZWxlY3RBdC5hcHBseShlLGhwLl9fc3ByZWFkKHIpKTtyZXR1cm4gbmV3IHQoaSx0aGlzLl9jaHVua3MubWFwKChmdW5jdGlvbihlKXt2YXIgdD1lLmxlbmd0aCxuPWUuZGF0YS5jaGlsZERhdGE7cmV0dXJuIG5ldyBtcC5SZWNvcmRCYXRjaChpLHQsci5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBuW2VdfSkpLmZpbHRlcihCb29sZWFuKSl9KSkpfSx0LnByb3RvdHlwZS5hc3NpZ249ZnVuY3Rpb24oZSl7dmFyIHI9dGhpcyxuPXRoaXMuX3NjaGVtYS5maWVsZHMsaT1ocC5fX3JlYWQoZS5zY2hlbWEuZmllbGRzLnJlZHVjZSgoZnVuY3Rpb24oZSx0LHIpe3ZhciBpPWhwLl9fcmVhZChlLDIpLG89aVswXSxhPWlbMV0sdT1uLmZpbmRJbmRleCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUubmFtZT09PXQubmFtZX0pKTtyZXR1cm5+dT9hW3VdPXI6by5wdXNoKHIpLGV9KSxbW10sW11dKSwyKSxvPWlbMF0sYT1pWzFdLHU9dGhpcy5fc2NoZW1hLmFzc2lnbihlLnNjaGVtYSkscz1ocC5fX3NwcmVhZChuLm1hcCgoZnVuY3Rpb24odCxuLGksbyl7cmV0dXJuIHZvaWQgMD09PW8mJihvPWFbbl0pLHZvaWQgMD09PW8/ci5nZXRDb2x1bW5BdChuKTplLmdldENvbHVtbkF0KG8pfSkpLG8ubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gZS5nZXRDb2x1bW5BdCh0KX0pKSkuZmlsdGVyKEJvb2xlYW4pO3JldHVybiBuZXcodC5iaW5kLmFwcGx5KHQsaHAuX19zcHJlYWQoW3ZvaWQgMF0sd3AuZGlzdHJpYnV0ZVZlY3RvcnNJbnRvUmVjb3JkQmF0Y2hlcyh1LHMpKSkpfSx0fShPcC5DaHVua2VkKTtfYS5UYWJsZT1TcCxPYmplY3QuZGVmaW5lUHJvcGVydHkodmEsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHZhLl9JbnRlcm5hbEVtcHR5UGxhY2Vob2xkZXJSZWNvcmRCYXRjaD12YS5SZWNvcmRCYXRjaD12b2lkIDA7dmFyIEFwPUguZXhwb3J0cyxEcD1JZSxWcD1fYSxQcD1fZSxNcD1kaSxGcD1EbixVcD1RLGpwPWdhLHhwPUdhLExwPUZlLFJwPUJjLE5wPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtmb3IodmFyIHQscj1bXSxuPTA7bjxhcmd1bWVudHMubGVuZ3RoO24rKylyW25dPWFyZ3VtZW50c1tuXTt2YXIgaSxvLGE9dGhpcyx1PXJbMF07aWYoclsxXWluc3RhbmNlb2YgRHAuRGF0YSlpPSh0PUFwLl9fcmVhZChyLDMpKVsxXSxvPXRbMl07ZWxzZXt2YXIgcz11LmZpZWxkcyxjPUFwLl9fcmVhZChyLDMpLGw9Y1sxXSxmPWNbMl07aT1EcC5EYXRhLlN0cnVjdChuZXcgTHAuU3RydWN0KHMpLDAsbCwwLG51bGwsZil9cmV0dXJuKGE9ZS5jYWxsKHRoaXMsaSxvKXx8dGhpcykuX3NjaGVtYT11LGF9cmV0dXJuIEFwLl9fZXh0ZW5kcyh0LGUpLHQuZnJvbT1mdW5jdGlvbihlKXtyZXR1cm4gVXAuaXNJdGVyYWJsZShlLnZhbHVlcyksVnAuVGFibGUuZnJvbShlKX0sdC5uZXc9ZnVuY3Rpb24oKXtmb3IodmFyIGU9W10scj0wO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspZVtyXT1hcmd1bWVudHNbcl07dmFyIG49QXAuX19yZWFkKHhwLnNlbGVjdEZpZWxkQXJncyhlKSwyKSxpPW5bMF0sbz1uWzFdLGE9by5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgUHAuVmVjdG9yfSkpO3JldHVybiBuZXcodC5iaW5kLmFwcGx5KHQsQXAuX19zcHJlYWQoW3ZvaWQgMF0sUnAuZW5zdXJlU2FtZUxlbmd0aERhdGEobmV3IEZwLlNjaGVtYShpKSxhLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZGF0YX0pKSkpKSl9LHQucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKGUscil7cmV0dXJuIHZvaWQgMD09PXImJihyPXRoaXMuX2NoaWxkcmVuKSxuZXcgdCh0aGlzLl9zY2hlbWEsZSxyKX0sdC5wcm90b3R5cGUuY29uY2F0PWZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdLHI9MDtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKWVbcl09YXJndW1lbnRzW3JdO3ZhciBuPXRoaXMuX3NjaGVtYSxpPWpwLkNodW5rZWQuZmxhdHRlbi5hcHBseShqcC5DaHVua2VkLEFwLl9fc3ByZWFkKFt0aGlzXSxlKSk7cmV0dXJuIG5ldyBWcC5UYWJsZShuLGkubWFwKChmdW5jdGlvbihlKXt2YXIgcj1lLmRhdGE7cmV0dXJuIG5ldyB0KG4scil9KSkpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsInNjaGVtYSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zY2hlbWF9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJudW1Db2xzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NjaGVtYS5maWVsZHMubGVuZ3RofSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwiZGljdGlvbmFyaWVzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RpY3Rpb25hcmllc3x8KHRoaXMuX2RpY3Rpb25hcmllcz1DcC5jb2xsZWN0KHRoaXMpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5zZWxlY3Q9ZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspZVt0XT1hcmd1bWVudHNbdF07dmFyIHI9dGhpcy5fc2NoZW1hLmZpZWxkcy5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZS5zZXQodC5uYW1lLHIpfSksbmV3IE1hcCk7cmV0dXJuIHRoaXMuc2VsZWN0QXQuYXBwbHkodGhpcyxBcC5fX3NwcmVhZChlLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHIuZ2V0KGUpfSkpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGU+LTF9KSkpKX0sdC5wcm90b3R5cGUuc2VsZWN0QXQ9ZnVuY3Rpb24oKXtmb3IodmFyIGUscj10aGlzLG49W10saT0wO2k8YXJndW1lbnRzLmxlbmd0aDtpKyspbltpXT1hcmd1bWVudHNbaV07dmFyIG89KGU9dGhpcy5fc2NoZW1hKS5zZWxlY3RBdC5hcHBseShlLEFwLl9fc3ByZWFkKG4pKSxhPW4ubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gci5kYXRhLmNoaWxkRGF0YVtlXX0pKS5maWx0ZXIoQm9vbGVhbik7cmV0dXJuIG5ldyB0KG8sdGhpcy5sZW5ndGgsYSl9LHR9KE1jLlN0cnVjdFZlY3Rvcik7dmEuUmVjb3JkQmF0Y2g9TnA7dmFyIEVwPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCl7cmV0dXJuIGUuY2FsbCh0aGlzLHQsMCx0LmZpZWxkcy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBEcC5EYXRhLm5ldyhlLnR5cGUsMCwwLDApfSkpKXx8dGhpc31yZXR1cm4gQXAuX19leHRlbmRzKHQsZSksdH0oTnApO3ZhLl9JbnRlcm5hbEVtcHR5UGxhY2Vob2xkZXJSZWNvcmRCYXRjaD1FcDt2YXIgQ3A9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3ZhciB0PW51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gdC5kaWN0aW9uYXJpZXM9bmV3IE1hcCx0fXJldHVybiBBcC5fX2V4dGVuZHModCxlKSx0LmNvbGxlY3Q9ZnVuY3Rpb24oZSl7cmV0dXJuKG5ldyB0KS52aXNpdChlLmRhdGEsbmV3IExwLlN0cnVjdChlLnNjaGVtYS5maWVsZHMpKS5kaWN0aW9uYXJpZXN9LHQucHJvdG90eXBlLnZpc2l0PWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztyZXR1cm4gTHAuRGF0YVR5cGUuaXNEaWN0aW9uYXJ5KHQpP3RoaXMudmlzaXREaWN0aW9uYXJ5KGUsdCk6KGUuY2hpbGREYXRhLmZvckVhY2goKGZ1bmN0aW9uKGUsbil7cmV0dXJuIHIudmlzaXQoZSx0LmNoaWxkcmVuW25dLnR5cGUpfSkpLHRoaXMpfSx0LnByb3RvdHlwZS52aXNpdERpY3Rpb25hcnk9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLmRpY3Rpb25hcnk7cmV0dXJuIHImJnIubGVuZ3RoPjAmJnRoaXMuZGljdGlvbmFyaWVzLnNldCh0LmlkLHIpLHRoaXN9LHR9KE1wLlZpc2l0b3IpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh5bywiX19lc01vZHVsZSIse3ZhbHVlOiEwfSkseW8uQXN5bmNSZWNvcmRCYXRjaEZpbGVSZWFkZXI9eW8uUmVjb3JkQmF0Y2hGaWxlUmVhZGVyPXlvLkFzeW5jUmVjb3JkQmF0Y2hTdHJlYW1SZWFkZXI9eW8uUmVjb3JkQmF0Y2hTdHJlYW1SZWFkZXI9eW8uUmVjb3JkQmF0Y2hSZWFkZXI9dm9pZCAwO3ZhciB6cD1ILmV4cG9ydHMsa3A9X2UsV3A9Z2UsWXA9aG8sSHA9WSxHcD1VbyxKcD1IbyxacD1xbyxLcD12YSxYcD0kLHFwPU91LFFwPVEsJHA9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXt2YXIgcj1lLmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIHIuX2ltcGw9dCxyfXJldHVybiB6cC5fX2V4dGVuZHModCxlKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsImNsb3NlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbXBsLmNsb3NlZH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsInNjaGVtYSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbXBsLnNjaGVtYX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsImF1dG9EZXN0cm95Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ltcGwuYXV0b0Rlc3Ryb3l9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJkaWN0aW9uYXJpZXMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW1wbC5kaWN0aW9uYXJpZXN9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJudW1EaWN0aW9uYXJpZXMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW1wbC5udW1EaWN0aW9uYXJpZXN9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJudW1SZWNvcmRCYXRjaGVzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ltcGwubnVtUmVjb3JkQmF0Y2hlc30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsImZvb3RlciIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbXBsLmlzRmlsZSgpP3RoaXMuX2ltcGwuZm9vdGVyOm51bGx9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUuaXNTeW5jPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ltcGwuaXNTeW5jKCl9LHQucHJvdG90eXBlLmlzQXN5bmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW1wbC5pc0FzeW5jKCl9LHQucHJvdG90eXBlLmlzRmlsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbXBsLmlzRmlsZSgpfSx0LnByb3RvdHlwZS5pc1N0cmVhbT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbXBsLmlzU3RyZWFtKCl9LHQucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW1wbC5uZXh0KCl9LHQucHJvdG90eXBlLnRocm93PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9pbXBsLnRocm93KGUpfSx0LnByb3RvdHlwZS5yZXR1cm49ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2ltcGwucmV0dXJuKGUpfSx0LnByb3RvdHlwZS5jYW5jZWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW1wbC5jYW5jZWwoKX0sdC5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2ltcGwucmVzZXQoZSksdGhpcy5fRE9NU3RyZWFtPXZvaWQgMCx0aGlzLl9ub2RlU3RyZWFtPXZvaWQgMCx0aGlzfSx0LnByb3RvdHlwZS5vcGVuPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj10aGlzLl9pbXBsLm9wZW4oZSk7cmV0dXJuIFFwLmlzUHJvbWlzZShyKT9yLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIHR9KSk6dGhpc30sdC5wcm90b3R5cGUucmVhZFJlY29yZEJhdGNoPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9pbXBsLmlzRmlsZSgpP3RoaXMuX2ltcGwucmVhZFJlY29yZEJhdGNoKGUpOm51bGx9LHQucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW1wbFtTeW1ib2wuaXRlcmF0b3JdKCl9LHQucHJvdG90eXBlW1N5bWJvbC5hc3luY0l0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbXBsW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpfSx0LnByb3RvdHlwZS50b0RPTVN0cmVhbT1mdW5jdGlvbigpe3ZhciBlLHQscj10aGlzO3JldHVybiBIcC5kZWZhdWx0LnRvRE9NU3RyZWFtKHRoaXMuaXNTeW5jKCk/KChlPXt9KVtTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHJ9LGUpOigodD17fSlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHJ9LHQpKX0sdC5wcm90b3R5cGUudG9Ob2RlU3RyZWFtPWZ1bmN0aW9uKCl7dmFyIGUsdCxyPXRoaXM7cmV0dXJuIEhwLmRlZmF1bHQudG9Ob2RlU3RyZWFtKHRoaXMuaXNTeW5jKCk/KChlPXt9KVtTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHJ9LGUpOigodD17fSlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHJ9LHQpLHtvYmplY3RNb2RlOiEwfSl9LHQudGhyb3VnaE5vZGU9ZnVuY3Rpb24oZSl7dGhyb3cgbmV3IEVycm9yKCcidGhyb3VnaE5vZGUiIG5vdCBhdmFpbGFibGUgaW4gdGhpcyBlbnZpcm9ubWVudCcpfSx0LnRocm91Z2hET009ZnVuY3Rpb24oZSx0KXt0aHJvdyBuZXcgRXJyb3IoJyJ0aHJvdWdoRE9NIiBub3QgYXZhaWxhYmxlIGluIHRoaXMgZW52aXJvbm1lbnQnKX0sdC5mcm9tPWZ1bmN0aW9uKGUpe3ZhciByPXRoaXM7cmV0dXJuIGUgaW5zdGFuY2VvZiB0P2U6UXAuaXNBcnJvd0pTT04oZSk/ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBleShuZXcgY3koZSkpfShlKTpRcC5pc0ZpbGVIYW5kbGUoZSk/ZnVuY3Rpb24oZSl7cmV0dXJuIHpwLl9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHQscixuO3JldHVybiB6cC5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbihpKXtzd2l0Y2goaS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LGUuc3RhdCgpXTtjYXNlIDE6cmV0dXJuIHQ9aS5zZW50KCkuc2l6ZSxyPW5ldyBKcC5Bc3luY1JhbmRvbUFjY2Vzc0ZpbGUoZSx0KSx0Pj1xcC5tYWdpY1gyQW5kUGFkZGluZz8obj1xcC5jaGVja0Zvck1hZ2ljQXJyb3dTdHJpbmcsWzQsci5yZWFkQXQoMCxxcC5tYWdpY0xlbmd0aCs3Ji04KV0pOlszLDNdO2Nhc2UgMjppZihuLmFwcGx5KHZvaWQgMCxbaS5zZW50KCldKSlyZXR1cm5bMixuZXcgbnkobmV3IHN5KHIpKV07aS5sYWJlbD0zO2Nhc2UgMzpyZXR1cm5bMixuZXcgdHkobmV3IGF5KHIpKV19fSkpfSkpfShlKTpRcC5pc1Byb21pc2UoZSk/enAuX19hd2FpdGVyKHIsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgcixuO3JldHVybiB6cC5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbihpKXtzd2l0Y2goaS5sYWJlbCl7Y2FzZSAwOnJldHVybiBuPShyPXQpLmZyb20sWzQsZV07Y2FzZSAxOnJldHVybls0LG4uYXBwbHkocixbaS5zZW50KCldKV07Y2FzZSAyOnJldHVyblsyLGkuc2VudCgpXX19KSl9KSk6UXAuaXNGZXRjaFJlc3BvbnNlKGUpfHxRcC5pc1JlYWRhYmxlRE9NU3RyZWFtKGUpfHxRcC5pc1JlYWRhYmxlTm9kZVN0cmVhbShlKXx8UXAuaXNBc3luY0l0ZXJhYmxlKGUpP2Z1bmN0aW9uKGUpe3JldHVybiB6cC5fX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciB0LHIsbixpLG87cmV0dXJuIHpwLl9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKGEpe3N3aXRjaChhLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsZS5wZWVrKHFwLm1hZ2ljTGVuZ3RoKzcmLTgpXTtjYXNlIDE6cmV0dXJuKHQ9YS5zZW50KCkpJiZ0LmJ5dGVMZW5ndGg+PTQ/cXAuY2hlY2tGb3JNYWdpY0Fycm93U3RyaW5nKHQpP1szLDJdOihuPW5ldyB0eShuZXcgYXkoZSkpLFszLDRdKTpbMyw1XTtjYXNlIDI6cmV0dXJuIGk9cnkuYmluZCxvPXV5LmJpbmQsWzQsZS5yZWFkKCldO2Nhc2UgMzpuPW5ldyhpLmFwcGx5KHJ5LFt2b2lkIDAsbmV3KG8uYXBwbHkodXksW3ZvaWQgMCxhLnNlbnQoKV0pKV0pKSxhLmxhYmVsPTQ7Y2FzZSA0OnJldHVybiByPW4sWzMsNl07Y2FzZSA1OnI9bmV3IHR5KG5ldyBheShmdW5jdGlvbigpe3JldHVybiB6cC5fX2FzeW5jR2VuZXJhdG9yKHRoaXMsYXJndW1lbnRzLChmdW5jdGlvbigpe3JldHVybiB6cC5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbihlKXtyZXR1cm5bMl19KSl9KSl9KCkpKSxhLmxhYmVsPTY7Y2FzZSA2OnJldHVyblsyLHJdfX0pKX0pKX0obmV3IEdwLkFzeW5jQnl0ZVN0cmVhbShlKSk6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wZWVrKHFwLm1hZ2ljTGVuZ3RoKzcmLTgpO3JldHVybiB0JiZ0LmJ5dGVMZW5ndGg+PTQ/cXAuY2hlY2tGb3JNYWdpY0Fycm93U3RyaW5nKHQpP25ldyByeShuZXcgdXkoZS5yZWFkKCkpKTpuZXcgZXkobmV3IG95KGUpKTpuZXcgZXkobmV3IG95KGZ1bmN0aW9uKCl7cmV0dXJuIHpwLl9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKGUpe3JldHVyblsyXX0pKX0oKSkpfShuZXcgR3AuQnl0ZVN0cmVhbShlKSl9LHQucmVhZEFsbD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIHQ/ZS5pc1N5bmMoKT9meShlKTpkeShlKTpRcC5pc0Fycm93SlNPTihlKXx8QXJyYXlCdWZmZXIuaXNWaWV3KGUpfHxRcC5pc0l0ZXJhYmxlKGUpfHxRcC5pc0l0ZXJhdG9yUmVzdWx0KGUpP2Z5KGUpOmR5KGUpfSx0fShYcC5SZWFkYWJsZUludGVyb3ApO3lvLlJlY29yZEJhdGNoUmVhZGVyPSRwO3ZhciBleT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe3ZhciByPWUuY2FsbCh0aGlzLHQpfHx0aGlzO3JldHVybiByLl9pbXBsPXQscn1yZXR1cm4genAuX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbXBsW1N5bWJvbC5pdGVyYXRvcl0oKX0sdC5wcm90b3R5cGVbU3ltYm9sLmFzeW5jSXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHpwLl9fYXN5bmNHZW5lcmF0b3IodGhpcyxhcmd1bWVudHMsKGZ1bmN0aW9uKCl7cmV0dXJuIHpwLl9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKGUpe3N3aXRjaChlLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzUsenAuX192YWx1ZXMoenAuX19hc3luY0RlbGVnYXRvcih6cC5fX2FzeW5jVmFsdWVzKHRoaXNbU3ltYm9sLml0ZXJhdG9yXSgpKSkpXTtjYXNlIDE6cmV0dXJuWzQsenAuX19hd2FpdC5hcHBseSh2b2lkIDAsW2Uuc2VudCgpXSldO2Nhc2UgMjpyZXR1cm4gZS5zZW50KCksWzJdfX0pKX0pKX0sdH0oJHApO3lvLlJlY29yZEJhdGNoU3RyZWFtUmVhZGVyPWV5O3ZhciB0eT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe3ZhciByPWUuY2FsbCh0aGlzLHQpfHx0aGlzO3JldHVybiByLl9pbXBsPXQscn1yZXR1cm4genAuX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcigiQXN5bmNSZWNvcmRCYXRjaFN0cmVhbVJlYWRlciBpcyBub3QgSXRlcmFibGUiKX0sdC5wcm90b3R5cGVbU3ltYm9sLmFzeW5jSXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ltcGxbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCl9LHR9KCRwKTt5by5Bc3luY1JlY29yZEJhdGNoU3RyZWFtUmVhZGVyPXR5O3ZhciByeT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe3ZhciByPWUuY2FsbCh0aGlzLHQpfHx0aGlzO3JldHVybiByLl9pbXBsPXQscn1yZXR1cm4genAuX19leHRlbmRzKHQsZSksdH0oZXkpO3lvLlJlY29yZEJhdGNoRmlsZVJlYWRlcj1yeTt2YXIgbnk9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXt2YXIgcj1lLmNhbGwodGhpcyx0KXx8dGhpcztyZXR1cm4gci5faW1wbD10LHJ9cmV0dXJuIHpwLl9fZXh0ZW5kcyh0LGUpLHR9KHR5KTt5by5Bc3luY1JlY29yZEJhdGNoRmlsZVJlYWRlcj1ueTt2YXIgaXk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3ZvaWQgMD09PWUmJihlPW5ldyBNYXApLHRoaXMuY2xvc2VkPSExLHRoaXMuYXV0b0Rlc3Ryb3k9ITAsdGhpcy5fZGljdGlvbmFyeUluZGV4PTAsdGhpcy5fcmVjb3JkQmF0Y2hJbmRleD0wLHRoaXMuZGljdGlvbmFyaWVzPWV9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwibnVtRGljdGlvbmFyaWVzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RpY3Rpb25hcnlJbmRleH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIm51bVJlY29yZEJhdGNoZXMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVjb3JkQmF0Y2hJbmRleH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5pc1N5bmM9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sZS5wcm90b3R5cGUuaXNBc3luYz1mdW5jdGlvbigpe3JldHVybiExfSxlLnByb3RvdHlwZS5pc0ZpbGU9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sZS5wcm90b3R5cGUuaXNTdHJlYW09ZnVuY3Rpb24oKXtyZXR1cm4hMX0sZS5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2RpY3Rpb25hcnlJbmRleD0wLHRoaXMuX3JlY29yZEJhdGNoSW5kZXg9MCx0aGlzLnNjaGVtYT1lLHRoaXMuZGljdGlvbmFyaWVzPW5ldyBNYXAsdGhpc30sZS5wcm90b3R5cGUuX2xvYWRSZWNvcmRCYXRjaD1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcgS3AuUmVjb3JkQmF0Y2godGhpcy5zY2hlbWEsZS5sZW5ndGgsdGhpcy5fbG9hZFZlY3RvcnMoZSx0LHRoaXMuc2NoZW1hLmZpZWxkcykpfSxlLnByb3RvdHlwZS5fbG9hZERpY3Rpb25hcnlCYXRjaD1mdW5jdGlvbihlLHQpe3ZhciByPWUuaWQsbj1lLmlzRGVsdGEsaT1lLmRhdGEsbz10aGlzLmRpY3Rpb25hcmllcyxhPXRoaXMuc2NoZW1hLHU9by5nZXQocik7aWYobnx8IXUpe3ZhciBzPWEuZGljdGlvbmFyaWVzLmdldChyKTtyZXR1cm4gdSYmbj91LmNvbmNhdChrcC5WZWN0b3IubmV3KHRoaXMuX2xvYWRWZWN0b3JzKGksdCxbc10pWzBdKSk6a3AuVmVjdG9yLm5ldyh0aGlzLl9sb2FkVmVjdG9ycyhpLHQsW3NdKVswXSl9cmV0dXJuIHV9LGUucHJvdG90eXBlLl9sb2FkVmVjdG9ycz1mdW5jdGlvbihlLHQscil7cmV0dXJuIG5ldyBacC5WZWN0b3JMb2FkZXIodCxlLm5vZGVzLGUuYnVmZmVycyx0aGlzLmRpY3Rpb25hcmllcykudmlzaXRNYW55KHIpfSxlfSgpLG95PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxyKXt2YXIgbj1lLmNhbGwodGhpcyxyKXx8dGhpcztyZXR1cm4gbi5fcmVhZGVyPVFwLmlzQXJyb3dKU09OKHQpP25ldyBxcC5KU09OTWVzc2FnZVJlYWRlcihuLl9oYW5kbGU9dCk6bmV3IHFwLk1lc3NhZ2VSZWFkZXIobi5faGFuZGxlPXQpLG59cmV0dXJuIHpwLl9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLmlzU3luYz1mdW5jdGlvbigpe3JldHVybiEwfSx0LnByb3RvdHlwZS5pc1N0cmVhbT1mdW5jdGlvbigpe3JldHVybiEwfSx0LnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LHQucHJvdG90eXBlLmNhbmNlbD1mdW5jdGlvbigpeyF0aGlzLmNsb3NlZCYmKHRoaXMuY2xvc2VkPSEwKSYmKHRoaXMucmVzZXQoKS5fcmVhZGVyLnJldHVybigpLHRoaXMuX3JlYWRlcj1udWxsLHRoaXMuZGljdGlvbmFyaWVzPW51bGwpfSx0LnByb3RvdHlwZS5vcGVuPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmNsb3NlZHx8KHRoaXMuYXV0b0Rlc3Ryb3k9bHkodGhpcyxlKSx0aGlzLnNjaGVtYXx8KHRoaXMuc2NoZW1hPXRoaXMuX3JlYWRlci5yZWFkU2NoZW1hKCkpfHx0aGlzLmNhbmNlbCgpKSx0aGlzfSx0LnByb3RvdHlwZS50aHJvdz1mdW5jdGlvbihlKXtyZXR1cm4hdGhpcy5jbG9zZWQmJnRoaXMuYXV0b0Rlc3Ryb3kmJih0aGlzLmNsb3NlZD0hMCk/dGhpcy5yZXNldCgpLl9yZWFkZXIudGhyb3coZSk6WHAuSVRFUkFUT1JfRE9ORX0sdC5wcm90b3R5cGUucmV0dXJuPWZ1bmN0aW9uKGUpe3JldHVybiF0aGlzLmNsb3NlZCYmdGhpcy5hdXRvRGVzdHJveSYmKHRoaXMuY2xvc2VkPSEwKT90aGlzLnJlc2V0KCkuX3JlYWRlci5yZXR1cm4oZSk6WHAuSVRFUkFUT1JfRE9ORX0sdC5wcm90b3R5cGUubmV4dD1mdW5jdGlvbigpe2lmKHRoaXMuY2xvc2VkKXJldHVybiBYcC5JVEVSQVRPUl9ET05FO2Zvcih2YXIgZSx0PXRoaXMuX3JlYWRlcjtlPXRoaXMuX3JlYWROZXh0TWVzc2FnZUFuZFZhbGlkYXRlKCk7KWlmKGUuaXNTY2hlbWEoKSl0aGlzLnJlc2V0KGUuaGVhZGVyKCkpO2Vsc2V7aWYoZS5pc1JlY29yZEJhdGNoKCkpe3RoaXMuX3JlY29yZEJhdGNoSW5kZXgrKzt2YXIgcj1lLmhlYWRlcigpLG49dC5yZWFkTWVzc2FnZUJvZHkoZS5ib2R5TGVuZ3RoKTtyZXR1cm57ZG9uZTohMSx2YWx1ZTp0aGlzLl9sb2FkUmVjb3JkQmF0Y2gocixuKX19aWYoZS5pc0RpY3Rpb25hcnlCYXRjaCgpKXt0aGlzLl9kaWN0aW9uYXJ5SW5kZXgrKztyPWUuaGVhZGVyKCksbj10LnJlYWRNZXNzYWdlQm9keShlLmJvZHlMZW5ndGgpO3ZhciBpPXRoaXMuX2xvYWREaWN0aW9uYXJ5QmF0Y2gocixuKTt0aGlzLmRpY3Rpb25hcmllcy5zZXQoci5pZCxpKX19cmV0dXJuIHRoaXMuc2NoZW1hJiYwPT09dGhpcy5fcmVjb3JkQmF0Y2hJbmRleD8odGhpcy5fcmVjb3JkQmF0Y2hJbmRleCsrLHtkb25lOiExLHZhbHVlOm5ldyBLcC5fSW50ZXJuYWxFbXB0eVBsYWNlaG9sZGVyUmVjb3JkQmF0Y2godGhpcy5zY2hlbWEpfSk6dGhpcy5yZXR1cm4oKX0sdC5wcm90b3R5cGUuX3JlYWROZXh0TWVzc2FnZUFuZFZhbGlkYXRlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9yZWFkZXIucmVhZE1lc3NhZ2UoZSl9LHR9KGl5KSxheT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQscil7dmFyIG49ZS5jYWxsKHRoaXMscil8fHRoaXM7cmV0dXJuIG4uX3JlYWRlcj1uZXcgcXAuQXN5bmNNZXNzYWdlUmVhZGVyKG4uX2hhbmRsZT10KSxufXJldHVybiB6cC5fX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS5pc0FzeW5jPWZ1bmN0aW9uKCl7cmV0dXJuITB9LHQucHJvdG90eXBlLmlzU3RyZWFtPWZ1bmN0aW9uKCl7cmV0dXJuITB9LHQucHJvdG90eXBlW1N5bWJvbC5hc3luY0l0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSx0LnByb3RvdHlwZS5jYW5jZWw9ZnVuY3Rpb24oKXtyZXR1cm4genAuX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4genAuX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24oZSl7c3dpdGNoKGUubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdGhpcy5jbG9zZWR8fCEodGhpcy5jbG9zZWQ9ITApP1szLDJdOls0LHRoaXMucmVzZXQoKS5fcmVhZGVyLnJldHVybigpXTtjYXNlIDE6ZS5zZW50KCksdGhpcy5fcmVhZGVyPW51bGwsdGhpcy5kaWN0aW9uYXJpZXM9bnVsbCxlLmxhYmVsPTI7Y2FzZSAyOnJldHVyblsyXX19KSl9KSl9LHQucHJvdG90eXBlLm9wZW49ZnVuY3Rpb24oZSl7cmV0dXJuIHpwLl9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHQscjtyZXR1cm4genAuX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24obil7c3dpdGNoKG4ubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdGhpcy5jbG9zZWQ/WzMsNF06KHRoaXMuYXV0b0Rlc3Ryb3k9bHkodGhpcyxlKSwodD10aGlzLnNjaGVtYSk/WzMsMl06KHI9dGhpcyxbNCx0aGlzLl9yZWFkZXIucmVhZFNjaGVtYSgpXSkpO2Nhc2UgMTp0PXIuc2NoZW1hPW4uc2VudCgpLG4ubGFiZWw9MjtjYXNlIDI6cmV0dXJuIHQ/WzMsNF06WzQsdGhpcy5jYW5jZWwoKV07Y2FzZSAzOm4uc2VudCgpLG4ubGFiZWw9NDtjYXNlIDQ6cmV0dXJuWzIsdGhpc119fSkpfSkpfSx0LnByb3RvdHlwZS50aHJvdz1mdW5jdGlvbihlKXtyZXR1cm4genAuX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4genAuX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4hdGhpcy5jbG9zZWQmJnRoaXMuYXV0b0Rlc3Ryb3kmJih0aGlzLmNsb3NlZD0hMCk/WzQsdGhpcy5yZXNldCgpLl9yZWFkZXIudGhyb3coZSldOlszLDJdO2Nhc2UgMTpyZXR1cm5bMix0LnNlbnQoKV07Y2FzZSAyOnJldHVyblsyLFhwLklURVJBVE9SX0RPTkVdfX0pKX0pKX0sdC5wcm90b3R5cGUucmV0dXJuPWZ1bmN0aW9uKGUpe3JldHVybiB6cC5fX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiB6cC5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybiF0aGlzLmNsb3NlZCYmdGhpcy5hdXRvRGVzdHJveSYmKHRoaXMuY2xvc2VkPSEwKT9bNCx0aGlzLnJlc2V0KCkuX3JlYWRlci5yZXR1cm4oZSldOlszLDJdO2Nhc2UgMTpyZXR1cm5bMix0LnNlbnQoKV07Y2FzZSAyOnJldHVyblsyLFhwLklURVJBVE9SX0RPTkVdfX0pKX0pKX0sdC5wcm90b3R5cGUubmV4dD1mdW5jdGlvbigpe3JldHVybiB6cC5fX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBlLHQscixuLGk7cmV0dXJuIHpwLl9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKG8pe3N3aXRjaChvLmxhYmVsKXtjYXNlIDA6aWYodGhpcy5jbG9zZWQpcmV0dXJuWzIsWHAuSVRFUkFUT1JfRE9ORV07dD10aGlzLl9yZWFkZXIsby5sYWJlbD0xO2Nhc2UgMTpyZXR1cm5bNCx0aGlzLl9yZWFkTmV4dE1lc3NhZ2VBbmRWYWxpZGF0ZSgpXTtjYXNlIDI6cmV0dXJuKGU9by5zZW50KCkpP2UuaXNTY2hlbWEoKT9bNCx0aGlzLnJlc2V0KGUuaGVhZGVyKCkpXTpbMyw0XTpbMyw5XTtjYXNlIDM6cmV0dXJuIG8uc2VudCgpLFszLDhdO2Nhc2UgNDpyZXR1cm4gZS5pc1JlY29yZEJhdGNoKCk/KHRoaXMuX3JlY29yZEJhdGNoSW5kZXgrKyxyPWUuaGVhZGVyKCksWzQsdC5yZWFkTWVzc2FnZUJvZHkoZS5ib2R5TGVuZ3RoKV0pOlszLDZdO2Nhc2UgNTpyZXR1cm4gbj1vLnNlbnQoKSxbMix7ZG9uZTohMSx2YWx1ZTp0aGlzLl9sb2FkUmVjb3JkQmF0Y2gocixuKX1dO2Nhc2UgNjpyZXR1cm4gZS5pc0RpY3Rpb25hcnlCYXRjaCgpPyh0aGlzLl9kaWN0aW9uYXJ5SW5kZXgrKyxyPWUuaGVhZGVyKCksWzQsdC5yZWFkTWVzc2FnZUJvZHkoZS5ib2R5TGVuZ3RoKV0pOlszLDhdO2Nhc2UgNzpuPW8uc2VudCgpLGk9dGhpcy5fbG9hZERpY3Rpb25hcnlCYXRjaChyLG4pLHRoaXMuZGljdGlvbmFyaWVzLnNldChyLmlkLGkpLG8ubGFiZWw9ODtjYXNlIDg6cmV0dXJuWzMsMV07Y2FzZSA5OnJldHVybiB0aGlzLnNjaGVtYSYmMD09PXRoaXMuX3JlY29yZEJhdGNoSW5kZXg/KHRoaXMuX3JlY29yZEJhdGNoSW5kZXgrKyxbMix7ZG9uZTohMSx2YWx1ZTpuZXcgS3AuX0ludGVybmFsRW1wdHlQbGFjZWhvbGRlclJlY29yZEJhdGNoKHRoaXMuc2NoZW1hKX1dKTpbNCx0aGlzLnJldHVybigpXTtjYXNlIDEwOnJldHVyblsyLG8uc2VudCgpXX19KSl9KSl9LHQucHJvdG90eXBlLl9yZWFkTmV4dE1lc3NhZ2VBbmRWYWxpZGF0ZT1mdW5jdGlvbihlKXtyZXR1cm4genAuX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4genAuX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLl9yZWFkZXIucmVhZE1lc3NhZ2UoZSldO2Nhc2UgMTpyZXR1cm5bMix0LnNlbnQoKV19fSkpfSkpfSx0fShpeSksdXk9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LHIpe3JldHVybiBlLmNhbGwodGhpcyx0IGluc3RhbmNlb2YgSnAuUmFuZG9tQWNjZXNzRmlsZT90Om5ldyBKcC5SYW5kb21BY2Nlc3NGaWxlKHQpLHIpfHx0aGlzfXJldHVybiB6cC5fX2V4dGVuZHModCxlKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsImZvb3RlciIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9mb290ZXJ9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJudW1EaWN0aW9uYXJpZXMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZm9vdGVyP3RoaXMuX2Zvb3Rlci5udW1EaWN0aW9uYXJpZXM6MH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsIm51bVJlY29yZEJhdGNoZXMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZm9vdGVyP3RoaXMuX2Zvb3Rlci5udW1SZWNvcmRCYXRjaGVzOjB9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUuaXNTeW5jPWZ1bmN0aW9uKCl7cmV0dXJuITB9LHQucHJvdG90eXBlLmlzRmlsZT1mdW5jdGlvbigpe3JldHVybiEwfSx0LnByb3RvdHlwZS5vcGVuPWZ1bmN0aW9uKHQpe3ZhciByLG47aWYoIXRoaXMuY2xvc2VkJiYhdGhpcy5fZm9vdGVyKXt0aGlzLnNjaGVtYT0odGhpcy5fZm9vdGVyPXRoaXMuX3JlYWRGb290ZXIoKSkuc2NoZW1hO3RyeXtmb3IodmFyIGk9enAuX192YWx1ZXModGhpcy5fZm9vdGVyLmRpY3Rpb25hcnlCYXRjaGVzKCkpLG89aS5uZXh0KCk7IW8uZG9uZTtvPWkubmV4dCgpKXtvLnZhbHVlJiZ0aGlzLl9yZWFkRGljdGlvbmFyeUJhdGNoKHRoaXMuX2RpY3Rpb25hcnlJbmRleCsrKX19Y2F0Y2goYSl7cj17ZXJyb3I6YX19ZmluYWxseXt0cnl7byYmIW8uZG9uZSYmKG49aS5yZXR1cm4pJiZuLmNhbGwoaSl9ZmluYWxseXtpZihyKXRocm93IHIuZXJyb3J9fX1yZXR1cm4gZS5wcm90b3R5cGUub3Blbi5jYWxsKHRoaXMsdCl9LHQucHJvdG90eXBlLnJlYWRSZWNvcmRCYXRjaD1mdW5jdGlvbihlKXtpZih0aGlzLmNsb3NlZClyZXR1cm4gbnVsbDt0aGlzLl9mb290ZXJ8fHRoaXMub3BlbigpO3ZhciB0PXRoaXMuX2Zvb3RlciYmdGhpcy5fZm9vdGVyLmdldFJlY29yZEJhdGNoKGUpO2lmKHQmJnRoaXMuX2hhbmRsZS5zZWVrKHQub2Zmc2V0KSl7dmFyIHI9dGhpcy5fcmVhZGVyLnJlYWRNZXNzYWdlKFdwLk1lc3NhZ2VIZWFkZXIuUmVjb3JkQmF0Y2gpO2lmKG51bGw9PXI/dm9pZCAwOnIuaXNSZWNvcmRCYXRjaCgpKXt2YXIgbj1yLmhlYWRlcigpLGk9dGhpcy5fcmVhZGVyLnJlYWRNZXNzYWdlQm9keShyLmJvZHlMZW5ndGgpO3JldHVybiB0aGlzLl9sb2FkUmVjb3JkQmF0Y2gobixpKX19cmV0dXJuIG51bGx9LHQucHJvdG90eXBlLl9yZWFkRGljdGlvbmFyeUJhdGNoPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2Zvb3RlciYmdGhpcy5fZm9vdGVyLmdldERpY3Rpb25hcnlCYXRjaChlKTtpZih0JiZ0aGlzLl9oYW5kbGUuc2Vlayh0Lm9mZnNldCkpe3ZhciByPXRoaXMuX3JlYWRlci5yZWFkTWVzc2FnZShXcC5NZXNzYWdlSGVhZGVyLkRpY3Rpb25hcnlCYXRjaCk7aWYobnVsbD09cj92b2lkIDA6ci5pc0RpY3Rpb25hcnlCYXRjaCgpKXt2YXIgbj1yLmhlYWRlcigpLGk9dGhpcy5fcmVhZGVyLnJlYWRNZXNzYWdlQm9keShyLmJvZHlMZW5ndGgpLG89dGhpcy5fbG9hZERpY3Rpb25hcnlCYXRjaChuLGkpO3RoaXMuZGljdGlvbmFyaWVzLnNldChuLmlkLG8pfX19LHQucHJvdG90eXBlLl9yZWFkRm9vdGVyPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5faGFuZGxlLHQ9ZS5zaXplLXFwLm1hZ2ljQW5kUGFkZGluZyxyPWUucmVhZEludDMyKHQpLG49ZS5yZWFkQXQodC1yLHIpO3JldHVybiBZcC5Gb290ZXIuZGVjb2RlKG4pfSx0LnByb3RvdHlwZS5fcmVhZE5leHRNZXNzYWdlQW5kVmFsaWRhdGU9ZnVuY3Rpb24oZSl7aWYodGhpcy5fZm9vdGVyfHx0aGlzLm9wZW4oKSx0aGlzLl9mb290ZXImJnRoaXMuX3JlY29yZEJhdGNoSW5kZXg8dGhpcy5udW1SZWNvcmRCYXRjaGVzKXt2YXIgdD10aGlzLl9mb290ZXImJnRoaXMuX2Zvb3Rlci5nZXRSZWNvcmRCYXRjaCh0aGlzLl9yZWNvcmRCYXRjaEluZGV4KTtpZih0JiZ0aGlzLl9oYW5kbGUuc2Vlayh0Lm9mZnNldCkpcmV0dXJuIHRoaXMuX3JlYWRlci5yZWFkTWVzc2FnZShlKX1yZXR1cm4gbnVsbH0sdH0ob3kpLHN5PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCl7Zm9yKHZhciByPVtdLG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXJbbi0xXT1hcmd1bWVudHNbbl07dmFyIGk9Im51bWJlciIhPXR5cGVvZiByWzBdP3Iuc2hpZnQoKTp2b2lkIDAsbz1yWzBdaW5zdGFuY2VvZiBNYXA/ci5zaGlmdCgpOnZvaWQgMDtyZXR1cm4gZS5jYWxsKHRoaXMsdCBpbnN0YW5jZW9mIEpwLkFzeW5jUmFuZG9tQWNjZXNzRmlsZT90Om5ldyBKcC5Bc3luY1JhbmRvbUFjY2Vzc0ZpbGUodCxpKSxvKXx8dGhpc31yZXR1cm4genAuX19leHRlbmRzKHQsZSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJmb290ZXIiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZm9vdGVyfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwibnVtRGljdGlvbmFyaWVzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Zvb3Rlcj90aGlzLl9mb290ZXIubnVtRGljdGlvbmFyaWVzOjB9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJudW1SZWNvcmRCYXRjaGVzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Zvb3Rlcj90aGlzLl9mb290ZXIubnVtUmVjb3JkQmF0Y2hlczowfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLmlzRmlsZT1mdW5jdGlvbigpe3JldHVybiEwfSx0LnByb3RvdHlwZS5pc0FzeW5jPWZ1bmN0aW9uKCl7cmV0dXJuITB9LHQucHJvdG90eXBlLm9wZW49ZnVuY3Rpb24odCl7cmV0dXJuIHpwLl9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHIsbixpLG8sYSx1LHMsYztyZXR1cm4genAuX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24obCl7c3dpdGNoKGwubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdGhpcy5jbG9zZWR8fHRoaXMuX2Zvb3Rlcj9bMywxMF06KHI9dGhpcyxuPXRoaXMsWzQsdGhpcy5fcmVhZEZvb3RlcigpXSk7Y2FzZSAxOnIuc2NoZW1hPShuLl9mb290ZXI9bC5zZW50KCkpLnNjaGVtYSxsLmxhYmVsPTI7Y2FzZSAyOmwudHJ5cy5wdXNoKFsyLDgsOSwxMF0pLGk9enAuX192YWx1ZXModGhpcy5fZm9vdGVyLmRpY3Rpb25hcnlCYXRjaGVzKCkpLG89aS5uZXh0KCksbC5sYWJlbD0zO2Nhc2UgMzpyZXR1cm4gby5kb25lP1szLDddOihhPW8udmFsdWUsYT9bNCx0aGlzLl9yZWFkRGljdGlvbmFyeUJhdGNoKHRoaXMuX2RpY3Rpb25hcnlJbmRleCsrKV06WzMsNV0pO2Nhc2UgNDpsLnNlbnQoKSxsLmxhYmVsPTU7Y2FzZSA1OmwubGFiZWw9NjtjYXNlIDY6cmV0dXJuIG89aS5uZXh0KCksWzMsM107Y2FzZSA3OnJldHVyblszLDEwXTtjYXNlIDg6cmV0dXJuIHU9bC5zZW50KCkscz17ZXJyb3I6dX0sWzMsMTBdO2Nhc2UgOTp0cnl7byYmIW8uZG9uZSYmKGM9aS5yZXR1cm4pJiZjLmNhbGwoaSl9ZmluYWxseXtpZihzKXRocm93IHMuZXJyb3J9cmV0dXJuWzddO2Nhc2UgMTA6cmV0dXJuWzQsZS5wcm90b3R5cGUub3Blbi5jYWxsKHRoaXMsdCldO2Nhc2UgMTE6cmV0dXJuWzIsbC5zZW50KCldfX0pKX0pKX0sdC5wcm90b3R5cGUucmVhZFJlY29yZEJhdGNoPWZ1bmN0aW9uKGUpe3JldHVybiB6cC5fX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciB0LHIsbixpLG87cmV0dXJuIHpwLl9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKGEpe3N3aXRjaChhLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHRoaXMuY2xvc2VkP1syLG51bGxdOnRoaXMuX2Zvb3Rlcj9bMywyXTpbNCx0aGlzLm9wZW4oKV07Y2FzZSAxOmEuc2VudCgpLGEubGFiZWw9MjtjYXNlIDI6cmV0dXJuIHQ9dGhpcy5fZm9vdGVyJiZ0aGlzLl9mb290ZXIuZ2V0UmVjb3JkQmF0Y2goZSksKHI9dCk/WzQsdGhpcy5faGFuZGxlLnNlZWsodC5vZmZzZXQpXTpbMyw0XTtjYXNlIDM6cj1hLnNlbnQoKSxhLmxhYmVsPTQ7Y2FzZSA0OnJldHVybiByP1s0LHRoaXMuX3JlYWRlci5yZWFkTWVzc2FnZShXcC5NZXNzYWdlSGVhZGVyLlJlY29yZEJhdGNoKV06WzMsN107Y2FzZSA1OnJldHVybihudWxsPT0obj1hLnNlbnQoKSk/dm9pZCAwOm4uaXNSZWNvcmRCYXRjaCgpKT8oaT1uLmhlYWRlcigpLFs0LHRoaXMuX3JlYWRlci5yZWFkTWVzc2FnZUJvZHkobi5ib2R5TGVuZ3RoKV0pOlszLDddO2Nhc2UgNjpyZXR1cm4gbz1hLnNlbnQoKSxbMix0aGlzLl9sb2FkUmVjb3JkQmF0Y2goaSxvKV07Y2FzZSA3OnJldHVyblsyLG51bGxdfX0pKX0pKX0sdC5wcm90b3R5cGUuX3JlYWREaWN0aW9uYXJ5QmF0Y2g9ZnVuY3Rpb24oZSl7cmV0dXJuIHpwLl9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHQscixuLGksbyxhO3JldHVybiB6cC5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbih1KXtzd2l0Y2godS5sYWJlbCl7Y2FzZSAwOnJldHVybiB0PXRoaXMuX2Zvb3RlciYmdGhpcy5fZm9vdGVyLmdldERpY3Rpb25hcnlCYXRjaChlKSwocj10KT9bNCx0aGlzLl9oYW5kbGUuc2Vlayh0Lm9mZnNldCldOlszLDJdO2Nhc2UgMTpyPXUuc2VudCgpLHUubGFiZWw9MjtjYXNlIDI6cmV0dXJuIHI/WzQsdGhpcy5fcmVhZGVyLnJlYWRNZXNzYWdlKFdwLk1lc3NhZ2VIZWFkZXIuRGljdGlvbmFyeUJhdGNoKV06WzMsNV07Y2FzZSAzOnJldHVybihudWxsPT0obj11LnNlbnQoKSk/dm9pZCAwOm4uaXNEaWN0aW9uYXJ5QmF0Y2goKSk/KGk9bi5oZWFkZXIoKSxbNCx0aGlzLl9yZWFkZXIucmVhZE1lc3NhZ2VCb2R5KG4uYm9keUxlbmd0aCldKTpbMyw1XTtjYXNlIDQ6bz11LnNlbnQoKSxhPXRoaXMuX2xvYWREaWN0aW9uYXJ5QmF0Y2goaSxvKSx0aGlzLmRpY3Rpb25hcmllcy5zZXQoaS5pZCxhKSx1LmxhYmVsPTU7Y2FzZSA1OnJldHVyblsyXX19KSl9KSl9LHQucHJvdG90eXBlLl9yZWFkRm9vdGVyPWZ1bmN0aW9uKCl7cmV0dXJuIHpwLl9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGUsdCxyLG47cmV0dXJuIHpwLl9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKGkpe3N3aXRjaChpLmxhYmVsKXtjYXNlIDA6cmV0dXJuIGU9dGhpcy5faGFuZGxlLGUuX3BlbmRpbmc/WzQsZS5fcGVuZGluZ106WzMsMl07Y2FzZSAxOmkuc2VudCgpLGkubGFiZWw9MjtjYXNlIDI6cmV0dXJuIHQ9ZS5zaXplLXFwLm1hZ2ljQW5kUGFkZGluZyxbNCxlLnJlYWRJbnQzMih0KV07Y2FzZSAzOnJldHVybiByPWkuc2VudCgpLFs0LGUucmVhZEF0KHQtcixyKV07Y2FzZSA0OnJldHVybiBuPWkuc2VudCgpLFsyLFlwLkZvb3Rlci5kZWNvZGUobildfX0pKX0pKX0sdC5wcm90b3R5cGUuX3JlYWROZXh0TWVzc2FnZUFuZFZhbGlkYXRlPWZ1bmN0aW9uKGUpe3JldHVybiB6cC5fX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciB0LHI7cmV0dXJuIHpwLl9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKG4pe3N3aXRjaChuLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHRoaXMuX2Zvb3Rlcj9bMywyXTpbNCx0aGlzLm9wZW4oKV07Y2FzZSAxOm4uc2VudCgpLG4ubGFiZWw9MjtjYXNlIDI6cmV0dXJuIHRoaXMuX2Zvb3RlciYmdGhpcy5fcmVjb3JkQmF0Y2hJbmRleDx0aGlzLm51bVJlY29yZEJhdGNoZXM/KHQ9dGhpcy5fZm9vdGVyLmdldFJlY29yZEJhdGNoKHRoaXMuX3JlY29yZEJhdGNoSW5kZXgpLChyPXQpP1s0LHRoaXMuX2hhbmRsZS5zZWVrKHQub2Zmc2V0KV06WzMsNF0pOlszLDZdO2Nhc2UgMzpyPW4uc2VudCgpLG4ubGFiZWw9NDtjYXNlIDQ6cmV0dXJuIHI/WzQsdGhpcy5fcmVhZGVyLnJlYWRNZXNzYWdlKGUpXTpbMyw2XTtjYXNlIDU6cmV0dXJuWzIsbi5zZW50KCldO2Nhc2UgNjpyZXR1cm5bMixudWxsXX19KSl9KSl9LHR9KGF5KSxjeT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQscil7cmV0dXJuIGUuY2FsbCh0aGlzLHQscil8fHRoaXN9cmV0dXJuIHpwLl9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLl9sb2FkVmVjdG9ycz1mdW5jdGlvbihlLHQscil7cmV0dXJuIG5ldyBacC5KU09OVmVjdG9yTG9hZGVyKHQsZS5ub2RlcyxlLmJ1ZmZlcnMsdGhpcy5kaWN0aW9uYXJpZXMpLnZpc2l0TWFueShyKX0sdH0ob3kpO2Z1bmN0aW9uIGx5KGUsdCl7cmV0dXJuIHQmJiJib29sZWFuIj09dHlwZW9mIHQuYXV0b0Rlc3Ryb3k/dC5hdXRvRGVzdHJveTplLmF1dG9EZXN0cm95fWZ1bmN0aW9uIGZ5KGUpe3ZhciB0O3JldHVybiB6cC5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbihyKXtzd2l0Y2goci5sYWJlbCl7Y2FzZSAwOnQ9JHAuZnJvbShlKSxyLmxhYmVsPTE7Y2FzZSAxOmlmKHIudHJ5cy5wdXNoKFsxLCw2LDddKSx0Lm9wZW4oe2F1dG9EZXN0cm95OiExfSkuY2xvc2VkKXJldHVyblszLDVdO3IubGFiZWw9MjtjYXNlIDI6cmV0dXJuWzQsdF07Y2FzZSAzOnIuc2VudCgpLHIubGFiZWw9NDtjYXNlIDQ6aWYoIXQucmVzZXQoKS5vcGVuKCkuY2xvc2VkKXJldHVyblszLDJdO3IubGFiZWw9NTtjYXNlIDU6cmV0dXJuWzMsN107Y2FzZSA2OnJldHVybiB0LmNhbmNlbCgpLFs3XTtjYXNlIDc6cmV0dXJuWzJdfX0pKX1mdW5jdGlvbiBkeShlKXtyZXR1cm4genAuX19hc3luY0dlbmVyYXRvcih0aGlzLGFyZ3VtZW50cywoZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4genAuX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24ocil7c3dpdGNoKHIubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx6cC5fX2F3YWl0KCRwLmZyb20oZSkpXTtjYXNlIDE6dD1yLnNlbnQoKSxyLmxhYmVsPTI7Y2FzZSAyOnJldHVybiByLnRyeXMucHVzaChbMiwsMTAsMTJdKSxbNCx6cC5fX2F3YWl0KHQub3Blbih7YXV0b0Rlc3Ryb3k6ITF9KSldO2Nhc2UgMzppZihyLnNlbnQoKS5jbG9zZWQpcmV0dXJuWzMsOV07ci5sYWJlbD00O2Nhc2UgNDpyZXR1cm5bNCx6cC5fX2F3YWl0KHQpXTtjYXNlIDU6cmV0dXJuWzQsci5zZW50KCldO2Nhc2UgNjpyLnNlbnQoKSxyLmxhYmVsPTc7Y2FzZSA3OnJldHVybls0LHpwLl9fYXdhaXQodC5yZXNldCgpLm9wZW4oKSldO2Nhc2UgODppZighci5zZW50KCkuY2xvc2VkKXJldHVyblszLDRdO3IubGFiZWw9OTtjYXNlIDk6cmV0dXJuWzMsMTJdO2Nhc2UgMTA6cmV0dXJuWzQsenAuX19hd2FpdCh0LmNhbmNlbCgpKV07Y2FzZSAxMTpyZXR1cm4gci5zZW50KCksWzddO2Nhc2UgMTI6cmV0dXJuWzJdfX0pKX0pKX12YXIgcHk9e307T2JqZWN0LmRlZmluZVByb3BlcnR5KHB5LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxweS50b0RPTVN0cmVhbT12b2lkIDA7dmFyIHl5PUguZXhwb3J0cyxoeT1HLGJ5PVE7cHkudG9ET01TdHJlYW09ZnVuY3Rpb24oZSx0KXtpZihieS5pc0FzeW5jSXRlcmFibGUoZSkpcmV0dXJuIGZ1bmN0aW9uKGUsdCl7dmFyIHI9bnVsbCxuPSJieXRlcyI9PT0obnVsbD09dD92b2lkIDA6dC50eXBlKXx8ITEsaT0obnVsbD09dD92b2lkIDA6dC5oaWdoV2F0ZXJNYXJrKXx8TWF0aC5wb3coMiwyNCk7cmV0dXJuIG5ldyBSZWFkYWJsZVN0cmVhbSh5eS5fX2Fzc2lnbih5eS5fX2Fzc2lnbih7fSx0KSx7c3RhcnQ6ZnVuY3Rpb24odCl7cmV0dXJuIHl5Ll9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIHl5Ll9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKG4pe3N3aXRjaChuLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsbyh0LHJ8fChyPWVbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCkpKV07Y2FzZSAxOnJldHVybiBuLnNlbnQoKSxbMl19fSkpfSkpfSxwdWxsOmZ1bmN0aW9uKGUpe3JldHVybiB5eS5fX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiB5eS5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybiByP1s0LG8oZSxyKV06WzMsMl07Y2FzZSAxOnJldHVybiB0LnNlbnQoKSxbMywzXTtjYXNlIDI6ZS5jbG9zZSgpLHQubGFiZWw9MztjYXNlIDM6cmV0dXJuWzJdfX0pKX0pKX0sY2FuY2VsOmZ1bmN0aW9uKCl7cmV0dXJuIHl5Ll9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIHl5Ll9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKGUpe3N3aXRjaChlLmxhYmVsKXtjYXNlIDA6cmV0dXJuKG51bGw9PXI/dm9pZCAwOnIucmV0dXJuKT9bNCxyLnJldHVybigpXTpbMywyXTtjYXNlIDE6ZS5zZW50KCksZS5sYWJlbD0yO2Nhc2UgMjpyZXR1cm4gcj1udWxsLFsyXX19KSl9KSl9fSkseXkuX19hc3NpZ24oe2hpZ2hXYXRlck1hcms6bj9pOnZvaWQgMH0sdCkpO2Z1bmN0aW9uIG8oZSx0KXtyZXR1cm4geXkuX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgcixpLG87cmV0dXJuIHl5Ll9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKGEpe3N3aXRjaChhLmxhYmVsKXtjYXNlIDA6aT1udWxsLG89ZS5kZXNpcmVkU2l6ZXx8bnVsbCxhLmxhYmVsPTE7Y2FzZSAxOnJldHVybls0LHQubmV4dChuP286bnVsbCldO2Nhc2UgMjpyZXR1cm4oaT1hLnNlbnQoKSkuZG9uZT9bMywzXTooQXJyYXlCdWZmZXIuaXNWaWV3KGkudmFsdWUpJiYocj1oeS50b1VpbnQ4QXJyYXkoaS52YWx1ZSkpJiYobnVsbCE9byYmbiYmKG89by1yLmJ5dGVMZW5ndGgrMSksaS52YWx1ZT1yKSxlLmVucXVldWUoaS52YWx1ZSksbnVsbCE9byYmLS1vPD0wP1syXTpbMywxXSk7Y2FzZSAzOnJldHVybiBlLmNsb3NlKCksWzJdfX0pKX0pKX19KGUsdCk7aWYoYnkuaXNJdGVyYWJsZShlKSlyZXR1cm4gZnVuY3Rpb24oZSx0KXt2YXIgcj1udWxsLG49ImJ5dGVzIj09PShudWxsPT10P3ZvaWQgMDp0LnR5cGUpfHwhMSxpPShudWxsPT10P3ZvaWQgMDp0LmhpZ2hXYXRlck1hcmspfHxNYXRoLnBvdygyLDI0KTtyZXR1cm4gbmV3IFJlYWRhYmxlU3RyZWFtKHl5Ll9fYXNzaWduKHl5Ll9fYXNzaWduKHt9LHQpLHtzdGFydDpmdW5jdGlvbih0KXtvKHQscnx8KHI9ZVtTeW1ib2wuaXRlcmF0b3JdKCkpKX0scHVsbDpmdW5jdGlvbihlKXtyP28oZSxyKTplLmNsb3NlKCl9LGNhbmNlbDpmdW5jdGlvbigpeyhudWxsPT1yP3ZvaWQgMDpyLnJldHVybikmJnIucmV0dXJuKCkscj1udWxsfX0pLHl5Ll9fYXNzaWduKHtoaWdoV2F0ZXJNYXJrOm4/aTp2b2lkIDB9LHQpKTtmdW5jdGlvbiBvKGUsdCl7Zm9yKHZhciByLGk9bnVsbCxvPWUuZGVzaXJlZFNpemV8fG51bGw7IShpPXQubmV4dChuP286bnVsbCkpLmRvbmU7KWlmKEFycmF5QnVmZmVyLmlzVmlldyhpLnZhbHVlKSYmKHI9aHkudG9VaW50OEFycmF5KGkudmFsdWUpKSYmKG51bGwhPW8mJm4mJihvPW8tci5ieXRlTGVuZ3RoKzEpLGkudmFsdWU9ciksZS5lbnF1ZXVlKGkudmFsdWUpLG51bGwhPW8mJi0tbzw9MClyZXR1cm47ZS5jbG9zZSgpfX0oZSx0KTt0aHJvdyBuZXcgRXJyb3IoInRvRE9NU3RyZWFtKCkgbXVzdCBiZSBjYWxsZWQgd2l0aCBhbiBJdGVyYWJsZSBvciBBc3luY0l0ZXJhYmxlIil9O3ZhciB2eT17fTtPYmplY3QuZGVmaW5lUHJvcGVydHkodnksIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHZ5LkJ1aWxkZXJUcmFuc2Zvcm09dnkuYnVpbGRlclRocm91Z2hET01TdHJlYW09dm9pZCAwO3ZhciBfeT1ILmV4cG9ydHMsbXk9YmU7dnkuYnVpbGRlclRocm91Z2hET01TdHJlYW09ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBneShlKX07dmFyIGd5PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt2YXIgdCxyLG49dGhpczt0aGlzLl9udW1DaHVua3M9MCx0aGlzLl9maW5pc2hlZD0hMSx0aGlzLl9idWZmZXJlZFNpemU9MDt2YXIgaT1lLnJlYWRhYmxlU3RyYXRlZ3ksbz1lLndyaXRhYmxlU3RyYXRlZ3ksYT1lLnF1ZXVlaW5nU3RyYXRlZ3ksdT12b2lkIDA9PT1hPyJjb3VudCI6YSxzPV95Ll9fcmVzdChlLFsicmVhZGFibGVTdHJhdGVneSIsIndyaXRhYmxlU3RyYXRlZ3kiLCJxdWV1ZWluZ1N0cmF0ZWd5Il0pO3RoaXMuX2NvbnRyb2xsZXI9bnVsbCx0aGlzLl9idWlsZGVyPW15LkJ1aWxkZXIubmV3KHMpLHRoaXMuX2dldFNpemU9ImJ5dGVzIiE9PXU/Qnk6VHk7dmFyIGM9X3kuX19hc3NpZ24oe30saSkuaGlnaFdhdGVyTWFyayxsPXZvaWQgMD09PWM/ImJ5dGVzIj09PXU/TWF0aC5wb3coMiwxNCk6MWUzOmMsZj1feS5fX2Fzc2lnbih7fSxvKS5oaWdoV2F0ZXJNYXJrLGQ9dm9pZCAwPT09Zj8iYnl0ZXMiPT09dT9NYXRoLnBvdygyLDE0KToxZTM6Zjt0aGlzLnJlYWRhYmxlPW5ldyBSZWFkYWJsZVN0cmVhbSgoKHQ9e30pLmNhbmNlbD1mdW5jdGlvbigpe24uX2J1aWxkZXIuY2xlYXIoKX0sdC5wdWxsPWZ1bmN0aW9uKGUpe24uX21heWJlRmx1c2gobi5fYnVpbGRlcixuLl9jb250cm9sbGVyPWUpfSx0LnN0YXJ0PWZ1bmN0aW9uKGUpe24uX21heWJlRmx1c2gobi5fYnVpbGRlcixuLl9jb250cm9sbGVyPWUpfSx0KSx7aGlnaFdhdGVyTWFyazpsLHNpemU6ImJ5dGVzIiE9PXU/Qnk6VHl9KSx0aGlzLndyaXRhYmxlPW5ldyBXcml0YWJsZVN0cmVhbSgoKHI9e30pLmFib3J0PWZ1bmN0aW9uKCl7bi5fYnVpbGRlci5jbGVhcigpfSxyLndyaXRlPWZ1bmN0aW9uKCl7bi5fbWF5YmVGbHVzaChuLl9idWlsZGVyLG4uX2NvbnRyb2xsZXIpfSxyLmNsb3NlPWZ1bmN0aW9uKCl7bi5fbWF5YmVGbHVzaChuLl9idWlsZGVyLmZpbmlzaCgpLG4uX2NvbnRyb2xsZXIpfSxyKSx7aGlnaFdhdGVyTWFyazpkLHNpemU6ZnVuY3Rpb24oZSl7cmV0dXJuIG4uX3dyaXRlVmFsdWVBbmRSZXR1cm5DaHVua1NpemUoZSl9fSl9cmV0dXJuIGUucHJvdG90eXBlLl93cml0ZVZhbHVlQW5kUmV0dXJuQ2h1bmtTaXplPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2J1ZmZlcmVkU2l6ZTtyZXR1cm4gdGhpcy5fYnVmZmVyZWRTaXplPXRoaXMuX2dldFNpemUodGhpcy5fYnVpbGRlci5hcHBlbmQoZSkpLHRoaXMuX2J1ZmZlcmVkU2l6ZS10fSxlLnByb3RvdHlwZS5fbWF5YmVGbHVzaD1mdW5jdGlvbihlLHQpe251bGwhPT10JiYodGhpcy5fYnVmZmVyZWRTaXplPj10LmRlc2lyZWRTaXplJiYrK3RoaXMuX251bUNodW5rcyYmdGhpcy5fZW5xdWV1ZSh0LGUudG9WZWN0b3IoKSksZS5maW5pc2hlZCYmKChlLmxlbmd0aD4wfHwwPT09dGhpcy5fbnVtQ2h1bmtzKSYmKyt0aGlzLl9udW1DaHVua3MmJnRoaXMuX2VucXVldWUodCxlLnRvVmVjdG9yKCkpLCF0aGlzLl9maW5pc2hlZCYmKHRoaXMuX2ZpbmlzaGVkPSEwKSYmdGhpcy5fZW5xdWV1ZSh0LG51bGwpKSl9LGUucHJvdG90eXBlLl9lbnF1ZXVlPWZ1bmN0aW9uKGUsdCl7dGhpcy5fYnVmZmVyZWRTaXplPTAsdGhpcy5fY29udHJvbGxlcj1udWxsLG51bGw9PT10P2UuY2xvc2UoKTplLmVucXVldWUodCl9LGV9KCk7dnkuQnVpbGRlclRyYW5zZm9ybT1neTt2YXIgQnk9ZnVuY3Rpb24oZSl7cmV0dXJuIGUubGVuZ3RofSxUeT1mdW5jdGlvbihlKXtyZXR1cm4gZS5ieXRlTGVuZ3RofSxJeT17fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoSXksIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLEl5LnJlY29yZEJhdGNoUmVhZGVyVGhyb3VnaERPTVN0cmVhbT12b2lkIDA7dmFyIHd5PUguZXhwb3J0cyxPeT1VbyxTeT15bztJeS5yZWNvcmRCYXRjaFJlYWRlclRocm91Z2hET01TdHJlYW09ZnVuY3Rpb24oZSx0KXt2YXIgcj1uZXcgT3kuQXN5bmNCeXRlUXVldWUsbj1udWxsLGk9bmV3IFJlYWRhYmxlU3RyZWFtKHtjYW5jZWw6ZnVuY3Rpb24oKXtyZXR1cm4gd3kuX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gd3kuX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24oZSl7c3dpdGNoKGUubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCxyLmNsb3NlKCldO2Nhc2UgMTpyZXR1cm4gZS5zZW50KCksWzJdfX0pKX0pKX0sc3RhcnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHd5Ll9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHQscixpO3JldHVybiB3eS5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbih1KXtzd2l0Y2godS5sYWJlbCl7Y2FzZSAwOnJldHVybiB0PWEscj1bZV0sKGk9bik/WzMsMl06WzQsbygpXTtjYXNlIDE6aT1uPXUuc2VudCgpLHUubGFiZWw9MjtjYXNlIDI6cmV0dXJuWzQsdC5hcHBseSh2b2lkIDAsci5jb25jYXQoW2ldKSldO2Nhc2UgMzpyZXR1cm4gdS5zZW50KCksWzJdfX0pKX0pKX0scHVsbDpmdW5jdGlvbihlKXtyZXR1cm4gd3kuX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gd3kuX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4gbj9bNCxhKGUsbildOlszLDJdO2Nhc2UgMTpyZXR1cm4gdC5zZW50KCksWzMsM107Y2FzZSAyOmUuY2xvc2UoKSx0LmxhYmVsPTM7Y2FzZSAzOnJldHVyblsyXX19KSl9KSl9fSk7cmV0dXJue3dyaXRhYmxlOm5ldyBXcml0YWJsZVN0cmVhbShyLHd5Ll9fYXNzaWduKHtoaWdoV2F0ZXJNYXJrOk1hdGgucG93KDIsMTQpfSxlKSkscmVhZGFibGU6aX07ZnVuY3Rpb24gbygpe3JldHVybiB3eS5fX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiB3eS5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbihlKXtzd2l0Y2goZS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LFN5LlJlY29yZEJhdGNoUmVhZGVyLmZyb20ocildO2Nhc2UgMTpyZXR1cm5bNCxlLnNlbnQoKS5vcGVuKHQpXTtjYXNlIDI6cmV0dXJuWzIsZS5zZW50KCldfX0pKX0pKX1mdW5jdGlvbiBhKGUsdCl7cmV0dXJuIHd5Ll9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHIsbjtyZXR1cm4gd3kuX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24oaSl7c3dpdGNoKGkubGFiZWwpe2Nhc2UgMDpyPWUuZGVzaXJlZFNpemUsbj1udWxsLGkubGFiZWw9MTtjYXNlIDE6cmV0dXJuWzQsdC5uZXh0KCldO2Nhc2UgMjpyZXR1cm4obj1pLnNlbnQoKSkuZG9uZT9bMywzXTooZS5lbnF1ZXVlKG4udmFsdWUpLG51bGwhPXImJi0tcjw9MD9bMl06WzMsMV0pO2Nhc2UgMzpyZXR1cm4gZS5jbG9zZSgpLFsyXX19KSl9KSl9fTt2YXIgQXk9e307T2JqZWN0LmRlZmluZVByb3BlcnR5KEF5LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxBeS5yZWNvcmRCYXRjaFdyaXRlclRocm91Z2hET01TdHJlYW09dm9pZCAwO3ZhciBEeT1ILmV4cG9ydHMsVnk9VW87QXkucmVjb3JkQmF0Y2hXcml0ZXJUaHJvdWdoRE9NU3RyZWFtPWZ1bmN0aW9uKGUsdCl7dmFyIHI9bmV3IHRoaXMoZSksbj1uZXcgVnkuQXN5bmNCeXRlU3RyZWFtKHIpLGk9bmV3IFJlYWRhYmxlU3RyZWFtKHt0eXBlOiJieXRlcyIsY2FuY2VsOmZ1bmN0aW9uKCl7cmV0dXJuIER5Ll9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIER5Ll9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKGUpe3N3aXRjaChlLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsbi5jYW5jZWwoKV07Y2FzZSAxOnJldHVybiBlLnNlbnQoKSxbMl19fSkpfSkpfSxwdWxsOmZ1bmN0aW9uKGUpe3JldHVybiBEeS5fX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBEeS5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybls0LG8oZSldO2Nhc2UgMTpyZXR1cm4gdC5zZW50KCksWzJdfX0pKX0pKX0sc3RhcnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIER5Ll9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIER5Ll9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsbyhlKV07Y2FzZSAxOnJldHVybiB0LnNlbnQoKSxbMl19fSkpfSkpfX0sRHkuX19hc3NpZ24oe2hpZ2hXYXRlck1hcms6TWF0aC5wb3coMiwxNCl9LHQpKTtyZXR1cm57d3JpdGFibGU6bmV3IFdyaXRhYmxlU3RyZWFtKHIsZSkscmVhZGFibGU6aX07ZnVuY3Rpb24gbyhlKXtyZXR1cm4gRHkuX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgdCxyO3JldHVybiBEeS5fX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbihpKXtzd2l0Y2goaS5sYWJlbCl7Y2FzZSAwOnQ9bnVsbCxyPWUuZGVzaXJlZFNpemUsaS5sYWJlbD0xO2Nhc2UgMTpyZXR1cm5bNCxuLnJlYWQocnx8bnVsbCldO2Nhc2UgMjpyZXR1cm4odD1pLnNlbnQoKSk/KGUuZW5xdWV1ZSh0KSxudWxsIT1yJiYoci09dC5ieXRlTGVuZ3RoKTw9MD9bMl06WzMsMV0pOlszLDNdO2Nhc2UgMzpyZXR1cm4gZS5jbG9zZSgpLFsyXX19KSl9KSl9fTt2YXIgUHk9e30sTXk9e30sRnk9e307T2JqZWN0LmRlZmluZVByb3BlcnR5KEZ5LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxGeS5jdXN0b209Rnkub3I9RnkuYW5kPUZ5LmNvbD1GeS5saXQ9RnkuQ3VzdG9tUHJlZGljYXRlPUZ5Lk5vdD1GeS5HVGVxPUZ5LkxUZXE9RnkuRXF1YWxzPUZ5Lk9yPUZ5LkFuZD1GeS5Db21iaW5hdGlvblByZWRpY2F0ZT1GeS5Db21wYXJpc29uUHJlZGljYXRlPUZ5LlByZWRpY2F0ZT1GeS5Db2w9RnkuTGl0ZXJhbD1GeS5WYWx1ZT12b2lkIDA7dmFyIFV5PUguZXhwb3J0cyxqeT1hbCx4eT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGUucHJvdG90eXBlLmVxPWZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2YgZXx8KHQ9bmV3IEx5KHQpKSxuZXcgV3kodGhpcyx0KX0sZS5wcm90b3R5cGUubGU9ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBlfHwodD1uZXcgTHkodCkpLG5ldyBZeSh0aGlzLHQpfSxlLnByb3RvdHlwZS5nZT1mdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIGV8fCh0PW5ldyBMeSh0KSksbmV3IEh5KHRoaXMsdCl9LGUucHJvdG90eXBlLmx0PWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgR3kodGhpcy5nZShlKSl9LGUucHJvdG90eXBlLmd0PWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgR3kodGhpcy5sZShlKSl9LGUucHJvdG90eXBlLm5lPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgR3kodGhpcy5lcShlKSl9LGV9KCk7RnkuVmFsdWU9eHk7dmFyIEx5PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCl7dmFyIHI9ZS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiByLnY9dCxyfXJldHVybiBVeS5fX2V4dGVuZHModCxlKSx0fSh4eSk7RnkuTGl0ZXJhbD1MeTt2YXIgUnk9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXt2YXIgcj1lLmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIHIubmFtZT10LHJ9cmV0dXJuIFV5Ll9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24oZSl7aWYoIXRoaXMuY29saWR4KXt0aGlzLmNvbGlkeD0tMTtmb3IodmFyIHQ9ZS5zY2hlbWEuZmllbGRzLHI9LTE7KytyPHQubGVuZ3RoOylpZih0W3JdLm5hbWU9PT10aGlzLm5hbWUpe3RoaXMuY29saWR4PXI7YnJlYWt9aWYodGhpcy5jb2xpZHg8MCl0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBiaW5kIENvbCAiJyt0aGlzLm5hbWUrJyInKX12YXIgbj10aGlzLnZlY3Rvcj1lLmdldENoaWxkQXQodGhpcy5jb2xpZHgpO3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gbi5nZXQoZSl9fSx0fSh4eSk7RnkuQ29sPVJ5O3ZhciBOeT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGUucHJvdG90eXBlLmFuZD1mdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyllW3RdPWFyZ3VtZW50c1t0XTtyZXR1cm4gbmV3KHp5LmJpbmQuYXBwbHkoenksVXkuX19zcHJlYWQoW3ZvaWQgMCx0aGlzXSxlKSkpfSxlLnByb3RvdHlwZS5vcj1mdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyllW3RdPWFyZ3VtZW50c1t0XTtyZXR1cm4gbmV3KGt5LmJpbmQuYXBwbHkoa3ksVXkuX19zcHJlYWQoW3ZvaWQgMCx0aGlzXSxlKSkpfSxlLnByb3RvdHlwZS5ub3Q9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEd5KHRoaXMpfSxlfSgpO0Z5LlByZWRpY2F0ZT1OeTt2YXIgRXk9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LHIpe3ZhciBuPWUuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gbi5sZWZ0PXQsbi5yaWdodD1yLG59cmV0dXJuIFV5Ll9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubGVmdCBpbnN0YW5jZW9mIEx5P3RoaXMucmlnaHQgaW5zdGFuY2VvZiBMeT90aGlzLl9iaW5kTGl0TGl0KGUsdGhpcy5sZWZ0LHRoaXMucmlnaHQpOnRoaXMuX2JpbmRMaXRDb2woZSx0aGlzLmxlZnQsdGhpcy5yaWdodCk6dGhpcy5yaWdodCBpbnN0YW5jZW9mIEx5P3RoaXMuX2JpbmRDb2xMaXQoZSx0aGlzLmxlZnQsdGhpcy5yaWdodCk6dGhpcy5fYmluZENvbENvbChlLHRoaXMubGVmdCx0aGlzLnJpZ2h0KX0sdH0oTnkpO0Z5LkNvbXBhcmlzb25QcmVkaWNhdGU9RXk7dmFyIEN5PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtmb3IodmFyIHQ9W10scj0wO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspdFtyXT1hcmd1bWVudHNbcl07dmFyIG49ZS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBuLmNoaWxkcmVuPXQsbn1yZXR1cm4gVXkuX19leHRlbmRzKHQsZSksdH0oTnkpO0Z5LkNvbWJpbmF0aW9uUHJlZGljYXRlPUN5LEN5LnByb3RvdHlwZS5jaGlsZHJlbj1PYmplY3QuZnJlZXplKFtdKTt2YXIgenk9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe2Zvcih2YXIgcj1bXSxuPTA7bjxhcmd1bWVudHMubGVuZ3RoO24rKylyW25dPWFyZ3VtZW50c1tuXTtyZXR1cm4gcj1yLnJlZHVjZSgoZnVuY3Rpb24oZSxyKXtyZXR1cm4gZS5jb25jYXQociBpbnN0YW5jZW9mIHQ/ci5jaGlsZHJlbjpyKX0pLFtdKSxlLmFwcGx5KHRoaXMsVXkuX19zcHJlYWQocikpfHx0aGlzfXJldHVybiBVeS5fX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuY2hpbGRyZW4ubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5iaW5kKGUpfSkpO3JldHVybiBmdW5jdGlvbihlLHIpe3JldHVybiB0LmV2ZXJ5KChmdW5jdGlvbih0KXtyZXR1cm4gdChlLHIpfSkpfX0sdH0oQ3kpO0Z5LkFuZD16eTt2YXIga3k9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe2Zvcih2YXIgcj1bXSxuPTA7bjxhcmd1bWVudHMubGVuZ3RoO24rKylyW25dPWFyZ3VtZW50c1tuXTtyZXR1cm4gcj1yLnJlZHVjZSgoZnVuY3Rpb24oZSxyKXtyZXR1cm4gZS5jb25jYXQociBpbnN0YW5jZW9mIHQ/ci5jaGlsZHJlbjpyKX0pLFtdKSxlLmFwcGx5KHRoaXMsVXkuX19zcHJlYWQocikpfHx0aGlzfXJldHVybiBVeS5fX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuY2hpbGRyZW4ubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5iaW5kKGUpfSkpO3JldHVybiBmdW5jdGlvbihlLHIpe3JldHVybiB0LnNvbWUoKGZ1bmN0aW9uKHQpe3JldHVybiB0KGUscil9KSl9fSx0fShDeSk7RnkuT3I9a3k7dmFyIFd5PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBVeS5fX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS5fYmluZExpdExpdD1mdW5jdGlvbihlLHQscil7dmFyIG49dC52PT1yLnY7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG59fSx0LnByb3RvdHlwZS5fYmluZENvbENvbD1mdW5jdGlvbihlLHQscil7dmFyIG49dC5iaW5kKGUpLGk9ci5iaW5kKGUpO3JldHVybiBmdW5jdGlvbihlLHQpe3JldHVybiBuKGUsdCk9PWkoZSx0KX19LHQucHJvdG90eXBlLl9iaW5kQ29sTGl0PWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10LmJpbmQoZSk7aWYodC52ZWN0b3IgaW5zdGFuY2VvZiBqeS5EaWN0aW9uYXJ5VmVjdG9yKXt2YXIgaSxvPXQudmVjdG9yO3JldHVybiBvLmRpY3Rpb25hcnkhPT10aGlzLmxhc3REaWN0aW9uYXJ5PyhpPW8ucmV2ZXJzZUxvb2t1cChyLnYpLHRoaXMubGFzdERpY3Rpb25hcnk9by5kaWN0aW9uYXJ5LHRoaXMubGFzdEtleT1pKTppPXRoaXMubGFzdEtleSwtMT09PWk/ZnVuY3Rpb24oKXtyZXR1cm4hMX06ZnVuY3Rpb24oZSl7cmV0dXJuIG8uZ2V0S2V5KGUpPT09aX19cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4oZSx0KT09ci52fX0sdC5wcm90b3R5cGUuX2JpbmRMaXRDb2w9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0aGlzLl9iaW5kQ29sTGl0KGUscix0KX0sdH0oRXkpO0Z5LkVxdWFscz1XeTt2YXIgWXk9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIFV5Ll9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLl9iaW5kTGl0TGl0PWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10LnY8PXIudjtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbn19LHQucHJvdG90eXBlLl9iaW5kQ29sQ29sPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10LmJpbmQoZSksaT1yLmJpbmQoZSk7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4oZSx0KTw9aShlLHQpfX0sdC5wcm90b3R5cGUuX2JpbmRDb2xMaXQ9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXQuYmluZChlKTtyZXR1cm4gZnVuY3Rpb24oZSx0KXtyZXR1cm4gbihlLHQpPD1yLnZ9fSx0LnByb3RvdHlwZS5fYmluZExpdENvbD1mdW5jdGlvbihlLHQscil7dmFyIG49ci5iaW5kKGUpO3JldHVybiBmdW5jdGlvbihlLHIpe3JldHVybiB0LnY8PW4oZSxyKX19LHR9KEV5KTtGeS5MVGVxPVl5O3ZhciBIeT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gVXkuX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUuX2JpbmRMaXRMaXQ9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXQudj49ci52O3JldHVybiBmdW5jdGlvbigpe3JldHVybiBufX0sdC5wcm90b3R5cGUuX2JpbmRDb2xDb2w9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXQuYmluZChlKSxpPXIuYmluZChlKTtyZXR1cm4gZnVuY3Rpb24oZSx0KXtyZXR1cm4gbihlLHQpPj1pKGUsdCl9fSx0LnByb3RvdHlwZS5fYmluZENvbExpdD1mdW5jdGlvbihlLHQscil7dmFyIG49dC5iaW5kKGUpO3JldHVybiBmdW5jdGlvbihlLHQpe3JldHVybiBuKGUsdCk+PXIudn19LHQucHJvdG90eXBlLl9iaW5kTGl0Q29sPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yLmJpbmQoZSk7cmV0dXJuIGZ1bmN0aW9uKGUscil7cmV0dXJuIHQudj49bihlLHIpfX0sdH0oRXkpO0Z5LkdUZXE9SHk7dmFyIEd5PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCl7dmFyIHI9ZS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiByLmNoaWxkPXQscn1yZXR1cm4gVXkuX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUuYmluZD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmNoaWxkLmJpbmQoZSk7cmV0dXJuIGZ1bmN0aW9uKGUscil7cmV0dXJuIXQoZSxyKX19LHR9KE55KTtGeS5Ob3Q9R3k7dmFyIEp5PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxyKXt2YXIgbj1lLmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIG4ubmV4dD10LG4uYmluZF89cixufXJldHVybiBVeS5fX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmJpbmRfKGUpLHRoaXMubmV4dH0sdH0oTnkpO0Z5LkN1c3RvbVByZWRpY2F0ZT1KeSxGeS5saXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBMeShlKX0sRnkuY29sPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgUnkoZSl9LEZ5LmFuZD1mdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyllW3RdPWFyZ3VtZW50c1t0XTtyZXR1cm4gbmV3KHp5LmJpbmQuYXBwbHkoenksVXkuX19zcHJlYWQoW3ZvaWQgMF0sZSkpKX0sRnkub3I9ZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspZVt0XT1hcmd1bWVudHNbdF07cmV0dXJuIG5ldyhreS5iaW5kLmFwcGx5KGt5LFV5Ll9fc3ByZWFkKFt2b2lkIDBdLGUpKSl9LEZ5LmN1c3RvbT1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcgSnkoZSx0KX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KE15LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxNeS5GaWx0ZXJlZERhdGFGcmFtZT1NeS5Db3VudEJ5UmVzdWx0PU15LkRhdGFGcmFtZT12b2lkIDA7dmFyIFp5PUguZXhwb3J0cyxLeT1fYSxYeT1SbCxxeT1EbixReT1GeSwkeT12YSxlaD1GZSx0aD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gWnkuX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUuZmlsdGVyPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgaWgodGhpcy5jaHVua3MsZSl9LHQucHJvdG90eXBlLnNjYW49ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9dGhpcy5jaHVua3Msbj1yLmxlbmd0aCxpPS0xOysraTxuOyl7dmFyIG89cltpXTt0JiZ0KG8pO2Zvcih2YXIgYT0tMSx1PW8ubGVuZ3RoOysrYTx1OyllKGEsbyl9fSx0LnByb3RvdHlwZS5zY2FuUmV2ZXJzZT1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj10aGlzLmNodW5rcyxuPXIubGVuZ3RoOy0tbj49MDspe3ZhciBpPXJbbl07dCYmdChpKTtmb3IodmFyIG89aS5sZW5ndGg7LS1vPj0wOyllKG8saSl9fSx0LnByb3RvdHlwZS5jb3VudEJ5PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuY2h1bmtzLHI9dC5sZW5ndGgsbj0ic3RyaW5nIj09dHlwZW9mIGU/bmV3IFF5LkNvbChlKTplO24uYmluZCh0W3ItMV0pO3ZhciBpPW4udmVjdG9yO2lmKCFlaC5EYXRhVHlwZS5pc0RpY3Rpb25hcnkoaS50eXBlKSl0aHJvdyBuZXcgRXJyb3IoImNvdW50QnkgY3VycmVudGx5IG9ubHkgc3VwcG9ydHMgZGljdGlvbmFyeS1lbmNvZGVkIGNvbHVtbnMiKTtmb3IodmFyIG89TWF0aC5jZWlsKE1hdGgubG9nKGkubGVuZ3RoKS9NYXRoLmxvZygyNTYpKSxhPW5ldyg0PT1vP1VpbnQzMkFycmF5Om8+PTI/VWludDE2QXJyYXk6VWludDhBcnJheSkoaS5kaWN0aW9uYXJ5Lmxlbmd0aCksdT0tMTsrK3U8cjspe3ZhciBzPXRbdV07bi5iaW5kKHMpO2Zvcih2YXIgYz1uLnZlY3Rvci5pbmRpY2VzLGw9LTEsZj1zLmxlbmd0aDsrK2w8Zjspe3ZhciBkPWMuZ2V0KGwpO251bGwhPT1kJiZhW2RdKyt9fXJldHVybiBuZXcgcmgoaS5kaWN0aW9uYXJ5LFh5LkludFZlY3Rvci5mcm9tKGEpKX0sdH0oS3kuVGFibGUpO015LkRhdGFGcmFtZT10aDt2YXIgcmg9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LHIpe3ZhciBuPW5ldyBxeS5TY2hlbWEoW25ldyBxeS5GaWVsZCgidmFsdWVzIix0LnR5cGUpLG5ldyBxeS5GaWVsZCgiY291bnRzIixyLnR5cGUpXSk7cmV0dXJuIGUuY2FsbCh0aGlzLG5ldyAkeS5SZWNvcmRCYXRjaChuLHIubGVuZ3RoLFt0LHJdKSl8fHRoaXN9cmV0dXJuIFp5Ll9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLmdldENvbHVtbkF0KDApLHQ9dGhpcy5nZXRDb2x1bW5BdCgxKSxyPXt9LG49LTE7KytuPHRoaXMubGVuZ3RoOylyW2UuZ2V0KG4pXT10LmdldChuKTtyZXR1cm4gcn0sdH0oS3kuVGFibGUpO015LkNvdW50QnlSZXN1bHQ9cmg7dmFyIG5oPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe3RoaXMuYmF0Y2hlcz1lLHRoaXMucHJlZGljYXRlPXQsdGhpcy5iYXRjaEluZGV4PTAsdGhpcy5pbmRleD0wLHRoaXMuYmF0Y2g9dGhpcy5iYXRjaGVzW3RoaXMuYmF0Y2hJbmRleF0sdGhpcy5wcmVkaWNhdGVGdW5jPXRoaXMucHJlZGljYXRlLmJpbmQodGhpcy5iYXRjaCl9cmV0dXJuIGUucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24oKXtmb3IoO3RoaXMuYmF0Y2hJbmRleDx0aGlzLmJhdGNoZXMubGVuZ3RoOyl7Zm9yKDt0aGlzLmluZGV4PHRoaXMuYmF0Y2gubGVuZ3RoOyl7aWYodGhpcy5wcmVkaWNhdGVGdW5jKHRoaXMuaW5kZXgsdGhpcy5iYXRjaCkpcmV0dXJue3ZhbHVlOnRoaXMuYmF0Y2guZ2V0KHRoaXMuaW5kZXgrKyl9O3RoaXMuaW5kZXgrK30rK3RoaXMuYmF0Y2hJbmRleDx0aGlzLmJhdGNoZXMubGVuZ3RoJiYodGhpcy5pbmRleD0wLHRoaXMuYmF0Y2g9dGhpcy5iYXRjaGVzW3RoaXMuYmF0Y2hJbmRleF0sdGhpcy5wcmVkaWNhdGVGdW5jPXRoaXMucHJlZGljYXRlLmJpbmQodGhpcy5iYXRjaCkpfXJldHVybntkb25lOiEwLHZhbHVlOm51bGx9fSxlLnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LGV9KCksaWg9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LHIpe3ZhciBuPWUuY2FsbCh0aGlzLHQpfHx0aGlzO3JldHVybiBuLl9wcmVkaWNhdGU9cixufXJldHVybiBaeS5fX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS5zY2FuPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPXRoaXMuX2NodW5rcyxuPXIubGVuZ3RoLGk9LTE7KytpPG47KWZvcih2YXIgbz1yW2ldLGE9dGhpcy5fcHJlZGljYXRlLmJpbmQobyksdT0hMSxzPS0xLGM9by5sZW5ndGg7KytzPGM7KWEocyxvKSYmKHQmJiF1JiYodChvKSx1PSEwKSxlKHMsbykpfSx0LnByb3RvdHlwZS5zY2FuUmV2ZXJzZT1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj10aGlzLl9jaHVua3Msbj1yLmxlbmd0aDstLW4+PTA7KWZvcih2YXIgaT1yW25dLG89dGhpcy5fcHJlZGljYXRlLmJpbmQoaSksYT0hMSx1PWkubGVuZ3RoOy0tdT49MDspbyh1LGkpJiYodCYmIWEmJih0KGkpLGE9ITApLGUodSxpKSl9LHQucHJvdG90eXBlLmNvdW50PWZ1bmN0aW9uKCl7Zm9yKHZhciBlPTAsdD10aGlzLl9jaHVua3Mscj10Lmxlbmd0aCxuPS0xOysrbjxyOylmb3IodmFyIGk9dFtuXSxvPXRoaXMuX3ByZWRpY2F0ZS5iaW5kKGkpLGE9LTEsdT1pLmxlbmd0aDsrK2E8dTspbyhhLGkpJiYrK2U7cmV0dXJuIGV9LHQucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG5oKHRoaXMuX2NodW5rcyx0aGlzLl9wcmVkaWNhdGUpfSx0LnByb3RvdHlwZS5maWx0ZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyB0KHRoaXMuX2NodW5rcyx0aGlzLl9wcmVkaWNhdGUuYW5kKGUpKX0sdC5wcm90b3R5cGUuY291bnRCeT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9jaHVua3Mscj10Lmxlbmd0aCxuPSJzdHJpbmciPT10eXBlb2YgZT9uZXcgUXkuQ29sKGUpOmU7bi5iaW5kKHRbci0xXSk7dmFyIGk9bi52ZWN0b3I7aWYoIWVoLkRhdGFUeXBlLmlzRGljdGlvbmFyeShpLnR5cGUpKXRocm93IG5ldyBFcnJvcigiY291bnRCeSBjdXJyZW50bHkgb25seSBzdXBwb3J0cyBkaWN0aW9uYXJ5LWVuY29kZWQgY29sdW1ucyIpO2Zvcih2YXIgbz1NYXRoLmNlaWwoTWF0aC5sb2coaS5sZW5ndGgpL01hdGgubG9nKDI1NikpLGE9bmV3KDQ9PW8/VWludDMyQXJyYXk6bz49Mj9VaW50MTZBcnJheTpVaW50OEFycmF5KShpLmRpY3Rpb25hcnkubGVuZ3RoKSx1PS0xOysrdTxyOyl7dmFyIHM9dFt1XSxjPXRoaXMuX3ByZWRpY2F0ZS5iaW5kKHMpO24uYmluZChzKTtmb3IodmFyIGw9bi52ZWN0b3IuaW5kaWNlcyxmPS0xLGQ9cy5sZW5ndGg7KytmPGQ7KXt2YXIgcD1sLmdldChmKTtudWxsIT09cCYmYyhmLHMpJiZhW3BdKyt9fXJldHVybiBuZXcgcmgoaS5kaWN0aW9uYXJ5LFh5LkludFZlY3Rvci5mcm9tKGEpKX0sdH0odGgpO2Z1bmN0aW9uIG9oKGUpe3JldHVybiBXLlZlY3Rvci5mcm9tKHt2YWx1ZXM6ZSx0eXBlOm5ldyBXLkZsb2F0MzIsaGlnaFdhdGVyTWFyazoxZTZ9KX1NeS5GaWx0ZXJlZERhdGFGcmFtZT1paCxmdW5jdGlvbihlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5pc1R5cGVkQXJyYXk9ZS51dGlsPWUucHJlZGljYXRlPWUuQ291bnRCeVJlc3VsdD1lLkZpbHRlcmVkRGF0YUZyYW1lPWUuRGF0YUZyYW1lPWUuUmVjb3JkQmF0Y2g9ZS5NZXNzYWdlPWUuSlNPTk1lc3NhZ2VSZWFkZXI9ZS5Bc3luY01lc3NhZ2VSZWFkZXI9ZS5NZXNzYWdlUmVhZGVyPWUuUmVjb3JkQmF0Y2hKU09OV3JpdGVyPWUuUmVjb3JkQmF0Y2hTdHJlYW1Xcml0ZXI9ZS5SZWNvcmRCYXRjaEZpbGVXcml0ZXI9ZS5SZWNvcmRCYXRjaFdyaXRlcj1lLkFzeW5jUmVjb3JkQmF0Y2hTdHJlYW1SZWFkZXI9ZS5Bc3luY1JlY29yZEJhdGNoRmlsZVJlYWRlcj1lLlJlY29yZEJhdGNoU3RyZWFtUmVhZGVyPWUuUmVjb3JkQmF0Y2hGaWxlUmVhZGVyPWUuUmVjb3JkQmF0Y2hSZWFkZXI9ZS5Bc3luY0J5dGVRdWV1ZT1lLkFzeW5jQnl0ZVN0cmVhbT1lLkJ5dGVTdHJlYW09ZS5VdGY4QnVpbGRlcj1lLlNwYXJzZVVuaW9uQnVpbGRlcj1lLkRlbnNlVW5pb25CdWlsZGVyPWUuVW5pb25CdWlsZGVyPWUuVGltZU5hbm9zZWNvbmRCdWlsZGVyPWUuVGltZU1pY3Jvc2Vjb25kQnVpbGRlcj1lLlRpbWVNaWxsaXNlY29uZEJ1aWxkZXI9ZS5UaW1lU2Vjb25kQnVpbGRlcj1lLlRpbWVCdWlsZGVyPWUuVGltZXN0YW1wTmFub3NlY29uZEJ1aWxkZXI9ZS5UaW1lc3RhbXBNaWNyb3NlY29uZEJ1aWxkZXI9ZS5UaW1lc3RhbXBNaWxsaXNlY29uZEJ1aWxkZXI9ZS5UaW1lc3RhbXBTZWNvbmRCdWlsZGVyPWUuVGltZXN0YW1wQnVpbGRlcj1lLlN0cnVjdEJ1aWxkZXI9ZS5OdWxsQnVpbGRlcj1lLk1hcEJ1aWxkZXI9ZS5MaXN0QnVpbGRlcj1lLlVpbnQ2NEJ1aWxkZXI9ZS5VaW50MzJCdWlsZGVyPWUuVWludDE2QnVpbGRlcj1lLlVpbnQ4QnVpbGRlcj1lLkludDY0QnVpbGRlcj1lLkludDMyQnVpbGRlcj1lLkludDE2QnVpbGRlcj1lLkludDhCdWlsZGVyPWUuSW50QnVpbGRlcj1lLkludGVydmFsWWVhck1vbnRoQnVpbGRlcj1lLkludGVydmFsRGF5VGltZUJ1aWxkZXI9ZS5JbnRlcnZhbEJ1aWxkZXI9ZS5GbG9hdDY0QnVpbGRlcj1lLkZsb2F0MzJCdWlsZGVyPWUuRmxvYXQxNkJ1aWxkZXI9ZS5GbG9hdEJ1aWxkZXI9ZS5GaXhlZFNpemVMaXN0QnVpbGRlcj1lLkZpeGVkU2l6ZUJpbmFyeUJ1aWxkZXI9ZS5EaWN0aW9uYXJ5QnVpbGRlcj1lLkRlY2ltYWxCdWlsZGVyPWUuRGF0ZU1pbGxpc2Vjb25kQnVpbGRlcj1lLkRhdGVEYXlCdWlsZGVyPWUuRGF0ZUJ1aWxkZXI9ZS5Cb29sQnVpbGRlcj1lLkJpbmFyeUJ1aWxkZXI9ZS5CdWlsZGVyPWUuVXRmOFZlY3Rvcj1lLlNwYXJzZVVuaW9uVmVjdG9yPWUuRGVuc2VVbmlvblZlY3Rvcj1lLlVuaW9uVmVjdG9yPWUuVGltZU5hbm9zZWNvbmRWZWN0b3I9ZS5UaW1lTWljcm9zZWNvbmRWZWN0b3I9ZS5UaW1lTWlsbGlzZWNvbmRWZWN0b3I9ZS5UaW1lU2Vjb25kVmVjdG9yPWUuVGltZVZlY3Rvcj1lLlRpbWVzdGFtcE5hbm9zZWNvbmRWZWN0b3I9ZS5UaW1lc3RhbXBNaWNyb3NlY29uZFZlY3Rvcj1lLlRpbWVzdGFtcE1pbGxpc2Vjb25kVmVjdG9yPWUuVGltZXN0YW1wU2Vjb25kVmVjdG9yPWUuVGltZXN0YW1wVmVjdG9yPWUuU3RydWN0VmVjdG9yPWUuTnVsbFZlY3Rvcj1lLk1hcFZlY3Rvcj1lLkxpc3RWZWN0b3I9ZS5VaW50NjRWZWN0b3I9ZS5VaW50MzJWZWN0b3I9ZS5VaW50MTZWZWN0b3I9ZS5VaW50OFZlY3Rvcj1lLkludDY0VmVjdG9yPWUuSW50MzJWZWN0b3I9ZS5JbnQxNlZlY3Rvcj1lLkludDhWZWN0b3I9ZS5JbnRWZWN0b3I9ZS5JbnRlcnZhbFllYXJNb250aFZlY3Rvcj1lLkludGVydmFsRGF5VGltZVZlY3Rvcj1lLkludGVydmFsVmVjdG9yPWUuRmxvYXQ2NFZlY3Rvcj1lLkZsb2F0MzJWZWN0b3I9ZS5GbG9hdDE2VmVjdG9yPWUuRmxvYXRWZWN0b3I9ZS5GaXhlZFNpemVMaXN0VmVjdG9yPWUuRml4ZWRTaXplQmluYXJ5VmVjdG9yPWUuRGljdGlvbmFyeVZlY3Rvcj1lLkRlY2ltYWxWZWN0b3I9ZS5EYXRlTWlsbGlzZWNvbmRWZWN0b3I9ZS5EYXRlRGF5VmVjdG9yPWUuRGF0ZVZlY3Rvcj1lLkNodW5rZWQ9ZS5Cb29sVmVjdG9yPWUuQmluYXJ5VmVjdG9yPWUuQmFzZVZlY3Rvcj1lLlZlY3Rvcj1lLkZpZWxkPWUuU2NoZW1hPWUuVmlzaXRvcj1lLkNvbHVtbj1lLlRhYmxlPWUuTWFwXz1lLkZpeGVkU2l6ZUxpc3Q9ZS5JbnRlcnZhbFllYXJNb250aD1lLkludGVydmFsRGF5VGltZT1lLkludGVydmFsPWUuRGljdGlvbmFyeT1lLlNwYXJzZVVuaW9uPWUuRGVuc2VVbmlvbj1lLlVuaW9uPWUuU3RydWN0PWUuTGlzdD1lLkRlY2ltYWw9ZS5UaW1lTmFub3NlY29uZD1lLlRpbWVNaWNyb3NlY29uZD1lLlRpbWVNaWxsaXNlY29uZD1lLlRpbWVTZWNvbmQ9ZS5UaW1lPWUuVGltZXN0YW1wTmFub3NlY29uZD1lLlRpbWVzdGFtcE1pY3Jvc2Vjb25kPWUuVGltZXN0YW1wTWlsbGlzZWNvbmQ9ZS5UaW1lc3RhbXBTZWNvbmQ9ZS5UaW1lc3RhbXA9ZS5EYXRlTWlsbGlzZWNvbmQ9ZS5EYXRlRGF5PWUuRGF0ZV89ZS5GaXhlZFNpemVCaW5hcnk9ZS5CaW5hcnk9ZS5VdGY4PWUuRmxvYXQ2ND1lLkZsb2F0MzI9ZS5GbG9hdDE2PWUuRmxvYXQ9ZS5VaW50NjQ9ZS5VaW50MzI9ZS5VaW50MTY9ZS5VaW50OD1lLkludDY0PWUuSW50MzI9ZS5JbnQxNj1lLkludDg9ZS5JbnQ9ZS5Cb29sPWUuTnVsbD1lLkRhdGFUeXBlPWUuRGF0YT1lLkJ1ZmZlclR5cGU9ZS5UeXBlPWUuTWVzc2FnZUhlYWRlcj1lLk1ldGFkYXRhVmVyc2lvbj1lLkludGVydmFsVW5pdD1lLlVuaW9uTW9kZT1lLlByZWNpc2lvbj1lLlRpbWVVbml0PWUuRGF0ZVVuaXQ9dm9pZCAwO3ZhciB0PUguZXhwb3J0cyxyPUJlO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJEYXRlVW5pdCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHIuRGF0ZVVuaXR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlRpbWVVbml0Iix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gci5UaW1lVW5pdH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiUHJlY2lzaW9uIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gci5QcmVjaXNpb259fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlVuaW9uTW9kZSIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHIuVW5pb25Nb2RlfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJJbnRlcnZhbFVuaXQiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiByLkludGVydmFsVW5pdH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiTWV0YWRhdGFWZXJzaW9uIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gci5NZXRhZGF0YVZlcnNpb259fSk7dmFyIG49VGU7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIk1lc3NhZ2VIZWFkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBuLk1lc3NhZ2VIZWFkZXJ9fSk7dmFyIGk9Z2U7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlR5cGUiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBpLlR5cGV9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkJ1ZmZlclR5cGUiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBpLkJ1ZmZlclR5cGV9fSk7dmFyIG89SWU7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkRhdGEiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBvLkRhdGF9fSk7dmFyIGE9RmU7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkRhdGFUeXBlIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5EYXRhVHlwZX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiTnVsbCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGEuTnVsbH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiQm9vbCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGEuQm9vbH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiSW50Iix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5JbnR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkludDgiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBhLkludDh9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkludDE2Iix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5JbnQxNn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiSW50MzIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBhLkludDMyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJJbnQ2NCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGEuSW50NjR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlVpbnQ4Iix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5VaW50OH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVWludDE2Iix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5VaW50MTZ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlVpbnQzMiIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGEuVWludDMyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJVaW50NjQiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBhLlVpbnQ2NH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRmxvYXQiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBhLkZsb2F0fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJGbG9hdDE2Iix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5GbG9hdDE2fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJGbG9hdDMyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5GbG9hdDMyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJGbG9hdDY0Iix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5GbG9hdDY0fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJVdGY4Iix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5VdGY4fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJCaW5hcnkiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBhLkJpbmFyeX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRml4ZWRTaXplQmluYXJ5Iix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5GaXhlZFNpemVCaW5hcnl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkRhdGVfIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5EYXRlX319KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRGF0ZURheSIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGEuRGF0ZURheX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRGF0ZU1pbGxpc2Vjb25kIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5EYXRlTWlsbGlzZWNvbmR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlRpbWVzdGFtcCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGEuVGltZXN0YW1wfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJUaW1lc3RhbXBTZWNvbmQiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBhLlRpbWVzdGFtcFNlY29uZH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVGltZXN0YW1wTWlsbGlzZWNvbmQiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBhLlRpbWVzdGFtcE1pbGxpc2Vjb25kfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJUaW1lc3RhbXBNaWNyb3NlY29uZCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGEuVGltZXN0YW1wTWljcm9zZWNvbmR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlRpbWVzdGFtcE5hbm9zZWNvbmQiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBhLlRpbWVzdGFtcE5hbm9zZWNvbmR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlRpbWUiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBhLlRpbWV9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlRpbWVTZWNvbmQiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBhLlRpbWVTZWNvbmR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlRpbWVNaWxsaXNlY29uZCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGEuVGltZU1pbGxpc2Vjb25kfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJUaW1lTWljcm9zZWNvbmQiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBhLlRpbWVNaWNyb3NlY29uZH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVGltZU5hbm9zZWNvbmQiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBhLlRpbWVOYW5vc2Vjb25kfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJEZWNpbWFsIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5EZWNpbWFsfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJMaXN0Iix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5MaXN0fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJTdHJ1Y3QiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBhLlN0cnVjdH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVW5pb24iLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBhLlVuaW9ufX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJEZW5zZVVuaW9uIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5EZW5zZVVuaW9ufX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJTcGFyc2VVbmlvbiIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGEuU3BhcnNlVW5pb259fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkRpY3Rpb25hcnkiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBhLkRpY3Rpb25hcnl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkludGVydmFsIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5JbnRlcnZhbH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiSW50ZXJ2YWxEYXlUaW1lIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5JbnRlcnZhbERheVRpbWV9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkludGVydmFsWWVhck1vbnRoIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5JbnRlcnZhbFllYXJNb250aH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRml4ZWRTaXplTGlzdCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGEuRml4ZWRTaXplTGlzdH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiTWFwXyIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGEuTWFwX319KTt2YXIgdT1fYTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVGFibGUiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB1LlRhYmxlfX0pO3ZhciBzPW1hO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJDb2x1bW4iLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLkNvbHVtbn19KTt2YXIgYz1kaTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVmlzaXRvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGMuVmlzaXRvcn19KTt2YXIgbD1EbjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiU2NoZW1hIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbC5TY2hlbWF9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkZpZWxkIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbC5GaWVsZH19KTt2YXIgZj1NYztPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZi5WZWN0b3J9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkJhc2VWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBmLkJhc2VWZWN0b3J9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkJpbmFyeVZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGYuQmluYXJ5VmVjdG9yfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJCb29sVmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZi5Cb29sVmVjdG9yfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJDaHVua2VkIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZi5DaHVua2VkfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJEYXRlVmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZi5EYXRlVmVjdG9yfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJEYXRlRGF5VmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZi5EYXRlRGF5VmVjdG9yfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJEYXRlTWlsbGlzZWNvbmRWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBmLkRhdGVNaWxsaXNlY29uZFZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRGVjaW1hbFZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGYuRGVjaW1hbFZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRGljdGlvbmFyeVZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGYuRGljdGlvbmFyeVZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRml4ZWRTaXplQmluYXJ5VmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZi5GaXhlZFNpemVCaW5hcnlWZWN0b3J9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkZpeGVkU2l6ZUxpc3RWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBmLkZpeGVkU2l6ZUxpc3RWZWN0b3J9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkZsb2F0VmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZi5GbG9hdFZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRmxvYXQxNlZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGYuRmxvYXQxNlZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRmxvYXQzMlZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGYuRmxvYXQzMlZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRmxvYXQ2NFZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGYuRmxvYXQ2NFZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiSW50ZXJ2YWxWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBmLkludGVydmFsVmVjdG9yfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJJbnRlcnZhbERheVRpbWVWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBmLkludGVydmFsRGF5VGltZVZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiSW50ZXJ2YWxZZWFyTW9udGhWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBmLkludGVydmFsWWVhck1vbnRoVmVjdG9yfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJJbnRWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBmLkludFZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiSW50OFZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGYuSW50OFZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiSW50MTZWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBmLkludDE2VmVjdG9yfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJJbnQzMlZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGYuSW50MzJWZWN0b3J9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkludDY0VmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZi5JbnQ2NFZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVWludDhWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBmLlVpbnQ4VmVjdG9yfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJVaW50MTZWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBmLlVpbnQxNlZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVWludDMyVmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZi5VaW50MzJWZWN0b3J9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlVpbnQ2NFZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGYuVWludDY0VmVjdG9yfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJMaXN0VmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZi5MaXN0VmVjdG9yfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJNYXBWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBmLk1hcFZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiTnVsbFZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGYuTnVsbFZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiU3RydWN0VmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZi5TdHJ1Y3RWZWN0b3J9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlRpbWVzdGFtcFZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGYuVGltZXN0YW1wVmVjdG9yfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJUaW1lc3RhbXBTZWNvbmRWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBmLlRpbWVzdGFtcFNlY29uZFZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVGltZXN0YW1wTWlsbGlzZWNvbmRWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBmLlRpbWVzdGFtcE1pbGxpc2Vjb25kVmVjdG9yfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJUaW1lc3RhbXBNaWNyb3NlY29uZFZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGYuVGltZXN0YW1wTWljcm9zZWNvbmRWZWN0b3J9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlRpbWVzdGFtcE5hbm9zZWNvbmRWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBmLlRpbWVzdGFtcE5hbm9zZWNvbmRWZWN0b3J9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlRpbWVWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBmLlRpbWVWZWN0b3J9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlRpbWVTZWNvbmRWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBmLlRpbWVTZWNvbmRWZWN0b3J9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlRpbWVNaWxsaXNlY29uZFZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGYuVGltZU1pbGxpc2Vjb25kVmVjdG9yfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJUaW1lTWljcm9zZWNvbmRWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBmLlRpbWVNaWNyb3NlY29uZFZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVGltZU5hbm9zZWNvbmRWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBmLlRpbWVOYW5vc2Vjb25kVmVjdG9yfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJVbmlvblZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGYuVW5pb25WZWN0b3J9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkRlbnNlVW5pb25WZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBmLkRlbnNlVW5pb25WZWN0b3J9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlNwYXJzZVVuaW9uVmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZi5TcGFyc2VVbmlvblZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVXRmOFZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGYuVXRmOFZlY3Rvcn19KTt2YXIgZD1iZTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiQnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGQuQnVpbGRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiQmluYXJ5QnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGQuQmluYXJ5QnVpbGRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiQm9vbEJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBkLkJvb2xCdWlsZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJEYXRlQnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGQuRGF0ZUJ1aWxkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkRhdGVEYXlCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZC5EYXRlRGF5QnVpbGRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRGF0ZU1pbGxpc2Vjb25kQnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGQuRGF0ZU1pbGxpc2Vjb25kQnVpbGRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRGVjaW1hbEJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBkLkRlY2ltYWxCdWlsZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJEaWN0aW9uYXJ5QnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGQuRGljdGlvbmFyeUJ1aWxkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkZpeGVkU2l6ZUJpbmFyeUJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBkLkZpeGVkU2l6ZUJpbmFyeUJ1aWxkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkZpeGVkU2l6ZUxpc3RCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZC5GaXhlZFNpemVMaXN0QnVpbGRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRmxvYXRCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZC5GbG9hdEJ1aWxkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkZsb2F0MTZCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZC5GbG9hdDE2QnVpbGRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRmxvYXQzMkJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBkLkZsb2F0MzJCdWlsZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJGbG9hdDY0QnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGQuRmxvYXQ2NEJ1aWxkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkludGVydmFsQnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGQuSW50ZXJ2YWxCdWlsZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJJbnRlcnZhbERheVRpbWVCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZC5JbnRlcnZhbERheVRpbWVCdWlsZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJJbnRlcnZhbFllYXJNb250aEJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBkLkludGVydmFsWWVhck1vbnRoQnVpbGRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiSW50QnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGQuSW50QnVpbGRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiSW50OEJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBkLkludDhCdWlsZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJJbnQxNkJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBkLkludDE2QnVpbGRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiSW50MzJCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZC5JbnQzMkJ1aWxkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkludDY0QnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGQuSW50NjRCdWlsZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJVaW50OEJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBkLlVpbnQ4QnVpbGRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVWludDE2QnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGQuVWludDE2QnVpbGRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVWludDMyQnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGQuVWludDMyQnVpbGRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVWludDY0QnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGQuVWludDY0QnVpbGRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiTGlzdEJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBkLkxpc3RCdWlsZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJNYXBCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZC5NYXBCdWlsZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJOdWxsQnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGQuTnVsbEJ1aWxkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlN0cnVjdEJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBkLlN0cnVjdEJ1aWxkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlRpbWVzdGFtcEJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBkLlRpbWVzdGFtcEJ1aWxkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlRpbWVzdGFtcFNlY29uZEJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBkLlRpbWVzdGFtcFNlY29uZEJ1aWxkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlRpbWVzdGFtcE1pbGxpc2Vjb25kQnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGQuVGltZXN0YW1wTWlsbGlzZWNvbmRCdWlsZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJUaW1lc3RhbXBNaWNyb3NlY29uZEJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBkLlRpbWVzdGFtcE1pY3Jvc2Vjb25kQnVpbGRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVGltZXN0YW1wTmFub3NlY29uZEJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBkLlRpbWVzdGFtcE5hbm9zZWNvbmRCdWlsZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJUaW1lQnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGQuVGltZUJ1aWxkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlRpbWVTZWNvbmRCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZC5UaW1lU2Vjb25kQnVpbGRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVGltZU1pbGxpc2Vjb25kQnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGQuVGltZU1pbGxpc2Vjb25kQnVpbGRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVGltZU1pY3Jvc2Vjb25kQnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGQuVGltZU1pY3Jvc2Vjb25kQnVpbGRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVGltZU5hbm9zZWNvbmRCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZC5UaW1lTmFub3NlY29uZEJ1aWxkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlVuaW9uQnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGQuVW5pb25CdWlsZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJEZW5zZVVuaW9uQnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGQuRGVuc2VVbmlvbkJ1aWxkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlNwYXJzZVVuaW9uQnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGQuU3BhcnNlVW5pb25CdWlsZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJVdGY4QnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGQuVXRmOEJ1aWxkZXJ9fSk7dmFyIHA9VW87T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkJ5dGVTdHJlYW0iLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBwLkJ5dGVTdHJlYW19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkFzeW5jQnl0ZVN0cmVhbSIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHAuQXN5bmNCeXRlU3RyZWFtfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJBc3luY0J5dGVRdWV1ZSIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHAuQXN5bmNCeXRlUXVldWV9fSk7dmFyIHk9eW87T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlJlY29yZEJhdGNoUmVhZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4geS5SZWNvcmRCYXRjaFJlYWRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiUmVjb3JkQmF0Y2hGaWxlUmVhZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4geS5SZWNvcmRCYXRjaEZpbGVSZWFkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlJlY29yZEJhdGNoU3RyZWFtUmVhZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4geS5SZWNvcmRCYXRjaFN0cmVhbVJlYWRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiQXN5bmNSZWNvcmRCYXRjaEZpbGVSZWFkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB5LkFzeW5jUmVjb3JkQmF0Y2hGaWxlUmVhZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJBc3luY1JlY29yZEJhdGNoU3RyZWFtUmVhZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4geS5Bc3luY1JlY29yZEJhdGNoU3RyZWFtUmVhZGVyfX0pO3ZhciBoPXd1O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJSZWNvcmRCYXRjaFdyaXRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGguUmVjb3JkQmF0Y2hXcml0ZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlJlY29yZEJhdGNoRmlsZVdyaXRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGguUmVjb3JkQmF0Y2hGaWxlV3JpdGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJSZWNvcmRCYXRjaFN0cmVhbVdyaXRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGguUmVjb3JkQmF0Y2hTdHJlYW1Xcml0ZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlJlY29yZEJhdGNoSlNPTldyaXRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGguUmVjb3JkQmF0Y2hKU09OV3JpdGVyfX0pO3ZhciBiPU91O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJNZXNzYWdlUmVhZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYi5NZXNzYWdlUmVhZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJBc3luY01lc3NhZ2VSZWFkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBiLkFzeW5jTWVzc2FnZVJlYWRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiSlNPTk1lc3NhZ2VSZWFkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBiLkpTT05NZXNzYWdlUmVhZGVyfX0pO3ZhciB2PVN1O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJNZXNzYWdlIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdi5NZXNzYWdlfX0pO3ZhciBfPXZhO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJSZWNvcmRCYXRjaCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIF8uUmVjb3JkQmF0Y2h9fSk7dmFyIG09TXk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkRhdGFGcmFtZSIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG0uRGF0YUZyYW1lfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJGaWx0ZXJlZERhdGFGcmFtZSIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG0uRmlsdGVyZWREYXRhRnJhbWV9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkNvdW50QnlSZXN1bHQiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBtLkNvdW50QnlSZXN1bHR9fSk7dmFyIGc9TXIsQj1RbyxUPXdlLEk9QnIsdz1HLE89QmEsUz1GeTtlLnByZWRpY2F0ZT1TO3ZhciBBPWhzO2UudXRpbD10Ll9fYXNzaWduKHQuX19hc3NpZ24odC5fX2Fzc2lnbih0Ll9fYXNzaWduKHQuX19hc3NpZ24odC5fX2Fzc2lnbih0Ll9fYXNzaWduKHt9LGcpLEIpLFQpLEkpLHcpLE8pLHtjb21wYXJlU2NoZW1hczpBLmNvbXBhcmVTY2hlbWFzLGNvbXBhcmVGaWVsZHM6QS5jb21wYXJlRmllbGRzLGNvbXBhcmVUeXBlczpBLmNvbXBhcmVUeXBlc30pO3ZhciBEPUdhO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJpc1R5cGVkQXJyYXkiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBELmlzVHlwZWRBcnJheX19KX0oUHkpLGZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLmlzVHlwZWRBcnJheT1lLlV0ZjhCdWlsZGVyPWUuU3BhcnNlVW5pb25CdWlsZGVyPWUuRGVuc2VVbmlvbkJ1aWxkZXI9ZS5VbmlvbkJ1aWxkZXI9ZS5UaW1lTmFub3NlY29uZEJ1aWxkZXI9ZS5UaW1lTWljcm9zZWNvbmRCdWlsZGVyPWUuVGltZU1pbGxpc2Vjb25kQnVpbGRlcj1lLlRpbWVTZWNvbmRCdWlsZGVyPWUuVGltZUJ1aWxkZXI9ZS5UaW1lc3RhbXBOYW5vc2Vjb25kQnVpbGRlcj1lLlRpbWVzdGFtcE1pY3Jvc2Vjb25kQnVpbGRlcj1lLlRpbWVzdGFtcE1pbGxpc2Vjb25kQnVpbGRlcj1lLlRpbWVzdGFtcFNlY29uZEJ1aWxkZXI9ZS5UaW1lc3RhbXBCdWlsZGVyPWUuU3RydWN0QnVpbGRlcj1lLk51bGxCdWlsZGVyPWUuTWFwQnVpbGRlcj1lLkxpc3RCdWlsZGVyPWUuVWludDY0QnVpbGRlcj1lLlVpbnQzMkJ1aWxkZXI9ZS5VaW50MTZCdWlsZGVyPWUuVWludDhCdWlsZGVyPWUuSW50NjRCdWlsZGVyPWUuSW50MzJCdWlsZGVyPWUuSW50MTZCdWlsZGVyPWUuSW50OEJ1aWxkZXI9ZS5JbnRCdWlsZGVyPWUuSW50ZXJ2YWxZZWFyTW9udGhCdWlsZGVyPWUuSW50ZXJ2YWxEYXlUaW1lQnVpbGRlcj1lLkludGVydmFsQnVpbGRlcj1lLkZsb2F0NjRCdWlsZGVyPWUuRmxvYXQzMkJ1aWxkZXI9ZS5GbG9hdDE2QnVpbGRlcj1lLkZsb2F0QnVpbGRlcj1lLkZpeGVkU2l6ZUxpc3RCdWlsZGVyPWUuRml4ZWRTaXplQmluYXJ5QnVpbGRlcj1lLkRpY3Rpb25hcnlCdWlsZGVyPWUuRGVjaW1hbEJ1aWxkZXI9ZS5EYXRlTWlsbGlzZWNvbmRCdWlsZGVyPWUuRGF0ZURheUJ1aWxkZXI9ZS5EYXRlQnVpbGRlcj1lLkJvb2xCdWlsZGVyPWUuQmluYXJ5QnVpbGRlcj1lLkJ1aWxkZXI9ZS51dGlsPWUucHJlZGljYXRlPWUuQ291bnRCeVJlc3VsdD1lLkZpbHRlcmVkRGF0YUZyYW1lPWUuRGF0YUZyYW1lPWUuUmVjb3JkQmF0Y2g9ZS5NZXNzYWdlPWUuSlNPTk1lc3NhZ2VSZWFkZXI9ZS5Bc3luY01lc3NhZ2VSZWFkZXI9ZS5NZXNzYWdlUmVhZGVyPWUuUmVjb3JkQmF0Y2hKU09OV3JpdGVyPWUuUmVjb3JkQmF0Y2hTdHJlYW1Xcml0ZXI9ZS5SZWNvcmRCYXRjaEZpbGVXcml0ZXI9ZS5SZWNvcmRCYXRjaFdyaXRlcj1lLkFzeW5jUmVjb3JkQmF0Y2hTdHJlYW1SZWFkZXI9ZS5Bc3luY1JlY29yZEJhdGNoRmlsZVJlYWRlcj1lLlJlY29yZEJhdGNoU3RyZWFtUmVhZGVyPWUuUmVjb3JkQmF0Y2hGaWxlUmVhZGVyPWUuUmVjb3JkQmF0Y2hSZWFkZXI9ZS5Bc3luY0J5dGVRdWV1ZT1lLkFzeW5jQnl0ZVN0cmVhbT1lLkJ5dGVTdHJlYW09ZS5VdGY4VmVjdG9yPWUuU3BhcnNlVW5pb25WZWN0b3I9ZS5EZW5zZVVuaW9uVmVjdG9yPWUuVW5pb25WZWN0b3I9ZS5UaW1lTmFub3NlY29uZFZlY3Rvcj1lLlRpbWVNaWNyb3NlY29uZFZlY3Rvcj1lLlRpbWVNaWxsaXNlY29uZFZlY3Rvcj1lLlRpbWVTZWNvbmRWZWN0b3I9ZS5UaW1lVmVjdG9yPWUuVGltZXN0YW1wTmFub3NlY29uZFZlY3Rvcj1lLlRpbWVzdGFtcE1pY3Jvc2Vjb25kVmVjdG9yPWUuVGltZXN0YW1wTWlsbGlzZWNvbmRWZWN0b3I9ZS5UaW1lc3RhbXBTZWNvbmRWZWN0b3I9ZS5UaW1lc3RhbXBWZWN0b3I9ZS5TdHJ1Y3RWZWN0b3I9ZS5OdWxsVmVjdG9yPWUuTWFwVmVjdG9yPWUuTGlzdFZlY3Rvcj1lLlVpbnQ2NFZlY3Rvcj1lLlVpbnQzMlZlY3Rvcj1lLlVpbnQxNlZlY3Rvcj1lLlVpbnQ4VmVjdG9yPWUuSW50NjRWZWN0b3I9ZS5JbnQzMlZlY3Rvcj1lLkludDE2VmVjdG9yPWUuSW50OFZlY3Rvcj1lLkludFZlY3Rvcj1lLkludGVydmFsWWVhck1vbnRoVmVjdG9yPWUuSW50ZXJ2YWxEYXlUaW1lVmVjdG9yPWUuSW50ZXJ2YWxWZWN0b3I9ZS5GbG9hdDY0VmVjdG9yPWUuRmxvYXQzMlZlY3Rvcj1lLkZsb2F0MTZWZWN0b3I9ZS5GbG9hdFZlY3Rvcj1lLkZpeGVkU2l6ZUxpc3RWZWN0b3I9ZS5GaXhlZFNpemVCaW5hcnlWZWN0b3I9ZS5EaWN0aW9uYXJ5VmVjdG9yPWUuRGVjaW1hbFZlY3Rvcj1lLkRhdGVNaWxsaXNlY29uZFZlY3Rvcj1lLkRhdGVEYXlWZWN0b3I9ZS5EYXRlVmVjdG9yPWUuQ2h1bmtlZD1lLkJvb2xWZWN0b3I9ZS5CaW5hcnlWZWN0b3I9ZS5CYXNlVmVjdG9yPWUuVmVjdG9yPWUuVmlzaXRvcj1lLkZpZWxkPWUuU2NoZW1hPWUuQ29sdW1uPWUuVGFibGU9ZS5NYXBfPWUuRml4ZWRTaXplTGlzdD1lLkludGVydmFsWWVhck1vbnRoPWUuSW50ZXJ2YWxEYXlUaW1lPWUuSW50ZXJ2YWw9ZS5EaWN0aW9uYXJ5PWUuU3BhcnNlVW5pb249ZS5EZW5zZVVuaW9uPWUuVW5pb249ZS5TdHJ1Y3Q9ZS5MaXN0PWUuRGVjaW1hbD1lLlRpbWVOYW5vc2Vjb25kPWUuVGltZU1pY3Jvc2Vjb25kPWUuVGltZU1pbGxpc2Vjb25kPWUuVGltZVNlY29uZD1lLlRpbWU9ZS5UaW1lc3RhbXBOYW5vc2Vjb25kPWUuVGltZXN0YW1wTWljcm9zZWNvbmQ9ZS5UaW1lc3RhbXBNaWxsaXNlY29uZD1lLlRpbWVzdGFtcFNlY29uZD1lLlRpbWVzdGFtcD1lLkRhdGVNaWxsaXNlY29uZD1lLkRhdGVEYXk9ZS5EYXRlXz1lLkZpeGVkU2l6ZUJpbmFyeT1lLkJpbmFyeT1lLlV0Zjg9ZS5GbG9hdDY0PWUuRmxvYXQzMj1lLkZsb2F0MTY9ZS5GbG9hdD1lLlVpbnQ2ND1lLlVpbnQzMj1lLlVpbnQxNj1lLlVpbnQ4PWUuSW50NjQ9ZS5JbnQzMj1lLkludDE2PWUuSW50OD1lLkludD1lLkJvb2w9ZS5OdWxsPWUuRGF0YVR5cGU9ZS5EYXRhPWUuQnVmZmVyVHlwZT1lLlVuaW9uTW9kZT1lLlR5cGU9ZS5UaW1lVW5pdD1lLlByZWNpc2lvbj1lLk1ldGFkYXRhVmVyc2lvbj1lLk1lc3NhZ2VIZWFkZXI9ZS5JbnRlcnZhbFVuaXQ9ZS5EYXRlVW5pdD12b2lkIDA7dmFyIHQ9YmUscj15byxuPXd1LGk9cHksbz12eSxhPUl5LHU9QXk7WS5kZWZhdWx0LnRvRE9NU3RyZWFtPWkudG9ET01TdHJlYW0sdC5CdWlsZGVyLnRocm91Z2hET009by5idWlsZGVyVGhyb3VnaERPTVN0cmVhbSxyLlJlY29yZEJhdGNoUmVhZGVyLnRocm91Z2hET009YS5yZWNvcmRCYXRjaFJlYWRlclRocm91Z2hET01TdHJlYW0sci5SZWNvcmRCYXRjaEZpbGVSZWFkZXIudGhyb3VnaERPTT1hLnJlY29yZEJhdGNoUmVhZGVyVGhyb3VnaERPTVN0cmVhbSxyLlJlY29yZEJhdGNoU3RyZWFtUmVhZGVyLnRocm91Z2hET009YS5yZWNvcmRCYXRjaFJlYWRlclRocm91Z2hET01TdHJlYW0sbi5SZWNvcmRCYXRjaFdyaXRlci50aHJvdWdoRE9NPXUucmVjb3JkQmF0Y2hXcml0ZXJUaHJvdWdoRE9NU3RyZWFtLG4uUmVjb3JkQmF0Y2hGaWxlV3JpdGVyLnRocm91Z2hET009dS5yZWNvcmRCYXRjaFdyaXRlclRocm91Z2hET01TdHJlYW0sbi5SZWNvcmRCYXRjaFN0cmVhbVdyaXRlci50aHJvdWdoRE9NPXUucmVjb3JkQmF0Y2hXcml0ZXJUaHJvdWdoRE9NU3RyZWFtO3ZhciBzPVB5O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJEYXRlVW5pdCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuRGF0ZVVuaXR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkludGVydmFsVW5pdCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuSW50ZXJ2YWxVbml0fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJNZXNzYWdlSGVhZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5NZXNzYWdlSGVhZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJNZXRhZGF0YVZlcnNpb24iLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLk1ldGFkYXRhVmVyc2lvbn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiUHJlY2lzaW9uIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5QcmVjaXNpb259fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlRpbWVVbml0Iix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5UaW1lVW5pdH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVHlwZSIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuVHlwZX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVW5pb25Nb2RlIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5Vbmlvbk1vZGV9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkJ1ZmZlclR5cGUiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLkJ1ZmZlclR5cGV9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkRhdGEiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLkRhdGF9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkRhdGFUeXBlIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5EYXRhVHlwZX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiTnVsbCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuTnVsbH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiQm9vbCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuQm9vbH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiSW50Iix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5JbnR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkludDgiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLkludDh9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkludDE2Iix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5JbnQxNn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiSW50MzIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLkludDMyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJJbnQ2NCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuSW50NjR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlVpbnQ4Iix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5VaW50OH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVWludDE2Iix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5VaW50MTZ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlVpbnQzMiIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuVWludDMyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJVaW50NjQiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLlVpbnQ2NH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRmxvYXQiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLkZsb2F0fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJGbG9hdDE2Iix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5GbG9hdDE2fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJGbG9hdDMyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5GbG9hdDMyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJGbG9hdDY0Iix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5GbG9hdDY0fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJVdGY4Iix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5VdGY4fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJCaW5hcnkiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLkJpbmFyeX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRml4ZWRTaXplQmluYXJ5Iix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5GaXhlZFNpemVCaW5hcnl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkRhdGVfIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5EYXRlX319KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRGF0ZURheSIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuRGF0ZURheX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRGF0ZU1pbGxpc2Vjb25kIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5EYXRlTWlsbGlzZWNvbmR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlRpbWVzdGFtcCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuVGltZXN0YW1wfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJUaW1lc3RhbXBTZWNvbmQiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLlRpbWVzdGFtcFNlY29uZH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVGltZXN0YW1wTWlsbGlzZWNvbmQiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLlRpbWVzdGFtcE1pbGxpc2Vjb25kfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJUaW1lc3RhbXBNaWNyb3NlY29uZCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuVGltZXN0YW1wTWljcm9zZWNvbmR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlRpbWVzdGFtcE5hbm9zZWNvbmQiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLlRpbWVzdGFtcE5hbm9zZWNvbmR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlRpbWUiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLlRpbWV9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlRpbWVTZWNvbmQiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLlRpbWVTZWNvbmR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlRpbWVNaWxsaXNlY29uZCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuVGltZU1pbGxpc2Vjb25kfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJUaW1lTWljcm9zZWNvbmQiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLlRpbWVNaWNyb3NlY29uZH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVGltZU5hbm9zZWNvbmQiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLlRpbWVOYW5vc2Vjb25kfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJEZWNpbWFsIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5EZWNpbWFsfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJMaXN0Iix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5MaXN0fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJTdHJ1Y3QiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLlN0cnVjdH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVW5pb24iLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLlVuaW9ufX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJEZW5zZVVuaW9uIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5EZW5zZVVuaW9ufX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJTcGFyc2VVbmlvbiIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuU3BhcnNlVW5pb259fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkRpY3Rpb25hcnkiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLkRpY3Rpb25hcnl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkludGVydmFsIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5JbnRlcnZhbH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiSW50ZXJ2YWxEYXlUaW1lIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5JbnRlcnZhbERheVRpbWV9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkludGVydmFsWWVhck1vbnRoIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5JbnRlcnZhbFllYXJNb250aH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRml4ZWRTaXplTGlzdCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuRml4ZWRTaXplTGlzdH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiTWFwXyIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuTWFwX319KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVGFibGUiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLlRhYmxlfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJDb2x1bW4iLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLkNvbHVtbn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiU2NoZW1hIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5TY2hlbWF9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkZpZWxkIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5GaWVsZH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVmlzaXRvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuVmlzaXRvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5WZWN0b3J9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkJhc2VWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLkJhc2VWZWN0b3J9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkJpbmFyeVZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuQmluYXJ5VmVjdG9yfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJCb29sVmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5Cb29sVmVjdG9yfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJDaHVua2VkIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5DaHVua2VkfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJEYXRlVmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5EYXRlVmVjdG9yfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJEYXRlRGF5VmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5EYXRlRGF5VmVjdG9yfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJEYXRlTWlsbGlzZWNvbmRWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLkRhdGVNaWxsaXNlY29uZFZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRGVjaW1hbFZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuRGVjaW1hbFZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRGljdGlvbmFyeVZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuRGljdGlvbmFyeVZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRml4ZWRTaXplQmluYXJ5VmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5GaXhlZFNpemVCaW5hcnlWZWN0b3J9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkZpeGVkU2l6ZUxpc3RWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLkZpeGVkU2l6ZUxpc3RWZWN0b3J9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkZsb2F0VmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5GbG9hdFZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRmxvYXQxNlZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuRmxvYXQxNlZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRmxvYXQzMlZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuRmxvYXQzMlZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRmxvYXQ2NFZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuRmxvYXQ2NFZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiSW50ZXJ2YWxWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLkludGVydmFsVmVjdG9yfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJJbnRlcnZhbERheVRpbWVWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLkludGVydmFsRGF5VGltZVZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiSW50ZXJ2YWxZZWFyTW9udGhWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLkludGVydmFsWWVhck1vbnRoVmVjdG9yfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJJbnRWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLkludFZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiSW50OFZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuSW50OFZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiSW50MTZWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLkludDE2VmVjdG9yfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJJbnQzMlZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuSW50MzJWZWN0b3J9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkludDY0VmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5JbnQ2NFZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVWludDhWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLlVpbnQ4VmVjdG9yfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJVaW50MTZWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLlVpbnQxNlZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVWludDMyVmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5VaW50MzJWZWN0b3J9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlVpbnQ2NFZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuVWludDY0VmVjdG9yfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJMaXN0VmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5MaXN0VmVjdG9yfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJNYXBWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLk1hcFZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiTnVsbFZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuTnVsbFZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiU3RydWN0VmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5TdHJ1Y3RWZWN0b3J9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlRpbWVzdGFtcFZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuVGltZXN0YW1wVmVjdG9yfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJUaW1lc3RhbXBTZWNvbmRWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLlRpbWVzdGFtcFNlY29uZFZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVGltZXN0YW1wTWlsbGlzZWNvbmRWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLlRpbWVzdGFtcE1pbGxpc2Vjb25kVmVjdG9yfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJUaW1lc3RhbXBNaWNyb3NlY29uZFZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuVGltZXN0YW1wTWljcm9zZWNvbmRWZWN0b3J9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlRpbWVzdGFtcE5hbm9zZWNvbmRWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLlRpbWVzdGFtcE5hbm9zZWNvbmRWZWN0b3J9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlRpbWVWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLlRpbWVWZWN0b3J9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlRpbWVTZWNvbmRWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLlRpbWVTZWNvbmRWZWN0b3J9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlRpbWVNaWxsaXNlY29uZFZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuVGltZU1pbGxpc2Vjb25kVmVjdG9yfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJUaW1lTWljcm9zZWNvbmRWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLlRpbWVNaWNyb3NlY29uZFZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVGltZU5hbm9zZWNvbmRWZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLlRpbWVOYW5vc2Vjb25kVmVjdG9yfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJVbmlvblZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuVW5pb25WZWN0b3J9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkRlbnNlVW5pb25WZWN0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLkRlbnNlVW5pb25WZWN0b3J9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlNwYXJzZVVuaW9uVmVjdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5TcGFyc2VVbmlvblZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVXRmOFZlY3RvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuVXRmOFZlY3Rvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiQnl0ZVN0cmVhbSIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuQnl0ZVN0cmVhbX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiQXN5bmNCeXRlU3RyZWFtIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5Bc3luY0J5dGVTdHJlYW19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkFzeW5jQnl0ZVF1ZXVlIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5Bc3luY0J5dGVRdWV1ZX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiUmVjb3JkQmF0Y2hSZWFkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLlJlY29yZEJhdGNoUmVhZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJSZWNvcmRCYXRjaEZpbGVSZWFkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLlJlY29yZEJhdGNoRmlsZVJlYWRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiUmVjb3JkQmF0Y2hTdHJlYW1SZWFkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLlJlY29yZEJhdGNoU3RyZWFtUmVhZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJBc3luY1JlY29yZEJhdGNoRmlsZVJlYWRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuQXN5bmNSZWNvcmRCYXRjaEZpbGVSZWFkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkFzeW5jUmVjb3JkQmF0Y2hTdHJlYW1SZWFkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLkFzeW5jUmVjb3JkQmF0Y2hTdHJlYW1SZWFkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlJlY29yZEJhdGNoV3JpdGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5SZWNvcmRCYXRjaFdyaXRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiUmVjb3JkQmF0Y2hGaWxlV3JpdGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5SZWNvcmRCYXRjaEZpbGVXcml0ZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlJlY29yZEJhdGNoU3RyZWFtV3JpdGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5SZWNvcmRCYXRjaFN0cmVhbVdyaXRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiUmVjb3JkQmF0Y2hKU09OV3JpdGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5SZWNvcmRCYXRjaEpTT05Xcml0ZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIk1lc3NhZ2VSZWFkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLk1lc3NhZ2VSZWFkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkFzeW5jTWVzc2FnZVJlYWRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuQXN5bmNNZXNzYWdlUmVhZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJKU09OTWVzc2FnZVJlYWRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuSlNPTk1lc3NhZ2VSZWFkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIk1lc3NhZ2UiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLk1lc3NhZ2V9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlJlY29yZEJhdGNoIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5SZWNvcmRCYXRjaH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRGF0YUZyYW1lIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5EYXRhRnJhbWV9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkZpbHRlcmVkRGF0YUZyYW1lIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5GaWx0ZXJlZERhdGFGcmFtZX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiQ291bnRCeVJlc3VsdCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuQ291bnRCeVJlc3VsdH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwicHJlZGljYXRlIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5wcmVkaWNhdGV9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsInV0aWwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLnV0aWx9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLkJ1aWxkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkJpbmFyeUJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLkJpbmFyeUJ1aWxkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkJvb2xCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5Cb29sQnVpbGRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRGF0ZUJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLkRhdGVCdWlsZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJEYXRlRGF5QnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuRGF0ZURheUJ1aWxkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkRhdGVNaWxsaXNlY29uZEJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLkRhdGVNaWxsaXNlY29uZEJ1aWxkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkRlY2ltYWxCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5EZWNpbWFsQnVpbGRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRGljdGlvbmFyeUJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLkRpY3Rpb25hcnlCdWlsZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJGaXhlZFNpemVCaW5hcnlCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5GaXhlZFNpemVCaW5hcnlCdWlsZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJGaXhlZFNpemVMaXN0QnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuRml4ZWRTaXplTGlzdEJ1aWxkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkZsb2F0QnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuRmxvYXRCdWlsZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJGbG9hdDE2QnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuRmxvYXQxNkJ1aWxkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkZsb2F0MzJCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5GbG9hdDMyQnVpbGRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRmxvYXQ2NEJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLkZsb2F0NjRCdWlsZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJJbnRlcnZhbEJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLkludGVydmFsQnVpbGRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiSW50ZXJ2YWxEYXlUaW1lQnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuSW50ZXJ2YWxEYXlUaW1lQnVpbGRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiSW50ZXJ2YWxZZWFyTW9udGhCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5JbnRlcnZhbFllYXJNb250aEJ1aWxkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkludEJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLkludEJ1aWxkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkludDhCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5JbnQ4QnVpbGRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiSW50MTZCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5JbnQxNkJ1aWxkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkludDMyQnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuSW50MzJCdWlsZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJJbnQ2NEJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLkludDY0QnVpbGRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVWludDhCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5VaW50OEJ1aWxkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlVpbnQxNkJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLlVpbnQxNkJ1aWxkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlVpbnQzMkJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLlVpbnQzMkJ1aWxkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlVpbnQ2NEJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLlVpbnQ2NEJ1aWxkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkxpc3RCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5MaXN0QnVpbGRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiTWFwQnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuTWFwQnVpbGRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiTnVsbEJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLk51bGxCdWlsZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJTdHJ1Y3RCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5TdHJ1Y3RCdWlsZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJUaW1lc3RhbXBCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5UaW1lc3RhbXBCdWlsZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJUaW1lc3RhbXBTZWNvbmRCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5UaW1lc3RhbXBTZWNvbmRCdWlsZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJUaW1lc3RhbXBNaWxsaXNlY29uZEJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLlRpbWVzdGFtcE1pbGxpc2Vjb25kQnVpbGRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVGltZXN0YW1wTWljcm9zZWNvbmRCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5UaW1lc3RhbXBNaWNyb3NlY29uZEJ1aWxkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlRpbWVzdGFtcE5hbm9zZWNvbmRCdWlsZGVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5UaW1lc3RhbXBOYW5vc2Vjb25kQnVpbGRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVGltZUJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLlRpbWVCdWlsZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJUaW1lU2Vjb25kQnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuVGltZVNlY29uZEJ1aWxkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlRpbWVNaWxsaXNlY29uZEJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLlRpbWVNaWxsaXNlY29uZEJ1aWxkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlRpbWVNaWNyb3NlY29uZEJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLlRpbWVNaWNyb3NlY29uZEJ1aWxkZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlRpbWVOYW5vc2Vjb25kQnVpbGRlciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuVGltZU5hbm9zZWNvbmRCdWlsZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJVbmlvbkJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLlVuaW9uQnVpbGRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRGVuc2VVbmlvbkJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLkRlbnNlVW5pb25CdWlsZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJTcGFyc2VVbmlvbkJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLlNwYXJzZVVuaW9uQnVpbGRlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVXRmOEJ1aWxkZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLlV0ZjhCdWlsZGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJpc1R5cGVkQXJyYXkiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLmlzVHlwZWRBcnJheX19KX0oVyk7ZnVuY3Rpb24gYWgoZSl7Y29uc3QgdD1XLlRhYmxlLmZyb20oZSkscj17fTtmb3IoY29uc3QgbiBvZiB0LnNjaGVtYS5maWVsZHMpaWYobi50eXBlLmRpY3Rpb25hcnkpe3Jbbi5uYW1lXT1uZXcgTWFwO2NvbnN0IGU9dC5nZXRDb2x1bW4obi5uYW1lKS5kaWN0aW9uYXJ5LnRvQXJyYXkoKTtsZXQgaT0wO2Zvcihjb25zdCB0IG9mIGUpcltuLm5hbWVdLnNldChpLHQpLGkrK31yZXR1cm4gcn1mdW5jdGlvbiB1aChlLHQscil7Y29uc3Qgbj1XLlRhYmxlLmZyb20odCksaT1uZXcgTWFwLG89bmV3IE1hcDtmb3IoY29uc3RbcCx5XW9mIE9iamVjdC5lbnRyaWVzKGUpKWkuc2V0KHAsQXJyYXkobi5sZW5ndGgpKSxvLnNldChwLEZ1bmN0aW9uKCJkYXR1bSIseSkpO2xldCBhPTA7Zm9yKGNvbnN0IHAgb2Ygbil7Zm9yKGNvbnN0W2UsdF1vZiBvKWkuZ2V0KGUpW2FdPXQocCk7YSsrfWNvbnN0IHU9e307Zm9yKGNvbnN0e25hbWU6cCx0eXBlSWQ6eX1vZiBuLnNjaGVtYS5maWVsZHMpaWYoIW8uaGFzKHApKXtjb25zdCBlPW4uZ2V0Q29sdW1uKHApO2lmKCJpeCI9PT1wKXVbcF09b2goZSk7ZWxzZSBpZigieCIhPT1wJiYieSIhPT1wfHwzPT09eSl1W3BdPWU7ZWxzZXtjb25zdCB0PW5ldyBGbG9hdDMyQXJyYXkobi5sZW5ndGgpLFtpLG9dPUpTT04ucGFyc2Uoci5nZXQoImV4dGVudCIpKVtwXSxhPW8taTtmb3IobGV0IHI9MDtyPG4ubGVuZ3RoO3IrKyl0W3JdPWUuZ2V0KHIpLzY1NTM2KmEraTt1W3BdPW9oKHQpfWlmKGUuZGljdGlvbmFyeSl7Y29uc3QgdD1uZXcgRmxvYXQzMkFycmF5KG4ubGVuZ3RoKTtmb3IobGV0IHI9MDtyPG4ubGVuZ3RoO3IrKyl0W3JdPWUuaW5kaWNlcy5nZXQociktMjA0Nzt1W2Ake3B9X2RpY3RfaW5kZXhgXT1vaCh0KX19bGV0IHM9TWF0aC5tYXgoLi4ubi5zY2hlbWEuZGljdGlvbmFyaWVzLmtleXMoKSk7czwwJiYocz0tMSk7Zm9yKGNvbnN0W3AseV1vZiBpKXtsZXQgZTsic3RyaW5nIj09dHlwZW9mIHlbMF0/KHMrKyxjPXksbD1zLGU9Vy5WZWN0b3IuZnJvbSh7dmFsdWVzOmMsdHlwZTpuZXcgVy5EaWN0aW9uYXJ5KG5ldyBXLlV0ZjgsbmV3IFcuVWludDMyLGwpLGhpZ2hXYXRlck1hcms6MWU2fSkpOmU9b2goeSksdVtwXT1lfXZhciBjLGw7Y29uc3QgZj1XLlRhYmxlLm5ldyh1KSx7YnVmZmVyOmR9PWYuc2VyaWFsaXplKCk7cmV0dXJuIGR9YSh7ZmV0Y2g6KGUsdCk9PmZldGNoKGUpLnRoZW4oKGU9PmUuYXJyYXlCdWZmZXIoKSkpLnRoZW4oKGU9Pntjb25zdCByPVcuVGFibGUuZnJvbShlKSx7bWV0YWRhdGE6bn09ci5zY2hlbWE7bGV0IGk7T2JqZWN0LmtleXModCkubGVuZ3RoLGk9dWgodCxlLG4pO2NvbnN0IG89YWgoaSk7cmV0dXJuW2QoaSxbaV0pLG4sb119KSkscnVuX3RyYW5zZm9ybXMoZSx0KXtjb25zdCByPXVoKGUsdCksbj1haChyKTtyZXR1cm5bZChyLFtyXSksbl19fSl9KCk7Cg==")],{type:"text/javascript;charset=utf-8"});function jR(){const e=(window.URL||window.webkitURL).createObjectURL(CR);try{return new Worker(e)}finally{(window.URL||window.webkitURL).revokeObjectURL(e)}}class zR extends class{download_to_depth(){}}{constructor(){super(),this.max_ix=void 0,this.promise=Promise.resolve(1),this.download_state="Unattempted"}get dictionary_lookups(){return this.parent.dictionary_lookups}is_visible(e,t){if(this.min_ix>e)return!1;if(void 0===t)return!1;const n=this.extent;return!(n.x[0]>t.x[1]||n.x[1]<t.x[0]||n.y[0]>t.y[1]||n.y[1]<t.y[0])}get tileWorker(){return this.parent.tileWorker}get needed_mutations(){this._current_mutations=this._current_mutations||{};const e={};for(const[t,n]of Object.entries(this.mutations)){n!==this._current_mutations[t]&&(e[t]=n)}return e}apply_mutations_once(){const{needed_mutations:e}=this;return 0===Object.keys(e).length?Promise.resolve("complete"):void 0===e?Promise.resolve("deferred"):this.extend_promise((()=>(this._table=void 0,this.tileWorker.run_transforms(e,BR(this._table_buffer,[this._table_buffer])).then((([t,n])=>(this._table_buffer=t,Object.assign(this._current_mutations,e),this.local_dictionary_lookups=n,this.update_master_dictionary_lookups(),"changed"))))))}*points(e,t=!1){if(this.is_visible(1e100,e)){for(const t of this)PR([t.x,t.y],e)&&(yield t);if(0==t){for(const n of this.children)if(n.ready)for(const l of n.points(e,t))PR([l.x,l.y],e)&&(yield l)}else{let n=this.children.map((n=>{const l={t:n,iterator:n.points(e,t)};return l.next=l.iterator.next(),l}));for(n=n.filter((e=>e.next.value));n.length>0;){let e=0;for(let t=1;t<n.length;t++)n[t].next.value.ix<n[e].next.value.ix&&(e=t);yield n[e].next.value,n[e].next=n[e].iterator.next(),n[e].next.done&&(n=n.splice(e,1))}}}}forEach(e){for(const t of this.points())void 0!==t&&e(t)}set highest_known_ix(e){(null==this._highest_known_ix||this._highest_known_ix<e)&&(this._highest_known_ix=e,this.parent&&(this.parent.highest_known_ix=e))}get highest_known_ix(){return this._highest_known_ix}get table(){return this._table?this._table:this._table_buffer&&this._table_buffer.byteLength>0?(console.log("BYTES",this._table_buffer.byteLength),this._table=ou.Table.from(this._table_buffer)):void 0}get min_ix(){return void 0!==this._min_ix?this._min_ix:this.parent?this.parent.max_ix+1:void 0}get schema(){return this.download().then((e=>this._schema))}extend_promise(e){return this.promise=this.promise.then((()=>e())),this.promise}get ready(){return this._table_buffer&&this._table_buffer.byteLength>0}find_closest(e,t=1/0,n){let l,i=t;return this.visit((t=>{if(!(function(e,t,n){if(void 0===e)return parseFloat("inf");const l=Math.max(e.x[0]-t,0,t-e.x[1]),i=Math.max(e.y[0]-n,0,n-e.y[1]);return Math.sqrt(l*l+i*i)}(t.extent,e[0],e[1])>i)&&(t._kdtree||t.kdtree(),t._kdtree)){const r=t._kdtree.find(e[0],e[1],i,n);if(r){const t=Math.sqrt((r.x-e[0])**2+(r.y-e[1])**2);l=r,i=t}}})),l}get _schema(){if(this.__schema)return this.__schema;const e=[];for(const t of this.table.schema.fields){const{name:n,type:l,nullable:i}=t;l&&5==l.typeId&&e.push({name:n,type:"string"}),l&&l.dictionary&&e.push({name:n,type:"dictionary",keys:this.table.getColumn(n).data.dictionary.toArray(),extent:[-2047,this.table.getColumn(n).data.dictionary.length-2047]}),l&&8==l.typeId&&e.push({name:n,type:"date",extent:We(this.table.getColumn(n).data.values)}),l&&3==l.typeId&&e.push({name:n,type:"float",extent:We(this.table.getColumn(n).data.values)})}return this.__schema=e,e}*yielder(){for(const e of this.table)e&&(yield e)}update_master_dictionary_lookups(){const e=this.local_dictionary_lookups;for(const[t,n]of Object.entries(e)){this.dictionary_lookups[t]=this.dictionary_lookups[t]||new Map;const e=this.dictionary_lookups[t];let l=0;for(const[i,r]of n.entries())e.has(r)||(l=e.size/2,e.set(l,r),e.set(r,l)),this.dictionary_lookups[t]}this.dictionary_lookups}get theoretical_extent(){const e=this.root_extent,[t,n,l]=this.codes,i=(e.x[1]-e.x[0])/2**t,r=(e.y[1]-e.y[0])/2**t;return{x:[e.x[0]+n*i,e.x[0]+(n+1)*i],y:[e.y[0]+l*r,e.y[0]+(l+1)*r]}}get extent(){return this._extent?this._extent:this.theoretical_extent}get mutations(){return this.parent.mutations}[Symbol.iterator](){return this.yielder()}count(...e){const t=[];for(const l of e)t.push(this.table.getColumn(l));const n=new wR;for(let l=0;l<this.table.length;l++){const e=t.map((e=>e.get(l)));n.inc(...e)}return n}get root_extent(){return this.parent.root_extent}}class QR extends zR{constructor(e,t,n,l){super(),this.url=e,this.parent=n,void 0===n&&(this._mutations=l.mutate),this.key=t,this.codes=this.key.split("/").map((e=>+e)),this.class=new.target}download_to_depth(e,t={x:[-1,1],y:[-1,1]},n=!1){if(this.max_ix<e&&this.is_visible(e,t)&&!n){const n=this.children.map((e=>e.download()));if(this._children)for(const l of this._children)n.concat(l.download_to_depth(e,t,!1));return Promise.all(n)}return this.download().then((()=>{if(this.max_ix<e&&this.is_visible(e,t)&&n){const n=this.children.map((n=>n.download_to_depth(e,t)));return Promise.all(n).then((e=>this))}return this}))}download(){if(this._download)return this._download;if(this._already_called)throw"Illegally attempting to download twice";this._already_called=!0;const e=this.url.match("//")?`${this.url}/${this.key}.feather`:`${window.location.origin}/${this.url}/${this.key}.feather`;return this.download_state="In progress",this._download=this.tileWorker.fetch(e,this.needed_mutations).catch((e=>{throw this.download_state="Errored",e})).then((([e,t,n])=>(this.download_state="Complete",this._current_mutations=JSON.parse(JSON.stringify(this.needed_mutations)),this._table_buffer=e,this._table=ou.Table.from(e),this._extent=JSON.parse(t.get("extent")),this.child_locations=JSON.parse(t.get("children")),this._min_ix=this.table.getColumn("ix").get(0),this.max_ix=this.table.getColumn("ix").get(this.table.length-1),this.highest_known_ix=this.max_ix,this._current_mutations=JSON.parse(JSON.stringify(this.needed_mutations)),this.local_dictionary_lookups=n,this.update_master_dictionary_lookups(),this.table))),this._download}get children(){if(void 0!==this._children)return this._children;if("Complete"!==this.download_state)return[];this._children=[];for(const e of this.child_locations)this._children.push(new this.class(this.url,e,this));return this._children}}class MR extends QR{constructor(e,t={}){let n;if(e.match(/(\/[0-9]+){3}/)){const t=e.split("/");e=t.slice(0,-3).join("/"),n=t.slice(-3).join("/")}else n="0/0/0";super(e,n,void 0,t),this.extend_promise((()=>this.download())),this._min_ix=1}get root_extent(){if(this._extent)return this._extent}log_tiles(e=1,t=(e=>`${e.children.length}`)){const n=[],l=Ke(2**e);for(const i of l){n[i]=[];for(const e of l)n[i][e]=" ";n[i][2**e]="|"}n[2**e]=Array(2**e+1).fill("-"),this.visit((l=>{const[i,r,a]=l.key.split("/").map((e=>+e));i===e&&(n[a][r]="_",n[a][r]=t(l))})),n.map((e=>e.join("")))}download_most_needed_tiles(e,t,n=4){this._download_queue||(this._download_queue=new Set);const l=this._download_queue;if(l.size>=n)return;const i=[];this.visit((t=>{const n=function(e,t){const n=e.extent;n.x[0]>t.x[1]||n.x[1]<t.x[0]||n.y[0]>t.y[1]||(n.y[1],t.y[0]);const l={x:[He([t.x[0],n.x[0]]),Ue([t.x[1],n.x[1]])],y:[He([t.y[0],n.y[0]]),Ue([t.y[1],n.y[1]])]},{x:i,y:r}=l;let a=0;i[0]>i[1]&&(a-=1);r[0]>r[1]&&(a-=2);if(a<0)return a;return ER(l)/ER(t)}(t,e);i.push([n,t,e,t.download_state])})),i.sort(((e,t)=>e[0]-t[0]));for(const[r,a,c,u]of i);for(;i.length&&l.size<n;){const[e,n,r,a]=i.pop();n.min_ix>t||e<0||"Unattempted"===n.download_state&&(l.add(n.key),n.download().catch((e=>{throw console.warn("Error on",n.key),l.delete(n.key),e})).then((()=>l.delete(n.key))))}}get children(){if(void 0!==this._children)return this._children;if("Complete"!==this.download_state)return[];this._children=[];for(const e of this.child_locations)this._children.push(new QR(this.url,e,this));return this._children}get mutations(){return this._mutations?this._mutations:this._mutations={}}findPoint(e){return this.map((e=>e)).filter((t=>t.table&&t.min_ix<=e&&t.max_ix>=e)).map((t=>{const n=Xe(t.table.getColumn("ix").data.values,e);return t.table.get(n)&&t.table.get(n).ix===e?t.table.get(n):null})).filter((e=>e))}apply_mutations(e,t=!1){Object.assign(this.mutations,e);const n=this.map((t=>t.apply_mutations_once(e)));return t?n:Promise.all(n)}get dictionary_lookups(){return this._dictionary_lookups?this._dictionary_lookups:this._dictionary_lookups={}}get tileWorker(){if(void 0!==this._tileWorkers)return this._tileWorkers.unshift(this._tileWorkers.pop()),this._tileWorkers[0];this._tileWorkers=[];for(const e of Ke(8))console.log(`Allocating worker ${e}`),this._tileWorkers.push(UR(new jR));return this._tileWorkers[0]}map(e,t=!1){const n=[];return this.visit((t=>{n.push(e(t))}),t=t),n}visit(e,t=!1,n=(()=>!0)){const l=[this],i=[];let r;for(;r=l.shift();)t?i.push(r):e(r),n(r)&&"Complete"==r.download_state&&l.push(...r.children);if(t)for(;r=i.pop();)e(r)}}function PR(e,t){return void 0===t||e[0]<t.x[1]&&e[0]>t.x[0]&&e[1]<t.y[1]&&e[1]>t.y[0]}function ER(e){return(e.x[1]-e.x[0])*(e.y[1]-e.y[0])}const OR=[{id:"canvas-2d-background",nodetype:"canvas"},{id:"webgl-canvas",nodetype:"canvas"},{id:"canvas-2d",nodetype:"canvas"},{id:"deepscatter-svg",nodetype:"svg"}];export default class{constructor(e,t,n){this.bound=!1,void 0!==e&&this.bind(e,t,n),this.d3={select:Ze}}bind(e,t,n){if(this.width=t,this.height=n,this.div=Ze(e).selectAll("div.deepscatter_container").data([1]).join("div").attr("class","deepscatter_container").style("width",t+"px").style("height",n+"px"),console.log(window.innerHeight),this.div.empty())throw console.error(e),"Must pass a valid div selector";this.elements=[],this.prefs={zoom_balance:.35,duration:2,point_size:1,alpha:.4,click_function:"alert(`You clicked on a point with data ${JSON.stringify(datum)}`)"};for(const l of OR){const e=this.div.append("div").attr("id",`container-for-${l.id}`).style("position","absolute").style("top",0).style("left",0).style("pointer-events","deepscatter-svg"==l.id?"auto":"none");e.append(l.nodetype).attr("id",l.id).attr("width",t||window.innerWidth).attr("height",n||window.innerHeight),this.elements.push(e)}this.bound=!0}async reinitialize(){const{prefs:e}=this;this._root=new MR(this.source_url,e),await this._root.download(),this._renderer=new Nc("#container-for-webgl-canvas",this._root,this),this._zoom=new _r("#deepscatter-svg",this.prefs),this._zoom.attach_tiles(this._root),this._zoom.attach_renderer("regl",this._renderer),this._zoom.initialize_zoom(),this._zoom._tooltip_html=e.tooltip_html;const t=Ze("#container-for-canvas-2d-background").select("canvas").node().getContext("2d");return t.fillStyle=e.background_color||"rgba(133, 133, 111, .8)",t.fillRect(0,0,2*window.innerWidth,2*window.innerHeight),this._renderer.initialize(),this._root.promise}visualize_tiles(){const e=this,t=e.elements[2].selectAll("canvas").node().getContext("2d");t.clearRect(0,0,1e4,1e4);const{x_:n,y_:l}=e._zoom.scales();t.strokeStyle="#888888";const i=e._root.map((e=>e));for(const r of Ke(13))setTimeout((()=>{for(const e of i){if(e.codes[0]!=r)continue;if(!e.extent)continue;const[i,a]=e.extent.x.map((e=>n(e))),[c,u]=e.extent.y.map((e=>l(e))),o=e.codes[0];t.lineWidth=8/Math.sqrt(o),t.globalAlpha=.33,t.strokeRect(i,c,a-i,u-c),"Unattempted"!==e.download_state&&t.fillRect(i,c,a-i,u-c),t.globalAlpha=1}}),400*r)}update_prefs(e){e.encoding&&e.encoding.alpha&&(console.warn("Setting alpha through encoding--deprecated."),e.alpha=e.encoding.alpha),e.jitter&&(console.warn("Setting jitter type through base argument--deprectated"),"number"==typeof e.encoding.jitter_radius&&(e.encoding.jitter_radius={constant:e.encoding.jitter_radius}),e.encoding.jitter_radius.method=e.jitter);for(const t in["jitter","alpha","max_points"])e[`last_${t}`]=this.prefs[t]||void 0;if(this.prefs.encoding&&e.encoding)for(const t of Object.keys(this.prefs.encoding))e.encoding[t]&&(this.prefs.encoding[t]=e.encoding[t]);sn(this.prefs,e)}get tooltip_html(){return this._zoom._tooltip_html}async plotAPI(e={}){if(null==e)return Promise.resolve(1);if(this.update_prefs(e),e.lookup_tables){const t=[];this.lookup_promises=this.lookup_promises||new Map;for(const n of e.lookup_tables)this.lookup_promises.get(n)||t.push(this.load_lookup_table(n));await Promise.all(t)}e.source_url&&e.source_url!==this.source_url&&(this.source_url=e.source_url,await this.reinitialize()),e.basemap_gleofeather&&(e.polygons=[{file:e.basemap_gleofeather}]),await this._root.promise,e.mutate&&this._root.apply_mutations(e.mutate);const{width:t,height:n}=this;this.update_prefs(e),void 0!==e.zoom&&(null===e.zoom?(this._zoom.zoom_to(1,t/2,n/2),e.zoom=void 0):e.zoom.bbox&&this._zoom.zoom_to_bbox(e.zoom.bbox,e.duration)),this._renderer.most_recent_restart=Date.now(),this._renderer.aes.apply_encoding(e.encoding),this._renderer.apply_webgl_scale&&this._renderer.apply_webgl_scale(e),this._renderer.reglframe&&this._renderer.reglframe.cancel(),this._renderer.reglframe=this._renderer.regl.frame((()=>{this._renderer.tick("Basic")})),this._zoom.restart_timer(6e4)}async root_table(){return!!this._root&&this._root.table}get query(){const e=JSON.parse(JSON.stringify(this.prefs));return e.zoom={bbox:this._renderer.zoom.current_corners()},e}top_n_points(e=20){const{_root:t,_renderer:n}=this,l=n.zoom.current_corners(),i=[],r=n.aes.filter1.current.get_function(),a=n.aes.filter2.current.get_function();for(const c of t.points(l,!0))if(r(c)&&a(c)&&i.push(c),i.length>=e)return i;return i}drawContours(e,t){const n=(t||Ze("body")).select("#canvas-2d").node().getContext("2d");for(const l of e){n.fillStyle="rgba(25, 25, 29, 1)",n.fillRect(0,0,2*window.innerWidth,2*window.innerHeight),n.strokeStyle="#8a0303",n.fillStyle="rgba(30, 30, 34, 1)",n.lineWidth=He([.45,.25*Math.exp(Math.log(this._zoom.transform.k/2))]);const e=en(rn().scale(this._zoom.transform.k).translate([this._zoom.transform.x,this._zoom.transform.y]),n);n.beginPath(),e(l),n.fill()}}contours(e){const t=this._renderer.calculate_contours(e),{x:n,y:l,x_:i,y_:r}=this._zoom.scales();!function e(t){if(t){if(t.coordinates)return e(t.coordinates);if(t.length){if(t[0].length)return t.map(e);t[0]=n(i.invert(t[0])),t[1]=l(r.invert(t[1]))}}}(t),this.drawContours(t)}}
